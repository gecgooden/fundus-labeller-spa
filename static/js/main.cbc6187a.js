/*! For license information please see main.cbc6187a.js.LICENSE.txt */
!function(){var e={7757:function(e,t,n){e.exports=n(9727)},8677:function(e,t,n){"use strict";n.d(t,{Z:function(){return ae}});var r=n(6567),a=Math.abs,o=String.fromCharCode,i=Object.assign;function u(e){return e.trim()}function s(e,t,n){return e.replace(t,n)}function l(e,t){return e.indexOf(t)}function c(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function p(e){return e.length}function f(e){return e.length}function h(e,t){return t.push(e),e}var m=1,v=1,g=0,b=0,y=0,x="";function k(e,t,n,r,a,o,i){return{value:e,root:t,parent:n,type:r,props:a,children:o,line:m,column:v,length:i,return:""}}function w(e,t){return i(k("",null,null,"",null,null,0),e,{length:-e.length},t)}function C(){return y=b>0?c(x,--b):0,v--,10===y&&(v=1,m--),y}function D(){return y=b<g?c(x,b++):0,v++,10===y&&(v=1,m++),y}function E(){return c(x,b)}function S(){return b}function I(e,t){return d(x,e,t)}function F(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function T(e){return m=v=1,g=p(x=e),b=0,[]}function N(e){return x="",e}function A(e){return u(I(b-1,Z(91===e?e+2:40===e?e+1:e)))}function R(e){for(;(y=E())&&y<33;)D();return F(e)>2||F(y)>3?"":" "}function O(e,t){for(;--t&&D()&&!(y<48||y>102||y>57&&y<65||y>70&&y<97););return I(e,S()+(t<6&&32==E()&&32==D()))}function Z(e){for(;D();)switch(y){case e:return b;case 34:case 39:34!==e&&39!==e&&Z(y);break;case 40:41===e&&Z(e);break;case 92:D()}return b}function M(e,t){for(;D()&&e+y!==57&&(e+y!==84||47!==E()););return"/*"+I(t,b-1)+"*"+o(47===e?e:D())}function P(e){for(;!F(E());)D();return I(e,b)}var L="-ms-",_="-moz-",B="-webkit-",z="comm",j="rule",V="decl",W="@keyframes";function H(e,t){for(var n="",r=f(e),a=0;a<r;a++)n+=t(e[a],a,e,t)||"";return n}function U(e,t,n,r){switch(e.type){case"@import":case V:return e.return=e.return||e.value;case z:return"";case W:return e.return=e.value+"{"+H(e.children,r)+"}";case j:e.value=e.props.join(",")}return p(n=H(e.children,r))?e.return=e.value+"{"+n+"}":""}function G(e,t){switch(function(e,t){return(((t<<2^c(e,0))<<2^c(e,1))<<2^c(e,2))<<2^c(e,3)}(e,t)){case 5103:return B+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return B+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return B+e+_+e+L+e+e;case 6828:case 4268:return B+e+L+e+e;case 6165:return B+e+L+"flex-"+e+e;case 5187:return B+e+s(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return B+e+L+"flex-item-"+s(e,/flex-|-self/,"")+e;case 4675:return B+e+L+"flex-line-pack"+s(e,/align-content|flex-|-self/,"")+e;case 5548:return B+e+L+s(e,"shrink","negative")+e;case 5292:return B+e+L+s(e,"basis","preferred-size")+e;case 6060:return B+"box-"+s(e,"-grow","")+B+e+L+s(e,"grow","positive")+e;case 4554:return B+s(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return s(s(s(e,/(zoom-|grab)/,B+"$1"),/(image-set)/,B+"$1"),e,"")+e;case 5495:case 3959:return s(e,/(image-set\([^]*)/,B+"$1$`$1");case 4968:return s(s(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+B+e+e;case 4095:case 3583:case 4068:case 2532:return s(e,/(.+)-inline(.+)/,B+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(p(e)-1-t>6)switch(c(e,t+1)){case 109:if(45!==c(e,t+4))break;case 102:return s(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+_+(108==c(e,t+3)?"$3":"$2-$3"))+e;case 115:return~l(e,"stretch")?G(s(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==c(e,t+1))break;case 6444:switch(c(e,p(e)-3-(~l(e,"!important")&&10))){case 107:return s(e,":",":"+B)+e;case 101:return s(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+B+(45===c(e,14)?"inline-":"")+"box$3$1"+B+"$2$3$1"+L+"$2box$3")+e}break;case 5936:switch(c(e,t+11)){case 114:return B+e+L+s(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return B+e+L+s(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return B+e+L+s(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return B+e+L+e+e}return e}function q(e){return N(K("",null,null,null,[""],e=T(e),0,[0],e))}function K(e,t,n,r,a,i,u,c,d){for(var f=0,m=0,v=u,g=0,b=0,y=0,x=1,k=1,w=1,I=0,F="",T=a,N=i,Z=r,L=F;k;)switch(y=I,I=D()){case 40:if(108!=y&&58==L.charCodeAt(v-1)){-1!=l(L+=s(A(I),"&","&\f"),"&\f")&&(w=-1);break}case 34:case 39:case 91:L+=A(I);break;case 9:case 10:case 13:case 32:L+=R(y);break;case 92:L+=O(S()-1,7);continue;case 47:switch(E()){case 42:case 47:h(Y(M(D(),S()),t,n),d);break;default:L+="/"}break;case 123*x:c[f++]=p(L)*w;case 125*x:case 59:case 0:switch(I){case 0:case 125:k=0;case 59+m:b>0&&p(L)-v&&h(b>32?$(L+";",r,n,v-1):$(s(L," ","")+";",r,n,v-2),d);break;case 59:L+=";";default:if(h(Z=X(L,t,n,f,m,a,c,F,T=[],N=[],v),i),123===I)if(0===m)K(L,t,Z,Z,T,i,v,c,N);else switch(g){case 100:case 109:case 115:K(e,Z,Z,r&&h(X(e,Z,Z,0,0,a,c,F,a,T=[],v),N),a,N,v,c,r?T:N);break;default:K(L,Z,Z,Z,[""],N,0,c,N)}}f=m=b=0,x=w=1,F=L="",v=u;break;case 58:v=1+p(L),b=y;default:if(x<1)if(123==I)--x;else if(125==I&&0==x++&&125==C())continue;switch(L+=o(I),I*x){case 38:w=m>0?1:(L+="\f",-1);break;case 44:c[f++]=(p(L)-1)*w,w=1;break;case 64:45===E()&&(L+=A(D())),g=E(),m=v=p(F=L+=P(S())),I++;break;case 45:45===y&&2==p(L)&&(x=0)}}return i}function X(e,t,n,r,o,i,l,c,p,h,m){for(var v=o-1,g=0===o?i:[""],b=f(g),y=0,x=0,w=0;y<r;++y)for(var C=0,D=d(e,v+1,v=a(x=l[y])),E=e;C<b;++C)(E=u(x>0?g[C]+" "+D:s(D,/&\f/g,g[C])))&&(p[w++]=E);return k(e,t,n,0===o?j:c,p,h,m)}function Y(e,t,n){return k(e,t,n,z,o(y),d(e,2,-2),0)}function $(e,t,n,r){return k(e,t,n,V,d(e,0,r),d(e,r+1,-1),r)}var Q=function(e,t,n){for(var r=0,a=0;r=a,a=E(),38===r&&12===a&&(t[n]=1),!F(a);)D();return I(e,b)},J=function(e,t){return N(function(e,t){var n=-1,r=44;do{switch(F(r)){case 0:38===r&&12===E()&&(t[n]=1),e[n]+=Q(b-1,t,n);break;case 2:e[n]+=A(r);break;case 4:if(44===r){e[++n]=58===E()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=o(r)}}while(r=D());return e}(T(e),t))},ee=new WeakMap,te=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ee.get(n))&&!r){ee.set(e,!0);for(var a=[],o=J(t,a),i=n.props,u=0,s=0;u<o.length;u++)for(var l=0;l<i.length;l++,s++)e.props[s]=a[u]?o[u].replace(/&\f/g,i[l]):i[l]+" "+o[u]}}},ne=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case V:e.return=G(e.value,e.length);break;case W:return H([w(e,{value:s(e.value,"@","@"+B)})],r);case j:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return H([w(e,{props:[s(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return H([w(e,{props:[s(t,/:(plac\w+)/,":-webkit-input-$1")]}),w(e,{props:[s(t,/:(plac\w+)/,":-moz-$1")]}),w(e,{props:[s(t,/:(plac\w+)/,L+"input-$1")]})],r)}return""}))}}],ae=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var a=e.stylisPlugins||re;var o,i,u={},s=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)u[t[n]]=!0;s.push(e)}));var l,c,d=[U,(c=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],p=function(e){var t=f(e);return function(n,r,a,o){for(var i="",u=0;u<t;u++)i+=e[u](n,r,a,o)||"";return i}}([te,ne].concat(a,d));i=function(e,t,n,r){l=n,H(q(e?e+"{"+t.styles+"}":t.styles),p),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new r.m({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:u,registered:{},insert:i};return h.sheet.hydrate(s),h}},3782:function(e,t){"use strict";t.Z=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},1672:function(e,t,n){"use strict";n.d(t,{T:function(){return u},w:function(){return i}});var r=n(2791),a=n(8677),o=(n(1346),(0,r.createContext)("undefined"!==typeof HTMLElement?(0,a.Z)({key:"css"}):null));o.Provider;var i=function(e){return(0,r.forwardRef)((function(t,n){var a=(0,r.useContext)(o);return e(t,a,n)}))},u=(0,r.createContext)({})},2554:function(e,t,n){"use strict";n.d(t,{xB:function(){return s},iv:function(){return l},F4:function(){return c}});var r=n(2791),a=(n(8677),n(1672)),o=(n(2110),n(5438)),i=n(1346),u=n(6567),s=(0,a.w)((function(e,t){var n=e.styles,s=(0,i.O)([n],void 0,(0,r.useContext)(a.T)),l=(0,r.useRef)();return(0,r.useLayoutEffect)((function(){var e=t.key+"-global",n=new u.m({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,a=document.querySelector('style[data-emotion="'+e+" "+s.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==a&&(r=!0,a.setAttribute("data-emotion",e),n.hydrate([a])),l.current=[n,r],function(){n.flush()}}),[t]),(0,r.useLayoutEffect)((function(){var e=l.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==s.next&&(0,o.M)(t,s.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",s,n,!1)}}),[t,s.name]),null}));function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.O)(t)}var c=function(){var e=l.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},1346:function(e,t,n){"use strict";n.d(t,{O:function(){return m}});var r=function(e){for(var t,n=0,r=0,a=e.length;a>=4;++r,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(a){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=n(3782),i=/[A-Z]|^ms/g,u=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},l=function(e){return null!=e&&"boolean"!==typeof e},c=(0,o.Z)((function(e){return s(e)?e:e.replace(i,"-$&").toLowerCase()})),d=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(u,(function(e,t,n){return f={name:t,styles:n,next:f},t}))}return 1===a[e]||s(e)||"number"!==typeof t||0===t?t:t+"px"};function p(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return f={name:n.name,styles:n.styles,next:f},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)f={name:r.name,styles:r.styles,next:f},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=p(e,t,n[a])+";";else for(var o in n){var i=n[o];if("object"!==typeof i)null!=t&&void 0!==t[i]?r+=o+"{"+t[i]+"}":l(i)&&(r+=c(o)+":"+d(o,i)+";");else if(!Array.isArray(i)||"string"!==typeof i[0]||null!=t&&void 0!==t[i[0]]){var u=p(e,t,i);switch(o){case"animation":case"animationName":r+=c(o)+":"+u+";";break;default:r+=o+"{"+u+"}"}}else for(var s=0;s<i.length;s++)l(i[s])&&(r+=c(o)+":"+d(o,i[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var a=f,o=n(e);return f=a,p(e,t,o)}}if(null==t)return n;var i=t[n];return void 0!==i?i:n}var f,h=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var m=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var a=!0,o="";f=void 0;var i=e[0];null==i||void 0===i.raw?(a=!1,o+=p(n,t,i)):o+=i[0];for(var u=1;u<e.length;u++)o+=p(n,t,e[u]),a&&(o+=i[u]);h.lastIndex=0;for(var s,l="";null!==(s=h.exec(o));)l+="-"+s[1];return{name:r(o)+l,styles:o,next:f}}},6567:function(e,t,n){"use strict";n.d(t,{m:function(){return r}});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}()},5438:function(e,t,n){"use strict";n.d(t,{f:function(){return r},M:function(){return a}});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var a=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+r:"",a,e.sheet,!0);a=a.next}while(void 0!==a)}}},6174:function(e,t,n){"use strict";var r=n(9439),a=n(2791),o=n(4164),i=n(7563),u=n(5721),s=n(2971);var l=a.forwardRef((function(e,t){var n=e.children,l=e.container,c=e.disablePortal,d=void 0!==c&&c,p=a.useState(null),f=(0,r.Z)(p,2),h=f[0],m=f[1],v=(0,i.Z)(a.isValidElement(n)?n.ref:null,t);return(0,u.Z)((function(){d||m(function(e){return"function"===typeof e?e():e}(l)||document.body)}),[l,d]),(0,u.Z)((function(){if(h&&!d)return(0,s.Z)(t,h),function(){(0,s.Z)(t,null)}}),[t,h,d]),d?a.isValidElement(n)?a.cloneElement(n,{ref:v}):n:h?o.createPortal(n,h):h}));t.Z=l},8091:function(e,t,n){"use strict";var r=n(2791),a=n(7563),o=n(9723),i=n(184),u=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function s(e){var t=[],n=[];return Array.from(e.querySelectorAll(u)).forEach((function(e,r){var a=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==a&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===a?t.push(e):n.push({documentOrder:r,tabIndex:a,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function l(){return!0}t.Z=function(e){var t=e.children,n=e.disableAutoFocus,u=void 0!==n&&n,c=e.disableEnforceFocus,d=void 0!==c&&c,p=e.disableRestoreFocus,f=void 0!==p&&p,h=e.getTabbable,m=void 0===h?s:h,v=e.isEnabled,g=void 0===v?l:v,b=e.open,y=r.useRef(),x=r.useRef(null),k=r.useRef(null),w=r.useRef(null),C=r.useRef(null),D=r.useRef(!1),E=r.useRef(null),S=(0,a.Z)(t.ref,E),I=r.useRef(null);r.useEffect((function(){b&&E.current&&(D.current=!u)}),[u,b]),r.useEffect((function(){if(b&&E.current){var e=(0,o.Z)(E.current);return E.current.contains(e.activeElement)||(E.current.hasAttribute("tabIndex")||E.current.setAttribute("tabIndex",-1),D.current&&E.current.focus()),function(){f||(w.current&&w.current.focus&&(y.current=!0,w.current.focus()),w.current=null)}}}),[b]),r.useEffect((function(){if(b&&E.current){var e=(0,o.Z)(E.current),t=function(t){var n=E.current;if(null!==n)if(e.hasFocus()&&!d&&g()&&!y.current){if(!n.contains(e.activeElement)){if(t&&C.current!==t.target||e.activeElement!==C.current)C.current=null;else if(null!==C.current)return;if(!D.current)return;var r=[];if(e.activeElement!==x.current&&e.activeElement!==k.current||(r=m(E.current)),r.length>0){var a,o,i=Boolean((null==(a=I.current)?void 0:a.shiftKey)&&"Tab"===(null==(o=I.current)?void 0:o.key)),u=r[0],s=r[r.length-1];i?s.focus():u.focus()}else n.focus()}}else y.current=!1},n=function(t){I.current=t,!d&&g()&&"Tab"===t.key&&e.activeElement===E.current&&t.shiftKey&&(y.current=!0,k.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){"BODY"===e.activeElement.tagName&&t()}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[u,d,f,g,b,m]);var F=function(e){null===w.current&&(w.current=e.relatedTarget),D.current=!0};return(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)("div",{tabIndex:0,onFocus:F,ref:x,"data-test":"sentinelStart"}),r.cloneElement(t,{ref:S,onFocus:function(e){null===w.current&&(w.current=e.relatedTarget),D.current=!0,C.current=e.target;var n=t.props.onFocus;n&&n(e)}}),(0,i.jsx)("div",{tabIndex:0,onFocus:F,ref:k,"data-test":"sentinelEnd"})]})}},767:function(e,t,n){"use strict";function r(e,t,n){var r={};return Object.keys(e).forEach((function(a){r[a]=e[a].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}n.d(t,{Z:function(){return r}})},7125:function(e,t){"use strict";var n=function(e){return e},r=function(){var e=n;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=n}}}();t.Z=r},5159:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(7125),a={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function o(e,t){return a[t]||"".concat(r.Z.generate(e),"-").concat(t)}},208:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(5159);function a(e,t){var n={};return t.forEach((function(t){n[t]=(0,r.Z)(e,t)})),n}},627:function(e,t){"use strict";t.Z=function(e){return"string"===typeof e}},1489:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(3366),a=n(7462),o=n(2791),i=n(627),u=n(8182),s=n(767),l=n(208),c=n(5159);function d(e){return(0,c.Z)("MuiBackdrop",e)}(0,l.Z)("MuiBackdrop",["root","invisible"]);var p=n(184),f=["classes","className","invisible","component","components","componentsProps","theme"],h=o.forwardRef((function(e,t){var n=e.classes,o=e.className,l=e.invisible,c=void 0!==l&&l,h=e.component,m=void 0===h?"div":h,v=e.components,g=void 0===v?{}:v,b=e.componentsProps,y=void 0===b?{}:b,x=e.theme,k=(0,r.Z)(e,f),w=(0,a.Z)({},e,{classes:n,invisible:c}),C=function(e){var t=e.classes,n={root:["root",e.invisible&&"invisible"]};return(0,s.Z)(n,d,t)}(w),D=g.Root||m,E=y.root||{};return(0,p.jsx)(D,(0,a.Z)({"aria-hidden":!0},E,!(0,i.Z)(D)&&{as:m,ownerState:(0,a.Z)({},w,E.ownerState),theme:x},{ref:t},k,{className:(0,u.Z)(C.root,E.className,o)}))})),m=n(7630),v=n(1046),g=n(2003),b=["children","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],y=(0,m.ZP)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){var t=e.ownerState;return(0,a.Z)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),x=o.forwardRef((function(e,t){var n,o=(0,v.Z)({props:e,name:"MuiBackdrop"}),u=o.children,s=o.components,l=void 0===s?{}:s,c=o.componentsProps,d=void 0===c?{}:c,f=o.className,m=o.invisible,x=void 0!==m&&m,k=o.open,w=o.transitionDuration,C=o.TransitionComponent,D=void 0===C?g.Z:C,E=(0,r.Z)(o,b),S=function(e){return e.classes}((0,a.Z)({},o,{invisible:x}));return(0,p.jsx)(D,(0,a.Z)({in:k,timeout:w},E,{children:(0,p.jsx)(h,{className:f,invisible:x,components:(0,a.Z)({Root:y},l),componentsProps:{root:(0,a.Z)({},d.root,(!l.Root||!(0,i.Z)(l.Root))&&{ownerState:(0,a.Z)({},null==(n=d.root)?void 0:n.ownerState)})},classes:S,ref:t,children:u})}))}))},6151:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(4942),a=n(3366),o=n(7462),i=n(2791),u=n(8182),s=n(5735),l=n(767),c=n(2065),d=n(7630),p=n(1046),f=n(3701),h=n(4036),m=n(5159);function v(e){return(0,m.Z)("MuiButton",e)}var g=(0,n(208).Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var b=i.createContext({}),y=n(184),x=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],k=function(e){return(0,o.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},w=(0,d.ZP)(f.Z,{shouldForwardProp:function(e){return(0,d.FO)(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,h.Z)(n.color))],t["size".concat((0,h.Z)(n.size))],t["".concat(n.variant,"Size").concat((0,h.Z)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n=e.theme,a=e.ownerState;return(0,o.Z)({},n.typography.button,(t={minWidth:64,padding:"6px 16px",borderRadius:n.shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":(0,o.Z)({textDecoration:"none",backgroundColor:(0,c.Fq)(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===a.variant&&"inherit"!==a.color&&{backgroundColor:(0,c.Fq)(n.palette[a.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===a.variant&&"inherit"!==a.color&&{border:"1px solid ".concat(n.palette[a.color].main),backgroundColor:(0,c.Fq)(n.palette[a.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===a.variant&&{backgroundColor:n.palette.grey.A100,boxShadow:n.shadows[4],"@media (hover: none)":{boxShadow:n.shadows[2],backgroundColor:n.palette.grey[300]}},"contained"===a.variant&&"inherit"!==a.color&&{backgroundColor:n.palette[a.color].dark,"@media (hover: none)":{backgroundColor:n.palette[a.color].main}}),"&:active":(0,o.Z)({},"contained"===a.variant&&{boxShadow:n.shadows[8]})},(0,r.Z)(t,"&.".concat(g.focusVisible),(0,o.Z)({},"contained"===a.variant&&{boxShadow:n.shadows[6]})),(0,r.Z)(t,"&.".concat(g.disabled),(0,o.Z)({color:n.palette.action.disabled},"outlined"===a.variant&&{border:"1px solid ".concat(n.palette.action.disabledBackground)},"outlined"===a.variant&&"secondary"===a.color&&{border:"1px solid ".concat(n.palette.action.disabled)},"contained"===a.variant&&{color:n.palette.action.disabled,boxShadow:n.shadows[0],backgroundColor:n.palette.action.disabledBackground})),t),"text"===a.variant&&{padding:"6px 8px"},"text"===a.variant&&"inherit"!==a.color&&{color:n.palette[a.color].main},"outlined"===a.variant&&{padding:"5px 15px",border:"1px solid ".concat("light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"outlined"===a.variant&&"inherit"!==a.color&&{color:n.palette[a.color].main,border:"1px solid ".concat((0,c.Fq)(n.palette[a.color].main,.5))},"contained"===a.variant&&{color:n.palette.getContrastText(n.palette.grey[300]),backgroundColor:n.palette.grey[300],boxShadow:n.shadows[2]},"contained"===a.variant&&"inherit"!==a.color&&{color:n.palette[a.color].contrastText,backgroundColor:n.palette[a.color].main},"inherit"===a.color&&{color:"inherit",borderColor:"currentColor"},"small"===a.size&&"text"===a.variant&&{padding:"4px 5px",fontSize:n.typography.pxToRem(13)},"large"===a.size&&"text"===a.variant&&{padding:"8px 11px",fontSize:n.typography.pxToRem(15)},"small"===a.size&&"outlined"===a.variant&&{padding:"3px 9px",fontSize:n.typography.pxToRem(13)},"large"===a.size&&"outlined"===a.variant&&{padding:"7px 21px",fontSize:n.typography.pxToRem(15)},"small"===a.size&&"contained"===a.variant&&{padding:"4px 10px",fontSize:n.typography.pxToRem(13)},"large"===a.size&&"contained"===a.variant&&{padding:"8px 22px",fontSize:n.typography.pxToRem(15)},a.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(t={boxShadow:"none","&:hover":{boxShadow:"none"}},(0,r.Z)(t,"&.".concat(g.focusVisible),{boxShadow:"none"}),(0,r.Z)(t,"&:active",{boxShadow:"none"}),(0,r.Z)(t,"&.".concat(g.disabled),{boxShadow:"none"}),t)})),C=(0,d.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat((0,h.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,o.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},k(t))})),D=(0,d.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat((0,h.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,o.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},k(t))})),E=i.forwardRef((function(e,t){var n=i.useContext(b),r=(0,s.Z)(n,e),c=(0,p.Z)({props:r,name:"MuiButton"}),d=c.children,f=c.color,m=void 0===f?"primary":f,g=c.component,k=void 0===g?"button":g,E=c.className,S=c.disabled,I=void 0!==S&&S,F=c.disableElevation,T=void 0!==F&&F,N=c.disableFocusRipple,A=void 0!==N&&N,R=c.endIcon,O=c.focusVisibleClassName,Z=c.fullWidth,M=void 0!==Z&&Z,P=c.size,L=void 0===P?"medium":P,_=c.startIcon,B=c.type,z=c.variant,j=void 0===z?"text":z,V=(0,a.Z)(c,x),W=(0,o.Z)({},c,{color:m,component:k,disabled:I,disableElevation:T,disableFocusRipple:A,fullWidth:M,size:L,type:B,variant:j}),H=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,a=e.size,i=e.variant,u=e.classes,s={root:["root",i,"".concat(i).concat((0,h.Z)(t)),"size".concat((0,h.Z)(a)),"".concat(i,"Size").concat((0,h.Z)(a)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat((0,h.Z)(a))],endIcon:["endIcon","iconSize".concat((0,h.Z)(a))]},c=(0,l.Z)(s,v,u);return(0,o.Z)({},u,c)}(W),U=_&&(0,y.jsx)(C,{className:H.startIcon,ownerState:W,children:_}),G=R&&(0,y.jsx)(D,{className:H.endIcon,ownerState:W,children:R});return(0,y.jsxs)(w,(0,o.Z)({ownerState:W,className:(0,u.Z)(E,n.className),component:k,disabled:I,focusRipple:!A,focusVisibleClassName:(0,u.Z)(H.focusVisible,O),ref:t,type:B},V,{classes:H,children:[U,d,G]}))}))},3701:function(e,t,n){"use strict";n.d(t,{Z:function(){return ee}});var r=n(9439),a=n(4942),o=n(7462),i=n(3366),u=n(2791),s=n(8182),l=n(767),c=n(7630),d=n(1046),p=n(2071),f=n(9683),h=n(3031),m=n(3433),v=n(168),g=n(7326),b=n(4578),y=n(5545);function x(e,t){var n=Object.create(null);return e&&u.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,u.isValidElement)(e)?t(e):e}(e)})),n}function k(e,t,n){return null!=n[t]?n[t]:e.props[t]}function w(e,t,n){var r=x(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,a=Object.create(null),o=[];for(var i in e)i in t?o.length&&(a[i]=o,o=[]):o.push(i);var u={};for(var s in t){if(a[s])for(r=0;r<a[s].length;r++){var l=a[s][r];u[a[s][r]]=n(l)}u[s]=n(s)}for(r=0;r<o.length;r++)u[o[r]]=n(o[r]);return u}(t,r);return Object.keys(a).forEach((function(o){var i=a[o];if((0,u.isValidElement)(i)){var s=o in t,l=o in r,c=t[o],d=(0,u.isValidElement)(c)&&!c.props.in;!l||s&&!d?l||!s||d?l&&s&&(0,u.isValidElement)(c)&&(a[o]=(0,u.cloneElement)(i,{onExited:n.bind(null,i),in:c.props.in,exit:k(i,"exit",e),enter:k(i,"enter",e)})):a[o]=(0,u.cloneElement)(i,{in:!1}):a[o]=(0,u.cloneElement)(i,{onExited:n.bind(null,i),in:!0,exit:k(i,"exit",e),enter:k(i,"enter",e)})}})),a}var C=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},D=function(e){function t(t,n){var r,a=(r=e.call(this,t,n)||this).handleExited.bind((0,g.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},r}(0,b.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,a=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,x(n.children,(function(e){return(0,u.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:k(e,"appear",n),enter:k(e,"enter",n),exit:k(e,"exit",n)})}))):w(e,a,o),firstRender:!1}},n.handleExited=function(e,t){var n=x(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,o.Z)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=(0,i.Z)(e,["component","childFactory"]),a=this.state.contextValue,o=C(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?u.createElement(y.Z.Provider,{value:a},o):u.createElement(y.Z.Provider,{value:a},u.createElement(t,r,o))},t}(u.Component);D.propTypes={},D.defaultProps={component:"div",childFactory:function(e){return e}};var E=D,S=n(2554),I=n(184);var F=function(e){var t=e.className,n=e.classes,a=e.pulsate,o=void 0!==a&&a,i=e.rippleX,l=e.rippleY,c=e.rippleSize,d=e.in,p=e.onExited,f=e.timeout,h=u.useState(!1),m=(0,r.Z)(h,2),v=m[0],g=m[1],b=(0,s.Z)(t,n.ripple,n.rippleVisible,o&&n.ripplePulsate),y={width:c,height:c,top:-c/2+l,left:-c/2+i},x=(0,s.Z)(n.child,v&&n.childLeaving,o&&n.childPulsate);return d||v||g(!0),u.useEffect((function(){if(!d&&null!=p){var e=setTimeout(p,f);return function(){clearTimeout(e)}}}),[p,d,f]),(0,I.jsx)("span",{className:b,style:y,children:(0,I.jsx)("span",{className:x})})},T=n(208);var N,A,R,O,Z,M,P,L,_=(0,T.Z)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),B=["center","classes","className"],z=(0,S.F4)(Z||(Z=N||(N=(0,v.Z)(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),j=(0,S.F4)(M||(M=A||(A=(0,v.Z)(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),V=(0,S.F4)(P||(P=R||(R=(0,v.Z)(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),W=(0,c.ZP)("span",{name:"MuiTouchRipple",slot:"Root",skipSx:!0})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),H=(0,c.ZP)(F,{name:"MuiTouchRipple",slot:"Ripple"})(L||(L=O||(O=(0,v.Z)(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),_.rippleVisible,z,550,(function(e){return e.theme.transitions.easing.easeInOut}),_.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),_.child,_.childLeaving,j,550,(function(e){return e.theme.transitions.easing.easeInOut}),_.childPulsate,V,(function(e){return e.theme.transitions.easing.easeInOut})),U=u.forwardRef((function(e,t){var n=(0,d.Z)({props:e,name:"MuiTouchRipple"}),a=n.center,l=void 0!==a&&a,c=n.classes,p=void 0===c?{}:c,f=n.className,h=(0,i.Z)(n,B),v=u.useState([]),g=(0,r.Z)(v,2),b=g[0],y=g[1],x=u.useRef(0),k=u.useRef(null);u.useEffect((function(){k.current&&(k.current(),k.current=null)}),[b]);var w=u.useRef(!1),C=u.useRef(null),D=u.useRef(null),S=u.useRef(null);u.useEffect((function(){return function(){clearTimeout(C.current)}}),[]);var F=u.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,a=e.rippleSize,o=e.cb;y((function(e){return[].concat((0,m.Z)(e),[(0,I.jsx)(H,{classes:{ripple:(0,s.Z)(p.ripple,_.ripple),rippleVisible:(0,s.Z)(p.rippleVisible,_.rippleVisible),ripplePulsate:(0,s.Z)(p.ripplePulsate,_.ripplePulsate),child:(0,s.Z)(p.child,_.child),childLeaving:(0,s.Z)(p.childLeaving,_.childLeaving),childPulsate:(0,s.Z)(p.childPulsate,_.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:a},x.current)])})),x.current+=1,k.current=o}),[p]),T=u.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,a=void 0!==r&&r,o=t.center,i=void 0===o?l||t.pulsate:o,u=t.fakeElement,s=void 0!==u&&u;if("mousedown"===e.type&&w.current)w.current=!1;else{"touchstart"===e.type&&(w.current=!0);var c,d,p,f=s?null:S.current,h=f?f.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(i||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(h.width/2),d=Math.round(h.height/2);else{var m=e.touches?e.touches[0]:e,v=m.clientX,g=m.clientY;c=Math.round(v-h.left),d=Math.round(g-h.top)}if(i)(p=Math.sqrt((2*Math.pow(h.width,2)+Math.pow(h.height,2))/3))%2===0&&(p+=1);else{var b=2*Math.max(Math.abs((f?f.clientWidth:0)-c),c)+2,y=2*Math.max(Math.abs((f?f.clientHeight:0)-d),d)+2;p=Math.sqrt(Math.pow(b,2)+Math.pow(y,2))}e.touches?null===D.current&&(D.current=function(){F({pulsate:a,rippleX:c,rippleY:d,rippleSize:p,cb:n})},C.current=setTimeout((function(){D.current&&(D.current(),D.current=null)}),80)):F({pulsate:a,rippleX:c,rippleY:d,rippleSize:p,cb:n})}}),[l,F]),N=u.useCallback((function(){T({},{pulsate:!0})}),[T]),A=u.useCallback((function(e,t){if(clearTimeout(C.current),"touchend"===e.type&&D.current)return D.current(),D.current=null,void(C.current=setTimeout((function(){A(e,t)})));D.current=null,y((function(e){return e.length>0?e.slice(1):e})),k.current=t}),[]);return u.useImperativeHandle(t,(function(){return{pulsate:N,start:T,stop:A}}),[N,T,A]),(0,I.jsx)(W,(0,o.Z)({className:(0,s.Z)(p.root,_.root,f),ref:S},h,{children:(0,I.jsx)(E,{component:null,exit:!0,children:b})}))})),G=U,q=n(5159);function K(e){return(0,q.Z)("MuiButtonBase",e)}var X,Y=(0,T.Z)("MuiButtonBase",["root","disabled","focusVisible"]),$=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","type"],Q=(0,c.ZP)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((X={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},(0,a.Z)(X,"&.".concat(Y.disabled),{pointerEvents:"none",cursor:"default"}),(0,a.Z)(X,"@media print",{colorAdjust:"exact"}),X)),J=u.forwardRef((function(e,t){var n=(0,d.Z)({props:e,name:"MuiButtonBase"}),a=n.action,c=n.centerRipple,m=void 0!==c&&c,v=n.children,g=n.className,b=n.component,y=void 0===b?"button":b,x=n.disabled,k=void 0!==x&&x,w=n.disableRipple,C=void 0!==w&&w,D=n.disableTouchRipple,E=void 0!==D&&D,S=n.focusRipple,F=void 0!==S&&S,T=n.LinkComponent,N=void 0===T?"a":T,A=n.onBlur,R=n.onClick,O=n.onContextMenu,Z=n.onDragLeave,M=n.onFocus,P=n.onFocusVisible,L=n.onKeyDown,_=n.onKeyUp,B=n.onMouseDown,z=n.onMouseLeave,j=n.onMouseUp,V=n.onTouchEnd,W=n.onTouchMove,H=n.onTouchStart,U=n.tabIndex,q=void 0===U?0:U,X=n.TouchRippleProps,Y=n.type,J=(0,i.Z)(n,$),ee=u.useRef(null),te=u.useRef(null),ne=(0,h.Z)(),re=ne.isFocusVisibleRef,ae=ne.onFocus,oe=ne.onBlur,ie=ne.ref,ue=u.useState(!1),se=(0,r.Z)(ue,2),le=se[0],ce=se[1];function de(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;return(0,f.Z)((function(r){return t&&t(r),!n&&te.current&&te.current[e](r),!0}))}k&&le&&ce(!1),u.useImperativeHandle(a,(function(){return{focusVisible:function(){ce(!0),ee.current.focus()}}}),[]),u.useEffect((function(){le&&F&&!C&&te.current.pulsate()}),[C,F,le]);var pe=de("start",B),fe=de("stop",O),he=de("stop",Z),me=de("stop",j),ve=de("stop",(function(e){le&&e.preventDefault(),z&&z(e)})),ge=de("start",H),be=de("stop",V),ye=de("stop",W),xe=de("stop",(function(e){oe(e),!1===re.current&&ce(!1),A&&A(e)}),!1),ke=(0,f.Z)((function(e){ee.current||(ee.current=e.currentTarget),ae(e),!0===re.current&&(ce(!0),P&&P(e)),M&&M(e)})),we=function(){var e=ee.current;return y&&"button"!==y&&!("A"===e.tagName&&e.href)},Ce=u.useRef(!1),De=(0,f.Z)((function(e){F&&!Ce.current&&le&&te.current&&" "===e.key&&(Ce.current=!0,te.current.stop(e,(function(){te.current.start(e)}))),e.target===e.currentTarget&&we()&&" "===e.key&&e.preventDefault(),L&&L(e),e.target===e.currentTarget&&we()&&"Enter"===e.key&&!k&&(e.preventDefault(),R&&R(e))})),Ee=(0,f.Z)((function(e){F&&" "===e.key&&te.current&&le&&!e.defaultPrevented&&(Ce.current=!1,te.current.stop(e,(function(){te.current.pulsate(e)}))),_&&_(e),R&&e.target===e.currentTarget&&we()&&" "===e.key&&!e.defaultPrevented&&R(e)})),Se=y;"button"===Se&&(J.href||J.to)&&(Se=N);var Ie={};"button"===Se?(Ie.type=void 0===Y?"button":Y,Ie.disabled=k):(J.href||J.to||(Ie.role="button"),k&&(Ie["aria-disabled"]=k));var Fe=(0,p.Z)(ie,ee),Te=(0,p.Z)(t,Fe),Ne=u.useState(!1),Ae=(0,r.Z)(Ne,2),Re=Ae[0],Oe=Ae[1];u.useEffect((function(){Oe(!0)}),[]);var Ze=Re&&!C&&!k;var Me=(0,o.Z)({},n,{centerRipple:m,component:y,disabled:k,disableRipple:C,disableTouchRipple:E,focusRipple:F,tabIndex:q,focusVisible:le}),Pe=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,a=e.classes,o={root:["root",t&&"disabled",n&&"focusVisible"]},i=(0,l.Z)(o,K,a);return n&&r&&(i.root+=" ".concat(r)),i}(Me);return(0,I.jsxs)(Q,(0,o.Z)({as:Se,className:(0,s.Z)(Pe.root,g),ownerState:Me,onBlur:xe,onClick:R,onContextMenu:fe,onFocus:ke,onKeyDown:De,onKeyUp:Ee,onMouseDown:pe,onMouseLeave:ve,onMouseUp:me,onDragLeave:he,onTouchEnd:be,onTouchMove:ye,onTouchStart:ge,ref:Te,tabIndex:k?-1:q,type:Y},Ie,J,{children:[v,Ze?(0,I.jsx)(G,(0,o.Z)({ref:te,center:m},X)):null]}))})),ee=J},2003:function(e,t,n){"use strict";var r=n(7462),a=n(3366),o=n(2791),i=n(8875),u=n(1314),s=n(3967),l=n(4999),c=n(2071),d=n(184),p=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],f={entering:{opacity:1},entered:{opacity:1}},h={enter:u.x9.enteringScreen,exit:u.x9.leavingScreen},m=o.forwardRef((function(e,t){var n=e.addEndListener,u=e.appear,m=void 0===u||u,v=e.children,g=e.easing,b=e.in,y=e.onEnter,x=e.onEntered,k=e.onEntering,w=e.onExit,C=e.onExited,D=e.onExiting,E=e.style,S=e.timeout,I=void 0===S?h:S,F=e.TransitionComponent,T=void 0===F?i.ZP:F,N=(0,a.Z)(e,p),A=(0,s.Z)(),R=o.useRef(null),O=(0,c.Z)(v.ref,t),Z=(0,c.Z)(R,O),M=function(e){return function(t){if(e){var n=R.current;void 0===t?e(n):e(n,t)}}},P=M(k),L=M((function(e,t){(0,l.n)(e);var n=(0,l.C)({style:E,timeout:I,easing:g},{mode:"enter"});e.style.webkitTransition=A.transitions.create("opacity",n),e.style.transition=A.transitions.create("opacity",n),y&&y(e,t)})),_=M(x),B=M(D),z=M((function(e){var t=(0,l.C)({style:E,timeout:I,easing:g},{mode:"exit"});e.style.webkitTransition=A.transitions.create("opacity",t),e.style.transition=A.transitions.create("opacity",t),w&&w(e)})),j=M(C);return(0,d.jsx)(T,(0,r.Z)({appear:m,in:b,nodeRef:R,onEnter:L,onEntered:_,onEntering:P,onExit:z,onExited:j,onExiting:B,addEndListener:function(e){n&&n(R.current,e)},timeout:I},N,{children:function(e,t){return o.cloneElement(v,(0,r.Z)({style:(0,r.Z)({opacity:0,visibility:"exited"!==e||b?void 0:"hidden"},f[e],E,v.props.style),ref:Z},t))}}))}));t.Z=m},9143:function(e,t,n){"use strict";n.d(t,{Z:function(){return z}});var r=n(9439),a=n(3366),o=n(7462),i=n(2791),u=n(627),s=n(8182),l=n(7563),c=n(9723),d=n(8956);function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var f=n(767),h=n(6174),m=n(5671),v=n(3144),g=n(3433),b=n(7979),y=n(7137);function x(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function k(e){return parseInt((0,b.Z)(e).getComputedStyle(e).paddingRight,10)||0}function w(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4?arguments[4]:void 0,o=[t,n].concat((0,g.Z)(r)),i=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){-1===o.indexOf(e)&&-1===i.indexOf(e.tagName)&&x(e,a)}))}function C(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function D(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=(0,c.Z)(e);return t.body===e?(0,b.Z)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var a=(0,y.Z)((0,c.Z)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(k(r)+a,"px");var o=(0,c.Z)(r).querySelectorAll(".mui-fixed");[].forEach.call(o,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(k(e)+a,"px")}))}var i=r.parentElement,u=(0,b.Z)(r),s="HTML"===(null==i?void 0:i.nodeName)&&"scroll"===u.getComputedStyle(i).overflowY?i:r;n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var E=function(){function e(){(0,m.Z)(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return(0,v.Z)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&x(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);w(t,e.mount,e.modalRef,r,!0);var a=C(this.containers,(function(e){return e.container===t}));return-1!==a?(this.containers[a].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=C(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=D(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=C(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&x(e.modalRef,!0),w(r.container,e.mount,e.modalRef,r.hiddenSiblings,!1),this.containers.splice(n,1);else{var a=r.modals[r.modals.length-1];a.modalRef&&x(a.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),S=n(8091),I=n(208),F=n(5159);function T(e){return(0,F.Z)("MuiModal",e)}(0,I.Z)("MuiModal",["root","hidden"]);var N=n(184),A=["BackdropComponent","BackdropProps","children","classes","className","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","theme","onTransitionEnter","onTransitionExited"];var R=new E,O=i.forwardRef((function(e,t){var n=e.BackdropComponent,m=e.BackdropProps,v=e.children,g=e.classes,b=e.className,y=e.closeAfterTransition,k=void 0!==y&&y,w=e.component,C=void 0===w?"div":w,D=e.components,E=void 0===D?{}:D,I=e.componentsProps,F=void 0===I?{}:I,O=e.container,Z=e.disableAutoFocus,M=void 0!==Z&&Z,P=e.disableEnforceFocus,L=void 0!==P&&P,_=e.disableEscapeKeyDown,B=void 0!==_&&_,z=e.disablePortal,j=void 0!==z&&z,V=e.disableRestoreFocus,W=void 0!==V&&V,H=e.disableScrollLock,U=void 0!==H&&H,G=e.hideBackdrop,q=void 0!==G&&G,K=e.keepMounted,X=void 0!==K&&K,Y=e.manager,$=void 0===Y?R:Y,Q=e.onBackdropClick,J=e.onClose,ee=e.onKeyDown,te=e.open,ne=e.theme,re=e.onTransitionEnter,ae=e.onTransitionExited,oe=(0,a.Z)(e,A),ie=i.useState(!0),ue=(0,r.Z)(ie,2),se=ue[0],le=ue[1],ce=i.useRef({}),de=i.useRef(null),pe=i.useRef(null),fe=(0,l.Z)(pe,t),he=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(e),me=function(){return ce.current.modalRef=pe.current,ce.current.mountNode=de.current,ce.current},ve=function(){$.mount(me(),{disableScrollLock:U}),pe.current.scrollTop=0},ge=(0,d.Z)((function(){var e=function(e){return"function"===typeof e?e():e}(O)||(0,c.Z)(de.current).body;$.add(me(),e),pe.current&&ve()})),be=i.useCallback((function(){return $.isTopModal(me())}),[$]),ye=(0,d.Z)((function(e){de.current=e,e&&(te&&be()?ve():x(pe.current,!0))})),xe=i.useCallback((function(){$.remove(me())}),[$]);i.useEffect((function(){return function(){xe()}}),[xe]),i.useEffect((function(){te?ge():he&&k||xe()}),[te,xe,he,k,ge]);var ke=(0,o.Z)({},e,{classes:g,closeAfterTransition:k,disableAutoFocus:M,disableEnforceFocus:L,disableEscapeKeyDown:B,disablePortal:j,disableRestoreFocus:W,disableScrollLock:U,exited:se,hideBackdrop:q,keepMounted:X}),we=function(e){var t=e.open,n=e.exited,r=e.classes,a={root:["root",!t&&n&&"hidden"]};return(0,f.Z)(a,T,r)}(ke);if(!X&&!te&&(!he||se))return null;var Ce={};void 0===v.props.tabIndex&&(Ce.tabIndex="-1"),he&&(Ce.onEnter=p((function(){le(!1),re&&re()}),v.props.onEnter),Ce.onExited=p((function(){le(!0),ae&&ae(),k&&xe()}),v.props.onExited));var De=E.Root||C,Ee=F.root||{};return(0,N.jsx)(h.Z,{ref:ye,container:O,disablePortal:j,children:(0,N.jsxs)(De,(0,o.Z)({role:"presentation"},Ee,!(0,u.Z)(De)&&{as:C,ownerState:(0,o.Z)({},ke,Ee.ownerState),theme:ne},oe,{ref:fe,onKeyDown:function(e){ee&&ee(e),"Escape"===e.key&&be()&&(B||(e.stopPropagation(),J&&J(e,"escapeKeyDown")))},className:(0,s.Z)(we.root,Ee.className,b),children:[!q&&n?(0,N.jsx)(n,(0,o.Z)({open:te,onClick:function(e){e.target===e.currentTarget&&(Q&&Q(e),J&&J(e,"backdropClick"))}},m)):null,(0,N.jsx)(S.Z,{disableEnforceFocus:L,disableAutoFocus:M,disableRestoreFocus:W,isEnabled:be,open:te,children:i.cloneElement(v,Ce)})]}))})})),Z=n(7630),M=n(1046),P=n(1489),L=["BackdropComponent","closeAfterTransition","children","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted"],_=(0,Z.ZP)("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return(0,o.Z)({position:"fixed",zIndex:t.zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),B=(0,Z.ZP)(P.Z,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),z=i.forwardRef((function(e,t){var n,s=(0,M.Z)({name:"MuiModal",props:e}),l=s.BackdropComponent,c=void 0===l?B:l,d=s.closeAfterTransition,p=void 0!==d&&d,f=s.children,h=s.components,m=void 0===h?{}:h,v=s.componentsProps,g=void 0===v?{}:v,b=s.disableAutoFocus,y=void 0!==b&&b,x=s.disableEnforceFocus,k=void 0!==x&&x,w=s.disableEscapeKeyDown,C=void 0!==w&&w,D=s.disablePortal,E=void 0!==D&&D,S=s.disableRestoreFocus,I=void 0!==S&&S,F=s.disableScrollLock,T=void 0!==F&&F,A=s.hideBackdrop,R=void 0!==A&&A,Z=s.keepMounted,P=void 0!==Z&&Z,z=(0,a.Z)(s,L),j=i.useState(!0),V=(0,r.Z)(j,2),W=V[0],H=V[1],U={closeAfterTransition:p,disableAutoFocus:y,disableEnforceFocus:k,disableEscapeKeyDown:C,disablePortal:E,disableRestoreFocus:I,disableScrollLock:T,hideBackdrop:R,keepMounted:P},G=function(e){return e.classes}((0,o.Z)({},s,U,{exited:W}));return(0,N.jsx)(O,(0,o.Z)({components:(0,o.Z)({Root:_},m),componentsProps:{root:(0,o.Z)({},g.root,(!m.Root||!(0,u.Z)(m.Root))&&{ownerState:(0,o.Z)({},null==(n=g.root)?void 0:n.ownerState)})},BackdropComponent:c,onTransitionEnter:function(){return H(!1)},onTransitionExited:function(){return H(!0)},ref:t},z,{classes:G},U,{children:f}))}))},703:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(3366),a=n(7462),o=n(2791),i=n(8182),u=n(767),s=n(2065),l=n(7630),c=n(1046),d=n(5159);function p(e){return(0,d.Z)("MuiPaper",e)}(0,n(208).Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var f=n(184),h=["className","component","elevation","square","variant"],m=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},v=(0,l.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,a.Z)({backgroundColor:t.palette.background.paper,color:t.palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat(t.palette.divider)},"elevation"===n.variant&&(0,a.Z)({boxShadow:t.shadows[n.elevation]},"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,s.Fq)("#fff",m(n.elevation)),", ").concat((0,s.Fq)("#fff",m(n.elevation)),")")}))})),g=o.forwardRef((function(e,t){var n=(0,c.Z)({props:e,name:"MuiPaper"}),o=n.className,s=n.component,l=void 0===s?"div":s,d=n.elevation,m=void 0===d?1:d,g=n.square,b=void 0!==g&&g,y=n.variant,x=void 0===y?"elevation":y,k=(0,r.Z)(n,h),w=(0,a.Z)({},n,{component:l,elevation:m,square:b,variant:x}),C=function(e){var t=e.square,n=e.elevation,r=e.variant,a=e.classes,o={root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]};return(0,u.Z)(o,p,a)}(w);return(0,f.jsx)(v,(0,a.Z)({as:l,ownerState:w,className:(0,i.Z)(C.root,o),ref:t},k))}))},1022:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(3366),a=n(7462),o=n(2791),i=n(8182),u=n(8519),s=n(767),l=n(7630),c=n(1046),d=n(4036),p=n(5159);function f(e){return(0,p.Z)("MuiTypography",e)}(0,n(208).Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var h=n(184),m=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],v=(0,l.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat((0,d.Z)(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return(0,a.Z)({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),g={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},b={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},y=o.forwardRef((function(e,t){var n=(0,c.Z)({props:e,name:"MuiTypography"}),o=function(e){return b[e]||e}(n.color),l=(0,u.Z)((0,a.Z)({},n,{color:o})),p=l.align,y=void 0===p?"inherit":p,x=l.className,k=l.component,w=l.gutterBottom,C=void 0!==w&&w,D=l.noWrap,E=void 0!==D&&D,S=l.paragraph,I=void 0!==S&&S,F=l.variant,T=void 0===F?"body1":F,N=l.variantMapping,A=void 0===N?g:N,R=(0,r.Z)(l,m),O=(0,a.Z)({},l,{align:y,color:o,className:x,component:k,gutterBottom:C,noWrap:E,paragraph:I,variant:T,variantMapping:A}),Z=k||(I?"p":A[T]||g[T])||"span",M=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,a=e.paragraph,o=e.variant,i=e.classes,u={root:["root",o,"inherit"!==e.align&&"align".concat((0,d.Z)(t)),n&&"gutterBottom",r&&"noWrap",a&&"paragraph"]};return(0,s.Z)(u,f,i)}(O);return(0,h.jsx)(v,(0,a.Z)({as:Z,ref:t,ownerState:O,className:(0,i.Z)(M.root,x)},R))}))},7883:function(e,t,n){"use strict";n(2791);var r=n(9201),a=n(184);t.Z=(0,r.Z)((0,a.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},1883:function(e,t,n){"use strict";n(2791);var r=n(9201),a=n(184);t.Z=(0,r.Z)((0,a.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},1979:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var r=n(7462),a=n(3366),o=n(2466),i=n(5080),u=n(4942);function s(e,t,n){var a;return(0,r.Z)({toolbar:(a={minHeight:56},(0,u.Z)(a,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,u.Z)(a,e.up("sm"),{minHeight:64}),a)},n)}var l=n(6189),c=n(2065),d={black:"#000",white:"#fff"},p={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},f={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},h={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},v={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},g={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},b={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},y=["mode","contrastThreshold","tonalOffset"],x={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:d.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},k={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function w(e,t,n,r){var a=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,c.$n)(e.main,a):"dark"===t&&(e.dark=(0,c._j)(e.main,o)))}function C(e){var t=e.mode,n=void 0===t?"light":t,i=e.contrastThreshold,u=void 0===i?3:i,s=e.tonalOffset,C=void 0===s?.2:s,D=(0,a.Z)(e,y),E=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[200],light:v[50],dark:v[400]}:{main:v[700],light:v[400],dark:v[800]}}(n),S=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:f[200],light:f[50],dark:f[400]}:{main:f[500],light:f[300],dark:f[700]}}(n),I=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:h[500],light:h[300],dark:h[700]}:{main:h[700],light:h[400],dark:h[800]}}(n),F=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[400],light:g[300],dark:g[700]}:{main:g[700],light:g[500],dark:g[900]}}(n),T=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:b[400],light:b[300],dark:b[700]}:{main:b[800],light:b[500],dark:b[900]}}(n),N=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[400],light:m[300],dark:m[700]}:{main:"#ed6c02",light:m[500],dark:m[900]}}(n);function A(e){return(0,c.mi)(e,k.text.primary)>=u?k.text.primary:x.text.primary}var R=function(e){var t=e.color,n=e.name,a=e.mainShade,o=void 0===a?500:a,i=e.lightShade,u=void 0===i?300:i,s=e.darkShade,c=void 0===s?700:s;if(!(t=(0,r.Z)({},t)).main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error((0,l.Z)(11,n?" (".concat(n,")"):"",o));if("string"!==typeof t.main)throw new Error((0,l.Z)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return w(t,"light",u,C),w(t,"dark",c,C),t.contrastText||(t.contrastText=A(t.main)),t},O={dark:k,light:x};return(0,o.Z)((0,r.Z)({common:d,mode:n,primary:R({color:E,name:"primary"}),secondary:R({color:S,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:R({color:I,name:"error"}),warning:R({color:N,name:"warning"}),info:R({color:F,name:"info"}),success:R({color:T,name:"success"}),grey:p,contrastThreshold:u,getContrastText:A,augmentColor:R,tonalOffset:C},O[n]),D)}var D=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var E={textTransform:"uppercase"},S='"Roboto", "Helvetica", "Arial", sans-serif';function I(e,t){var n="function"===typeof t?t(e):t,i=n.fontFamily,u=void 0===i?S:i,s=n.fontSize,l=void 0===s?14:s,c=n.fontWeightLight,d=void 0===c?300:c,p=n.fontWeightRegular,f=void 0===p?400:p,h=n.fontWeightMedium,m=void 0===h?500:h,v=n.fontWeightBold,g=void 0===v?700:v,b=n.htmlFontSize,y=void 0===b?16:b,x=n.allVariants,k=n.pxToRem,w=(0,a.Z)(n,D);var C=l/14,I=k||function(e){return"".concat(e/y*C,"rem")},F=function(e,t,n,a,o){return(0,r.Z)({fontFamily:u,fontWeight:e,fontSize:I(t),lineHeight:n},u===S?{letterSpacing:"".concat((i=a/t,Math.round(1e5*i)/1e5),"em")}:{},o,x);var i},T={h1:F(d,96,1.167,-1.5),h2:F(d,60,1.2,-.5),h3:F(f,48,1.167,0),h4:F(f,34,1.235,.25),h5:F(f,24,1.334,0),h6:F(m,20,1.6,.15),subtitle1:F(f,16,1.75,.15),subtitle2:F(m,14,1.57,.1),body1:F(f,16,1.5,.15),body2:F(f,14,1.43,.15),button:F(m,14,1.75,.4,E),caption:F(f,12,1.66,.4),overline:F(f,12,2.66,1,E)};return(0,o.Z)((0,r.Z)({htmlFontSize:y,pxToRem:I,fontFamily:u,fontSize:l,fontWeightLight:d,fontWeightRegular:f,fontWeightMedium:m,fontWeightBold:g},T),w,{clone:!1})}function F(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var T=["none",F(0,2,1,-1,0,1,1,0,0,1,3,0),F(0,3,1,-2,0,2,2,0,0,1,5,0),F(0,3,3,-2,0,3,4,0,0,1,8,0),F(0,2,4,-1,0,4,5,0,0,1,10,0),F(0,3,5,-1,0,5,8,0,0,1,14,0),F(0,3,5,-1,0,6,10,0,0,1,18,0),F(0,4,5,-2,0,7,10,1,0,2,16,1),F(0,5,5,-3,0,8,10,1,0,3,14,2),F(0,5,6,-3,0,9,12,1,0,3,16,2),F(0,6,6,-3,0,10,14,1,0,4,18,3),F(0,6,7,-4,0,11,15,1,0,4,20,3),F(0,7,8,-4,0,12,17,2,0,5,22,4),F(0,7,8,-4,0,13,19,2,0,5,24,4),F(0,7,9,-4,0,14,21,2,0,5,26,4),F(0,8,9,-5,0,15,22,2,0,6,28,5),F(0,8,10,-5,0,16,24,2,0,6,30,5),F(0,8,11,-5,0,17,26,2,0,6,32,5),F(0,9,11,-5,0,18,28,2,0,7,34,6),F(0,9,12,-6,0,19,29,2,0,7,36,6),F(0,10,13,-6,0,20,31,3,0,8,38,7),F(0,10,13,-6,0,21,33,3,0,8,40,7),F(0,10,14,-6,0,22,35,3,0,8,42,7),F(0,11,14,-7,0,23,36,3,0,9,44,8),F(0,11,15,-7,0,24,38,3,0,9,46,8)],N=n(1314),A={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},R=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,u=e.palette,l=void 0===u?{}:u,c=e.transitions,d=void 0===c?{}:c,p=e.typography,f=void 0===p?{}:p,h=(0,a.Z)(e,R),m=C(l),v=(0,i.Z)(e),g=(0,o.Z)(v,{mixins:s(v.breakpoints,v.spacing,n),palette:m,shadows:T.slice(),typography:I(m,f),transitions:(0,N.ZP)(d),zIndex:(0,r.Z)({},A)});g=(0,o.Z)(g,h);for(var b=arguments.length,y=new Array(b>1?b-1:0),x=1;x<b;x++)y[x-1]=arguments[x];return g=y.reduce((function(e,t){return(0,o.Z)(e,t)}),g)}var Z=O},1314:function(e,t,n){"use strict";n.d(t,{x9:function(){return u},ZP:function(){return c}});var r=n(3366),a=n(7462),o=["duration","easing","delay"],i={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},u={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function s(e){return"".concat(Math.round(e),"ms")}function l(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function c(e){var t=(0,a.Z)({},i,e.easing),n=(0,a.Z)({},u,e.duration);return(0,a.Z)({getAutoHeightDuration:l,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.duration,u=void 0===i?n.standard:i,l=a.easing,c=void 0===l?t.easeInOut:l,d=a.delay,p=void 0===d?0:d;(0,r.Z)(a,o);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof u?u:s(u)," ").concat(c," ").concat("string"===typeof p?p:s(p))})).join(",")}},e,{easing:t,duration:n})}},6482:function(e,t,n){"use strict";var r=(0,n(1979).Z)();t.Z=r},7630:function(e,t,n){"use strict";n.d(t,{ZP:function(){return I},FO:function(){return D},Dz:function(){return E}});var r=n(3433),a=n(9439),o=n(7462),i=n(3366),u=n(594),s=n(5080),l=n(104),c=n(7312),d=["variant"];function p(e){return 0===e.length}function f(e){var t=e.variant,n=(0,i.Z)(e,d),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?p(r)?e[t]:(0,c.Z)(e[t]):"".concat(p(r)?t:(0,c.Z)(t)).concat((0,c.Z)(e[t].toString()))})),r}var h=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],m=["theme"],v=["theme"];function g(e){return 0===Object.keys(e).length}var b=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},y=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=f(e.props);r[t]=e.style})),r},x=function(e,t,n,r){var a,o,i=e.ownerState,u=void 0===i?{}:i,s=[],l=null==n||null==(a=n.components)||null==(o=a[r])?void 0:o.variants;return l&&l.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[f(n.props)])})),s};function k(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var w=(0,s.Z)();var C=n(6482),D=function(e){return k(e)&&"classes"!==e},E=k,S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?w:t,s=e.rootShouldForwardProp,c=void 0===s?k:s,d=e.slotShouldForwardProp,p=void 0===d?k:d;return function(e){var t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=s.name,f=s.slot,w=s.skipVariantsResolver,C=s.skipSx,D=s.overridesResolver,E=(0,i.Z)(s,h),S=void 0!==w?w:f&&"Root"!==f||!1,I=C||!1;var F=k;"Root"===f?F=c:f&&(F=p);var T=(0,u.ZP)(e,(0,o.Z)({shouldForwardProp:F,label:t},E)),N=function(e){for(var t=arguments.length,u=new Array(t>1?t-1:0),s=1;s<t;s++)u[s-1]=arguments[s];var c=u?u.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,a=(0,i.Z)(t,m);return e((0,o.Z)({theme:g(r)?n:r},a))}:e})):[],p=e;d&&D&&c.push((function(e){var t=g(e.theme)?n:e.theme,r=b(d,t);if(r){var o={};return Object.entries(r).forEach((function(t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];o[r]="function"===typeof i?i(e):i})),D(e,o)}return null})),d&&!S&&c.push((function(e){var t=g(e.theme)?n:e.theme;return x(e,y(d,t),t,d)})),I||c.push((function(e){var t=g(e.theme)?n:e.theme;return(0,l.Z)((0,o.Z)({},e,{theme:t}))}));var f=c.length-u.length;if(Array.isArray(e)&&f>0){var h=new Array(f).fill("");(p=[].concat((0,r.Z)(e),(0,r.Z)(h))).raw=[].concat((0,r.Z)(e.raw),(0,r.Z)(h))}else"function"===typeof e&&(p=function(t){var r=t.theme,a=(0,i.Z)(t,v);return e((0,o.Z)({theme:g(r)?n:r},a))});var k=T.apply(void 0,[p].concat((0,r.Z)(c)));return k};return T.withConfig&&(N.withConfig=T.withConfig),N}}({defaultTheme:C.Z,rootShouldForwardProp:D}),I=S},3967:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});n(2791);var r=n(418),a=n(6482);function o(){return(0,r.Z)(a.Z)}},1046:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(5735);var a=n(418);function o(e){var t=e.props,n=e.name,o=e.defaultTheme,i=function(e){var t=e.theme,n=e.name,a=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,r.Z)(t.components[n].defaultProps,a):a}({theme:(0,a.Z)(o),name:n,props:t});return i}var i=n(6482);function u(e){return o({props:e.props,name:e.name,defaultTheme:i.Z})}},4999:function(e,t,n){"use strict";n.d(t,{n:function(){return r},C:function(){return a}});var r=function(e){return e.scrollTop};function a(e,t){var n,r,a=e.timeout,o=e.easing,i=e.style,u=void 0===i?{}:i;return{duration:null!=(n=u.transitionDuration)?n:"number"===typeof a?a:a[t.mode]||0,easing:null!=(r=u.transitionTimingFunction)?r:"object"===typeof o?o[t.mode]:o,delay:u.transitionDelay}}},4036:function(e,t,n){"use strict";var r=n(7312);t.Z=r.Z},9201:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(7462),a=n(2791),o=n(3366),i=n(8182),u=n(767),s=n(4036),l=n(1046),c=n(7630),d=n(5159);function p(e){return(0,d.Z)("MuiSvgIcon",e)}(0,n(208).Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var f=n(184),h=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],m=(0,c.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat((0,s.Z)(n.color))],t["fontSize".concat((0,s.Z)(n.fontSize))]]}})((function(e){var t,n,r,a,o,i,u,s,l,c,d,p,f,h,m,v,g,b=e.theme,y=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=b.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=b.transitions)||null==(a=r.duration)?void 0:a.shorter}),fontSize:{inherit:"inherit",small:(null==(o=b.typography)||null==(i=o.pxToRem)?void 0:i.call(o,20))||"1.25rem",medium:(null==(u=b.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(l=b.typography)||null==(c=l.pxToRem)?void 0:c.call(l,35))||"2.1875"}[y.fontSize],color:null!=(d=null==(p=b.palette)||null==(f=p[y.color])?void 0:f.main)?d:{action:null==(h=b.palette)||null==(m=h.action)?void 0:m.active,disabled:null==(v=b.palette)||null==(g=v.action)?void 0:g.disabled,inherit:void 0}[y.color]}})),v=a.forwardRef((function(e,t){var n=(0,l.Z)({props:e,name:"MuiSvgIcon"}),a=n.children,c=n.className,d=n.color,v=void 0===d?"inherit":d,g=n.component,b=void 0===g?"svg":g,y=n.fontSize,x=void 0===y?"medium":y,k=n.htmlColor,w=n.inheritViewBox,C=void 0!==w&&w,D=n.titleAccess,E=n.viewBox,S=void 0===E?"0 0 24 24":E,I=(0,o.Z)(n,h),F=(0,r.Z)({},n,{color:v,component:b,fontSize:x,inheritViewBox:C,viewBox:S}),T={};C||(T.viewBox=S);var N=function(e){var t=e.color,n=e.fontSize,r=e.classes,a={root:["root","inherit"!==t&&"color".concat((0,s.Z)(t)),"fontSize".concat((0,s.Z)(n))]};return(0,u.Z)(a,p,r)}(F);return(0,f.jsxs)(m,(0,r.Z)({as:b,className:(0,i.Z)(N.root,c),ownerState:F,focusable:"false",color:k,"aria-hidden":!D||void 0,role:D?"img":void 0,ref:t},T,I,{children:[a,D?(0,f.jsx)("title",{children:D}):null]}))}));v.muiName="SvgIcon";var g=v;function b(e,t){var n=function(n,a){return(0,f.jsx)(g,(0,r.Z)({"data-testid":"".concat(t,"Icon"),ref:a},n,{children:e}))};return n.muiName=g.muiName,a.memo(a.forwardRef(n))}},3199:function(e,t,n){"use strict";var r=n(3981);t.Z=r.Z},8301:function(e,t,n){"use strict";var r=n(9723);t.Z=r.Z},7602:function(e,t,n){"use strict";var r=n(7979);t.Z=r.Z},9683:function(e,t,n){"use strict";var r=n(8956);t.Z=r.Z},2071:function(e,t,n){"use strict";var r=n(7563);t.Z=r.Z},3031:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r,a=n(2791),o=!0,i=!1,u={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function s(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function l(){o=!1}function c(){"hidden"===this.visibilityState&&i&&(o=!0)}function d(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return o||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!u[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var p=function(){var e=a.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",s,!0),t.addEventListener("mousedown",l,!0),t.addEventListener("pointerdown",l,!0),t.addEventListener("touchstart",l,!0),t.addEventListener("visibilitychange",c,!0))}),[]),t=a.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!d(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(i=!0,window.clearTimeout(r),r=window.setTimeout((function(){i=!1}),100),t.current=!1,!0)},ref:e}}},594:function(e,t,n){"use strict";n.d(t,{ZP:function(){return y}});var r=n(2791),a=n(7462),o=n(3782),i=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,u=(0,o.Z)((function(e){return i.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),s=n(1672),l=n(5438),c=n(1346),d=u,p=function(e){return"theme"!==e},f=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?d:p},h=function(e,t,n){var r;if(t){var a=t.shouldForwardProp;r=e.__emotion_forwardProp&&a?function(t){return e.__emotion_forwardProp(t)&&a(t)}:a}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},m=function(){return null},v=function e(t,n){var o,i,u=t.__emotion_real===t,d=u&&t.__emotion_base||t;void 0!==n&&(o=n.label,i=n.target);var p=h(t,n,u),v=p||f(d),g=!v("as");return function(){var b=arguments,y=u&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==o&&y.push("label:"+o+";"),null==b[0]||void 0===b[0].raw)y.push.apply(y,b);else{0,y.push(b[0][0]);for(var x=b.length,k=1;k<x;k++)y.push(b[k],b[0][k])}var w=(0,s.w)((function(e,t,n){var a=g&&e.as||d,o="",u=[],h=e;if(null==e.theme){for(var b in h={},e)h[b]=e[b];h.theme=(0,r.useContext)(s.T)}"string"===typeof e.className?o=(0,l.f)(t.registered,u,e.className):null!=e.className&&(o=e.className+" ");var x=(0,c.O)(y.concat(u),t.registered,h);(0,l.M)(t,x,"string"===typeof a);o+=t.key+"-"+x.name,void 0!==i&&(o+=" "+i);var k=g&&void 0===p?f(a):v,w={};for(var C in e)g&&"as"===C||k(C)&&(w[C]=e[C]);w.className=o,w.ref=n;var D=(0,r.createElement)(a,w),E=(0,r.createElement)(m,null);return(0,r.createElement)(r.Fragment,null,E,D)}));return w.displayName=void 0!==o?o:"Styled("+("string"===typeof d?d:d.displayName||d.name||"Component")+")",w.defaultProps=t.defaultProps,w.__emotion_real=w,w.__emotion_base=d,w.__emotion_styles=y,w.__emotion_forwardProp=p,Object.defineProperty(w,"toString",{value:function(){return"."+i}}),w.withComponent=function(t,r){return e(t,(0,a.Z)({},n,r,{shouldForwardProp:h(w,r,!0)})).apply(void 0,y)},w}},g=v.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){g[e]=g(e)}));var b=g;function y(e,t){return b(e,t)}},1184:function(e,t,n){"use strict";n.d(t,{VO:function(){return r},k9:function(){return o},W8:function(){return i},L7:function(){return u}});var r={xs:0,sm:600,md:900,lg:1200,xl:1536},a={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(r[e],"px)")}};function o(e,t,n){var o=e.theme||{};if(Array.isArray(t)){var i=o.breakpoints||a;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var u=o.breakpoints||a;return Object.keys(t).reduce((function(e,a){if(-1!==Object.keys(u.values||r).indexOf(a)){e[u.up(a)]=n(t[a],a)}else{var o=a;e[o]=t[o]}return e}),{})}return n(t)}function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function u(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}},2065:function(e,t,n){"use strict";n.d(t,{mi:function(){return s},Fq:function(){return l},_j:function(){return c},$n:function(){return d}});var r=n(6189);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function o(e){if(e.type)return e;if("#"===e.charAt(0))return o(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.Z)(9,e));var a,i=e.substring(t+1,e.length-1);if("color"===n){if(a=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].substr(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(a))throw new Error((0,r.Z)(10,a))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:a}}function i(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function u(e){var t="hsl"===(e=o(e)).type?o(function(e){var t=(e=o(e)).values,n=t[0],r=t[1]/100,a=t[2]/100,u=r*Math.min(a,1-a),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return a-u*Math.max(Math.min(t-3,9-t,1),-1)},l="rgb",c=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(l+="a",c.push(t[3])),i({type:l,values:c})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function s(e,t){var n=u(e),r=u(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function l(e,t){return e=o(e),t=a(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,i(e)}function c(e,t){if(e=o(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return i(e)}function d(e,t){if(e=o(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return i(e)}},5080:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(7462),a=n(3366),o=n(2466),i=["values","unit","step"];function u(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,o=e.unit,u=void 0===o?"px":o,s=e.step,l=void 0===s?5:s,c=(0,a.Z)(e,i),d=Object.keys(n);function p(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(u,")")}function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-l/100).concat(u,")")}function h(e,t){var r=d.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(u,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[d[r]]?n[d[r]]:t)-l/100).concat(u,")")}return(0,r.Z)({keys:d,values:n,up:p,down:f,between:h,only:function(e){return d.indexOf(e)+1<d.length?h(e,d[d.indexOf(e)+1]):p(e)},not:function(e){var t=d.indexOf(e);return 0===t?p(d[1]):t===d.length-1?f(d[t]):h(e,d[d.indexOf(e)+1]).replace("@media","@media not all and")},unit:u},c)}var s={borderRadius:4},l=n(5682);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,l.hB)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=0===n.length?[1]:n;return a.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var d=["breakpoints","palette","spacing","shape"];var p=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,i=e.palette,l=void 0===i?{}:i,p=e.spacing,f=e.shape,h=void 0===f?{}:f,m=(0,a.Z)(e,d),v=u(n),g=c(p),b=(0,o.Z)({breakpoints:v,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},l),spacing:g,shape:(0,r.Z)({},s,h)},m),y=arguments.length,x=new Array(y>1?y-1:0),k=1;k<y;k++)x[k-1]=arguments[k];return b=x.reduce((function(e,t){return(0,o.Z)(e,t)}),b)}},6001:function(e,t,n){"use strict";n.d(t,{Z:function(){return $},G:function(){return Y}});var r=n(4942),a=n(8529),o=n(8247);var i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),a=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?(0,o.Z)(t,r[n](e)):t}),{})};return a.propTypes={},a.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),a},u=n(5682),s=n(1184);function l(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var c=(0,a.Z)({prop:"border",themeKey:"borders",transform:l}),d=(0,a.Z)({prop:"borderTop",themeKey:"borders",transform:l}),p=(0,a.Z)({prop:"borderRight",themeKey:"borders",transform:l}),f=(0,a.Z)({prop:"borderBottom",themeKey:"borders",transform:l}),h=(0,a.Z)({prop:"borderLeft",themeKey:"borders",transform:l}),m=(0,a.Z)({prop:"borderColor",themeKey:"palette"}),v=(0,a.Z)({prop:"borderTopColor",themeKey:"palette"}),g=(0,a.Z)({prop:"borderRightColor",themeKey:"palette"}),b=(0,a.Z)({prop:"borderBottomColor",themeKey:"palette"}),y=(0,a.Z)({prop:"borderLeftColor",themeKey:"palette"}),x=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=(0,u.eI)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,s.k9)(e,e.borderRadius,(function(e){return{borderRadius:(0,u.NA)(t,e)}}))}return null};x.propTypes={},x.filterProps=["borderRadius"];var k=i(c,d,p,f,h,m,v,g,b,y,x),w=i((0,a.Z)({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),(0,a.Z)({prop:"display"}),(0,a.Z)({prop:"overflow"}),(0,a.Z)({prop:"textOverflow"}),(0,a.Z)({prop:"visibility"}),(0,a.Z)({prop:"whiteSpace"})),C=i((0,a.Z)({prop:"flexBasis"}),(0,a.Z)({prop:"flexDirection"}),(0,a.Z)({prop:"flexWrap"}),(0,a.Z)({prop:"justifyContent"}),(0,a.Z)({prop:"alignItems"}),(0,a.Z)({prop:"alignContent"}),(0,a.Z)({prop:"order"}),(0,a.Z)({prop:"flex"}),(0,a.Z)({prop:"flexGrow"}),(0,a.Z)({prop:"flexShrink"}),(0,a.Z)({prop:"alignSelf"}),(0,a.Z)({prop:"justifyItems"}),(0,a.Z)({prop:"justifySelf"})),D=function(e){if(void 0!==e.gap&&null!==e.gap){var t=(0,u.eI)(e.theme,"spacing",8,"gap");return(0,s.k9)(e,e.gap,(function(e){return{gap:(0,u.NA)(t,e)}}))}return null};D.propTypes={},D.filterProps=["gap"];var E=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=(0,u.eI)(e.theme,"spacing",8,"columnGap");return(0,s.k9)(e,e.columnGap,(function(e){return{columnGap:(0,u.NA)(t,e)}}))}return null};E.propTypes={},E.filterProps=["columnGap"];var S=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=(0,u.eI)(e.theme,"spacing",8,"rowGap");return(0,s.k9)(e,e.rowGap,(function(e){return{rowGap:(0,u.NA)(t,e)}}))}return null};S.propTypes={},S.filterProps=["rowGap"];var I=i(D,E,S,(0,a.Z)({prop:"gridColumn"}),(0,a.Z)({prop:"gridRow"}),(0,a.Z)({prop:"gridAutoFlow"}),(0,a.Z)({prop:"gridAutoColumns"}),(0,a.Z)({prop:"gridAutoRows"}),(0,a.Z)({prop:"gridTemplateColumns"}),(0,a.Z)({prop:"gridTemplateRows"}),(0,a.Z)({prop:"gridTemplateAreas"}),(0,a.Z)({prop:"gridArea"})),F=i((0,a.Z)({prop:"position"}),(0,a.Z)({prop:"zIndex",themeKey:"zIndex"}),(0,a.Z)({prop:"top"}),(0,a.Z)({prop:"right"}),(0,a.Z)({prop:"bottom"}),(0,a.Z)({prop:"left"})),T=i((0,a.Z)({prop:"color",themeKey:"palette"}),(0,a.Z)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),(0,a.Z)({prop:"backgroundColor",themeKey:"palette"})),N=(0,a.Z)({prop:"boxShadow",themeKey:"shadows"});function A(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var R=(0,a.Z)({prop:"width",transform:A}),O=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return(0,s.k9)(e,e.maxWidth,(function(t){var n,r,a;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(a=r.values)?void 0:a[t])||s.VO[t]||A(t)}}))}return null};O.filterProps=["maxWidth"];var Z=(0,a.Z)({prop:"minWidth",transform:A}),M=(0,a.Z)({prop:"height",transform:A}),P=(0,a.Z)({prop:"maxHeight",transform:A}),L=(0,a.Z)({prop:"minHeight",transform:A}),_=((0,a.Z)({prop:"size",cssProperty:"width",transform:A}),(0,a.Z)({prop:"size",cssProperty:"height",transform:A}),i(R,O,Z,M,P,L,(0,a.Z)({prop:"boxSizing"}))),B=(0,a.Z)({prop:"fontFamily",themeKey:"typography"}),z=(0,a.Z)({prop:"fontSize",themeKey:"typography"}),j=(0,a.Z)({prop:"fontStyle",themeKey:"typography"}),V=(0,a.Z)({prop:"fontWeight",themeKey:"typography"}),W=(0,a.Z)({prop:"letterSpacing"}),H=(0,a.Z)({prop:"textTransform"}),U=(0,a.Z)({prop:"lineHeight"}),G=(0,a.Z)({prop:"textAlign"}),q=i((0,a.Z)({prop:"typography",cssProperty:!1,themeKey:"typography"}),B,z,j,V,W,U,G,H),K={borders:k.filterProps,display:w.filterProps,flexbox:C.filterProps,grid:I.filterProps,positions:F.filterProps,palette:T.filterProps,shadows:N.filterProps,sizing:_.filterProps,spacing:u.ZP.filterProps,typography:q.filterProps},X={borders:k,display:w,flexbox:C,grid:I,positions:F,palette:T,shadows:N,sizing:_,spacing:u.ZP,typography:q},Y=Object.keys(K).reduce((function(e,t){return K[t].forEach((function(n){e[n]=X[t]})),e}),{});var $=function(e,t,n){var a,o=(a={},(0,r.Z)(a,e,t),(0,r.Z)(a,"theme",n),a),i=Y[e];return i?i(o):(0,r.Z)({},e,t)}},8247:function(e,t,n){"use strict";var r=n(2466);t.Z=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},5682:function(e,t,n){"use strict";n.d(t,{hB:function(){return m},eI:function(){return h},ZP:function(){return w},NA:function(){return v}});var r=n(9439),a=n(1184),o=n(8529),i=n(8247);var u={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!l[e])return[e];e=l[e]}var t=e.split(""),n=(0,r.Z)(t,2),a=n[0],o=n[1],i=u[a],c=s[o]||"";return Array.isArray(c)?c.map((function(e){return i+e})):[i+c]})),d=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],p=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],f=[].concat(d,p);function h(e,t,n,r){var a=(0,o.D)(e,t)||n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function m(e){return h(e,"spacing",8)}function v(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function g(e,t,n,r){if(-1===t.indexOf(n))return null;var o=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=v(t,n),e}),{})}}(c(n),r),i=e[n];return(0,a.k9)(e,i,o)}function b(e,t){var n=m(e.theme);return Object.keys(e).map((function(r){return g(e,t,r,n)})).reduce(i.Z,{})}function y(e){return b(e,d)}function x(e){return b(e,p)}function k(e){return b(e,f)}y.propTypes={},y.filterProps=d,x.propTypes={},x.filterProps=p,k.propTypes={},k.filterProps=f;var w=k},8529:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var r=n(4942),a=n(7312),o=n(1184);function i(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}function u(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||a:i(e,n)||a,t&&(r=t(r)),r}t.Z=function(e){var t=e.prop,n=e.cssProperty,s=void 0===n?e.prop:n,l=e.themeKey,c=e.transform,d=function(e){if(null==e[t])return null;var n=e[t],d=i(e.theme,l)||{};return(0,o.k9)(e,n,(function(e){var n=u(d,c,e);return e===n&&"string"===typeof e&&(n=u(d,c,"".concat(t).concat("default"===e?"":(0,a.Z)(e)),e)),!1===s?n:(0,r.Z)({},s,n)}))};return d.propTypes={},d.filterProps=[t],d}},8519:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(3433),a=n(7462),o=n(3366),i=n(2466),u=n(6001),s=["sx"];function l(e){var t,n=e.sx,l=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(n){u.G[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t}((0,o.Z)(e,s)),c=l.systemProps,d=l.otherProps;return t=Array.isArray(n)?[c].concat((0,r.Z)(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return(0,i.P)(e)?(0,a.Z)({},c,e):c}:(0,a.Z)({},c,n),(0,a.Z)({},d,{sx:t})}},104:function(e,t,n){"use strict";var r=n(4942),a=n(8247),o=n(6001),i=n(1184);function u(e){var t=e||{},n=t.sx,s=t.theme,l=void 0===s?{}:s;if(!n)return null;function c(e){var t=e;if("function"===typeof e)t=e(l);else if("object"!==typeof e)return e;var n=(0,i.W8)(l.breakpoints),s=Object.keys(n),c=n;return Object.keys(t).forEach((function(e){var n,s,d=(n=t[e],s=l,"function"===typeof n?n(s):n);if(null!==d&&void 0!==d)if("object"===typeof d)if(o.G[e])c=(0,a.Z)(c,(0,o.Z)(e,d,l));else{var p=(0,i.k9)({theme:l},d,(function(t){return(0,r.Z)({},e,t)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),a=new Set(r);return t.every((function(e){return a.size===Object.keys(e).length}))}(p,d)?c=(0,a.Z)(c,p):c[e]=u({sx:d,theme:l})}else c=(0,a.Z)(c,(0,o.Z)(e,d,l))})),(0,i.L7)(s,c)}return Array.isArray(n)?n.map(c):c(n)}u.filterProps=["sx"],t.Z=u},418:function(e,t,n){"use strict";var r=n(5080),a=n(7301),o=(0,r.Z)();t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return(0,a.Z)(e)}},7301:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(2791);var a=r.createContext(null);function o(){return r.useContext(a)}function i(e){return 0===Object.keys(e).length}var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=o();return!t||i(t)?e:t}},7312:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(6189);function a(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},3981:function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];var u=function(){e.apply(r,o)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,{Z:function(){return r}})},2466:function(e,t,n){"use strict";n.d(t,{P:function(){return a},Z:function(){return o}});var r=n(7462);function a(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?(0,r.Z)({},e):e;return a(e)&&a(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(a(t[r])&&r in e&&a(e[r])?i[r]=o(e[r],t[r],n):i[r]=t[r])})),i}},6189:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},7137:function(e,t,n){"use strict";function r(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}n.d(t,{Z:function(){return r}})},9723:function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{Z:function(){return r}})},7979:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9723);function a(e){return(0,r.Z)(e).defaultView||window}},5735:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7462);function a(e,t){var n=(0,r.Z)({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}},2971:function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return r}})},5721:function(e,t,n){"use strict";var r=n(2791),a="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;t.Z=a},8956:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2791),a=n(5721);function o(e){var t=r.useRef(e);return(0,a.Z)((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},7563:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2791),a=n(2971);function o(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){(0,a.Z)(e,n),(0,a.Z)(t,n)}}),[e,t])}},6248:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9439),a=n(2791),o=0;function i(e){var t=a.useState(e),n=(0,r.Z)(t,2),i=n[0],u=n[1],s=e||i;return a.useEffect((function(){null==i&&u("mui-".concat(o+=1))}),[i]),s}},5716:function(e,t,n){"use strict";n.d(t,{_$r:function(){return wh}});var r=n(4942),a=n(3433),o=n(5671),i=n(3144),u=n(136),s=n(3668),l=n(9439),c=n(7757),d=n.n(c),p=n(2791),f=n(2007),h=n.n(f),m=n(5159),v=n(208),g=n(767),b=n(7630),y=n(2065),x=n(1046),k=n(5721),w=k.Z,C=n(6248),D=C.Z,E=n(9683),S=n(7602),I=n(2071),F=n(9201),T=n(3199),N=n(4036),A=n(8301),R="NOT_FOUND";var O=function(e,t){return e===t};function Z(e,t){var n="object"===typeof t?t:{equalityCheck:t},r=n.equalityCheck,a=void 0===r?O:r,o=n.maxSize,i=void 0===o?1:o,u=n.resultEqualityCheck,s=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e(t[a],n[a]))return!1;return!0}}(a),l=1===i?function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:R},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(s):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var a=n[r];return r>0&&(n.splice(r,1),n.unshift(a)),a.value}return R}return{get:r,put:function(t,a){r(t)===R&&(n.unshift({key:t,value:a}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(i,s);function c(){var t=l.get(arguments);if(t===R){if(t=e.apply(null,arguments),u){var n=l.getEntries(),r=n.find((function(e){return u(e.value,t)}));r&&(t=r.value)}l.put(arguments,t)}return t}return c.clearCache=function(){return l.clear()},c}function M(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function P(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var o,i=0,u={memoizeOptions:void 0},s=r.pop();if("object"===typeof s&&(u=s,s=r.pop()),"function"!==typeof s)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof s+"]");var l=u,c=l.memoizeOptions,d=void 0===c?n:c,p=Array.isArray(d)?d:[d],f=M(r),h=e.apply(void 0,[function(){return i++,s.apply(null,arguments)}].concat(p)),m=e((function(){for(var e=[],t=f.length,n=0;n<t;n++)e.push(f[n].apply(null,arguments));return o=h.apply(null,e)}));return Object.assign(m,{resultFunc:s,memoizedResultFunc:h,dependencies:f,lastResult:function(){return o},recomputations:function(){return i},resetRecomputations:function(){return i=0}}),m};return a}var L=P(Z),_=n(8182),B=n(3366),z=n(7462);function j(e){var t=e.controlled,n=e.default,r=(e.name,e.state,p.useRef(void 0!==t).current),a=p.useState(n),o=(0,l.Z)(a,2),i=o[0],u=o[1];return[r?t:i,p.useCallback((function(e){r||u(e)}),[])]}var V=n(8956),W=n(2971);function H(e){return"undefined"!==typeof e.normalize?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ignoreAccents,n=void 0===t||t,r=e.ignoreCase,a=void 0===r||r,o=e.limit,i=e.matchFrom,u=void 0===i?"any":i,s=e.stringify,l=e.trim,c=void 0!==l&&l;return function(e,t){var r=t.inputValue,i=t.getOptionLabel,l=c?r.trim():r;a&&(l=l.toLowerCase()),n&&(l=H(l));var d=e.filter((function(e){var t=(s||i)(e);return a&&(t=t.toLowerCase()),n&&(t=H(t)),"start"===u?0===t.indexOf(l):t.indexOf(l)>-1}));return"number"===typeof o?d.slice(0,o):d}}function G(e,t){for(var n=0;n<e.length;n+=1)if(t(e[n]))return n;return-1}var q=U();function K(e){var t,n=e.autoComplete,r=void 0!==n&&n,a=e.autoHighlight,o=void 0!==a&&a,i=e.autoSelect,u=void 0!==i&&i,s=e.blurOnSelect,c=void 0!==s&&s,d=e.disabled,f=e.clearOnBlur,h=void 0===f?!e.freeSolo:f,m=e.clearOnEscape,v=void 0!==m&&m,g=e.componentName,b=void 0===g?"useAutocomplete":g,y=e.defaultValue,x=void 0===y?e.multiple?[]:null:y,k=e.disableClearable,w=void 0!==k&&k,D=e.disableCloseOnSelect,E=void 0!==D&&D,S=e.disabledItemsFocusable,I=void 0!==S&&S,F=e.disableListWrap,T=void 0!==F&&F,N=e.filterOptions,A=void 0===N?q:N,R=e.filterSelectedOptions,O=void 0!==R&&R,Z=e.freeSolo,M=void 0!==Z&&Z,P=e.getOptionDisabled,L=e.getOptionLabel,_=void 0===L?function(e){var t;return null!=(t=e.label)?t:e}:L,B=e.isOptionEqualToValue,H=void 0===B?function(e,t){return e===t}:B,U=e.groupBy,K=e.handleHomeEndKeys,X=void 0===K?!e.freeSolo:K,Y=e.id,$=e.includeInputInList,Q=void 0!==$&&$,J=e.inputValue,ee=e.multiple,te=void 0!==ee&&ee,ne=e.onChange,re=e.onClose,ae=e.onHighlightChange,oe=e.onInputChange,ie=e.onOpen,ue=e.open,se=e.openOnFocus,le=void 0!==se&&se,ce=e.options,de=e.selectOnFocus,pe=void 0===de?!e.freeSolo:de,fe=e.value,he=(0,C.Z)(Y);t=function(e){var t=_(e);return"string"!==typeof t?String(t):t};var me=p.useRef(!1),ve=p.useRef(!0),ge=p.useRef(null),be=p.useRef(null),ye=p.useState(null),xe=(0,l.Z)(ye,2),ke=xe[0],we=xe[1],Ce=p.useState(-1),De=(0,l.Z)(Ce,2),Ee=De[0],Se=De[1],Ie=o?0:-1,Fe=p.useRef(Ie),Te=j({controlled:fe,default:x,name:b}),Ne=(0,l.Z)(Te,2),Ae=Ne[0],Re=Ne[1],Oe=j({controlled:J,default:"",name:b,state:"inputValue"}),Ze=(0,l.Z)(Oe,2),Me=Ze[0],Pe=Ze[1],Le=p.useState(!1),_e=(0,l.Z)(Le,2),Be=_e[0],ze=_e[1],je=p.useCallback((function(e,n){if((te?Ae.length<n.length:null!==n)||h){var r;if(te)r="";else if(null==n)r="";else{var a=t(n);r="string"===typeof a?a:""}Me!==r&&(Pe(r),oe&&oe(e,r,"reset"))}}),[t,Me,te,oe,Pe,h,Ae]),Ve=p.useRef();p.useEffect((function(){var e=Ae!==Ve.current;Ve.current=Ae,Be&&!e||M&&!e||je(null,Ae)}),[Ae,je,Be,Ve,M]);var We=j({controlled:ue,default:!1,name:b,state:"open"}),He=(0,l.Z)(We,2),Ue=He[0],Ge=He[1],qe=p.useState(!0),Ke=(0,l.Z)(qe,2),Xe=Ke[0],Ye=Ke[1],$e=!te&&null!=Ae&&Me===t(Ae),Qe=Ue,Je=Qe?A(ce.filter((function(e){return!O||!(te?Ae:[Ae]).some((function(t){return null!==t&&H(e,t)}))})),{inputValue:$e&&Xe?"":Me,getOptionLabel:t}):[],et=Ue&&Je.length>0,tt=(0,V.Z)((function(e){-1===e?ge.current.focus():ke.querySelector('[data-tag-index="'.concat(e,'"]')).focus()}));p.useEffect((function(){te&&Ee>Ae.length-1&&(Se(-1),tt(-1))}),[Ae,te,Ee,tt]);var nt=(0,V.Z)((function(e){var t=e.event,n=e.index,r=e.reason,a=void 0===r?"auto":r;if(Fe.current=n,-1===n?ge.current.removeAttribute("aria-activedescendant"):ge.current.setAttribute("aria-activedescendant","".concat(he,"-option-").concat(n)),ae&&ae(t,-1===n?null:Je[n],a),be.current){var o=be.current.querySelector('[role="option"].Mui-focused');o&&(o.classList.remove("Mui-focused"),o.classList.remove("Mui-focusVisible"));var i=be.current.parentElement.querySelector('[role="listbox"]');if(i)if(-1!==n){var u=be.current.querySelector('[data-option-index="'.concat(n,'"]'));if(u&&(u.classList.add("Mui-focused"),"keyboard"===a&&u.classList.add("Mui-focusVisible"),i.scrollHeight>i.clientHeight&&"mouse"!==a)){var s=u,l=i.clientHeight+i.scrollTop,c=s.offsetTop+s.offsetHeight;c>l?i.scrollTop=c-i.clientHeight:s.offsetTop-s.offsetHeight*(U?1.3:0)<i.scrollTop&&(i.scrollTop=s.offsetTop-s.offsetHeight*(U?1.3:0))}}else i.scrollTop=0}})),rt=(0,V.Z)((function(e){var n=e.event,a=e.diff,o=e.direction,i=void 0===o?"next":o,u=e.reason,s=void 0===u?"auto":u;if(Qe){var l=function(e,t){if(!be.current||-1===e)return-1;for(var n=e;;){if("next"===t&&n===Je.length||"previous"===t&&-1===n)return-1;var r=be.current.querySelector('[data-option-index="'.concat(n,'"]')),a=!I&&(!r||r.disabled||"true"===r.getAttribute("aria-disabled"));if(!(r&&!r.hasAttribute("tabindex")||a))return n;n+="next"===t?1:-1}}(function(){var e=Je.length-1;if("reset"===a)return Ie;if("start"===a)return 0;if("end"===a)return e;var t=Fe.current+a;return t<0?-1===t&&Q?-1:T&&-1!==Fe.current||Math.abs(a)>1?0:e:t>e?t===e+1&&Q?-1:T||Math.abs(a)>1?e:0:t}(),i);if(nt({index:l,reason:s,event:n}),r&&"reset"!==a)if(-1===l)ge.current.value=Me;else{var c=t(Je[l]);ge.current.value=c,0===c.toLowerCase().indexOf(Me.toLowerCase())&&Me.length>0&&ge.current.setSelectionRange(Me.length,c.length)}}})),at=p.useCallback((function(){if(Qe){var e=te?Ae[0]:Ae;if(0!==Je.length&&null!=e){if(be.current)if(null==e)Fe.current>=Je.length-1?nt({index:Je.length-1}):nt({index:Fe.current});else{var t=Je[Fe.current];if(te&&t&&-1!==G(Ae,(function(e){return H(t,e)})))return;var n=G(Je,(function(t){return H(t,e)}));-1===n?rt({diff:"reset"}):nt({index:n})}}else rt({diff:"reset"})}}),[Je.length,!te&&Ae,O,rt,nt,Qe,Me,te]),ot=(0,V.Z)((function(e){(0,W.Z)(be,e),e&&at()}));p.useEffect((function(){at()}),[at]);var it=function(e){Ue||(Ge(!0),Ye(!0),ie&&ie(e))},ut=function(e,t){Ue&&(Ge(!1),re&&re(e,t))},st=function(e,t,n,r){if(Array.isArray(Ae)){if(Ae.length===t.length&&Ae.every((function(e,n){return e===t[n]})))return}else if(Ae===t)return;ne&&ne(e,t,n,r),Re(t)},lt=p.useRef(!1),ct=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"selectOption",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"options",a=n,o=t;if(te){var i=G(o=Array.isArray(Ae)?Ae.slice():[],(function(e){return H(t,e)}));-1===i?o.push(t):"freeSolo"!==r&&(o.splice(i,1),a="removeOption")}je(e,o),st(e,o,a,{option:t}),E||e.ctrlKey||e.metaKey||ut(e,a),(!0===c||"touch"===c&&lt.current||"mouse"===c&&!lt.current)&&ge.current.blur()};var dt=function(e,t){if(te){ut(e,"toggleInput");var n=Ee;-1===Ee?""===Me&&"previous"===t&&(n=Ae.length-1):((n+="next"===t?1:-1)<0&&(n=0),n===Ae.length&&(n=-1)),n=function(e,t){if(-1===e)return-1;for(var n=e;;){if("next"===t&&n===Ae.length||"previous"===t&&-1===n)return-1;var r=ke.querySelector('[data-tag-index="'.concat(n,'"]'));if(r&&r.hasAttribute("tabindex")&&!r.disabled&&"true"!==r.getAttribute("aria-disabled"))return n;n+="next"===t?1:-1}}(n,t),Se(n),tt(n)}},pt=function(e){me.current=!0,Pe(""),oe&&oe(e,"","clear"),st(e,te?[]:null,"clear")},ft=function(e){return function(t){if(e.onKeyDown&&e.onKeyDown(t),!t.defaultMuiPrevented&&(-1!==Ee&&-1===["ArrowLeft","ArrowRight"].indexOf(t.key)&&(Se(-1),tt(-1)),229!==t.which))switch(t.key){case"Home":Qe&&X&&(t.preventDefault(),rt({diff:"start",direction:"next",reason:"keyboard",event:t}));break;case"End":Qe&&X&&(t.preventDefault(),rt({diff:"end",direction:"previous",reason:"keyboard",event:t}));break;case"PageUp":t.preventDefault(),rt({diff:-5,direction:"previous",reason:"keyboard",event:t}),it(t);break;case"PageDown":t.preventDefault(),rt({diff:5,direction:"next",reason:"keyboard",event:t}),it(t);break;case"ArrowDown":t.preventDefault(),rt({diff:1,direction:"next",reason:"keyboard",event:t}),it(t);break;case"ArrowUp":t.preventDefault(),rt({diff:-1,direction:"previous",reason:"keyboard",event:t}),it(t);break;case"ArrowLeft":dt(t,"previous");break;case"ArrowRight":dt(t,"next");break;case"Enter":if(-1!==Fe.current&&Qe){var n=Je[Fe.current],a=!!P&&P(n);if(t.preventDefault(),a)return;ct(t,n,"selectOption"),r&&ge.current.setSelectionRange(ge.current.value.length,ge.current.value.length)}else M&&""!==Me&&!1===$e&&(te&&t.preventDefault(),ct(t,Me,"createOption","freeSolo"));break;case"Escape":Qe?(t.preventDefault(),t.stopPropagation(),ut(t,"escape")):v&&(""!==Me||te&&Ae.length>0)&&(t.preventDefault(),t.stopPropagation(),pt(t));break;case"Backspace":if(te&&""===Me&&Ae.length>0){var o=-1===Ee?Ae.length-1:Ee,i=Ae.slice();i.splice(o,1),st(t,i,"removeOption",{option:Ae[o]})}}}},ht=function(e){ze(!0),le&&!me.current&&it(e)},mt=function(e){null!==be.current&&be.current.parentElement.contains(document.activeElement)?ge.current.focus():(ze(!1),ve.current=!0,me.current=!1,u&&-1!==Fe.current&&Qe?ct(e,Je[Fe.current],"blur"):u&&M&&""!==Me?ct(e,Me,"blur","freeSolo"):h&&je(e,Ae),ut(e,"blur"))},vt=function(e){var t=e.target.value;Me!==t&&(Pe(t),Ye(!1),oe&&oe(e,t,"input")),""===t?w||te||st(e,null,"clear"):it(e)},gt=function(e){nt({event:e,index:Number(e.currentTarget.getAttribute("data-option-index")),reason:"mouse"})},bt=function(){lt.current=!0},yt=function(e){var t=Number(e.currentTarget.getAttribute("data-option-index"));ct(e,Je[t],"selectOption"),lt.current=!1},xt=function(e){return function(t){var n=Ae.slice();n.splice(e,1),st(t,n,"removeOption",{option:Ae[e]})}},kt=function(e){Ue?ut(e,"toggleInput"):it(e)},wt=function(e){e.target.getAttribute("id")!==he&&e.preventDefault()},Ct=function(){ge.current.focus(),pe&&ve.current&&ge.current.selectionEnd-ge.current.selectionStart===0&&ge.current.select(),ve.current=!1},Dt=function(e){""!==Me&&Ue||kt(e)},Et=M&&Me.length>0;Et=Et||(te?Ae.length>0:null!==Ae);var St=Je;if(U){new Map;St=Je.reduce((function(e,t,n){var r=U(t);return e.length>0&&e[e.length-1].group===r?e[e.length-1].options.push(t):e.push({key:n,index:n,group:r,options:[t]}),e}),[])}return d&&Be&&mt(),{getRootProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,z.Z)({"aria-owns":et?"".concat(he,"-listbox"):null,role:"combobox","aria-expanded":et},e,{onKeyDown:ft(e),onMouseDown:wt,onClick:Ct})},getInputLabelProps:function(){return{id:"".concat(he,"-label"),htmlFor:he}},getInputProps:function(){return{id:he,value:Me,onBlur:mt,onFocus:ht,onChange:vt,onMouseDown:Dt,"aria-activedescendant":Qe?"":null,"aria-autocomplete":r?"both":"list","aria-controls":et?"".concat(he,"-listbox"):void 0,autoComplete:"off",ref:ge,autoCapitalize:"none",spellCheck:"false"}},getClearProps:function(){return{tabIndex:-1,onClick:pt}},getPopupIndicatorProps:function(){return{tabIndex:-1,onClick:kt}},getTagProps:function(e){var t=e.index;return{key:t,"data-tag-index":t,tabIndex:-1,onDelete:xt(t)}},getListboxProps:function(){return{role:"listbox",id:"".concat(he,"-listbox"),"aria-labelledby":"".concat(he,"-label"),ref:ot,onMouseDown:function(e){e.preventDefault()}}},getOptionProps:function(e){var n=e.index,r=e.option,a=(te?Ae:[Ae]).some((function(e){return null!=e&&H(r,e)})),o=!!P&&P(r);return{key:t(r),tabIndex:-1,role:"option",id:"".concat(he,"-option-").concat(n),onMouseOver:gt,onClick:yt,onTouchStart:bt,"data-option-index":n,"aria-disabled":o,"aria-selected":a}},id:he,inputValue:Me,value:Ae,dirty:Et,popupOpen:Qe,focused:Be||-1!==Ee,anchorEl:ke,setAnchorEl:we,focusedTag:Ee,groupedOptions:St}}var X=n(7563),Y=n(9723);function $(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Q(e){return e instanceof $(e).Element||e instanceof Element}function J(e){return e instanceof $(e).HTMLElement||e instanceof HTMLElement}function ee(e){return"undefined"!==typeof ShadowRoot&&(e instanceof $(e).ShadowRoot||e instanceof ShadowRoot)}var te=Math.max,ne=Math.min,re=Math.round;function ae(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,a=1;if(J(e)&&t){var o=e.offsetHeight,i=e.offsetWidth;i>0&&(r=re(n.width)/i||1),o>0&&(a=re(n.height)/o||1)}return{width:n.width/r,height:n.height/a,top:n.top/a,right:n.right/r,bottom:n.bottom/a,left:n.left/r,x:n.left/r,y:n.top/a}}function oe(e){var t=$(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ie(e){return e?(e.nodeName||"").toLowerCase():null}function ue(e){return((Q(e)?e.ownerDocument:e.document)||window.document).documentElement}function se(e){return ae(ue(e)).left+oe(e).scrollLeft}function le(e){return $(e).getComputedStyle(e)}function ce(e){var t=le(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function de(e,t,n){void 0===n&&(n=!1);var r=J(t),a=J(t)&&function(e){var t=e.getBoundingClientRect(),n=re(t.width)/e.offsetWidth||1,r=re(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=ue(t),i=ae(e,a),u={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(r||!r&&!n)&&(("body"!==ie(t)||ce(o))&&(u=function(e){return e!==$(e)&&J(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:oe(e);var t}(t)),J(t)?((s=ae(t,!0)).x+=t.clientLeft,s.y+=t.clientTop):o&&(s.x=se(o))),{x:i.left+u.scrollLeft-s.x,y:i.top+u.scrollTop-s.y,width:i.width,height:i.height}}function pe(e){var t=ae(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function fe(e){return"html"===ie(e)?e:e.assignedSlot||e.parentNode||(ee(e)?e.host:null)||ue(e)}function he(e){return["html","body","#document"].indexOf(ie(e))>=0?e.ownerDocument.body:J(e)&&ce(e)?e:he(fe(e))}function me(e,t){var n;void 0===t&&(t=[]);var r=he(e),a=r===(null==(n=e.ownerDocument)?void 0:n.body),o=$(r),i=a?[o].concat(o.visualViewport||[],ce(r)?r:[]):r,u=t.concat(i);return a?u:u.concat(me(fe(i)))}function ve(e){return["table","td","th"].indexOf(ie(e))>=0}function ge(e){return J(e)&&"fixed"!==le(e).position?e.offsetParent:null}function be(e){for(var t=$(e),n=ge(e);n&&ve(n)&&"static"===le(n).position;)n=ge(n);return n&&("html"===ie(n)||"body"===ie(n)&&"static"===le(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&J(e)&&"fixed"===le(e).position)return null;for(var n=fe(e);J(n)&&["html","body"].indexOf(ie(n))<0;){var r=le(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var ye="top",xe="bottom",ke="right",we="left",Ce="auto",De=[ye,xe,ke,we],Ee="start",Se="end",Ie="viewport",Fe="popper",Te=De.reduce((function(e,t){return e.concat([t+"-"+Ee,t+"-"+Se])}),[]),Ne=[].concat(De,[Ce]).reduce((function(e,t){return e.concat([t,t+"-"+Ee,t+"-"+Se])}),[]),Ae=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Re(e){var t=new Map,n=new Set,r=[];function a(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&a(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||a(e)})),r}function Oe(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Ze={placement:"bottom",modifiers:[],strategy:"absolute"};function Me(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Pe(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,a=t.defaultOptions,o=void 0===a?Ze:a;return function(e,t,n){void 0===n&&(n=o);var a={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ze,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},i=[],u=!1,s={state:a,setOptions:function(n){var u="function"===typeof n?n(a.options):n;l(),a.options=Object.assign({},o,a.options,u),a.scrollParents={reference:Q(e)?me(e):e.contextElement?me(e.contextElement):[],popper:me(t)};var c=function(e){var t=Re(e);return Ae.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,a.options.modifiers)));return a.orderedModifiers=c.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var u=o({state:a,name:t,instance:s,options:r}),l=function(){};i.push(u||l)}})),s.update()},forceUpdate:function(){if(!u){var e=a.elements,t=e.reference,n=e.popper;if(Me(t,n)){a.rects={reference:de(t,be(n),"fixed"===a.options.strategy),popper:pe(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<a.orderedModifiers.length;r++)if(!0!==a.reset){var o=a.orderedModifiers[r],i=o.fn,l=o.options,c=void 0===l?{}:l,d=o.name;"function"===typeof i&&(a=i({state:a,options:c,name:d,instance:s})||a)}else a.reset=!1,r=-1}}},update:Oe((function(){return new Promise((function(e){s.forceUpdate(),e(a)}))})),destroy:function(){l(),u=!0}};if(!Me(e,t))return s;function l(){i.forEach((function(e){return e()})),i=[]}return s.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),s}}var Le={passive:!0};function _e(e){return e.split("-")[0]}function Be(e){return e.split("-")[1]}function ze(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function je(e){var t,n=e.reference,r=e.element,a=e.placement,o=a?_e(a):null,i=a?Be(a):null,u=n.x+n.width/2-r.width/2,s=n.y+n.height/2-r.height/2;switch(o){case ye:t={x:u,y:n.y-r.height};break;case xe:t={x:u,y:n.y+n.height};break;case ke:t={x:n.x+n.width,y:s};break;case we:t={x:n.x-r.width,y:s};break;default:t={x:n.x,y:n.y}}var l=o?ze(o):null;if(null!=l){var c="y"===l?"height":"width";switch(i){case Ee:t[l]=t[l]-(n[c]/2-r[c]/2);break;case Se:t[l]=t[l]+(n[c]/2-r[c]/2)}}return t}var Ve={top:"auto",right:"auto",bottom:"auto",left:"auto"};function We(e){var t,n=e.popper,r=e.popperRect,a=e.placement,o=e.variation,i=e.offsets,u=e.position,s=e.gpuAcceleration,l=e.adaptive,c=e.roundOffsets,d=e.isFixed,p=i.x,f=void 0===p?0:p,h=i.y,m=void 0===h?0:h,v="function"===typeof c?c({x:f,y:m}):{x:f,y:m};f=v.x,m=v.y;var g=i.hasOwnProperty("x"),b=i.hasOwnProperty("y"),y=we,x=ye,k=window;if(l){var w=be(n),C="clientHeight",D="clientWidth";if(w===$(n)&&"static"!==le(w=ue(n)).position&&"absolute"===u&&(C="scrollHeight",D="scrollWidth"),w=w,a===ye||(a===we||a===ke)&&o===Se)x=xe,m-=(d&&k.visualViewport?k.visualViewport.height:w[C])-r.height,m*=s?1:-1;if(a===we||(a===ye||a===xe)&&o===Se)y=ke,f-=(d&&k.visualViewport?k.visualViewport.width:w[D])-r.width,f*=s?1:-1}var E,S=Object.assign({position:u},l&&Ve),I=!0===c?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:re(t*r)/r||0,y:re(n*r)/r||0}}({x:f,y:m}):{x:f,y:m};return f=I.x,m=I.y,s?Object.assign({},S,((E={})[x]=b?"0":"",E[y]=g?"0":"",E.transform=(k.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",E)):Object.assign({},S,((t={})[x]=b?m+"px":"",t[y]=g?f+"px":"",t.transform="",t))}var He={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.offset,o=void 0===a?[0,0]:a,i=Ne.reduce((function(e,n){return e[n]=function(e,t,n){var r=_e(e),a=[we,ye].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,i=o[0],u=o[1];return i=i||0,u=(u||0)*a,[we,ke].indexOf(r)>=0?{x:u,y:i}:{x:i,y:u}}(n,t.rects,o),e}),{}),u=i[t.placement],s=u.x,l=u.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=i}},Ue={left:"right",right:"left",bottom:"top",top:"bottom"};function Ge(e){return e.replace(/left|right|bottom|top/g,(function(e){return Ue[e]}))}var qe={start:"end",end:"start"};function Ke(e){return e.replace(/start|end/g,(function(e){return qe[e]}))}function Xe(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&ee(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ye(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function $e(e,t){return t===Ie?Ye(function(e){var t=$(e),n=ue(e),r=t.visualViewport,a=n.clientWidth,o=n.clientHeight,i=0,u=0;return r&&(a=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(i=r.offsetLeft,u=r.offsetTop)),{width:a,height:o,x:i+se(e),y:u}}(e)):Q(t)?function(e){var t=ae(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):Ye(function(e){var t,n=ue(e),r=oe(e),a=null==(t=e.ownerDocument)?void 0:t.body,o=te(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),i=te(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),u=-r.scrollLeft+se(e),s=-r.scrollTop;return"rtl"===le(a||n).direction&&(u+=te(n.clientWidth,a?a.clientWidth:0)-o),{width:o,height:i,x:u,y:s}}(ue(e)))}function Qe(e,t,n){var r="clippingParents"===t?function(e){var t=me(fe(e)),n=["absolute","fixed"].indexOf(le(e).position)>=0&&J(e)?be(e):e;return Q(n)?t.filter((function(e){return Q(e)&&Xe(e,n)&&"body"!==ie(e)})):[]}(e):[].concat(t),a=[].concat(r,[n]),o=a[0],i=a.reduce((function(t,n){var r=$e(e,n);return t.top=te(r.top,t.top),t.right=ne(r.right,t.right),t.bottom=ne(r.bottom,t.bottom),t.left=te(r.left,t.left),t}),$e(e,o));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function Je(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function et(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function tt(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=void 0===r?e.placement:r,o=n.boundary,i=void 0===o?"clippingParents":o,u=n.rootBoundary,s=void 0===u?Ie:u,l=n.elementContext,c=void 0===l?Fe:l,d=n.altBoundary,p=void 0!==d&&d,f=n.padding,h=void 0===f?0:f,m=Je("number"!==typeof h?h:et(h,De)),v=c===Fe?"reference":Fe,g=e.rects.popper,b=e.elements[p?v:c],y=Qe(Q(b)?b:b.contextElement||ue(e.elements.popper),i,s),x=ae(e.elements.reference),k=je({reference:x,element:g,strategy:"absolute",placement:a}),w=Ye(Object.assign({},g,k)),C=c===Fe?w:x,D={top:y.top-C.top+m.top,bottom:C.bottom-y.bottom+m.bottom,left:y.left-C.left+m.left,right:C.right-y.right+m.right},E=e.modifiersData.offset;if(c===Fe&&E){var S=E[a];Object.keys(D).forEach((function(e){var t=[ke,xe].indexOf(e)>=0?1:-1,n=[ye,xe].indexOf(e)>=0?"y":"x";D[e]+=S[n]*t}))}return D}var nt={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,o=void 0===a||a,i=n.altAxis,u=void 0===i||i,s=n.fallbackPlacements,l=n.padding,c=n.boundary,d=n.rootBoundary,p=n.altBoundary,f=n.flipVariations,h=void 0===f||f,m=n.allowedAutoPlacements,v=t.options.placement,g=_e(v),b=s||(g===v||!h?[Ge(v)]:function(e){if(_e(e)===Ce)return[];var t=Ge(e);return[Ke(e),t,Ke(t)]}(v)),y=[v].concat(b).reduce((function(e,n){return e.concat(_e(n)===Ce?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=n.boundary,o=n.rootBoundary,i=n.padding,u=n.flipVariations,s=n.allowedAutoPlacements,l=void 0===s?Ne:s,c=Be(r),d=c?u?Te:Te.filter((function(e){return Be(e)===c})):De,p=d.filter((function(e){return l.indexOf(e)>=0}));0===p.length&&(p=d);var f=p.reduce((function(t,n){return t[n]=tt(e,{placement:n,boundary:a,rootBoundary:o,padding:i})[_e(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:c,rootBoundary:d,padding:l,flipVariations:h,allowedAutoPlacements:m}):n)}),[]),x=t.rects.reference,k=t.rects.popper,w=new Map,C=!0,D=y[0],E=0;E<y.length;E++){var S=y[E],I=_e(S),F=Be(S)===Ee,T=[ye,xe].indexOf(I)>=0,N=T?"width":"height",A=tt(t,{placement:S,boundary:c,rootBoundary:d,altBoundary:p,padding:l}),R=T?F?ke:we:F?xe:ye;x[N]>k[N]&&(R=Ge(R));var O=Ge(R),Z=[];if(o&&Z.push(A[I]<=0),u&&Z.push(A[R]<=0,A[O]<=0),Z.every((function(e){return e}))){D=S,C=!1;break}w.set(S,Z)}if(C)for(var M=function(e){var t=y.find((function(t){var n=w.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return D=t,"break"},P=h?3:1;P>0;P--){if("break"===M(P))break}t.placement!==D&&(t.modifiersData[r]._skip=!0,t.placement=D,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function rt(e,t,n){return te(e,ne(t,n))}var at={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,o=void 0===a||a,i=n.altAxis,u=void 0!==i&&i,s=n.boundary,l=n.rootBoundary,c=n.altBoundary,d=n.padding,p=n.tether,f=void 0===p||p,h=n.tetherOffset,m=void 0===h?0:h,v=tt(t,{boundary:s,rootBoundary:l,padding:d,altBoundary:c}),g=_e(t.placement),b=Be(t.placement),y=!b,x=ze(g),k="x"===x?"y":"x",w=t.modifiersData.popperOffsets,C=t.rects.reference,D=t.rects.popper,E="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,S="number"===typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),I=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,F={x:0,y:0};if(w){if(o){var T,N="y"===x?ye:we,A="y"===x?xe:ke,R="y"===x?"height":"width",O=w[x],Z=O+v[N],M=O-v[A],P=f?-D[R]/2:0,L=b===Ee?C[R]:D[R],_=b===Ee?-D[R]:-C[R],B=t.elements.arrow,z=f&&B?pe(B):{width:0,height:0},j=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},V=j[N],W=j[A],H=rt(0,C[R],z[R]),U=y?C[R]/2-P-H-V-S.mainAxis:L-H-V-S.mainAxis,G=y?-C[R]/2+P+H+W+S.mainAxis:_+H+W+S.mainAxis,q=t.elements.arrow&&be(t.elements.arrow),K=q?"y"===x?q.clientTop||0:q.clientLeft||0:0,X=null!=(T=null==I?void 0:I[x])?T:0,Y=O+G-X,$=rt(f?ne(Z,O+U-X-K):Z,O,f?te(M,Y):M);w[x]=$,F[x]=$-O}if(u){var Q,J="x"===x?ye:we,ee="x"===x?xe:ke,re=w[k],ae="y"===k?"height":"width",oe=re+v[J],ie=re-v[ee],ue=-1!==[ye,we].indexOf(g),se=null!=(Q=null==I?void 0:I[k])?Q:0,le=ue?oe:re-C[ae]-D[ae]-se+S.altAxis,ce=ue?re+C[ae]+D[ae]-se-S.altAxis:ie,de=f&&ue?function(e,t,n){var r=rt(e,t,n);return r>n?n:r}(le,re,ce):rt(f?le:oe,re,f?ce:ie);w[k]=de,F[k]=de-re}t.modifiersData[r]=F}},requiresIfExists:["offset"]};var ot={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,a=e.options,o=n.elements.arrow,i=n.modifiersData.popperOffsets,u=_e(n.placement),s=ze(u),l=[we,ke].indexOf(u)>=0?"height":"width";if(o&&i){var c=function(e,t){return Je("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:et(e,De))}(a.padding,n),d=pe(o),p="y"===s?ye:we,f="y"===s?xe:ke,h=n.rects.reference[l]+n.rects.reference[s]-i[s]-n.rects.popper[l],m=i[s]-n.rects.reference[s],v=be(o),g=v?"y"===s?v.clientHeight||0:v.clientWidth||0:0,b=h/2-m/2,y=c[p],x=g-d[l]-c[f],k=g/2-d[l]/2+b,w=rt(y,k,x),C=s;n.modifiersData[r]=((t={})[C]=w,t.centerOffset=w-k,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Xe(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function it(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ut(e){return[ye,ke,xe,we].some((function(t){return e[t]>=0}))}var st=Pe({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,o=void 0===a||a,i=r.resize,u=void 0===i||i,s=$(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&l.forEach((function(e){e.addEventListener("scroll",n.update,Le)})),u&&s.addEventListener("resize",n.update,Le),function(){o&&l.forEach((function(e){e.removeEventListener("scroll",n.update,Le)})),u&&s.removeEventListener("resize",n.update,Le)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=je({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=void 0===r||r,o=n.adaptive,i=void 0===o||o,u=n.roundOffsets,s=void 0===u||u,l={placement:_e(t.placement),variation:Be(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,We(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,We(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},a=t.elements[e];J(a)&&ie(a)&&(Object.assign(a.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],a=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});J(r)&&ie(r)&&(Object.assign(r.style,o),Object.keys(a).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},He,nt,at,ot,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,o=t.modifiersData.preventOverflow,i=tt(t,{elementContext:"reference"}),u=tt(t,{altBoundary:!0}),s=it(i,r),l=it(u,a,o),c=ut(s),d=ut(l);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}}]}),lt=n(6174),ct=n(184),dt=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","TransitionProps"],pt=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"];function ft(e){return"function"===typeof e?e():e}var ht={},mt=p.forwardRef((function(e,t){var n=e.anchorEl,r=e.children,a=e.direction,o=e.disablePortal,i=e.modifiers,u=e.open,s=e.placement,c=e.popperOptions,d=e.popperRef,f=e.TransitionProps,h=(0,B.Z)(e,dt),m=p.useRef(null),v=(0,X.Z)(m,t),g=p.useRef(null),b=(0,X.Z)(g,d),y=p.useRef(b);(0,k.Z)((function(){y.current=b}),[b]),p.useImperativeHandle(d,(function(){return g.current}),[]);var x=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(s,a),w=p.useState(x),C=(0,l.Z)(w,2),D=C[0],E=C[1];p.useEffect((function(){g.current&&g.current.forceUpdate()})),(0,k.Z)((function(){if(n&&u){ft(n);var e=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:function(e){var t=e.state;E(t.placement)}}];null!=i&&(e=e.concat(i)),c&&null!=c.modifiers&&(e=e.concat(c.modifiers));var t=st(ft(n),m.current,(0,z.Z)({placement:x},c,{modifiers:e}));return y.current(t),function(){t.destroy(),y.current(null)}}}),[n,o,i,u,c,x]);var S={placement:D};return null!==f&&(S.TransitionProps=f),(0,ct.jsx)("div",(0,z.Z)({ref:v,role:"tooltip"},h,{children:"function"===typeof r?r(S):r}))})),vt=p.forwardRef((function(e,t){var n=e.anchorEl,r=e.children,a=e.container,o=e.direction,i=void 0===o?"ltr":o,u=e.disablePortal,s=void 0!==u&&u,c=e.keepMounted,d=void 0!==c&&c,f=e.modifiers,h=e.open,m=e.placement,v=void 0===m?"bottom":m,g=e.popperOptions,b=void 0===g?ht:g,y=e.popperRef,x=e.style,k=e.transition,w=void 0!==k&&k,C=(0,B.Z)(e,pt),D=p.useState(!0),E=(0,l.Z)(D,2),S=E[0],I=E[1];if(!d&&!h&&(!w||S))return null;var F=a||(n?(0,Y.Z)(ft(n)).body:void 0);return(0,ct.jsx)(lt.Z,{disablePortal:s,container:F,children:(0,ct.jsx)(mt,(0,z.Z)({anchorEl:n,direction:i,disablePortal:s,modifiers:f,ref:t,open:w?!S:h,placement:v,popperOptions:b,popperRef:y},C,{style:(0,z.Z)({position:"fixed",top:0,left:0,display:h||!d||w&&!S?null:"none"},x),TransitionProps:w?{in:h,onEnter:function(){I(!1)},onExited:function(){I(!0)}}:null,children:r}))})})),gt=n(7301),bt=p.forwardRef((function(e,t){var n=(0,gt.Z)();return(0,ct.jsx)(vt,(0,z.Z)({direction:null==n?void 0:n.direction},e,{ref:t}))}));function yt(e){return(0,m.Z)("MuiListSubheader",e)}(0,v.Z)("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);var xt=["className","color","component","disableGutters","disableSticky","inset"],kt=(0,b.ZP)("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat((0,N.Z)(n.color))],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})((function(e){var t=e.theme,n=e.ownerState;return(0,z.Z)({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:t.palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14)},"primary"===n.color&&{color:t.palette.primary.main},"inherit"===n.color&&{color:"inherit"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.inset&&{paddingLeft:72},!n.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:t.palette.background.paper})})),wt=p.forwardRef((function(e,t){var n=(0,x.Z)({props:e,name:"MuiListSubheader"}),r=n.className,a=n.color,o=void 0===a?"default":a,i=n.component,u=void 0===i?"li":i,s=n.disableGutters,l=void 0!==s&&s,c=n.disableSticky,d=void 0!==c&&c,p=n.inset,f=void 0!==p&&p,h=(0,B.Z)(n,xt),m=(0,z.Z)({},n,{color:o,component:u,disableGutters:l,disableSticky:d,inset:f}),v=function(e){var t=e.classes,n=e.color,r=e.disableGutters,a=e.inset,o=e.disableSticky,i={root:["root","default"!==n&&"color".concat((0,N.Z)(n)),!r&&"gutters",a&&"inset",!o&&"sticky"]};return(0,g.Z)(i,yt,t)}(m);return(0,ct.jsx)(kt,(0,z.Z)({as:u,className:(0,_.Z)(v.root,r),ref:t,ownerState:m},h))})),Ct=n(703),Dt=n(3701);function Et(e){return(0,m.Z)("MuiIconButton",e)}var St=(0,v.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),It=["edge","children","className","color","disabled","disableFocusRipple","size"],Ft=(0,b.ZP)(Dt.Z,{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat((0,N.Z)(n.color))],n.edge&&t["edge".concat((0,N.Z)(n.edge))],t["size".concat((0,N.Z)(n.size))]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,z.Z)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:t.palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:(0,y.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(function(e){var t=e.theme,n=e.ownerState;return(0,z.Z)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,z.Z)({color:t.palette[n.color].main},!n.disableRipple&&{"&:hover":{backgroundColor:(0,y.Fq)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},(0,r.Z)({},"&.".concat(St.disabled),{backgroundColor:"transparent",color:t.palette.action.disabled}))})),Tt=p.forwardRef((function(e,t){var n=(0,x.Z)({props:e,name:"MuiIconButton"}),r=n.edge,a=void 0!==r&&r,o=n.children,i=n.className,u=n.color,s=void 0===u?"default":u,l=n.disabled,c=void 0!==l&&l,d=n.disableFocusRipple,p=void 0!==d&&d,f=n.size,h=void 0===f?"medium":f,m=(0,B.Z)(n,It),v=(0,z.Z)({},n,{edge:a,color:s,disabled:c,disableFocusRipple:p,size:h}),b=function(e){var t=e.classes,n=e.disabled,r=e.color,a=e.edge,o=e.size,i={root:["root",n&&"disabled","default"!==r&&"color".concat((0,N.Z)(r)),a&&"edge".concat((0,N.Z)(a)),"size".concat((0,N.Z)(o))]};return(0,g.Z)(i,Et,t)}(v);return(0,ct.jsx)(Ft,(0,z.Z)({className:(0,_.Z)(b.root,i),centerRipple:!0,focusRipple:!p,disabled:c,ref:t,ownerState:v},m,{children:o}))})),Nt=(0,F.Z)((0,ct.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function At(e){return(0,m.Z)("MuiChip",e)}var Rt=(0,v.Z)("MuiChip",["root","sizeSmall","sizeMedium","colorPrimary","colorSecondary","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","focusVisible"]),Ot=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"],Zt=(0,b.ZP)("div",{name:"MuiChip",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,a=n.color,o=n.clickable,i=n.onDelete,u=n.size,s=n.variant;return[(0,r.Z)({},"& .".concat(Rt.avatar),t.avatar),(0,r.Z)({},"& .".concat(Rt.avatar),t["avatar".concat((0,N.Z)(u))]),(0,r.Z)({},"& .".concat(Rt.avatar),t["avatarColor".concat((0,N.Z)(a))]),(0,r.Z)({},"& .".concat(Rt.icon),t.icon),(0,r.Z)({},"& .".concat(Rt.icon),t["icon".concat((0,N.Z)(u))]),(0,r.Z)({},"& .".concat(Rt.icon),t["iconColor".concat((0,N.Z)(a))]),(0,r.Z)({},"& .".concat(Rt.deleteIcon),t.deleteIcon),(0,r.Z)({},"& .".concat(Rt.deleteIcon),t["deleteIcon".concat((0,N.Z)(u))]),(0,r.Z)({},"& .".concat(Rt.deleteIcon),t["deleteIconColor".concat((0,N.Z)(a))]),(0,r.Z)({},"& .".concat(Rt.deleteIcon),t["deleteIconOutlinedColor".concat((0,N.Z)(a))]),t.root,t["size".concat((0,N.Z)(u))],t["color".concat((0,N.Z)(a))],o&&t.clickable,o&&"default"!==a&&t["clickableColor".concat((0,N.Z)(a),")")],i&&t.deletable,i&&"default"!==a&&t["deletableColor".concat((0,N.Z)(a))],t[s],"outlined"===s&&t["outlined".concat((0,N.Z)(a))]]}})((function(e){var t,n=e.theme,a=e.ownerState,o=(0,y.Fq)(n.palette.text.primary,.26);return(0,z.Z)((t={fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:n.palette.text.primary,backgroundColor:n.palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:n.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box"},(0,r.Z)(t,"&.".concat(Rt.disabled),{opacity:n.palette.action.disabledOpacity,pointerEvents:"none"}),(0,r.Z)(t,"& .".concat(Rt.avatar),{marginLeft:5,marginRight:-6,width:24,height:24,color:"light"===n.palette.mode?n.palette.grey[700]:n.palette.grey[300],fontSize:n.typography.pxToRem(12)}),(0,r.Z)(t,"& .".concat(Rt.avatarColorPrimary),{color:n.palette.primary.contrastText,backgroundColor:n.palette.primary.dark}),(0,r.Z)(t,"& .".concat(Rt.avatarColorSecondary),{color:n.palette.secondary.contrastText,backgroundColor:n.palette.secondary.dark}),(0,r.Z)(t,"& .".concat(Rt.avatarSmall),{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:n.typography.pxToRem(10)}),(0,r.Z)(t,"& .".concat(Rt.icon),(0,z.Z)({color:"light"===n.palette.mode?n.palette.grey[700]:n.palette.grey[300],marginLeft:5,marginRight:-6},"small"===a.size&&{fontSize:18,marginLeft:4,marginRight:-4},"default"!==a.color&&{color:"inherit"})),(0,r.Z)(t,"& .".concat(Rt.deleteIcon),(0,z.Z)({WebkitTapHighlightColor:"transparent",color:o,fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:(0,y.Fq)(o,.4)}},"small"===a.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==a.color&&{color:(0,y.Fq)(n.palette[a.color].contrastText,.7),"&:hover, &:active":{color:n.palette[a.color].contrastText}})),t),"small"===a.size&&{height:24},"default"!==a.color&&{backgroundColor:n.palette[a.color].main,color:n.palette[a.color].contrastText},a.onDelete&&(0,r.Z)({},"&.".concat(Rt.focusVisible),{backgroundColor:(0,y.Fq)(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}),a.onDelete&&"default"!==a.color&&(0,r.Z)({},"&.".concat(Rt.focusVisible),{backgroundColor:n.palette[a.color].dark}))}),(function(e){var t,n=e.theme,a=e.ownerState;return(0,z.Z)({},a.clickable&&(t={userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:(0,y.Fq)(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity)}},(0,r.Z)(t,"&.".concat(Rt.focusVisible),{backgroundColor:(0,y.Fq)(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}),(0,r.Z)(t,"&:active",{boxShadow:n.shadows[1]}),t),a.clickable&&"default"!==a.color&&(0,r.Z)({},"&:hover, &.".concat(Rt.focusVisible),{backgroundColor:n.palette[a.color].dark}))}),(function(e){var t,n,a=e.theme,o=e.ownerState;return(0,z.Z)({},"outlined"===o.variant&&(t={backgroundColor:"transparent",border:"1px solid ".concat("light"===a.palette.mode?a.palette.grey[400]:a.palette.grey[700])},(0,r.Z)(t,"&.".concat(Rt.clickable,":hover"),{backgroundColor:a.palette.action.hover}),(0,r.Z)(t,"&.".concat(Rt.focusVisible),{backgroundColor:a.palette.action.focus}),(0,r.Z)(t,"& .".concat(Rt.avatar),{marginLeft:4}),(0,r.Z)(t,"& .".concat(Rt.avatarSmall),{marginLeft:2}),(0,r.Z)(t,"& .".concat(Rt.icon),{marginLeft:4}),(0,r.Z)(t,"& .".concat(Rt.iconSmall),{marginLeft:2}),(0,r.Z)(t,"& .".concat(Rt.deleteIcon),{marginRight:5}),(0,r.Z)(t,"& .".concat(Rt.deleteIconSmall),{marginRight:3}),t),"outlined"===o.variant&&"default"!==o.color&&(n={color:a.palette[o.color].main,border:"1px solid ".concat((0,y.Fq)(a.palette[o.color].main,.7))},(0,r.Z)(n,"&.".concat(Rt.clickable,":hover"),{backgroundColor:(0,y.Fq)(a.palette[o.color].main,a.palette.action.hoverOpacity)}),(0,r.Z)(n,"&.".concat(Rt.focusVisible),{backgroundColor:(0,y.Fq)(a.palette[o.color].main,a.palette.action.focusOpacity)}),(0,r.Z)(n,"& .".concat(Rt.deleteIcon),{color:(0,y.Fq)(a.palette[o.color].main,.7),"&:hover, &:active":{color:a.palette[o.color].main}}),n))})),Mt=(0,b.ZP)("span",{name:"MuiChip",slot:"Label",overridesResolver:function(e,t){var n=e.ownerState.size;return[t.label,t["label".concat((0,N.Z)(n))]]}})((function(e){var t=e.ownerState;return(0,z.Z)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"small"===t.size&&{paddingLeft:8,paddingRight:8})}));function Pt(e){return"Backspace"===e.key||"Delete"===e.key}var Lt=p.forwardRef((function(e,t){var n=(0,x.Z)({props:e,name:"MuiChip"}),r=n.avatar,a=n.className,o=n.clickable,i=n.color,u=void 0===i?"default":i,s=n.component,l=n.deleteIcon,c=n.disabled,d=void 0!==c&&c,f=n.icon,h=n.label,m=n.onClick,v=n.onDelete,b=n.onKeyDown,y=n.onKeyUp,k=n.size,w=void 0===k?"medium":k,C=n.variant,D=void 0===C?"filled":C,E=(0,B.Z)(n,Ot),S=p.useRef(null),F=(0,I.Z)(S,t),T=function(e){e.stopPropagation(),v&&v(e)},A=!(!1===o||!m)||o,R="small"===w,O=A||v?Dt.Z:s||"div",Z=(0,z.Z)({},n,{component:O,disabled:d,size:w,color:u,onDelete:!!v,clickable:A,variant:D}),M=function(e){var t=e.classes,n=e.disabled,r=e.size,a=e.color,o=e.onDelete,i=e.clickable,u=e.variant,s={root:["root",u,n&&"disabled","size".concat((0,N.Z)(r)),"color".concat((0,N.Z)(a)),i&&"clickable",i&&"clickableColor".concat((0,N.Z)(a)),o&&"deletable",o&&"deletableColor".concat((0,N.Z)(a)),"".concat(u).concat((0,N.Z)(a))],label:["label","label".concat((0,N.Z)(r))],avatar:["avatar","avatar".concat((0,N.Z)(r)),"avatarColor".concat((0,N.Z)(a))],icon:["icon","icon".concat((0,N.Z)(r)),"iconColor".concat((0,N.Z)(a))],deleteIcon:["deleteIcon","deleteIcon".concat((0,N.Z)(r)),"deleteIconColor".concat((0,N.Z)(a)),"deleteIconOutlinedColor".concat((0,N.Z)(a))]};return(0,g.Z)(s,At,t)}(Z),P=O===Dt.Z?(0,z.Z)({component:s||"div",focusVisibleClassName:M.focusVisible},v&&{disableRipple:!0}):{},L=null;if(v){var j=(0,_.Z)("default"!==u&&("outlined"===D?M["deleteIconOutlinedColor".concat((0,N.Z)(u))]:M["deleteIconColor".concat((0,N.Z)(u))]),R&&M.deleteIconSmall);L=l&&p.isValidElement(l)?p.cloneElement(l,{className:(0,_.Z)(l.props.className,M.deleteIcon,j),onClick:T}):(0,ct.jsx)(Nt,{className:(0,_.Z)(M.deleteIcon,j),onClick:T})}var V=null;r&&p.isValidElement(r)&&(V=p.cloneElement(r,{className:(0,_.Z)(M.avatar,r.props.className)}));var W=null;return f&&p.isValidElement(f)&&(W=p.cloneElement(f,{className:(0,_.Z)(M.icon,f.props.className)})),(0,ct.jsxs)(Zt,(0,z.Z)({as:O,className:(0,_.Z)(M.root,a),disabled:!(!A||!d)||void 0,onClick:m,onKeyDown:function(e){e.currentTarget===e.target&&Pt(e)&&e.preventDefault(),b&&b(e)},onKeyUp:function(e){e.currentTarget===e.target&&(v&&Pt(e)?v(e):"Escape"===e.key&&S.current&&S.current.blur()),y&&y(e)},ref:F,ownerState:Z},P,E,{children:[V||W,(0,ct.jsx)(Mt,{className:(0,_.Z)(M.label),ownerState:Z,children:h}),L]}))}));function _t(e){return(0,m.Z)("MuiInput",e)}var Bt=(0,v.Z)("MuiInput",["root","formControl","focused","disabled","colorSecondary","underline","error","sizeSmall","multiline","fullWidth","input","inputSizeSmall","inputMultiline","inputTypeSearch"]);function zt(e){return(0,m.Z)("MuiInputBase",e)}var jt=(0,v.Z)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);function Vt(e){return(0,m.Z)("MuiOutlinedInput",e)}var Wt=(0,v.Z)("MuiOutlinedInput",["root","colorSecondary","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","notchedOutline","input","inputSizeSmall","inputMultiline","inputAdornedStart","inputAdornedEnd"]);function Ht(e){return(0,m.Z)("MuiFilledInput",e)}var Ut=(0,v.Z)("MuiFilledInput",["root","colorSecondary","underline","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","hiddenLabel","input","inputSizeSmall","inputHiddenLabel","inputMultiline","inputAdornedStart","inputAdornedEnd"]),Gt=(0,F.Z)((0,ct.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),qt=(0,F.Z)((0,ct.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function Kt(e){return(0,m.Z)("MuiAutocomplete",e)}var Xt,Yt,$t=(0,v.Z)("MuiAutocomplete",["root","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]),Qt=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","value"],Jt=(0,b.ZP)("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,a=n.fullWidth,o=n.hasClearIcon,i=n.hasPopupIcon,u=n.inputFocused,s=n.size;return[(0,r.Z)({},"& .".concat($t.tag),t.tag),(0,r.Z)({},"& .".concat($t.tag),t["tagSize".concat((0,N.Z)(s))]),(0,r.Z)({},"& .".concat($t.inputRoot),t.inputRoot),(0,r.Z)({},"& .".concat($t.input),t.input),(0,r.Z)({},"& .".concat($t.input),u&&t.inputFocused),t.root,a&&t.fullWidth,i&&t.hasPopupIcon,o&&t.hasClearIcon]}})((function(e){var t,n,a,o,i,u=e.ownerState;return(0,z.Z)((t={},(0,r.Z)(t,"&.".concat($t.focused," .").concat($t.clearIndicator),{visibility:"visible"}),(0,r.Z)(t,"@media (pointer: fine)",(0,r.Z)({},"&:hover .".concat($t.clearIndicator),{visibility:"visible"})),t),u.fullWidth&&{width:"100%"},(i={},(0,r.Z)(i,"& .".concat($t.tag),(0,z.Z)({margin:3,maxWidth:"calc(100% - 6px)"},"small"===u.size&&{margin:2,maxWidth:"calc(100% - 4px)"})),(0,r.Z)(i,"& .".concat($t.inputRoot),(n={flexWrap:"wrap"},(0,r.Z)(n,".".concat($t.hasPopupIcon,"&, .").concat($t.hasClearIcon,"&"),{paddingRight:30}),(0,r.Z)(n,".".concat($t.hasPopupIcon,".").concat($t.hasClearIcon,"&"),{paddingRight:56}),(0,r.Z)(n,"& .".concat($t.input),{width:0,minWidth:30}),n)),(0,r.Z)(i,"& .".concat(Bt.root),{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}}),(0,r.Z)(i,"& .".concat(Bt.root,".").concat(jt.sizeSmall),(0,r.Z)({},"& .".concat(Bt.input),{padding:"2px 4px 3px 0"})),(0,r.Z)(i,"& .".concat(Wt.root),(a={padding:9},(0,r.Z)(a,".".concat($t.hasPopupIcon,"&, .").concat($t.hasClearIcon,"&"),{paddingRight:39}),(0,r.Z)(a,".".concat($t.hasPopupIcon,".").concat($t.hasClearIcon,"&"),{paddingRight:65}),(0,r.Z)(a,"& .".concat($t.input),{padding:"7.5px 4px 7.5px 6px"}),(0,r.Z)(a,"& .".concat($t.endAdornment),{right:9}),a)),(0,r.Z)(i,"& .".concat(Wt.root,".").concat(jt.sizeSmall),(0,r.Z)({padding:6},"& .".concat($t.input),{padding:"2.5px 4px 2.5px 6px"})),(0,r.Z)(i,"& .".concat(Ut.root),(o={paddingTop:19,paddingLeft:8},(0,r.Z)(o,".".concat($t.hasPopupIcon,"&, .").concat($t.hasClearIcon,"&"),{paddingRight:39}),(0,r.Z)(o,".".concat($t.hasPopupIcon,".").concat($t.hasClearIcon,"&"),{paddingRight:65}),(0,r.Z)(o,"& .".concat(Ut.input),{padding:"7px 4px"}),(0,r.Z)(o,"& .".concat($t.endAdornment),{right:9}),o)),(0,r.Z)(i,"& .".concat(Ut.root,".").concat(jt.sizeSmall),(0,r.Z)({paddingBottom:1},"& .".concat(Ut.input),{padding:"2.5px 4px"})),(0,r.Z)(i,"& .".concat(jt.hiddenLabel),{paddingTop:8}),(0,r.Z)(i,"& .".concat($t.input),(0,z.Z)({flexGrow:1,textOverflow:"ellipsis",opacity:0},u.inputFocused&&{opacity:1})),i))})),en=(0,b.ZP)("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:function(e,t){return t.endAdornment}})({position:"absolute",right:0,top:"calc(50% - 14px)"}),tn=(0,b.ZP)(Tt,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:function(e,t){return t.clearIndicator}})({marginRight:-2,padding:4,visibility:"hidden"}),nn=(0,b.ZP)(Tt,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:function(e,t){var n=e.ownerState;return(0,z.Z)({},t.popupIndicator,n.popupOpen&&t.popupIndicatorOpen)}})((function(e){var t=e.ownerState;return(0,z.Z)({padding:2,marginRight:-2},t.popupOpen&&{transform:"rotate(180deg)"})})),rn=(0,b.ZP)(bt,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:function(e,t){var n=e.ownerState;return[(0,r.Z)({},"& .".concat($t.option),t.option),t.popper,n.disablePortal&&t.popperDisablePortal]}})((function(e){var t=e.theme,n=e.ownerState;return(0,z.Z)({zIndex:t.zIndex.modal},n.disablePortal&&{position:"absolute"})})),an=(0,b.ZP)(Ct.Z,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:function(e,t){return t.paper}})((function(e){var t=e.theme;return(0,z.Z)({},t.typography.body1,{overflow:"auto"})})),on=(0,b.ZP)("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:function(e,t){return t.loading}})((function(e){return{color:e.theme.palette.text.secondary,padding:"14px 16px"}})),un=(0,b.ZP)("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:function(e,t){return t.noOptions}})((function(e){return{color:e.theme.palette.text.secondary,padding:"14px 16px"}})),sn=(0,b.ZP)("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:function(e,t){return t.listbox}})((function(e){var t,n,a=e.theme;return(0,r.Z)({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto"},"& .".concat($t.option),(n={minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16},(0,r.Z)(n,a.breakpoints.up("sm"),{minHeight:"auto"}),(0,r.Z)(n,"&.".concat($t.focused),{backgroundColor:a.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}),(0,r.Z)(n,'&[aria-disabled="true"]',{opacity:a.palette.action.disabledOpacity,pointerEvents:"none"}),(0,r.Z)(n,"&.".concat($t.focusVisible),{backgroundColor:a.palette.action.focus}),(0,r.Z)(n,'&[aria-selected="true"]',(t={backgroundColor:(0,y.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity)},(0,r.Z)(t,"&.".concat($t.focused),{backgroundColor:(0,y.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:a.palette.action.selected}}),(0,r.Z)(t,"&.".concat($t.focusVisible),{backgroundColor:(0,y.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.focusOpacity)}),t)),n))})),ln=(0,b.ZP)(wt,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:function(e,t){return t.groupLabel}})((function(e){return{backgroundColor:e.theme.palette.background.paper,top:-8}})),cn=(0,b.ZP)("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:function(e,t){return t.groupUl}})((0,r.Z)({padding:0},"& .".concat($t.option),{paddingLeft:24})),dn=p.forwardRef((function(e,t){var n,r,a,o=(0,x.Z)({props:e,name:"MuiAutocomplete"}),i=(o.autoComplete,o.autoHighlight,o.autoSelect,o.blurOnSelect,o.ChipProps),u=o.className,s=o.clearIcon,l=void 0===s?Xt||(Xt=(0,ct.jsx)(Gt,{fontSize:"small"})):s,c=o.clearOnBlur,d=(void 0===c&&o.freeSolo,o.clearOnEscape,o.clearText),f=void 0===d?"Clear":d,h=o.closeText,m=void 0===h?"Close":h,v=o.componentsProps,b=void 0===v?{}:v,y=o.defaultValue,k=(void 0===y&&o.multiple,o.disableClearable),w=void 0!==k&&k,C=(o.disableCloseOnSelect,o.disabled),D=void 0!==C&&C,E=(o.disabledItemsFocusable,o.disableListWrap,o.disablePortal),S=void 0!==E&&E,I=(o.filterSelectedOptions,o.forcePopupIcon),F=void 0===I?"auto":I,T=o.freeSolo,A=void 0!==T&&T,R=o.fullWidth,O=void 0!==R&&R,Z=o.getLimitTagsText,M=void 0===Z?function(e){return"+".concat(e)}:Z,P=o.getOptionLabel,L=void 0===P?function(e){var t;return null!=(t=e.label)?t:e}:P,j=o.groupBy,V=o.handleHomeEndKeys,W=(void 0===V&&o.freeSolo,o.includeInputInList,o.limitTags),H=void 0===W?-1:W,U=o.ListboxComponent,G=void 0===U?"ul":U,q=o.ListboxProps,X=o.loading,Y=void 0!==X&&X,$=o.loadingText,Q=void 0===$?"Loading\u2026":$,J=o.multiple,ee=void 0!==J&&J,te=o.noOptionsText,ne=void 0===te?"No options":te,re=(o.openOnFocus,o.openText),ae=void 0===re?"Open":re,oe=o.PaperComponent,ie=void 0===oe?Ct.Z:oe,ue=o.PopperComponent,se=void 0===ue?bt:ue,le=o.popupIcon,ce=void 0===le?Yt||(Yt=(0,ct.jsx)(qt,{})):le,de=o.renderGroup,pe=o.renderInput,fe=o.renderOption,he=o.renderTags,me=o.selectOnFocus,ve=(void 0===me&&o.freeSolo,o.size),ge=void 0===ve?"medium":ve,be=(0,B.Z)(o,Qt),ye=K((0,z.Z)({},o,{componentName:"Autocomplete"})),xe=ye.getRootProps,ke=ye.getInputProps,we=ye.getInputLabelProps,Ce=ye.getPopupIndicatorProps,De=ye.getClearProps,Ee=ye.getTagProps,Se=ye.getListboxProps,Ie=ye.getOptionProps,Fe=ye.value,Te=ye.dirty,Ne=ye.id,Ae=ye.popupOpen,Re=ye.focused,Oe=ye.focusedTag,Ze=ye.anchorEl,Me=ye.setAnchorEl,Pe=ye.inputValue,Le=ye.groupedOptions,_e=!w&&!D&&Te,Be=(!A||!0===F)&&!1!==F,ze=(0,z.Z)({},o,{disablePortal:S,focused:Re,fullWidth:O,hasClearIcon:_e,hasPopupIcon:Be,inputFocused:-1===Oe,popupOpen:Ae,size:ge}),je=function(e){var t=e.classes,n=e.disablePortal,r=e.focused,a=e.fullWidth,o=e.hasClearIcon,i=e.hasPopupIcon,u=e.inputFocused,s=e.popupOpen,l=e.size,c={root:["root",r&&"focused",a&&"fullWidth",o&&"hasClearIcon",i&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",u&&"inputFocused"],tag:["tag","tagSize".concat((0,N.Z)(l))],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",s&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return(0,g.Z)(c,Kt,t)}(ze);if(ee&&Fe.length>0){var Ve=function(e){return(0,z.Z)({className:(0,_.Z)(je.tag),disabled:D},Ee(e))};a=he?he(Fe,Ve):Fe.map((function(e,t){return(0,ct.jsx)(Lt,(0,z.Z)({label:L(e),size:ge},Ve({index:t}),i))}))}if(H>-1&&Array.isArray(a)){var We=a.length-H;!Re&&We>0&&(a=a.splice(0,H)).push((0,ct.jsx)("span",{className:je.tag,children:M(We)},a.length))}var He=de||function(e){return(0,ct.jsxs)("li",{children:[(0,ct.jsx)(ln,{className:je.groupLabel,ownerState:ze,component:"div",children:e.group}),(0,ct.jsx)(cn,{className:je.groupUl,ownerState:ze,children:e.children})]},e.key)},Ue=fe||function(e,t){return(0,ct.jsx)("li",(0,z.Z)({},e,{children:L(t)}))},Ge=function(e,t){var n=Ie({option:e,index:t});return Ue((0,z.Z)({},n,{className:je.option}),e,{selected:n["aria-selected"],inputValue:Pe})};return(0,ct.jsxs)(p.Fragment,{children:[(0,ct.jsx)(Jt,(0,z.Z)({ref:t,className:(0,_.Z)(je.root,u),ownerState:ze},xe(be),{children:pe({id:Ne,disabled:D,fullWidth:!0,size:"small"===ge?"small":void 0,InputLabelProps:we(),InputProps:{ref:Me,className:je.inputRoot,startAdornment:a,endAdornment:(0,ct.jsxs)(en,{className:je.endAdornment,ownerState:ze,children:[_e?(0,ct.jsx)(tn,(0,z.Z)({},De(),{"aria-label":f,title:f,ownerState:ze},b.clearIndicator,{className:(0,_.Z)(je.clearIndicator,null==(n=b.clearIndicator)?void 0:n.className),children:l})):null,Be?(0,ct.jsx)(nn,(0,z.Z)({},Ce(),{disabled:D,"aria-label":Ae?m:ae,title:Ae?m:ae,className:(0,_.Z)(je.popupIndicator),ownerState:ze,children:ce})):null]})},inputProps:(0,z.Z)({className:(0,_.Z)(je.input),disabled:D},ke())})})),Ae&&Ze?(0,ct.jsx)(rn,{as:se,className:(0,_.Z)(je.popper),disablePortal:S,style:{width:Ze?Ze.clientWidth:null},ownerState:ze,role:"presentation",anchorEl:Ze,open:!0,children:(0,ct.jsxs)(an,(0,z.Z)({ownerState:ze,as:ie},b.paper,{className:(0,_.Z)(je.paper,null==(r=b.paper)?void 0:r.className),children:[Y&&0===Le.length?(0,ct.jsx)(on,{className:je.loading,ownerState:ze,children:Q}):null,0!==Le.length||A||Y?null:(0,ct.jsx)(un,{className:je.noOptions,ownerState:ze,role:"presentation",onMouseDown:function(e){e.preventDefault()},children:ne}),Le.length>0?(0,ct.jsx)(sn,(0,z.Z)({as:G,className:je.listbox,ownerState:ze},Se(),q,{children:Le.map((function(e,t){return j?He({key:e.key,group:e.group,children:e.options.map((function(t,n){return Ge(t,e.index+n)}))}):Ge(e,t)}))})):null]}))}):null]})})),pn=n(2466),fn=n(6189),hn=n(7979),mn=n(3981),vn=["onChange","maxRows","minRows","style","value"];function gn(e,t){return parseInt(e[t],10)||0}var bn={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},yn=p.forwardRef((function(e,t){var n=e.onChange,r=e.maxRows,a=e.minRows,o=void 0===a?1:a,i=e.style,u=e.value,s=(0,B.Z)(e,vn),c=p.useRef(null!=u).current,d=p.useRef(null),f=(0,X.Z)(t,d),h=p.useRef(null),m=p.useRef(0),v=p.useState({}),g=(0,l.Z)(v,2),b=g[0],y=g[1],x=p.useCallback((function(){var t=d.current,n=(0,hn.Z)(t).getComputedStyle(t);if("0px"!==n.width){var a=h.current;a.style.width=n.width,a.value=t.value||e.placeholder||"x","\n"===a.value.slice(-1)&&(a.value+=" ");var i=n["box-sizing"],u=gn(n,"padding-bottom")+gn(n,"padding-top"),s=gn(n,"border-bottom-width")+gn(n,"border-top-width"),l=a.scrollHeight;a.value="x";var c=a.scrollHeight,p=l;o&&(p=Math.max(Number(o)*c,p)),r&&(p=Math.min(Number(r)*c,p));var f=(p=Math.max(p,c))+("border-box"===i?u+s:0),v=Math.abs(p-l)<=1;y((function(e){return m.current<20&&(f>0&&Math.abs((e.outerHeightStyle||0)-f)>1||e.overflow!==v)?(m.current+=1,{overflow:v,outerHeightStyle:f}):e}))}}),[r,o,e.placeholder]);p.useEffect((function(){var e,t=(0,mn.Z)((function(){m.current=0,x()})),n=(0,hn.Z)(d.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(d.current),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}}),[x]),(0,k.Z)((function(){x()})),p.useEffect((function(){m.current=0}),[u]);return(0,ct.jsxs)(p.Fragment,{children:[(0,ct.jsx)("textarea",(0,z.Z)({value:u,onChange:function(e){m.current=0,c||x(),n&&n(e)},ref:f,rows:o,style:(0,z.Z)({height:b.outerHeightStyle,overflow:b.overflow?"hidden":null},i)},s)),(0,ct.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:(0,z.Z)({},bn,i,{padding:0})})]})})),xn=n(627);function kn(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var wn=p.createContext();function Cn(){return p.useContext(wn)}var Dn=n(2554);function En(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,a="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,ct.jsx)(Dn.xB,{styles:a})}var Sn=n(6482);var In=function(e){return(0,ct.jsx)(En,(0,z.Z)({},e,{defaultTheme:Sn.Z}))};function Fn(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function Tn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(Fn(e.value)&&""!==e.value||t&&Fn(e.defaultValue)&&""!==e.defaultValue)}var Nn=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],An=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat((0,N.Z)(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Rn=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},On=(0,b.ZP)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:An})((function(e){var t=e.theme,n=e.ownerState;return(0,z.Z)({},t.typography.body1,(0,r.Z)({color:t.palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(jt.disabled),{color:t.palette.text.disabled,cursor:"default"}),n.multiline&&(0,z.Z)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),Zn=(0,b.ZP)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Rn})((function(e){var t,n=e.theme,a=e.ownerState,o="light"===n.palette.mode,i={color:"currentColor",opacity:o?.42:.5,transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},u={opacity:"0 !important"},s={opacity:o?.42:.5};return(0,z.Z)((t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},(0,r.Z)(t,"label[data-shrink=false] + .".concat(jt.formControl," &"),{"&::-webkit-input-placeholder":u,"&::-moz-placeholder":u,"&:-ms-input-placeholder":u,"&::-ms-input-placeholder":u,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s}),(0,r.Z)(t,"&.".concat(jt.disabled),{opacity:1,WebkitTextFillColor:n.palette.text.disabled}),(0,r.Z)(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===a.size&&{paddingTop:1},a.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===a.type&&{MozAppearance:"textfield"})})),Mn=(0,ct.jsx)(In,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Pn=p.forwardRef((function(e,t){var n=(0,x.Z)({props:e,name:"MuiInputBase"}),r=n["aria-describedby"],a=n.autoComplete,o=n.autoFocus,i=n.className,u=n.components,s=void 0===u?{}:u,c=n.componentsProps,d=void 0===c?{}:c,f=n.defaultValue,h=n.disabled,m=n.disableInjectingGlobalStyles,v=n.endAdornment,b=n.fullWidth,y=void 0!==b&&b,k=n.id,C=n.inputComponent,D=void 0===C?"input":C,E=n.inputProps,S=void 0===E?{}:E,F=n.inputRef,T=n.maxRows,A=n.minRows,R=n.multiline,O=void 0!==R&&R,Z=n.name,M=n.onBlur,P=n.onChange,L=n.onClick,j=n.onFocus,V=n.onKeyDown,W=n.onKeyUp,H=n.placeholder,U=n.readOnly,G=n.renderSuffix,q=n.rows,K=n.startAdornment,X=n.type,Y=void 0===X?"text":X,$=n.value,Q=(0,B.Z)(n,Nn),J=null!=S.value?S.value:$,ee=p.useRef(null!=J).current,te=p.useRef(),ne=p.useCallback((function(e){0}),[]),re=(0,I.Z)(S.ref,ne),ae=(0,I.Z)(F,re),oe=(0,I.Z)(te,ae),ie=p.useState(!1),ue=(0,l.Z)(ie,2),se=ue[0],le=ue[1],ce=Cn();var de=kn({props:n,muiFormControl:ce,states:["color","disabled","error","hiddenLabel","size","required","filled"]});de.focused=ce?ce.focused:se,p.useEffect((function(){!ce&&h&&se&&(le(!1),M&&M())}),[ce,h,se,M]);var pe=ce&&ce.onFilled,fe=ce&&ce.onEmpty,he=p.useCallback((function(e){Tn(e)?pe&&pe():fe&&fe()}),[pe,fe]);w((function(){ee&&he({value:J})}),[J,he,ee]);p.useEffect((function(){he(te.current)}),[]);var me=D,ve=S;O&&"input"===me&&(ve=q?(0,z.Z)({type:void 0,minRows:q,maxRows:q},ve):(0,z.Z)({type:void 0,maxRows:T,minRows:A},ve),me=yn);p.useEffect((function(){ce&&ce.setAdornedStart(Boolean(K))}),[ce,K]);var ge=(0,z.Z)({},n,{color:de.color||"primary",disabled:de.disabled,endAdornment:v,error:de.error,focused:de.focused,formControl:ce,fullWidth:y,hiddenLabel:de.hiddenLabel,multiline:O,size:de.size,startAdornment:K,type:Y}),be=function(e){var t=e.classes,n=e.color,r=e.disabled,a=e.error,o=e.endAdornment,i=e.focused,u=e.formControl,s=e.fullWidth,l=e.hiddenLabel,c=e.multiline,d=e.size,p=e.startAdornment,f=e.type,h={root:["root","color".concat((0,N.Z)(n)),r&&"disabled",a&&"error",s&&"fullWidth",i&&"focused",u&&"formControl","small"===d&&"sizeSmall",c&&"multiline",p&&"adornedStart",o&&"adornedEnd",l&&"hiddenLabel"],input:["input",r&&"disabled","search"===f&&"inputTypeSearch",c&&"inputMultiline","small"===d&&"inputSizeSmall",l&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd"]};return(0,g.Z)(h,zt,t)}(ge),ye=s.Root||On,xe=d.root||{},ke=s.Input||Zn;return ve=(0,z.Z)({},ve,d.input),(0,ct.jsxs)(p.Fragment,{children:[!m&&Mn,(0,ct.jsxs)(ye,(0,z.Z)({},xe,!(0,xn.Z)(ye)&&{ownerState:(0,z.Z)({},ge,xe.ownerState)},{ref:t,onClick:function(e){te.current&&e.currentTarget===e.target&&te.current.focus(),L&&L(e)}},Q,{className:(0,_.Z)(be.root,xe.className,i),children:[K,(0,ct.jsx)(wn.Provider,{value:null,children:(0,ct.jsx)(ke,(0,z.Z)({ownerState:ge,"aria-invalid":de.error,"aria-describedby":r,autoComplete:a,autoFocus:o,defaultValue:f,disabled:de.disabled,id:k,onAnimationStart:function(e){he("mui-auto-fill-cancel"===e.animationName?te.current:{value:"x"})},name:Z,placeholder:H,readOnly:U,required:de.required,rows:q,value:J,onKeyDown:V,onKeyUp:W,type:Y},ve,!(0,xn.Z)(ke)&&{as:me,ownerState:(0,z.Z)({},ge,ve.ownerState)},{ref:oe,className:(0,_.Z)(be.input,ve.className),onBlur:function(e){M&&M(e),S.onBlur&&S.onBlur(e),ce&&ce.onBlur?ce.onBlur(e):le(!1)},onChange:function(e){if(!ee){var t=e.target||te.current;if(null==t)throw new Error((0,fn.Z)(1));he({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];S.onChange&&S.onChange.apply(S,[e].concat(r)),P&&P.apply(void 0,[e].concat(r))},onFocus:function(e){de.disabled?e.stopPropagation():(j&&j(e),S.onFocus&&S.onFocus(e),ce&&ce.onFocus?ce.onFocus(e):le(!0))}}))}),v,G?G((0,z.Z)({},de,{startAdornment:K})):null]}))]})})),Ln=Pn,_n=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],Bn=(0,b.ZP)(On,{shouldForwardProp:function(e){return(0,b.FO)(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat((0,a.Z)(An(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,a=e.ownerState,o="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return(0,z.Z)({position:"relative"},a.formControl&&{"label + &":{marginTop:16}},!a.disableUnderline&&(t={"&:after":{borderBottom:"2px solid ".concat(n.palette[a.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},(0,r.Z)(t,"&.".concat(Bt.focused,":after"),{transform:"scaleX(1)"}),(0,r.Z)(t,"&.".concat(Bt.error,":after"),{borderBottomColor:n.palette.error.main,transform:"scaleX(1)"}),(0,r.Z)(t,"&:before",{borderBottom:"1px solid ".concat(o),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),(0,r.Z)(t,"&:hover:not(.".concat(Bt.disabled,"):before"),{borderBottom:"2px solid ".concat(n.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(o)}}),(0,r.Z)(t,"&.".concat(Bt.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),zn=(0,b.ZP)(Zn,{name:"MuiInput",slot:"Input",overridesResolver:Rn})({}),jn=p.forwardRef((function(e,t){var n=(0,x.Z)({props:e,name:"MuiInput"}),r=n.disableUnderline,a=n.components,o=void 0===a?{}:a,i=n.componentsProps,u=n.fullWidth,s=void 0!==u&&u,l=n.inputComponent,c=void 0===l?"input":l,d=n.multiline,p=void 0!==d&&d,f=n.type,h=void 0===f?"text":f,m=(0,B.Z)(n,_n),v=function(e){var t=e.classes,n={root:["root",!e.disableUnderline&&"underline"],input:["input"]},r=(0,g.Z)(n,_t,t);return(0,z.Z)({},t,r)}(n),b={root:{ownerState:{disableUnderline:r}}},y=i?(0,pn.Z)(i,b):b;return(0,ct.jsx)(Ln,(0,z.Z)({components:(0,z.Z)({Root:Bn,Input:zn},o),componentsProps:y,fullWidth:s,inputComponent:c,multiline:p,ref:t,type:h},m,{classes:v}))}));jn.muiName="Input";var Vn=jn,Wn=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","type"],Hn=(0,b.ZP)(On,{shouldForwardProp:function(e){return(0,b.FO)(e)||"classes"===e},name:"MuiFilledInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat((0,a.Z)(An(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n,a=e.theme,o=e.ownerState,i="light"===a.palette.mode,u=i?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=i?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)";return(0,z.Z)((t={position:"relative",backgroundColor:s,borderTopLeftRadius:a.shape.borderRadius,borderTopRightRadius:a.shape.borderRadius,transition:a.transitions.create("background-color",{duration:a.transitions.duration.shorter,easing:a.transitions.easing.easeOut}),"&:hover":{backgroundColor:i?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:s}}},(0,r.Z)(t,"&.".concat(Ut.focused),{backgroundColor:s}),(0,r.Z)(t,"&.".concat(Ut.disabled),{backgroundColor:i?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}),t),!o.disableUnderline&&(n={"&:after":{borderBottom:"2px solid ".concat(a.palette[o.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:a.transitions.create("transform",{duration:a.transitions.duration.shorter,easing:a.transitions.easing.easeOut}),pointerEvents:"none"}},(0,r.Z)(n,"&.".concat(Ut.focused,":after"),{transform:"scaleX(1)"}),(0,r.Z)(n,"&.".concat(Ut.error,":after"),{borderBottomColor:a.palette.error.main,transform:"scaleX(1)"}),(0,r.Z)(n,"&:before",{borderBottom:"1px solid ".concat(u),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:a.transitions.create("border-bottom-color",{duration:a.transitions.duration.shorter}),pointerEvents:"none"}),(0,r.Z)(n,"&:hover:not(.".concat(Ut.disabled,"):before"),{borderBottom:"1px solid ".concat(a.palette.text.primary)}),(0,r.Z)(n,"&.".concat(Ut.disabled,":before"),{borderBottomStyle:"dotted"}),n),o.startAdornment&&{paddingLeft:12},o.endAdornment&&{paddingRight:12},o.multiline&&(0,z.Z)({padding:"25px 12px 8px"},"small"===o.size&&{paddingTop:21,paddingBottom:4},o.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),Un=(0,b.ZP)(Zn,{name:"MuiFilledInput",slot:"Input",overridesResolver:Rn})((function(e){var t=e.theme,n=e.ownerState;return(0,z.Z)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),Gn=p.forwardRef((function(e,t){var n=(0,x.Z)({props:e,name:"MuiFilledInput"}),r=n.components,a=void 0===r?{}:r,o=n.componentsProps,i=n.fullWidth,u=void 0!==i&&i,s=n.inputComponent,l=void 0===s?"input":s,c=n.multiline,d=void 0!==c&&c,p=n.type,f=void 0===p?"text":p,h=(0,B.Z)(n,Wn),m=(0,z.Z)({},n,{fullWidth:u,inputComponent:l,multiline:d,type:f}),v=function(e){var t=e.classes,n={root:["root",!e.disableUnderline&&"underline"],input:["input"]},r=(0,g.Z)(n,Ht,t);return(0,z.Z)({},t,r)}(n),b={root:{ownerState:m},input:{ownerState:m}},y=o?(0,pn.Z)(o,b):b;return(0,ct.jsx)(Ln,(0,z.Z)({components:(0,z.Z)({Root:Hn,Input:Un},a),componentsProps:y,fullWidth:u,inputComponent:l,multiline:d,ref:t,type:f},h,{classes:v}))}));Gn.muiName="Input";var qn=Gn,Kn=["children","classes","className","label","notched"],Xn=(0,b.ZP)("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Yn=(0,b.ZP)("legend",{skipSx:!0})((function(e){var t=e.ownerState,n=e.theme;return(0,z.Z)({float:"unset"},void 0===t.label&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},void 0!==t.label&&(0,z.Z)({display:"block",width:"auto",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));var $n=["components","fullWidth","inputComponent","label","multiline","notched","type"],Qn=(0,b.ZP)(On,{shouldForwardProp:function(e){return(0,b.FO)(e)||"classes"===e},name:"MuiOutlinedInput",slot:"Root",overridesResolver:An})((function(e){var t,n=e.theme,a=e.ownerState,o="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,z.Z)((t={position:"relative",borderRadius:n.shape.borderRadius},(0,r.Z)(t,"&:hover .".concat(Wt.notchedOutline),{borderColor:n.palette.text.primary}),(0,r.Z)(t,"@media (hover: none)",(0,r.Z)({},"&:hover .".concat(Wt.notchedOutline),{borderColor:o})),(0,r.Z)(t,"&.".concat(Wt.focused," .").concat(Wt.notchedOutline),{borderColor:n.palette[a.color].main,borderWidth:2}),(0,r.Z)(t,"&.".concat(Wt.error," .").concat(Wt.notchedOutline),{borderColor:n.palette.error.main}),(0,r.Z)(t,"&.".concat(Wt.disabled," .").concat(Wt.notchedOutline),{borderColor:n.palette.action.disabled}),t),a.startAdornment&&{paddingLeft:14},a.endAdornment&&{paddingRight:14},a.multiline&&(0,z.Z)({padding:"16.5px 14px"},"small"===a.size&&{padding:"8.5px 14px"}))})),Jn=(0,b.ZP)((function(e){var t=e.className,n=e.label,r=e.notched,a=(0,B.Z)(e,Kn),o=(0,z.Z)({},e,{notched:r,label:n});return(0,ct.jsx)(Xn,(0,z.Z)({"aria-hidden":!0,className:t,ownerState:o},a,{children:(0,ct.jsx)(Yn,{ownerState:o,children:n?(0,ct.jsx)("span",{children:n}):(0,ct.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}})})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(e,t){return t.notchedOutline}})((function(e){return{borderColor:"light"===e.theme.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}})),er=(0,b.ZP)(Zn,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Rn})((function(e){var t=e.theme,n=e.ownerState;return(0,z.Z)({padding:"16.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),tr=p.forwardRef((function(e,t){var n,r=(0,x.Z)({props:e,name:"MuiOutlinedInput"}),a=r.components,o=void 0===a?{}:a,i=r.fullWidth,u=void 0!==i&&i,s=r.inputComponent,l=void 0===s?"input":s,c=r.label,d=r.multiline,f=void 0!==d&&d,h=r.notched,m=r.type,v=void 0===m?"text":m,b=(0,B.Z)(r,$n),y=function(e){var t=e.classes,n=(0,g.Z)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Vt,t);return(0,z.Z)({},t,n)}(r),k=kn({props:r,muiFormControl:Cn(),states:["required"]});return(0,ct.jsx)(Ln,(0,z.Z)({components:(0,z.Z)({Root:Qn,Input:er},o),renderSuffix:function(e){return(0,ct.jsx)(Jn,{className:y.notchedOutline,label:c&&k.required?n||(n=(0,ct.jsxs)(p.Fragment,{children:[c,"\xa0","*"]})):c,notched:"undefined"!==typeof h?h:Boolean(e.startAdornment||e.filled||e.focused)})},fullWidth:u,inputComponent:l,multiline:f,ref:t,type:v},b,{classes:(0,z.Z)({},y,{notchedOutline:null})}))}));tr.muiName="Input";var nr=tr;function rr(e){return(0,m.Z)("MuiFormLabel",e)}var ar=(0,v.Z)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),or=["children","className","color","component","disabled","error","filled","focused","required"],ir=(0,b.ZP)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return(0,z.Z)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((function(e){var t,n=e.theme,a=e.ownerState;return(0,z.Z)({color:n.palette.text.secondary},n.typography.body1,(t={lineHeight:"1.4375em",padding:0,position:"relative"},(0,r.Z)(t,"&.".concat(ar.focused),{color:n.palette[a.color].main}),(0,r.Z)(t,"&.".concat(ar.disabled),{color:n.palette.text.disabled}),(0,r.Z)(t,"&.".concat(ar.error),{color:n.palette.error.main}),t))})),ur=(0,b.ZP)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return(0,r.Z)({},"&.".concat(ar.error),{color:t.palette.error.main})})),sr=p.forwardRef((function(e,t){var n=(0,x.Z)({props:e,name:"MuiFormLabel"}),r=n.children,a=n.className,o=n.component,i=void 0===o?"label":o,u=(0,B.Z)(n,or),s=kn({props:n,muiFormControl:Cn(),states:["color","required","focused","disabled","error","filled"]}),l=(0,z.Z)({},n,{color:s.color||"primary",component:i,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),c=function(e){var t=e.classes,n=e.color,r=e.focused,a=e.disabled,o=e.error,i=e.filled,u=e.required,s={root:["root","color".concat((0,N.Z)(n)),a&&"disabled",o&&"error",i&&"filled",r&&"focused",u&&"required"],asterisk:["asterisk",o&&"error"]};return(0,g.Z)(s,rr,t)}(l);return(0,ct.jsxs)(ir,(0,z.Z)({as:i,ownerState:l,className:(0,_.Z)(c.root,a),ref:t},u,{children:[r,s.required&&(0,ct.jsxs)(ur,{ownerState:l,"aria-hidden":!0,className:c.asterisk,children:["\u2009","*"]})]}))}));function lr(e){return(0,m.Z)("MuiInputLabel",e)}(0,v.Z)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var cr=["disableAnimation","margin","shrink","variant"],dr=(0,b.ZP)(sr,{shouldForwardProp:function(e){return(0,b.FO)(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,r.Z)({},"& .".concat(ar.asterisk),t.asterisk),t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,z.Z)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,z.Z)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,z.Z)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,z.Z)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))})),pr=p.forwardRef((function(e,t){var n=(0,x.Z)({name:"MuiInputLabel",props:e}),r=n.disableAnimation,a=void 0!==r&&r,o=n.shrink,i=(0,B.Z)(n,cr),u=Cn(),s=o;"undefined"===typeof s&&u&&(s=u.filled||u.focused||u.adornedStart);var l=kn({props:n,muiFormControl:u,states:["size","variant","required"]}),c=(0,z.Z)({},n,{disableAnimation:a,formControl:u,shrink:s,size:l.size,variant:l.variant,required:l.required}),d=function(e){var t=e.classes,n=e.formControl,r=e.size,a=e.shrink,o={root:["root",n&&"formControl",!e.disableAnimation&&"animated",a&&"shrink","small"===r&&"sizeSmall",e.variant],asterisk:[e.required&&"asterisk"]},i=(0,g.Z)(o,lr,t);return(0,z.Z)({},t,i)}(c);return(0,ct.jsx)(dr,(0,z.Z)({"data-shrink":s,ownerState:c,ref:t},i,{classes:d}))}));var fr=function(e,t){return p.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function hr(e){return(0,m.Z)("MuiFormControl",e)}(0,v.Z)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var mr=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],vr=(0,b.ZP)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return(0,z.Z)({},t.root,t["margin".concat((0,N.Z)(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return(0,z.Z)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),gr=p.forwardRef((function(e,t){var n=(0,x.Z)({props:e,name:"MuiFormControl"}),r=n.children,a=n.className,o=n.color,i=void 0===o?"primary":o,u=n.component,s=void 0===u?"div":u,c=n.disabled,d=void 0!==c&&c,f=n.error,h=void 0!==f&&f,m=n.focused,v=n.fullWidth,b=void 0!==v&&v,y=n.hiddenLabel,k=void 0!==y&&y,w=n.margin,C=void 0===w?"none":w,D=n.required,E=void 0!==D&&D,S=n.size,I=void 0===S?"medium":S,F=n.variant,T=void 0===F?"outlined":F,A=(0,B.Z)(n,mr),R=(0,z.Z)({},n,{color:i,component:s,disabled:d,error:h,fullWidth:b,hiddenLabel:k,margin:C,required:E,size:I,variant:T}),O=function(e){var t=e.classes,n=e.margin,r=e.fullWidth,a={root:["root","none"!==n&&"margin".concat((0,N.Z)(n)),r&&"fullWidth"]};return(0,g.Z)(a,hr,t)}(R),Z=p.useState((function(){var e=!1;return r&&p.Children.forEach(r,(function(t){if(fr(t,["Input","Select"])){var n=fr(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),M=(0,l.Z)(Z,2),P=M[0],L=M[1],j=p.useState((function(){var e=!1;return r&&p.Children.forEach(r,(function(t){fr(t,["Input","Select"])&&Tn(t.props,!0)&&(e=!0)})),e})),V=(0,l.Z)(j,2),W=V[0],H=V[1],U=p.useState(!1),G=(0,l.Z)(U,2),q=G[0],K=G[1];d&&q&&K(!1);var X=void 0===m||d?q:m,Y=p.useCallback((function(){H(!0)}),[]),$={adornedStart:P,setAdornedStart:L,color:i,disabled:d,error:h,filled:W,focused:X,fullWidth:b,hiddenLabel:k,size:I,onBlur:function(){K(!1)},onEmpty:p.useCallback((function(){H(!1)}),[]),onFilled:Y,onFocus:function(){K(!0)},registerEffect:undefined,required:E,variant:T};return(0,ct.jsx)(wn.Provider,{value:$,children:(0,ct.jsx)(vr,(0,z.Z)({as:s,ownerState:R,className:(0,_.Z)(O.root,a),ref:t},A,{children:r}))})}));function br(e){return(0,m.Z)("MuiFormHelperText",e)}var yr=(0,v.Z)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),xr=["children","className","component","disabled","error","filled","focused","margin","required","variant"],kr=(0,b.ZP)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.size&&t["size".concat((0,N.Z)(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((function(e){var t,n=e.theme,a=e.ownerState;return(0,z.Z)({color:n.palette.text.secondary},n.typography.caption,(t={textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0},(0,r.Z)(t,"&.".concat(yr.disabled),{color:n.palette.text.disabled}),(0,r.Z)(t,"&.".concat(yr.error),{color:n.palette.error.main}),t),"small"===a.size&&{marginTop:4},a.contained&&{marginLeft:14,marginRight:14})})),wr=p.forwardRef((function(e,t){var n=(0,x.Z)({props:e,name:"MuiFormHelperText"}),r=n.children,a=n.className,o=n.component,i=void 0===o?"p":o,u=(0,B.Z)(n,xr),s=kn({props:n,muiFormControl:Cn(),states:["variant","size","disabled","error","filled","focused","required"]}),l=(0,z.Z)({},n,{component:i,contained:"filled"===s.variant||"outlined"===s.variant,variant:s.variant,size:s.size,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),c=function(e){var t=e.classes,n=e.contained,r=e.size,a=e.disabled,o=e.error,i=e.filled,u=e.focused,s=e.required,l={root:["root",a&&"disabled",o&&"error",r&&"size".concat((0,N.Z)(r)),n&&"contained",u&&"focused",i&&"filled",s&&"required"]};return(0,g.Z)(l,br,t)}(l);return(0,ct.jsx)(kr,(0,z.Z)({as:i,ownerState:l,className:(0,_.Z)(c.root,a),ref:t},u,{children:" "===r?(0,ct.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):r}))}));n(7441);var Cr=p.createContext({});function Dr(e){return(0,m.Z)("MuiList",e)}(0,v.Z)("MuiList",["root","padding","dense","subheader"]);var Er=["children","className","component","dense","disablePadding","subheader"],Sr=(0,b.ZP)("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return(0,z.Z)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),Ir=p.forwardRef((function(e,t){var n=(0,x.Z)({props:e,name:"MuiList"}),r=n.children,a=n.className,o=n.component,i=void 0===o?"ul":o,u=n.dense,s=void 0!==u&&u,l=n.disablePadding,c=void 0!==l&&l,d=n.subheader,f=(0,B.Z)(n,Er),h=p.useMemo((function(){return{dense:s}}),[s]),m=(0,z.Z)({},n,{component:i,dense:s,disablePadding:c}),v=function(e){var t=e.classes,n={root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]};return(0,g.Z)(n,Dr,t)}(m);return(0,ct.jsx)(Cr.Provider,{value:h,children:(0,ct.jsxs)(Sr,(0,z.Z)({as:i,className:(0,_.Z)(v.root,a),ref:t,ownerState:m},f,{children:[d,r]}))})})),Fr=n(7137).Z,Tr=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Nr(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Ar(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Rr(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function Or(e,t,n,r,a,o){for(var i=!1,u=a(e,t,!!t&&n);u;){if(u===e.firstChild){if(i)return!1;i=!0}var s=!r&&(u.disabled||"true"===u.getAttribute("aria-disabled"));if(u.hasAttribute("tabindex")&&Rr(u,o)&&!s)return u.focus(),!0;u=a(e,u,n)}return!1}var Zr=p.forwardRef((function(e,t){var n=e.actions,r=e.autoFocus,a=void 0!==r&&r,o=e.autoFocusItem,i=void 0!==o&&o,u=e.children,s=e.className,l=e.disabledItemsFocusable,c=void 0!==l&&l,d=e.disableListWrap,f=void 0!==d&&d,h=e.onKeyDown,m=e.variant,v=void 0===m?"selectedMenu":m,g=(0,B.Z)(e,Tr),b=p.useRef(null),y=p.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});w((function(){a&&b.current.focus()}),[a]),p.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!b.current.style.width;if(e.clientHeight<b.current.clientHeight&&n){var r="".concat(Fr((0,A.Z)(e)),"px");b.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,b.current.style.width="calc(100% + ".concat(r,")")}return b.current}}}),[]);var x=(0,I.Z)(b,t),k=-1;p.Children.forEach(u,(function(e,t){p.isValidElement(e)&&(e.props.disabled||("selectedMenu"===v&&e.props.selected||-1===k)&&(k=t))}));var C=p.Children.map(u,(function(e,t){if(t===k){var n={};return i&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===v&&(n.tabIndex=0),p.cloneElement(e,n)}return e}));return(0,ct.jsx)(Ir,(0,z.Z)({role:"menu",ref:x,className:s,onKeyDown:function(e){var t=b.current,n=e.key,r=(0,A.Z)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),Or(t,r,f,c,Nr);else if("ArrowUp"===n)e.preventDefault(),Or(t,r,f,c,Ar);else if("Home"===n)e.preventDefault(),Or(t,null,f,c,Nr);else if("End"===n)e.preventDefault(),Or(t,null,f,c,Ar);else if(1===n.length){var a=y.current,o=n.toLowerCase(),i=performance.now();a.keys.length>0&&(i-a.lastTime>500?(a.keys=[],a.repeating=!0,a.previousKeyMatched=!0):a.repeating&&o!==a.keys[0]&&(a.repeating=!1)),a.lastTime=i,a.keys.push(o);var u=r&&!a.repeating&&Rr(r,a);a.previousKeyMatched&&(u||Or(t,r,!1,c,Nr,a))?e.preventDefault():a.previousKeyMatched=!1}h&&h(e)},tabIndex:a?0:-1},g,{children:C}))})),Mr=n(8875),Pr=n(3967),Lr=n(4999),_r=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Br(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var zr={entering:{opacity:1,transform:Br(1)},entered:{opacity:1,transform:"none"}},jr=p.forwardRef((function(e,t){var n=e.addEndListener,r=e.appear,a=void 0===r||r,o=e.children,i=e.easing,u=e.in,s=e.onEnter,l=e.onEntered,c=e.onEntering,d=e.onExit,f=e.onExited,h=e.onExiting,m=e.style,v=e.timeout,g=void 0===v?"auto":v,b=e.TransitionComponent,y=void 0===b?Mr.ZP:b,x=(0,B.Z)(e,_r),k=p.useRef(),w=p.useRef(),C=(0,Pr.Z)(),D=p.useRef(null),E=(0,I.Z)(o.ref,t),S=(0,I.Z)(D,E),F=function(e){return function(t){if(e){var n=D.current;void 0===t?e(n):e(n,t)}}},T=F(c),N=F((function(e,t){(0,Lr.n)(e);var n,r=(0,Lr.C)({style:m,timeout:g,easing:i},{mode:"enter"}),a=r.duration,o=r.delay,u=r.easing;"auto"===g?(n=C.transitions.getAutoHeightDuration(e.clientHeight),w.current=n):n=a,e.style.transition=[C.transitions.create("opacity",{duration:n,delay:o}),C.transitions.create("transform",{duration:.666*n,delay:o,easing:u})].join(","),s&&s(e,t)})),A=F(l),R=F(h),O=F((function(e){var t,n=(0,Lr.C)({style:m,timeout:g,easing:i},{mode:"exit"}),r=n.duration,a=n.delay,o=n.easing;"auto"===g?(t=C.transitions.getAutoHeightDuration(e.clientHeight),w.current=t):t=r,e.style.transition=[C.transitions.create("opacity",{duration:t,delay:a}),C.transitions.create("transform",{duration:.666*t,delay:a||.333*t,easing:o})].join(","),e.style.opacity="0",e.style.transform=Br(.75),d&&d(e)})),Z=F(f);return p.useEffect((function(){return function(){clearTimeout(k.current)}}),[]),(0,ct.jsx)(y,(0,z.Z)({appear:a,in:u,nodeRef:D,onEnter:N,onEntered:A,onEntering:T,onExit:O,onExited:Z,onExiting:R,addEndListener:function(e){"auto"===g&&(k.current=setTimeout(e,w.current||0)),n&&n(D.current,e)},timeout:"auto"===g?null:g},x,{children:function(e,t){return p.cloneElement(o,(0,z.Z)({style:(0,z.Z)({opacity:0,transform:Br(.75),visibility:"exited"!==e||u?void 0:"hidden"},zr[e],m,o.props.style),ref:S},t))}}))}));jr.muiSupportAuto=!0;var Vr=jr,Wr=n(9143);function Hr(e){return(0,m.Z)("MuiPopover",e)}(0,v.Z)("MuiPopover",["root","paper"]);var Ur=["onEntering"],Gr=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function qr(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function Kr(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function Xr(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function Yr(e){return"function"===typeof e?e():e}var $r=(0,b.ZP)(Wr.Z,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),Qr=(0,b.ZP)(Ct.Z,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Jr=p.forwardRef((function(e,t){var n=(0,x.Z)({props:e,name:"MuiPopover"}),r=n.action,a=n.anchorEl,o=n.anchorOrigin,i=void 0===o?{vertical:"top",horizontal:"left"}:o,u=n.anchorPosition,s=n.anchorReference,l=void 0===s?"anchorEl":s,c=n.children,d=n.className,f=n.container,h=n.elevation,m=void 0===h?8:h,v=n.marginThreshold,b=void 0===v?16:v,y=n.open,k=n.PaperProps,w=void 0===k?{}:k,C=n.transformOrigin,D=void 0===C?{vertical:"top",horizontal:"left"}:C,E=n.TransitionComponent,F=void 0===E?Vr:E,N=n.transitionDuration,R=void 0===N?"auto":N,O=n.TransitionProps,Z=(O=void 0===O?{}:O).onEntering,M=(0,B.Z)(n.TransitionProps,Ur),P=(0,B.Z)(n,Gr),L=p.useRef(),j=(0,I.Z)(L,w.ref),V=(0,z.Z)({},n,{anchorOrigin:i,anchorReference:l,elevation:m,marginThreshold:b,PaperProps:w,transformOrigin:D,TransitionComponent:F,transitionDuration:R,TransitionProps:M}),W=function(e){var t=e.classes;return(0,g.Z)({root:["root"],paper:["paper"]},Hr,t)}(V),H=p.useCallback((function(){if("anchorPosition"===l)return u;var e=Yr(a),t=(e&&1===e.nodeType?e:(0,A.Z)(L.current).body).getBoundingClientRect();return{top:t.top+qr(t,i.vertical),left:t.left+Kr(t,i.horizontal)}}),[a,i.horizontal,i.vertical,u,l]),U=p.useCallback((function(e){return{vertical:qr(e,D.vertical),horizontal:Kr(e,D.horizontal)}}),[D.horizontal,D.vertical]),G=p.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=U(t);if("none"===l)return{top:null,left:null,transformOrigin:Xr(n)};var r=H(),o=r.top-n.vertical,i=r.left-n.horizontal,u=o+t.height,s=i+t.width,c=(0,S.Z)(Yr(a)),d=c.innerHeight-b,p=c.innerWidth-b;if(o<b){var f=o-b;o-=f,n.vertical+=f}else if(u>d){var h=u-d;o-=h,n.vertical+=h}if(i<b){var m=i-b;i-=m,n.horizontal+=m}else if(s>p){var v=s-p;i-=v,n.horizontal+=v}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(i),"px"),transformOrigin:Xr(n)}}),[a,l,H,U,b]),q=p.useCallback((function(){var e=L.current;if(e){var t=G(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[G]);p.useEffect((function(){y&&q()})),p.useImperativeHandle(r,(function(){return y?{updatePosition:function(){q()}}:null}),[y,q]),p.useEffect((function(){if(y){var e=(0,T.Z)((function(){q()})),t=(0,S.Z)(a);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[a,y,q]);var K=R;"auto"!==R||F.muiSupportAuto||(K=void 0);var X=f||(a?(0,A.Z)(Yr(a)).body:void 0);return(0,ct.jsx)($r,(0,z.Z)({BackdropProps:{invisible:!0},className:(0,_.Z)(W.root,d),container:X,open:y,ref:t,ownerState:V},P,{children:(0,ct.jsx)(F,(0,z.Z)({appear:!0,in:y,onEntering:function(e,t){Z&&Z(e,t),q()},timeout:K},M,{children:(0,ct.jsx)(Qr,(0,z.Z)({elevation:m},w,{ref:j,className:(0,_.Z)(W.paper,w.className),children:c}))}))}))})),ea=Jr;function ta(e){return(0,m.Z)("MuiMenu",e)}(0,v.Z)("MuiMenu",["root","paper","list"]);var na=["onEntering"],ra=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],aa={vertical:"top",horizontal:"right"},oa={vertical:"top",horizontal:"left"},ia=(0,b.ZP)(ea,{shouldForwardProp:function(e){return(0,b.FO)(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),ua=(0,b.ZP)(Ct.Z,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),sa=(0,b.ZP)(Zr,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),la=p.forwardRef((function(e,t){var n=(0,x.Z)({props:e,name:"MuiMenu"}),r=n.autoFocus,a=void 0===r||r,o=n.children,i=n.disableAutoFocusItem,u=void 0!==i&&i,s=n.MenuListProps,l=void 0===s?{}:s,c=n.onClose,d=n.open,f=n.PaperProps,h=void 0===f?{}:f,m=n.PopoverClasses,v=n.transitionDuration,b=void 0===v?"auto":v,y=n.TransitionProps,k=(y=void 0===y?{}:y).onEntering,w=n.variant,C=void 0===w?"selectedMenu":w,D=(0,B.Z)(n.TransitionProps,na),E=(0,B.Z)(n,ra),S=(0,Pr.Z)(),I="rtl"===S.direction,F=(0,z.Z)({},n,{autoFocus:a,disableAutoFocusItem:u,MenuListProps:l,onEntering:k,PaperProps:h,transitionDuration:b,TransitionProps:D,variant:C}),T=function(e){var t=e.classes;return(0,g.Z)({root:["root"],paper:["paper"],list:["list"]},ta,t)}(F),N=a&&!u&&d,A=p.useRef(null),R=-1;return p.Children.map(o,(function(e,t){p.isValidElement(e)&&(e.props.disabled||("selectedMenu"===C&&e.props.selected||-1===R)&&(R=t))})),(0,ct.jsx)(ia,(0,z.Z)({classes:m,onClose:c,anchorOrigin:{vertical:"bottom",horizontal:I?"right":"left"},transformOrigin:I?aa:oa,PaperProps:(0,z.Z)({component:ua},h,{classes:(0,z.Z)({},h.classes,{root:T.paper})}),className:T.root,open:d,ref:t,transitionDuration:b,TransitionProps:(0,z.Z)({onEntering:function(e,t){A.current&&A.current.adjustStyleForScrollbar(e,S),k&&k(e,t)}},D),ownerState:F},E,{children:(0,ct.jsx)(sa,(0,z.Z)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),c&&c(e,"tabKeyDown"))},actions:A,autoFocus:a&&(-1===R||u),autoFocusItem:N,variant:C},l,{className:(0,_.Z)(T.list,l.className),children:o}))}))}));function ca(e){return(0,m.Z)("MuiNativeSelect",e)}var da=(0,v.Z)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),pa=["className","disabled","IconComponent","inputRef","variant"],fa=function(e){var t,n=e.ownerState,a=e.theme;return(0,z.Z)((t={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{backgroundColor:"light"===a.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"}},(0,r.Z)(t,"&.".concat(da.disabled),{cursor:"default"}),(0,r.Z)(t,"&[multiple]",{height:"auto"}),(0,r.Z)(t,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:a.palette.background.paper}),(0,r.Z)(t,"&&&",{paddingRight:24,minWidth:16}),t),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:a.shape.borderRadius,"&:focus":{borderRadius:a.shape.borderRadius},"&&&":{paddingRight:32}})},ha=(0,b.ZP)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:b.FO,overridesResolver:function(e,t){var n=e.ownerState;return[t.select,t[n.variant],(0,r.Z)({},"&.".concat(da.multiple),t.multiple)]}})(fa),ma=function(e){var t=e.ownerState,n=e.theme;return(0,z.Z)((0,r.Z)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:n.palette.action.active},"&.".concat(da.disabled),{color:n.palette.action.disabled}),t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},va=(0,b.ZP)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat((0,N.Z)(n.variant))],n.open&&t.iconOpen]}})(ma),ga=p.forwardRef((function(e,t){var n=e.className,r=e.disabled,a=e.IconComponent,o=e.inputRef,i=e.variant,u=void 0===i?"standard":i,s=(0,B.Z)(e,pa),l=(0,z.Z)({},e,{disabled:r,variant:u}),c=function(e){var t=e.classes,n=e.variant,r=e.disabled,a=e.multiple,o=e.open,i={select:["select",n,r&&"disabled",a&&"multiple"],icon:["icon","icon".concat((0,N.Z)(n)),o&&"iconOpen",r&&"disabled"]};return(0,g.Z)(i,ca,t)}(l);return(0,ct.jsxs)(p.Fragment,{children:[(0,ct.jsx)(ha,(0,z.Z)({ownerState:l,className:(0,_.Z)(c.select,n),disabled:r,ref:o||t},s)),e.multiple?null:(0,ct.jsx)(va,{as:a,ownerState:l,className:c.icon})]})})),ba=j;function ya(e){return(0,m.Z)("MuiSelect",e)}var xa=(0,v.Z)("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),ka=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],wa=(0,b.ZP)("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(e,t){var n=e.ownerState;return[(0,r.Z)({},"&.".concat(xa.select),t.select),(0,r.Z)({},"&.".concat(xa.select),t[n.variant]),(0,r.Z)({},"&.".concat(xa.multiple),t.multiple)]}})(fa,(0,r.Z)({},"&.".concat(xa.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),Ca=(0,b.ZP)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat((0,N.Z)(n.variant))],n.open&&t.iconOpen]}})(ma),Da=(0,b.ZP)("input",{shouldForwardProp:function(e){return(0,b.Dz)(e)&&"classes"!==e},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(e,t){return t.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Ea(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function Sa(e){return null==e||"string"===typeof e&&!e.trim()}var Ia,Fa,Ta=p.forwardRef((function(e,t){var n=e["aria-describedby"],r=e["aria-label"],a=e.autoFocus,o=e.autoWidth,i=e.children,u=e.className,s=e.defaultOpen,c=e.defaultValue,d=e.disabled,f=e.displayEmpty,h=e.IconComponent,m=e.inputRef,v=e.labelId,b=e.MenuProps,y=void 0===b?{}:b,x=e.multiple,k=e.name,w=e.onBlur,C=e.onChange,D=e.onClose,E=e.onFocus,S=e.onOpen,F=e.open,T=e.readOnly,R=e.renderValue,O=e.SelectDisplayProps,Z=void 0===O?{}:O,M=e.tabIndex,P=e.value,L=e.variant,j=void 0===L?"standard":L,V=(0,B.Z)(e,ka),W=ba({controlled:P,default:c,name:"Select"}),H=(0,l.Z)(W,2),U=H[0],G=H[1],q=ba({controlled:F,default:s,name:"Select"}),K=(0,l.Z)(q,2),X=K[0],Y=K[1],$=p.useRef(null),Q=p.useRef(null),J=p.useState(null),ee=(0,l.Z)(J,2),te=ee[0],ne=ee[1],re=p.useRef(null!=F).current,ae=p.useState(),oe=(0,l.Z)(ae,2),ie=oe[0],ue=oe[1],se=(0,I.Z)(t,m),le=p.useCallback((function(e){Q.current=e,e&&ne(e)}),[]);p.useImperativeHandle(se,(function(){return{focus:function(){Q.current.focus()},node:$.current,value:U}}),[U]),p.useEffect((function(){s&&X&&te&&!re&&(ue(o?null:te.clientWidth),Q.current.focus())}),[te,o]),p.useEffect((function(){a&&Q.current.focus()}),[a]),p.useEffect((function(){var e=(0,A.Z)(Q.current).getElementById(v);if(e){var t=function(){getSelection().isCollapsed&&Q.current.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}),[v]);var ce,de,pe=function(e,t){e?S&&S(t):D&&D(t),re||(ue(o?null:te.clientWidth),Y(e))},fe=p.Children.toArray(i),he=function(e){return function(t){var n;if(t.currentTarget.hasAttribute("tabindex")){if(x){n=Array.isArray(U)?U.slice():[];var r=U.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),U!==n&&(G(n),C)){var a=t.nativeEvent||t,o=new a.constructor(a.type,a);Object.defineProperty(o,"target",{writable:!0,value:{value:n,name:k}}),C(o,e)}x||pe(!1,t)}}},me=null!==te&&X;delete V["aria-invalid"];var ve=[],ge=!1;(Tn({value:U})||f)&&(R?ce=R(U):ge=!0);var be=fe.map((function(e){if(!p.isValidElement(e))return null;var t;if(x){if(!Array.isArray(U))throw new Error((0,fn.Z)(2));(t=U.some((function(t){return Ea(t,e.props.value)})))&&ge&&ve.push(e.props.children)}else(t=Ea(U,e.props.value))&&ge&&(de=e.props.children);return t&&!0,p.cloneElement(e,{"aria-selected":t?"true":"false",onClick:he(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));ge&&(ce=x?0===ve.length?null:ve.reduce((function(e,t,n){return e.push(t),n<ve.length-1&&e.push(", "),e}),[]):de);var ye,xe=ie;!o&&re&&te&&(xe=te.clientWidth),ye="undefined"!==typeof M?M:d?null:0;var ke=Z.id||(k?"mui-component-select-".concat(k):void 0),we=(0,z.Z)({},e,{variant:j,value:U,open:me}),Ce=function(e){var t=e.classes,n=e.variant,r=e.disabled,a=e.multiple,o=e.open,i={select:["select",n,r&&"disabled",a&&"multiple"],icon:["icon","icon".concat((0,N.Z)(n)),o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,g.Z)(i,ya,t)}(we);return(0,ct.jsxs)(p.Fragment,{children:[(0,ct.jsx)(wa,(0,z.Z)({ref:le,tabIndex:ye,role:"button","aria-disabled":d?"true":void 0,"aria-expanded":me?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[v,ke].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:function(e){if(!T){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),pe(!0,e))}},onMouseDown:d||T?null:function(e){0===e.button&&(e.preventDefault(),Q.current.focus(),pe(!0,e))},onBlur:function(e){!me&&w&&(Object.defineProperty(e,"target",{writable:!0,value:{value:U,name:k}}),w(e))},onFocus:E},Z,{ownerState:we,className:(0,_.Z)(Ce.select,u,Z.className),id:ke,children:Sa(ce)?(0,ct.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):ce})),(0,ct.jsx)(Da,(0,z.Z)({value:Array.isArray(U)?U.join(","):U,name:k,ref:$,"aria-hidden":!0,onChange:function(e){var t=fe.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=fe[t];G(n.props.value),C&&C(e,n)}},tabIndex:-1,disabled:d,className:Ce.nativeInput,autoFocus:a,ownerState:we},V)),(0,ct.jsx)(Ca,{as:h,className:Ce.icon,ownerState:we}),(0,ct.jsx)(la,(0,z.Z)({id:"menu-".concat(k||""),anchorEl:te,open:me,onClose:function(e){pe(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:(0,z.Z)({"aria-labelledby":v,role:"listbox",disableListWrap:!0},y.MenuListProps),PaperProps:(0,z.Z)({},y.PaperProps,{style:(0,z.Z)({minWidth:xe},null!=y.PaperProps?y.PaperProps.style:null)}),children:be}))]})})),Na=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Aa=p.forwardRef((function(e,t){var n=(0,x.Z)({name:"MuiSelect",props:e}),r=n.autoWidth,a=void 0!==r&&r,o=n.children,i=n.classes,u=void 0===i?{}:i,s=n.className,l=n.defaultOpen,c=void 0!==l&&l,d=n.displayEmpty,f=void 0!==d&&d,h=n.IconComponent,m=void 0===h?qt:h,v=n.id,g=n.input,b=n.inputProps,y=n.label,k=n.labelId,w=n.MenuProps,C=n.multiple,D=void 0!==C&&C,E=n.native,S=void 0!==E&&E,F=n.onClose,T=n.onOpen,N=n.open,A=n.renderValue,R=n.SelectDisplayProps,O=n.variant,Z=void 0===O?"outlined":O,M=(0,B.Z)(n,Na),P=S?ga:Ta,L=kn({props:n,muiFormControl:Cn(),states:["variant"]}).variant||Z,j=g||{standard:Ia||(Ia=(0,ct.jsx)(Vn,{})),outlined:(0,ct.jsx)(nr,{label:y}),filled:Fa||(Fa=(0,ct.jsx)(qn,{}))}[L],V=function(e){return e.classes}((0,z.Z)({},n,{classes:u})),W=(0,I.Z)(t,j.ref);return p.cloneElement(j,(0,z.Z)({inputComponent:P,inputProps:(0,z.Z)({children:o,IconComponent:m,variant:L,type:void 0,multiple:D},S?{id:v}:{autoWidth:a,defaultOpen:c,displayEmpty:f,labelId:k,MenuProps:w,onClose:F,onOpen:T,open:N,renderValue:A,SelectDisplayProps:(0,z.Z)({id:v},R)},b,{classes:b?(0,pn.Z)(V,b.classes):V},g?g.props.inputProps:{})},D&&S&&"outlined"===L?{notched:!0}:{},{ref:W,className:(0,_.Z)(j.props.className,s)},M))}));Aa.muiName="Select";var Ra=Aa;function Oa(e){return(0,m.Z)("MuiTextField",e)}(0,v.Z)("MuiTextField",["root"]);var Za=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Ma={standard:Vn,filled:qn,outlined:nr},Pa=(0,b.ZP)(gr,{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),La=p.forwardRef((function(e,t){var n=(0,x.Z)({props:e,name:"MuiTextField"}),r=n.autoComplete,a=n.autoFocus,o=void 0!==a&&a,i=n.children,u=n.className,s=n.color,l=void 0===s?"primary":s,c=n.defaultValue,d=n.disabled,p=void 0!==d&&d,f=n.error,h=void 0!==f&&f,m=n.FormHelperTextProps,v=n.fullWidth,b=void 0!==v&&v,y=n.helperText,k=n.id,w=n.InputLabelProps,D=n.inputProps,E=n.InputProps,S=n.inputRef,I=n.label,F=n.maxRows,T=n.minRows,N=n.multiline,A=void 0!==N&&N,R=n.name,O=n.onBlur,Z=n.onChange,M=n.onFocus,P=n.placeholder,L=n.required,j=void 0!==L&&L,V=n.rows,W=n.select,H=void 0!==W&&W,U=n.SelectProps,G=n.type,q=n.value,K=n.variant,X=void 0===K?"outlined":K,Y=(0,B.Z)(n,Za),$=(0,z.Z)({},n,{autoFocus:o,color:l,disabled:p,error:h,fullWidth:b,multiline:A,required:j,select:H,variant:X}),Q=function(e){var t=e.classes;return(0,g.Z)({root:["root"]},Oa,t)}($);var J={};"outlined"===X&&(w&&"undefined"!==typeof w.shrink&&(J.notched=w.shrink),J.label=I),H&&(U&&U.native||(J.id=void 0),J["aria-describedby"]=void 0);var ee=(0,C.Z)(k),te=y&&ee?"".concat(ee,"-helper-text"):void 0,ne=I&&ee?"".concat(ee,"-label"):void 0,re=Ma[X],ae=(0,ct.jsx)(re,(0,z.Z)({"aria-describedby":te,autoComplete:r,autoFocus:o,defaultValue:c,fullWidth:b,multiline:A,name:R,rows:V,maxRows:F,minRows:T,type:G,value:q,id:ee,inputRef:S,onBlur:O,onChange:Z,onFocus:M,placeholder:P,inputProps:D},J,E));return(0,ct.jsxs)(Pa,(0,z.Z)({className:(0,_.Z)(Q.root,u),disabled:p,error:h,fullWidth:b,ref:t,required:j,color:l,variant:X,ownerState:$},Y,{children:[I&&(0,ct.jsx)(pr,(0,z.Z)({htmlFor:ee,id:ne},w,{children:I})),H?(0,ct.jsx)(Ra,(0,z.Z)({"aria-describedby":te,id:ee,labelId:ne,value:q,input:ae},U,{children:i})):ae,y&&(0,ct.jsx)(wr,(0,z.Z)({id:te},m,{children:y}))]}))}));function _a(e){return e.substring(2).toLowerCase()}var Ba=function(e){var t=e.children,n=e.disableReactTree,r=void 0!==n&&n,a=e.mouseEvent,o=void 0===a?"onClick":a,i=e.onClickAway,u=e.touchEvent,s=void 0===u?"onTouchEnd":u,l=p.useRef(!1),c=p.useRef(null),d=p.useRef(!1),f=p.useRef(!1);p.useEffect((function(){return setTimeout((function(){d.current=!0}),0),function(){d.current=!1}}),[]);var h=(0,X.Z)(t.ref,c),m=(0,V.Z)((function(e){var t=f.current;f.current=!1;var n=(0,Y.Z)(c.current);!d.current||!c.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,n)||(l.current?l.current=!1:(e.composedPath?e.composedPath().indexOf(c.current)>-1:!n.documentElement.contains(e.target)||c.current.contains(e.target))||!r&&t||i(e))})),v=function(e){return function(n){f.current=!0;var r=t.props[e];r&&r(n)}},g={ref:h};return!1!==s&&(g[s]=v(s)),p.useEffect((function(){if(!1!==s){var e=_a(s),t=(0,Y.Z)(c.current),n=function(){l.current=!0};return t.addEventListener(e,m),t.addEventListener("touchmove",n),function(){t.removeEventListener(e,m),t.removeEventListener("touchmove",n)}}}),[m,s]),!1!==o&&(g[o]=v(o)),p.useEffect((function(){if(!1!==o){var e=_a(o),t=(0,Y.Z)(c.current);return t.addEventListener(e,m),function(){t.removeEventListener(e,m)}}}),[m,o]),(0,ct.jsx)(p.Fragment,{children:p.cloneElement(t,g)})};var za=(0,v.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function ja(e){return(0,m.Z)("MuiListItemIcon",e)}var Va=(0,v.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]);var Wa=(0,v.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function Ha(e){return(0,m.Z)("MuiMenuItem",e)}var Ua=(0,v.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Ga=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],qa=(0,b.ZP)(Dt.Z,{shouldForwardProp:function(e){return(0,b.FO)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,a=e.ownerState;return(0,z.Z)({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.divider&&{borderBottom:"1px solid ".concat(n.palette.divider),backgroundClip:"padding-box"},(t={"&:hover":{textDecoration:"none",backgroundColor:n.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,r.Z)(t,"&.".concat(Ua.selected),(0,r.Z)({backgroundColor:(0,y.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(Ua.focusVisible),{backgroundColor:(0,y.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),(0,r.Z)(t,"&.".concat(Ua.selected,":hover"),{backgroundColor:(0,y.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,y.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),(0,r.Z)(t,"&.".concat(Ua.focusVisible),{backgroundColor:n.palette.action.focus}),(0,r.Z)(t,"&.".concat(Ua.disabled),{opacity:n.palette.action.disabledOpacity}),(0,r.Z)(t,"& + .".concat(za.root),{marginTop:n.spacing(1),marginBottom:n.spacing(1)}),(0,r.Z)(t,"& + .".concat(za.inset),{marginLeft:52}),(0,r.Z)(t,"& .".concat(Wa.root),{marginTop:0,marginBottom:0}),(0,r.Z)(t,"& .".concat(Wa.inset),{paddingLeft:36}),(0,r.Z)(t,"& .".concat(Va.root),{minWidth:36}),t),!a.dense&&(0,r.Z)({},n.breakpoints.up("sm"),{minHeight:"auto"}),a.dense&&(0,z.Z)({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,(0,r.Z)({},"& .".concat(Va.root," svg"),{fontSize:"1.25rem"})))})),Ka=p.forwardRef((function(e,t){var n=(0,x.Z)({props:e,name:"MuiMenuItem"}),r=n.autoFocus,a=void 0!==r&&r,o=n.component,i=void 0===o?"li":o,u=n.dense,s=void 0!==u&&u,l=n.divider,c=void 0!==l&&l,d=n.disableGutters,f=void 0!==d&&d,h=n.focusVisibleClassName,m=n.role,v=void 0===m?"menuitem":m,b=n.tabIndex,y=(0,B.Z)(n,Ga),k=p.useContext(Cr),C={dense:s||k.dense||!1,disableGutters:f},D=p.useRef(null);w((function(){a&&D.current&&D.current.focus()}),[a]);var E,S=(0,z.Z)({},n,{dense:C.dense,divider:c,disableGutters:f}),F=function(e){var t=e.disabled,n=e.dense,r=e.divider,a=e.disableGutters,o=e.selected,i=e.classes,u={root:["root",n&&"dense",t&&"disabled",!a&&"gutters",r&&"divider",o&&"selected"]},s=(0,g.Z)(u,Ha,i);return(0,z.Z)({},i,s)}(n),T=(0,I.Z)(D,t);return n.disabled||(E=void 0!==b?b:-1),(0,ct.jsx)(Cr.Provider,{value:C,children:(0,ct.jsx)(qa,(0,z.Z)({ref:T,role:v,tabIndex:E,component:i,focusVisibleClassName:(0,_.Z)(F.focusVisible,h)},y,{ownerState:S,classes:F}))})})),Xa=["className"],Ya=(0,b.ZP)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((function(e){var t=e.theme,n=e.ownerState;return(0,z.Z)({minWidth:56,color:t.palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===n.alignItems&&{marginTop:8})})),$a=p.forwardRef((function(e,t){var n=(0,x.Z)({props:e,name:"MuiListItemIcon"}),r=n.className,a=(0,B.Z)(n,Xa),o=p.useContext(Cr),i=(0,z.Z)({},n,{alignItems:o.alignItems}),u=function(e){var t=e.alignItems,n=e.classes,r={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,g.Z)(r,ja,n)}(i);return(0,ct.jsx)(Ya,(0,z.Z)({className:(0,_.Z)(u.root,r),ownerState:i,ref:t},a))}));var Qa=function(e){var t=e.children,n=e.defer,r=void 0!==n&&n,a=e.fallback,o=void 0===a?null:a,i=p.useState(!1),u=(0,l.Z)(i,2),s=u[0],c=u[1];return(0,k.Z)((function(){r||c(!0)}),[r]),p.useEffect((function(){r&&c(!0)}),[r]),(0,ct.jsx)(p.Fragment,{children:s?t:o})},Ja=function(e){var t=p.useRef({});return p.useEffect((function(){t.current=e})),t.current};function eo(e){return(0,m.Z)("MuiBadge",e)}var to=(0,v.Z)("MuiBadge",["root","badge","dot","standard","anchorOriginTopLeft","anchorOriginTopRight","anchorOriginBottomLeft","anchorOriginBottomRight","invisible"]),no=n(7312);function ro(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return(0,xn.Z)(e)?t:(0,z.Z)({},t,{ownerState:(0,z.Z)({},t.ownerState,n)})}var ao=["anchorOrigin","classes","badgeContent","component","children","className","components","componentsProps","invisible","max","showZero","variant"],oo=p.forwardRef((function(e,t){var n=e.anchorOrigin,r=void 0===n?{vertical:"top",horizontal:"right"}:n,a=e.classes,o=e.component,i=e.children,u=e.className,s=e.components,l=void 0===s?{}:s,c=e.componentsProps,d=void 0===c?{}:c,p=e.max,f=void 0===p?99:p,h=e.showZero,m=void 0!==h&&h,v=e.variant,b=void 0===v?"standard":v,y=(0,B.Z)(e,ao),x=function(e){var t=e.anchorOrigin,n=void 0===t?{vertical:"top",horizontal:"right"}:t,r=e.badgeContent,a=e.invisible,o=e.max,i=void 0===o?99:o,u=e.showZero,s=void 0!==u&&u,l=e.variant,c=void 0===l?"standard":l,d=Ja({anchorOrigin:n,badgeContent:r,max:i,variant:c}),p=a;null==a&&(0===r&&!s||null==r&&"dot"!==c)&&(p=!0);var f=p?d:e,h=f.anchorOrigin,m=void 0===h?n:h,v=f.badgeContent,g=f.max,b=void 0===g?i:g,y=f.variant,x=void 0===y?c:y,k="";return"dot"!==x&&(k=v&&Number(v)>b?"".concat(b,"+"):v),{anchorOrigin:m,badgeContent:v,invisible:p,max:b,variant:x,displayValue:k}}((0,z.Z)({},e,{anchorOrigin:r,max:f,variant:b})),k=x.anchorOrigin,w=x.badgeContent,C=x.max,D=x.variant,E=x.displayValue,S=x.invisible,I=(0,z.Z)({},e,{anchorOrigin:k,badgeContent:w,classes:a,invisible:S,max:C,variant:D,showZero:m}),F=function(e){var t=e.variant,n=e.anchorOrigin,r=e.invisible,a=e.classes,o={root:["root"],badge:["badge",t,"anchorOrigin".concat((0,no.Z)(n.vertical)).concat((0,no.Z)(n.horizontal)),r&&"invisible"]};return(0,g.Z)(o,eo,a)}(I),T=o||l.Root||"span",N=ro(T,(0,z.Z)({},y,d.root),I),A=l.Badge||"span",R=ro(A,d.badge,I);return(0,ct.jsxs)(T,(0,z.Z)({},N,{ref:t},y,{className:(0,_.Z)(F.root,N.className,u),children:[i,(0,ct.jsx)(A,(0,z.Z)({},R,{className:(0,_.Z)(F.badge,R.className),children:E}))]}))})),io=oo,uo=function(e){return!e||!(0,xn.Z)(e)},so=["anchorOrigin","component","components","componentsProps","overlap","color","invisible","badgeContent","showZero","variant"],lo=(0,z.Z)({},to,(0,v.Z)("MuiBadge",["colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"])),co=(0,b.ZP)("span",{name:"MuiBadge",slot:"Root",overridesResolver:function(e,t){return t.root}})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),po=(0,b.ZP)("span",{name:"MuiBadge",slot:"Badge",overridesResolver:function(e,t){var n=e.ownerState;return[t.badge,t[n.variant],t["anchorOrigin".concat((0,N.Z)(n.anchorOrigin.vertical)).concat((0,N.Z)(n.anchorOrigin.horizontal)).concat((0,N.Z)(n.overlap))],"default"!==n.color&&t["color".concat((0,N.Z)(n.color))],n.invisible&&t.invisible]}})((function(e){var t=e.theme,n=e.ownerState;return(0,z.Z)({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen})},"default"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"dot"===n.variant&&{borderRadius:4,height:8,minWidth:8,padding:0},"top"===n.anchorOrigin.vertical&&"right"===n.anchorOrigin.horizontal&&"rectangular"===n.overlap&&(0,r.Z)({top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%"},"&.".concat(lo.invisible),{transform:"scale(0) translate(50%, -50%)"}),"bottom"===n.anchorOrigin.vertical&&"right"===n.anchorOrigin.horizontal&&"rectangular"===n.overlap&&(0,r.Z)({bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%"},"&.".concat(lo.invisible),{transform:"scale(0) translate(50%, 50%)"}),"top"===n.anchorOrigin.vertical&&"left"===n.anchorOrigin.horizontal&&"rectangular"===n.overlap&&(0,r.Z)({top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%"},"&.".concat(lo.invisible),{transform:"scale(0) translate(-50%, -50%)"}),"bottom"===n.anchorOrigin.vertical&&"left"===n.anchorOrigin.horizontal&&"rectangular"===n.overlap&&(0,r.Z)({bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%"},"&.".concat(lo.invisible),{transform:"scale(0) translate(-50%, 50%)"}),"top"===n.anchorOrigin.vertical&&"right"===n.anchorOrigin.horizontal&&"circular"===n.overlap&&(0,r.Z)({top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%"},"&.".concat(lo.invisible),{transform:"scale(0) translate(50%, -50%)"}),"bottom"===n.anchorOrigin.vertical&&"right"===n.anchorOrigin.horizontal&&"circular"===n.overlap&&(0,r.Z)({bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%"},"&.".concat(lo.invisible),{transform:"scale(0) translate(50%, 50%)"}),"top"===n.anchorOrigin.vertical&&"left"===n.anchorOrigin.horizontal&&"circular"===n.overlap&&(0,r.Z)({top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%"},"&.".concat(lo.invisible),{transform:"scale(0) translate(-50%, -50%)"}),"bottom"===n.anchorOrigin.vertical&&"left"===n.anchorOrigin.horizontal&&"circular"===n.overlap&&(0,r.Z)({bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%"},"&.".concat(lo.invisible),{transform:"scale(0) translate(-50%, 50%)"}),n.invisible&&{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})})})),fo=p.forwardRef((function(e,t){var n,r,a=(0,x.Z)({props:e,name:"MuiBadge"}),o=a.anchorOrigin,i=void 0===o?{vertical:"top",horizontal:"right"}:o,u=a.component,s=void 0===u?"span":u,l=a.components,c=void 0===l?{}:l,d=a.componentsProps,p=void 0===d?{}:d,f=a.overlap,h=void 0===f?"rectangular":f,m=a.color,v=void 0===m?"default":m,g=a.invisible,b=a.badgeContent,y=a.showZero,k=void 0!==y&&y,w=a.variant,C=void 0===w?"standard":w,D=(0,B.Z)(a,so),E=Ja({anchorOrigin:i,color:v,overlap:h}),S=g;null==g&&(0===b&&!k||null==b&&"dot"!==C)&&(S=!0);var I=S?E:a,F=I.color,T=void 0===F?v:F,A=I.overlap,R=void 0===A?h:A,O=I.anchorOrigin,Z=void 0===O?i:O,M=function(e){var t=e.color,n=e.anchorOrigin,r=e.overlap,a=e.classes,o=void 0===a?{}:a;return(0,z.Z)({},o,{badge:(0,_.Z)(o.badge,eo("anchorOrigin".concat((0,N.Z)(n.vertical)).concat((0,N.Z)(n.horizontal)).concat((0,N.Z)(r))),eo("overlap".concat((0,N.Z)(r))),"default"!==t&&[eo("color".concat((0,N.Z)(t))),o["color".concat((0,N.Z)(t))]])})}((0,z.Z)({},a,{anchorOrigin:Z,invisible:S,color:T,overlap:R}));return(0,ct.jsx)(io,(0,z.Z)({anchorOrigin:Z,invisible:g,badgeContent:b,showZero:k,variant:C},D,{components:(0,z.Z)({Root:co,Badge:po},c),componentsProps:{root:(0,z.Z)({},p.root,uo(c.Root)&&{as:s,ownerState:(0,z.Z)({},null==(n=p.root)?void 0:n.ownerState,{color:T,overlap:R})}),badge:(0,z.Z)({},p.badge,uo(c.Badge)&&{ownerState:(0,z.Z)({},null==(r=p.badge)?void 0:r.ownerState,{color:T,overlap:R})})},classes:M,ref:t}))}));function ho(e){return(0,m.Z)("MuiSwitch",e)}var mo=(0,v.Z)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]);function vo(e){return(0,m.Z)("PrivateSwitchBase",e)}(0,v.Z)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var go=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],bo=(0,b.ZP)(Dt.Z,{skipSx:!0})((function(e){var t=e.ownerState;return(0,z.Z)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),yo=(0,b.ZP)("input",{skipSx:!0})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),xo=p.forwardRef((function(e,t){var n=e.autoFocus,r=e.checked,a=e.checkedIcon,o=e.className,i=e.defaultChecked,u=e.disabled,s=e.disableFocusRipple,c=void 0!==s&&s,d=e.edge,p=void 0!==d&&d,f=e.icon,h=e.id,m=e.inputProps,v=e.inputRef,b=e.name,y=e.onBlur,x=e.onChange,k=e.onFocus,w=e.readOnly,C=e.required,D=e.tabIndex,E=e.type,S=e.value,I=(0,B.Z)(e,go),F=ba({controlled:r,default:Boolean(i),name:"SwitchBase",state:"checked"}),T=(0,l.Z)(F,2),A=T[0],R=T[1],O=Cn(),Z=u;O&&"undefined"===typeof Z&&(Z=O.disabled);var M="checkbox"===E||"radio"===E,P=(0,z.Z)({},e,{checked:A,disabled:Z,disableFocusRipple:c,edge:p}),L=function(e){var t=e.classes,n=e.checked,r=e.disabled,a=e.edge,o={root:["root",n&&"checked",r&&"disabled",a&&"edge".concat((0,N.Z)(a))],input:["input"]};return(0,g.Z)(o,vo,t)}(P);return(0,ct.jsxs)(bo,(0,z.Z)({component:"span",className:(0,_.Z)(L.root,o),centerRipple:!0,focusRipple:!c,disabled:Z,tabIndex:null,role:void 0,onFocus:function(e){k&&k(e),O&&O.onFocus&&O.onFocus(e)},onBlur:function(e){y&&y(e),O&&O.onBlur&&O.onBlur(e)},ownerState:P,ref:t},I,{children:[(0,ct.jsx)(yo,(0,z.Z)({autoFocus:n,checked:r,defaultChecked:i,className:L.input,disabled:Z,id:M&&h,name:b,onChange:function(e){if(!e.nativeEvent.defaultPrevented){var t=e.target.checked;R(t),x&&x(e,t)}},readOnly:w,ref:v,required:C,ownerState:P,tabIndex:D,type:E},"checkbox"===E&&void 0===S?{}:{value:S},m)),A?a:f]}))})),ko=["className","color","edge","size","sx"],wo=(0,b.ZP)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.edge&&t["edge".concat((0,N.Z)(n.edge))],t["size".concat((0,N.Z)(n.size))]]}})((function(e){var t,n=e.ownerState;return(0,z.Z)({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},"start"===n.edge&&{marginLeft:-8},"end"===n.edge&&{marginRight:-8},"small"===n.size&&(t={width:40,height:24,padding:7},(0,r.Z)(t,"& .".concat(mo.thumb),{width:16,height:16}),(0,r.Z)(t,"& .".concat(mo.switchBase),(0,r.Z)({padding:4},"&.".concat(mo.checked),{transform:"translateX(16px)"})),t))})),Co=(0,b.ZP)(xo,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:function(e,t){var n=e.ownerState;return[t.switchBase,(0,r.Z)({},"& .".concat(mo.input),t.input),"default"!==n.color&&t["color".concat((0,N.Z)(n.color))]]}})((function(e){var t,n=e.theme;return t={position:"absolute",top:0,left:0,zIndex:1,color:"light"===n.palette.mode?n.palette.common.white:n.palette.grey[300],transition:n.transitions.create(["left","transform"],{duration:n.transitions.duration.shortest})},(0,r.Z)(t,"&.".concat(mo.checked),{transform:"translateX(20px)"}),(0,r.Z)(t,"&.".concat(mo.disabled),{color:"light"===n.palette.mode?n.palette.grey[100]:n.palette.grey[600]}),(0,r.Z)(t,"&.".concat(mo.checked," + .").concat(mo.track),{opacity:.5}),(0,r.Z)(t,"&.".concat(mo.disabled," + .").concat(mo.track),{opacity:"light"===n.palette.mode?.12:.2}),(0,r.Z)(t,"& .".concat(mo.input),{left:"-100%",width:"300%"}),t}),(function(e){var t,n=e.theme,a=e.ownerState;return(0,z.Z)({"&:hover":{backgroundColor:(0,y.Fq)(n.palette.action.active,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==a.color&&(t={},(0,r.Z)(t,"&.".concat(mo.checked),(0,r.Z)({color:n.palette[a.color].main,"&:hover":{backgroundColor:(0,y.Fq)(n.palette[a.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(mo.disabled),{color:"light"===n.palette.mode?(0,y.$n)(n.palette[a.color].main,.62):(0,y._j)(n.palette[a.color].main,.55)})),(0,r.Z)(t,"&.".concat(mo.checked," + .").concat(mo.track),{backgroundColor:n.palette[a.color].main}),t))})),Do=(0,b.ZP)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:function(e,t){return t.track}})((function(e){var t=e.theme;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:"light"===t.palette.mode?t.palette.common.black:t.palette.common.white,opacity:"light"===t.palette.mode?.38:.3}})),Eo=(0,b.ZP)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:function(e,t){return t.thumb}})((function(e){return{boxShadow:e.theme.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),So=p.forwardRef((function(e,t){var n=(0,x.Z)({props:e,name:"MuiSwitch"}),r=n.className,a=n.color,o=void 0===a?"primary":a,i=n.edge,u=void 0!==i&&i,s=n.size,l=void 0===s?"medium":s,c=n.sx,d=(0,B.Z)(n,ko),p=(0,z.Z)({},n,{color:o,edge:u,size:l}),f=function(e){var t=e.classes,n=e.edge,r=e.size,a=e.color,o=e.checked,i=e.disabled,u={root:["root",n&&"edge".concat((0,N.Z)(n)),"size".concat((0,N.Z)(r))],switchBase:["switchBase","color".concat((0,N.Z)(a)),o&&"checked",i&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},s=(0,g.Z)(u,ho,t);return(0,z.Z)({},t,s)}(p),h=(0,ct.jsx)(Eo,{className:f.thumb,ownerState:p});return(0,ct.jsxs)(wo,{className:(0,_.Z)(f.root,r),sx:c,ownerState:p,children:[(0,ct.jsx)(Co,(0,z.Z)({type:"checkbox",icon:h,checkedIcon:h,ref:t,ownerState:p},d,{classes:(0,z.Z)({},f,{root:f.switchBase})})),(0,ct.jsx)(Do,{className:f.track,ownerState:p})]})})),Io=n(1022);function Fo(e){return(0,m.Z)("MuiFormControlLabel",e)}var To=(0,v.Z)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label"]),No=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","value"],Ao=(0,b.ZP)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,r.Z)({},"& .".concat(To.label),t.label),t.root,t["labelPlacement".concat((0,N.Z)(n.labelPlacement))]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,z.Z)((0,r.Z)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16},"&.".concat(To.disabled),{cursor:"default"}),"start"===n.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===n.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===n.labelPlacement&&{flexDirection:"column",marginLeft:16},(0,r.Z)({},"& .".concat(To.label),(0,r.Z)({},"&.".concat(To.disabled),{color:t.palette.text.disabled})))})),Ro=p.forwardRef((function(e,t){var n=(0,x.Z)({props:e,name:"MuiFormControlLabel"}),r=n.className,a=n.componentsProps,o=void 0===a?{}:a,i=n.control,u=n.disabled,s=n.disableTypography,l=n.label,c=n.labelPlacement,d=void 0===c?"end":c,f=(0,B.Z)(n,No),h=Cn(),m=u;"undefined"===typeof m&&"undefined"!==typeof i.props.disabled&&(m=i.props.disabled),"undefined"===typeof m&&h&&(m=h.disabled);var v={disabled:m};["checked","name","onChange","value","inputRef"].forEach((function(e){"undefined"===typeof i.props[e]&&"undefined"!==typeof n[e]&&(v[e]=n[e])}));var b=(0,z.Z)({},n,{disabled:m,label:l,labelPlacement:d}),y=function(e){var t=e.classes,n=e.disabled,r=e.labelPlacement,a={root:["root",n&&"disabled","labelPlacement".concat((0,N.Z)(r))],label:["label",n&&"disabled"]};return(0,g.Z)(a,Fo,t)}(b);return(0,ct.jsxs)(Ao,(0,z.Z)({className:(0,_.Z)(y.root,r),ownerState:b,ref:t},f,{children:[p.cloneElement(i,v),l.type===Io.Z||s?l:(0,ct.jsx)(Io.Z,(0,z.Z)({component:"span",className:y.label},o.typography,{children:l}))]}))})),Oo=n(8091),Zo=n(168);function Mo(e){return(0,m.Z)("MuiCircularProgress",e)}(0,v.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var Po,Lo,_o,Bo,zo,jo,Vo,Wo,Ho=["className","color","disableShrink","size","style","thickness","value","variant"],Uo=44,Go=(0,Dn.F4)(zo||(zo=Po||(Po=(0,Zo.Z)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),qo=(0,Dn.F4)(jo||(jo=Lo||(Lo=(0,Zo.Z)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),Ko=(0,b.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["color".concat((0,N.Z)(n.color))]]}})((function(e){var t=e.ownerState,n=e.theme;return(0,z.Z)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:n.palette[t.color].main})}),(function(e){return"indeterminate"===e.ownerState.variant&&(0,Dn.iv)(Vo||(Vo=_o||(_o=(0,Zo.Z)(["\n      animation: "," 1.4s linear infinite;\n    "]))),Go)})),Xo=(0,b.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:function(e,t){return t.svg}})({display:"block"}),Yo=(0,b.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:function(e,t){var n=e.ownerState;return[t.circle,t["circle".concat((0,N.Z)(n.variant))],n.disableShrink&&t.circleDisableShrink]}})((function(e){var t=e.ownerState,n=e.theme;return(0,z.Z)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(function(e){var t=e.ownerState;return"indeterminate"===t.variant&&!t.disableShrink&&(0,Dn.iv)(Wo||(Wo=Bo||(Bo=(0,Zo.Z)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),qo)})),$o=p.forwardRef((function(e,t){var n=(0,x.Z)({props:e,name:"MuiCircularProgress"}),r=n.className,a=n.color,o=void 0===a?"primary":a,i=n.disableShrink,u=void 0!==i&&i,s=n.size,l=void 0===s?40:s,c=n.style,d=n.thickness,p=void 0===d?3.6:d,f=n.value,h=void 0===f?0:f,m=n.variant,v=void 0===m?"indeterminate":m,b=(0,B.Z)(n,Ho),y=(0,z.Z)({},n,{color:o,disableShrink:u,size:l,thickness:p,value:h,variant:v}),k=function(e){var t=e.classes,n=e.variant,r=e.color,a=e.disableShrink,o={root:["root",n,"color".concat((0,N.Z)(r))],svg:["svg"],circle:["circle","circle".concat((0,N.Z)(n)),a&&"circleDisableShrink"]};return(0,g.Z)(o,Mo,t)}(y),w={},C={},D={};if("determinate"===v){var E=2*Math.PI*((Uo-p)/2);w.strokeDasharray=E.toFixed(3),D["aria-valuenow"]=Math.round(h),w.strokeDashoffset="".concat(((100-h)/100*E).toFixed(3),"px"),C.transform="rotate(-90deg)"}return(0,ct.jsx)(Ko,(0,z.Z)({className:(0,_.Z)(k.root,r),style:(0,z.Z)({width:l,height:l},C,c),ownerState:y,ref:t,role:"progressbar"},D,b,{children:(0,ct.jsx)(Xo,{className:k.svg,ownerState:y,viewBox:"".concat(22," ").concat(22," ").concat(Uo," ").concat(Uo),children:(0,ct.jsx)(Yo,{className:k.circle,style:w,ownerState:y,cx:Uo,cy:Uo,r:(Uo-p)/2,fill:"none",strokeWidth:p})})}))}));var Qo=p.createContext();var Jo=p.createContext();function ei(e){return(0,m.Z)("MuiTableCell",e)}var ti=(0,v.Z)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),ni=["align","className","component","padding","scope","size","sortDirection","variant"],ri=(0,b.ZP)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["size".concat((0,N.Z)(n.size))],"normal"!==n.padding&&t["padding".concat((0,N.Z)(n.padding))],"inherit"!==n.align&&t["align".concat((0,N.Z)(n.align))],n.stickyHeader&&t.stickyHeader]}})((function(e){var t=e.theme,n=e.ownerState;return(0,z.Z)({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===t.palette.mode?(0,y.$n)((0,y.Fq)(t.palette.divider,1),.88):(0,y._j)((0,y.Fq)(t.palette.divider,1),.68)),textAlign:"left",padding:16},"head"===n.variant&&{color:t.palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},"body"===n.variant&&{color:t.palette.text.primary},"footer"===n.variant&&{color:t.palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},"small"===n.size&&(0,r.Z)({padding:"6px 16px"},"&.".concat(ti.paddingCheckbox),{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}),"checkbox"===n.padding&&{width:48,padding:"0 0 0 4px"},"none"===n.padding&&{padding:0},"left"===n.align&&{textAlign:"left"},"center"===n.align&&{textAlign:"center"},"right"===n.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===n.align&&{textAlign:"justify"},n.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:t.palette.background.default})})),ai=p.forwardRef((function(e,t){var n,r=(0,x.Z)({props:e,name:"MuiTableCell"}),a=r.align,o=void 0===a?"inherit":a,i=r.className,u=r.component,s=r.padding,l=r.scope,c=r.size,d=r.sortDirection,f=r.variant,h=(0,B.Z)(r,ni),m=p.useContext(Qo),v=p.useContext(Jo),b=v&&"head"===v.variant;n=u||(b?"th":"td");var y=l;!y&&b&&(y="col");var k=f||v&&v.variant,w=(0,z.Z)({},r,{align:o,component:n,padding:s||(m&&m.padding?m.padding:"normal"),size:c||(m&&m.size?m.size:"medium"),sortDirection:d,stickyHeader:"head"===k&&m&&m.stickyHeader,variant:k}),C=function(e){var t=e.classes,n=e.variant,r=e.align,a=e.padding,o=e.size,i={root:["root",n,e.stickyHeader&&"stickyHeader","inherit"!==r&&"align".concat((0,N.Z)(r)),"normal"!==a&&"padding".concat((0,N.Z)(a)),"size".concat((0,N.Z)(o))]};return(0,g.Z)(i,ei,t)}(w),D=null;return d&&(D="asc"===d?"ascending":"descending"),(0,ct.jsx)(ri,(0,z.Z)({as:n,ref:t,className:(0,_.Z)(C.root,i),"aria-sort":D,scope:y,ownerState:w},h))}));function oi(e){return(0,m.Z)("MuiToolbar",e)}(0,v.Z)("MuiToolbar",["root","gutters","regular","dense"]);var ii,ui,si,li,ci,di,pi,fi,hi=["className","component","disableGutters","variant"],mi=(0,b.ZP)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,z.Z)({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&(0,r.Z)({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}),"dense"===n.variant&&{minHeight:48})}),(function(e){var t=e.theme;return"regular"===e.ownerState.variant&&t.mixins.toolbar})),vi=p.forwardRef((function(e,t){var n=(0,x.Z)({props:e,name:"MuiToolbar"}),r=n.className,a=n.component,o=void 0===a?"div":a,i=n.disableGutters,u=void 0!==i&&i,s=n.variant,l=void 0===s?"regular":s,c=(0,B.Z)(n,hi),d=(0,z.Z)({},n,{component:o,disableGutters:u,variant:l}),p=function(e){var t=e.classes,n={root:["root",!e.disableGutters&&"gutters",e.variant]};return(0,g.Z)(n,oi,t)}(d);return(0,ct.jsx)(mi,(0,z.Z)({as:o,className:(0,_.Z)(p.root,r),ref:t,ownerState:d},c))})),gi=n(7883),bi=n(1883),yi=(0,F.Z)((0,ct.jsx)("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),xi=(0,F.Z)((0,ct.jsx)("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),ki=["backIconButtonProps","count","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton"],wi=p.forwardRef((function(e,t){var n=e.backIconButtonProps,r=e.count,a=e.getItemAriaLabel,o=e.nextIconButtonProps,i=e.onPageChange,u=e.page,s=e.rowsPerPage,l=e.showFirstButton,c=e.showLastButton,d=(0,B.Z)(e,ki),p=(0,Pr.Z)();return(0,ct.jsxs)("div",(0,z.Z)({ref:t},d,{children:[l&&(0,ct.jsx)(Tt,{onClick:function(e){i(e,0)},disabled:0===u,"aria-label":a("first",u),title:a("first",u),children:"rtl"===p.direction?ii||(ii=(0,ct.jsx)(yi,{})):ui||(ui=(0,ct.jsx)(xi,{}))}),(0,ct.jsx)(Tt,(0,z.Z)({onClick:function(e){i(e,u-1)},disabled:0===u,color:"inherit","aria-label":a("previous",u),title:a("previous",u)},n,{children:"rtl"===p.direction?si||(si=(0,ct.jsx)(bi.Z,{})):li||(li=(0,ct.jsx)(gi.Z,{}))})),(0,ct.jsx)(Tt,(0,z.Z)({onClick:function(e){i(e,u+1)},disabled:-1!==r&&u>=Math.ceil(r/s)-1,color:"inherit","aria-label":a("next",u),title:a("next",u)},o,{children:"rtl"===p.direction?ci||(ci=(0,ct.jsx)(gi.Z,{})):di||(di=(0,ct.jsx)(bi.Z,{}))})),c&&(0,ct.jsx)(Tt,{onClick:function(e){i(e,Math.max(0,Math.ceil(r/s)-1))},disabled:u>=Math.ceil(r/s)-1,"aria-label":a("last",u),title:a("last",u),children:"rtl"===p.direction?pi||(pi=(0,ct.jsx)(xi,{})):fi||(fi=(0,ct.jsx)(yi,{}))})]}))}));function Ci(e){return(0,m.Z)("MuiTablePagination",e)}var Di,Ei=(0,v.Z)("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]),Si=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton"],Ii=(0,b.ZP)(ai,{name:"MuiTablePagination",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){var t=e.theme;return{overflow:"auto",color:t.palette.text.primary,fontSize:t.typography.pxToRem(14),"&:last-child":{padding:0}}})),Fi=(0,b.ZP)(vi,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:function(e,t){return(0,z.Z)((0,r.Z)({},"& .".concat(Ei.actions),t.actions),t.toolbar)}})((function(e){var t,n=e.theme;return t={minHeight:52,paddingRight:2},(0,r.Z)(t,"".concat(n.breakpoints.up("xs")," and (orientation: landscape)"),{minHeight:52}),(0,r.Z)(t,n.breakpoints.up("sm"),{minHeight:52,paddingRight:2}),(0,r.Z)(t,"& .".concat(Ei.actions),{flexShrink:0,marginLeft:20}),t})),Ti=(0,b.ZP)("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:function(e,t){return t.spacer}})({flex:"1 1 100%"}),Ni=(0,b.ZP)("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:function(e,t){return t.selectLabel}})((function(e){var t=e.theme;return(0,z.Z)({},t.typography.body2,{flexShrink:0})})),Ai=(0,b.ZP)(Ra,{name:"MuiTablePagination",slot:"Select",overridesResolver:function(e,t){var n;return(0,z.Z)((n={},(0,r.Z)(n,"& .".concat(Ei.selectIcon),t.selectIcon),(0,r.Z)(n,"& .".concat(Ei.select),t.select),n),t.input,t.selectRoot)}})((0,r.Z)({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8},"& .".concat(Ei.select),{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"})),Ri=(0,b.ZP)(Ka,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:function(e,t){return t.menuItem}})({}),Oi=(0,b.ZP)("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:function(e,t){return t.displayedRows}})((function(e){var t=e.theme;return(0,z.Z)({},t.typography.body2,{flexShrink:0})}));function Zi(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"\u2013").concat(n," of ").concat(-1!==r?r:"more than ".concat(n))}function Mi(e){return"Go to ".concat(e," page")}var Pi=p.forwardRef((function(e,t){var n,r=(0,x.Z)({props:e,name:"MuiTablePagination"}),a=r.ActionsComponent,o=void 0===a?wi:a,i=r.backIconButtonProps,u=r.className,s=r.colSpan,l=r.component,c=void 0===l?ai:l,d=r.count,f=r.getItemAriaLabel,h=void 0===f?Mi:f,m=r.labelDisplayedRows,v=void 0===m?Zi:m,b=r.labelRowsPerPage,y=void 0===b?"Rows per page:":b,k=r.nextIconButtonProps,w=r.onPageChange,C=r.onRowsPerPageChange,E=r.page,S=r.rowsPerPage,I=r.rowsPerPageOptions,F=void 0===I?[10,25,50,100]:I,T=r.SelectProps,N=void 0===T?{}:T,A=r.showFirstButton,R=void 0!==A&&A,O=r.showLastButton,Z=void 0!==O&&O,M=(0,B.Z)(r,Si),P=r,L=function(e){var t=e.classes;return(0,g.Z)({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},Ci,t)}(P),j=N.native?"option":Ri;c!==ai&&"td"!==c||(n=s||1e3);var V=D(N.id),W=D(N.labelId);return(0,ct.jsx)(Ii,(0,z.Z)({colSpan:n,ref:t,as:c,ownerState:P,className:(0,_.Z)(L.root,u)},M,{children:(0,ct.jsxs)(Fi,{className:L.toolbar,children:[(0,ct.jsx)(Ti,{className:L.spacer}),F.length>1&&(0,ct.jsx)(Ni,{className:L.selectLabel,id:W,children:y}),F.length>1&&(0,ct.jsx)(Ai,(0,z.Z)({variant:"standard",input:Di||(Di=(0,ct.jsx)(Ln,{})),value:S,onChange:C,id:V,labelId:W},N,{classes:(0,z.Z)({},N.classes,{root:(0,_.Z)(L.input,L.selectRoot,(N.classes||{}).root),select:(0,_.Z)(L.select,(N.classes||{}).select),icon:(0,_.Z)(L.selectIcon,(N.classes||{}).icon)}),children:F.map((function(e){return(0,p.createElement)(j,(0,z.Z)({},!(0,xn.Z)(j)&&{ownerState:P},{className:L.menuItem,key:e.label?e.label:e,value:e.value?e.value:e}),e.label?e.label:e)}))})),(0,ct.jsx)(Oi,{className:L.displayedRows,children:v({from:0===d?0:E*S+1,to:-1===d?(E+1)*S:-1===S?d:Math.min(d,(E+1)*S),count:-1===d?-1:d,page:E})}),(0,ct.jsx)(o,{className:L.actions,backIconButtonProps:i,count:d,nextIconButtonProps:k,onPageChange:w,page:E,rowsPerPage:S,showFirstButton:R,showLastButton:Z,getItemAriaLabel:h})]})}))})),Li=(0,F.Z)((0,ct.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),_i=(0,F.Z)((0,ct.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Bi=(0,F.Z)((0,ct.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function zi(e){return(0,m.Z)("MuiCheckbox",e)}var ji=(0,v.Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),Vi=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size"],Wi=(0,b.ZP)(xo,{shouldForwardProp:function(e){return(0,b.FO)(e)||"classes"===e},name:"MuiCheckbox",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.indeterminate&&t.indeterminate,"default"!==n.color&&t["color".concat((0,N.Z)(n.color))]]}})((function(e){var t,n=e.theme,a=e.ownerState;return(0,z.Z)({color:n.palette.text.secondary},!a.disableRipple&&{"&:hover":{backgroundColor:(0,y.Fq)("default"===a.color?n.palette.action.active:n.palette[a.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==a.color&&(t={},(0,r.Z)(t,"&.".concat(ji.checked,", &.").concat(ji.indeterminate),{color:n.palette[a.color].main}),(0,r.Z)(t,"&.".concat(ji.disabled),{color:n.palette.action.disabled}),t))})),Hi=(0,ct.jsx)(_i,{}),Ui=(0,ct.jsx)(Li,{}),Gi=(0,ct.jsx)(Bi,{}),qi=p.forwardRef((function(e,t){var n,r,a=(0,x.Z)({props:e,name:"MuiCheckbox"}),o=a.checkedIcon,i=void 0===o?Hi:o,u=a.color,s=void 0===u?"primary":u,l=a.icon,c=void 0===l?Ui:l,d=a.indeterminate,f=void 0!==d&&d,h=a.indeterminateIcon,m=void 0===h?Gi:h,v=a.inputProps,b=a.size,y=void 0===b?"medium":b,k=(0,B.Z)(a,Vi),w=f?m:c,C=f?m:i,D=(0,z.Z)({},a,{color:s,indeterminate:f,size:y}),E=function(e){var t=e.classes,n=e.indeterminate,r=e.color,a={root:["root",n&&"indeterminate","color".concat((0,N.Z)(r))]},o=(0,g.Z)(a,zi,t);return(0,z.Z)({},t,o)}(D);return(0,ct.jsx)(Wi,(0,z.Z)({type:"checkbox",inputProps:(0,z.Z)({"data-indeterminate":f},v),icon:p.cloneElement(w,{fontSize:null!=(n=w.props.fontSize)?n:y}),checkedIcon:p.cloneElement(C,{fontSize:null!=(r=C.props.fontSize)?r:y}),ownerState:D,ref:t},k,{classes:E}))})),Ki=n(6151),Xi=n(3031);function Yi(e){return(0,m.Z)("MuiTooltip",e)}var $i=(0,v.Z)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Qi=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"];var Ji=(0,b.ZP)(bt,{name:"MuiTooltip",slot:"Popper",overridesResolver:function(e,t){var n=e.ownerState;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})((function(e){var t,n=e.theme,a=e.ownerState,o=e.open;return(0,z.Z)({zIndex:n.zIndex.tooltip,pointerEvents:"none"},!a.disableInteractive&&{pointerEvents:"auto"},!o&&{pointerEvents:"none"},a.arrow&&(t={},(0,r.Z)(t,'&[data-popper-placement*="bottom"] .'.concat($i.arrow),{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}}),(0,r.Z)(t,'&[data-popper-placement*="top"] .'.concat($i.arrow),{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}}),(0,r.Z)(t,'&[data-popper-placement*="right"] .'.concat($i.arrow),(0,z.Z)({},a.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}})),(0,r.Z)(t,'&[data-popper-placement*="left"] .'.concat($i.arrow),(0,z.Z)({},a.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})),t))})),eu=(0,b.ZP)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:function(e,t){var n=e.ownerState;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t["tooltipPlacement".concat((0,N.Z)(n.placement.split("-")[0]))]]}})((function(e){var t,n,a=e.theme,o=e.ownerState;return(0,z.Z)({backgroundColor:(0,y.Fq)(a.palette.grey[700],.92),borderRadius:a.shape.borderRadius,color:a.palette.common.white,fontFamily:a.typography.fontFamily,padding:"4px 8px",fontSize:a.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:a.typography.fontWeightMedium},o.arrow&&{position:"relative",margin:0},o.touch&&{padding:"8px 16px",fontSize:a.typography.pxToRem(14),lineHeight:"".concat((n=16/14,Math.round(1e5*n)/1e5),"em"),fontWeight:a.typography.fontWeightRegular},(t={},(0,r.Z)(t,".".concat($i.popper,'[data-popper-placement*="left"] &'),(0,z.Z)({transformOrigin:"right center"},o.isRtl?(0,z.Z)({marginLeft:"14px"},o.touch&&{marginLeft:"24px"}):(0,z.Z)({marginRight:"14px"},o.touch&&{marginRight:"24px"}))),(0,r.Z)(t,".".concat($i.popper,'[data-popper-placement*="right"] &'),(0,z.Z)({transformOrigin:"left center"},o.isRtl?(0,z.Z)({marginRight:"14px"},o.touch&&{marginRight:"24px"}):(0,z.Z)({marginLeft:"14px"},o.touch&&{marginLeft:"24px"}))),(0,r.Z)(t,".".concat($i.popper,'[data-popper-placement*="top"] &'),(0,z.Z)({transformOrigin:"center bottom",marginBottom:"14px"},o.touch&&{marginBottom:"24px"})),(0,r.Z)(t,".".concat($i.popper,'[data-popper-placement*="bottom"] &'),(0,z.Z)({transformOrigin:"center top",marginTop:"14px"},o.touch&&{marginTop:"24px"})),t))})),tu=(0,b.ZP)("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:function(e,t){return t.arrow}})((function(e){var t=e.theme;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:(0,y.Fq)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}})),nu=!1,ru=null;function au(e,t){return function(n){t&&t(n),e(n)}}var ou,iu=p.forwardRef((function(e,t){var n,r,a,o,i,u,s=(0,x.Z)({props:e,name:"MuiTooltip"}),c=s.arrow,d=void 0!==c&&c,f=s.children,h=s.components,m=void 0===h?{}:h,v=s.componentsProps,b=void 0===v?{}:v,y=s.describeChild,k=void 0!==y&&y,w=s.disableFocusListener,C=void 0!==w&&w,S=s.disableHoverListener,F=void 0!==S&&S,T=s.disableInteractive,A=void 0!==T&&T,R=s.disableTouchListener,O=void 0!==R&&R,Z=s.enterDelay,M=void 0===Z?100:Z,P=s.enterNextDelay,L=void 0===P?0:P,j=s.enterTouchDelay,V=void 0===j?700:j,W=s.followCursor,H=void 0!==W&&W,U=s.id,G=s.leaveDelay,q=void 0===G?0:G,K=s.leaveTouchDelay,X=void 0===K?1500:K,Y=s.onClose,$=s.onOpen,Q=s.open,J=s.placement,ee=void 0===J?"bottom":J,te=s.PopperComponent,ne=s.PopperProps,re=void 0===ne?{}:ne,ae=s.title,oe=s.TransitionComponent,ie=void 0===oe?Vr:oe,ue=s.TransitionProps,se=(0,B.Z)(s,Qi),le=(0,Pr.Z)(),ce="rtl"===le.direction,de=p.useState(),pe=(0,l.Z)(de,2),fe=pe[0],he=pe[1],me=p.useState(null),ve=(0,l.Z)(me,2),ge=ve[0],be=ve[1],ye=p.useRef(!1),xe=A||H,ke=p.useRef(),we=p.useRef(),Ce=p.useRef(),De=p.useRef(),Ee=ba({controlled:Q,default:!1,name:"Tooltip",state:"open"}),Se=(0,l.Z)(Ee,2),Ie=Se[0],Fe=Se[1],Te=Ie,Ne=D(U),Ae=p.useRef(),Re=p.useCallback((function(){void 0!==Ae.current&&(document.body.style.WebkitUserSelect=Ae.current,Ae.current=void 0),clearTimeout(De.current)}),[]);p.useEffect((function(){return function(){clearTimeout(ke.current),clearTimeout(we.current),clearTimeout(Ce.current),Re()}}),[Re]);var Oe=function(e){clearTimeout(ru),nu=!0,Fe(!0),$&&!Te&&$(e)},Ze=(0,E.Z)((function(e){clearTimeout(ru),ru=setTimeout((function(){nu=!1}),800+q),Fe(!1),Y&&Te&&Y(e),clearTimeout(ke.current),ke.current=setTimeout((function(){ye.current=!1}),le.transitions.duration.shortest)})),Me=function(e){ye.current&&"touchstart"!==e.type||(fe&&fe.removeAttribute("title"),clearTimeout(we.current),clearTimeout(Ce.current),M||nu&&L?we.current=setTimeout((function(){Oe(e)}),nu?L:M):Oe(e))},Pe=function(e){clearTimeout(we.current),clearTimeout(Ce.current),Ce.current=setTimeout((function(){Ze(e)}),q)},Le=(0,Xi.Z)(),_e=Le.isFocusVisibleRef,Be=Le.onBlur,ze=Le.onFocus,je=Le.ref,Ve=p.useState(!1),We=(0,l.Z)(Ve,2)[1],He=function(e){Be(e),!1===_e.current&&(We(!1),Pe(e))},Ue=function(e){fe||he(e.currentTarget),ze(e),!0===_e.current&&(We(!0),Me(e))},Ge=function(e){ye.current=!0;var t=f.props;t.onTouchStart&&t.onTouchStart(e)},qe=Me,Ke=Pe;p.useEffect((function(){if(Te)return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||Ze(e)}}),[Ze,Te]);var Xe=(0,I.Z)(he,t),Ye=(0,I.Z)(je,Xe),$e=(0,I.Z)(f.ref,Ye);""===ae&&(Te=!1);var Qe=p.useRef({x:0,y:0}),Je=p.useRef(),et={},tt="string"===typeof ae;k?(et.title=Te||!tt||F?null:ae,et["aria-describedby"]=Te?Ne:null):(et["aria-label"]=tt?ae:null,et["aria-labelledby"]=Te&&!tt?Ne:null);var nt=(0,z.Z)({},et,se,f.props,{className:(0,_.Z)(se.className,f.props.className),onTouchStart:Ge,ref:$e},H?{onMouseMove:function(e){var t=f.props;t.onMouseMove&&t.onMouseMove(e),Qe.current={x:e.clientX,y:e.clientY},Je.current&&Je.current.update()}}:{});var rt={};O||(nt.onTouchStart=function(e){Ge(e),clearTimeout(Ce.current),clearTimeout(ke.current),Re(),Ae.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",De.current=setTimeout((function(){document.body.style.WebkitUserSelect=Ae.current,Me(e)}),V)},nt.onTouchEnd=function(e){f.props.onTouchEnd&&f.props.onTouchEnd(e),Re(),clearTimeout(Ce.current),Ce.current=setTimeout((function(){Ze(e)}),X)}),F||(nt.onMouseOver=au(qe,nt.onMouseOver),nt.onMouseLeave=au(Ke,nt.onMouseLeave),xe||(rt.onMouseOver=qe,rt.onMouseLeave=Ke)),C||(nt.onFocus=au(Ue,nt.onFocus),nt.onBlur=au(He,nt.onBlur),xe||(rt.onFocus=Ue,rt.onBlur=He));var at=p.useMemo((function(){var e,t=[{name:"arrow",enabled:Boolean(ge),options:{element:ge,padding:4}}];return null!=(e=re.popperOptions)&&e.modifiers&&(t=t.concat(re.popperOptions.modifiers)),(0,z.Z)({},re.popperOptions,{modifiers:t})}),[ge,re]),ot=(0,z.Z)({},s,{isRtl:ce,arrow:d,disableInteractive:xe,placement:ee,PopperComponentProp:te,touch:ye.current}),it=function(e){var t=e.classes,n=e.disableInteractive,r=e.arrow,a=e.touch,o=e.placement,i={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",a&&"touch","tooltipPlacement".concat((0,N.Z)(o.split("-")[0]))],arrow:["arrow"]};return(0,g.Z)(i,Yi,t)}(ot),ut=null!=(n=m.Popper)?n:Ji,st=null!=(r=null!=(a=m.Transition)?a:ie)?r:Vr,lt=null!=(o=m.Tooltip)?o:eu,dt=null!=(i=m.Arrow)?i:tu,pt=ro(ut,(0,z.Z)({},re,b.popper),ot),ft=ro(st,(0,z.Z)({},ue,b.transition),ot),ht=ro(lt,(0,z.Z)({},b.tooltip),ot),mt=ro(dt,(0,z.Z)({},b.arrow),ot);return(0,ct.jsxs)(p.Fragment,{children:[p.cloneElement(f,nt),(0,ct.jsx)(ut,(0,z.Z)({as:null!=te?te:bt,placement:ee,anchorEl:H?{getBoundingClientRect:function(){return{top:Qe.current.y,left:Qe.current.x,right:Qe.current.x,bottom:Qe.current.y,width:0,height:0}}}:fe,popperRef:Je,open:!!fe&&Te,id:Ne,transition:!0},rt,pt,{className:(0,_.Z)(it.popper,null==re?void 0:re.className,null==(u=b.popper)?void 0:u.className),popperOptions:at,children:function(e){var t,n,r=e.TransitionProps;return(0,ct.jsx)(st,(0,z.Z)({timeout:le.transitions.duration.shorter},r,ft,{children:(0,ct.jsxs)(lt,(0,z.Z)({},ht,{className:(0,_.Z)(it.tooltip,null==(t=b.tooltip)?void 0:t.className),children:[ae,d?(0,ct.jsx)(dt,(0,z.Z)({},mt,{className:(0,_.Z)(it.arrow,null==(n=b.arrow)?void 0:n.className),ref:be})):null]}))}))}}))]})})),uu=iu;e=n.hmd(e),function(e){e.resize="resize",e.debouncedResize="debouncedResize",e.viewportInnerSizeChange="viewportInnerSizeChange",e.componentError="componentError",e.unmount="unmount",e.cellModeChange="cellModeChange",e.cellClick="cellClick",e.cellDoubleClick="cellDoubleClick",e.cellMouseDown="cellMouseDown",e.cellMouseUp="cellMouseUp",e.cellKeyDown="cellKeyDown",e.cellFocusIn="cellFocusIn",e.cellFocusOut="cellFocusOut",e.cellDragEnter="cellDragEnter",e.cellDragOver="cellDragOver",e.editCellPropsChange="editCellPropsChange",e.cellEditCommit="cellEditCommit",e.cellEditStart="cellEditStart",e.cellEditStop="cellEditStop",e.rowEditStart="rowEditStart",e.rowEditStop="rowEditStop",e.rowEditCommit="rowEditCommit",e.cellNavigationKeyDown="cellNavigationKeyDown",e.rowClick="rowClick",e.rowDoubleClick="rowDoubleClick",e.rowMouseEnter="rowMouseEnter",e.rowMouseLeave="rowMouseLeave",e.editRowsModelChange="editRowsModelChange",e.columnHeaderBlur="columnHeaderBlur",e.columnHeaderFocus="columnHeaderFocus",e.columnHeaderNavigationKeyDown="columnHeaderNavigationKeyDown",e.columnHeaderKeyDown="columnHeaderKeyDown",e.columnHeaderClick="columnHeaderClick",e.columnHeaderDoubleClick="columnHeaderDoubleClick",e.columnHeaderOver="columnHeaderOver",e.columnHeaderOut="columnHeaderOut",e.columnHeaderEnter="columnHeaderEnter",e.columnHeaderLeave="columnHeaderLeave",e.columnHeaderDragStart="columnHeaderDragStart",e.columnHeaderDragOver="columnHeaderDragOver",e.columnHeaderDragEnter="columnHeaderDragEnter",e.columnHeaderDragEnd="columnHeaderDragEnd",e.selectionChange="selectionChange",e.headerSelectionCheckboxChange="headerSelectionCheckboxChange",e.rowSelectionCheckboxChange="rowSelectionCheckboxChange",e.pageChange="pageChange",e.pageSizeChange="pageSizeChange",e.rowGroupingModelChange="rowGroupingModelChange",e.rowsScroll="rowsScroll",e.rowsScrollEnd="rowsScrollEnd",e.columnSeparatorMouseDown="columnSeparatorMouseDown",e.columnResize="columnResize",e.columnWidthChange="columnWidthChange",e.columnResizeStart="columnResizeStart",e.columnResizeStop="columnResizeStop",e.columnOrderChange="columnOrderChange",e.rowsSet="rowsSet",e.rowExpansionChange="rowExpansionChange",e.visibleRowsSet="visibleRowsSet",e.columnsChange="columnsChange",e.pinnedColumnsChange="pinnedColumnsChange",e.preProcessorRegister="preProcessorRegister",e.preProcessorUnregister="preProcessorUnregister",e.rowGroupsPreProcessingChange="rowGroupsPreProcessingChange",e.sortModelChange="sortModelChange",e.filterModelChange="filterModelChange",e.columnVisibilityModelChange="columnVisibilityModelChange",e.stateChange="stateChange",e.columnVisibilityChange="columnVisibilityChange",e.virtualScrollerContentSizeChange="virtualScrollerContentSizeChange"}(ou||(ou={}));var su=p.createContext(void 0);function lu(){var e=p.useContext(su);if(void 0===e)throw new Error(["MUI: Could not find the data grid context.","It looks like you rendered your component outside of a DataGrid or DataGridPro parent component.","This can also happen if you are bundling multiple versions of the data grid."].join("\n"));return e}function cu(e){return(0,m.Z)("MuiDataGrid",e)}var du=(0,v.Z)("MuiDataGrid",["actionsCell","autoHeight","booleanCell","cell--editable","cell--editing","cell--textCenter","cell--textLeft","cell--textRight","cell--withRenderer","cell","cellCheckbox","checkboxInput","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderDropZone","columnHeaderTitle","columnHeaderTitleContainer","columnHeaders","columnHeadersInner","columnHeadersInner--scrollable","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsPanel","columnsPanelRow","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filterForm","filterIcon","footerContainer","iconButtonContainer","iconSeparator","main","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","root","row--editable","row--editing","row","rowCount","scrollArea--left","scrollArea--right","scrollArea","selectedRowCount","sortIcon","toolbarContainer","toolbarFilterList","virtualScroller","virtualScrollerContent","virtualScrollerRenderZone","pinnedColumns","pinnedColumns--left","pinnedColumns--right","withBorder","treeDataGroupingCell","treeDataGroupingCellToggle","groupingCriteriaCell","groupingCriteriaCellToggle"]),pu=p.createContext(void 0),fu=function(){var e=p.useContext(pu);if(!e)throw new Error("MUI: useGridRootProps should only be used inside the DataGrid/DataGridPro component.");return e},hu=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:function(e,t){return t.main}})((function(){return{position:"relative",flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden"}}));function mu(e){var t=function(e){var t=e.classes;return(0,g.Z)({root:["main"]},cu,t)}({classes:fu().classes});return p.createElement(hu,{className:t.root},e.children)}function vu(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function gu(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,u)}s((r=r.apply(e,t||[])).next())}))}var bu=p.forwardRef((function(e,t){var n=e.children,r=e.defaultHeight,a=void 0===r?null:r,o=e.defaultWidth,i=void 0===o?null:o,u=e.disableHeight,s=void 0!==u&&u,c=e.disableWidth,d=void 0!==c&&c,f=e.nonce,h=e.onResize,m=e.style,v=vu(e,["children","defaultHeight","defaultWidth","disableHeight","disableWidth","nonce","onResize","style"]),g=p.useState({height:a,width:i}),b=(0,l.Z)(g,2),y=b[0],x=b[1],k=p.useRef(null),C=p.useRef(null),D=(0,E.Z)((function(){if(C.current){var e=C.current.offsetHeight||0,t=C.current.offsetWidth||0,n=(0,S.Z)(C.current).getComputedStyle(C.current),r=parseInt(n.paddingLeft,10)||0,a=parseInt(n.paddingRight,10)||0,o=e-(parseInt(n.paddingTop,10)||0)-(parseInt(n.paddingBottom,10)||0),i=t-r-a;(!s&&y.height!==o||!d&&y.width!==i)&&(x({height:o,width:i}),h&&h({height:o,width:i}))}}));w((function(){var e;if(C.current=k.current.parentElement,C){var t=(0,S.Z)(null!==(e=C.current)&&void 0!==e?e:void 0),n=function(e,t){var n=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,a=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,a.style.width=n.offsetWidth+1+"px",a.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},r=function(e){if(!(e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var r=this;n(this),this.__resizeRAF__&&t.cancelAnimationFrame(this.__resizeRAF__),this.__resizeRAF__=t.requestAnimationFrame((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(r)&&(r.__resizeLast__.width=r.offsetWidth,r.__resizeLast__.height=r.offsetHeight,r.__resizeListeners__.forEach((function(t){t.call(r,e)})))}))}},a=!1,o="",i="animationstart",u="Webkit Moz O ms".split(" "),s="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),l=document.createElement("fakeelement");if(void 0!==l.style.animationName&&(a=!0),!1===a)for(var c=0;c<u.length;c++)if(void 0!==l.style[u[c]+"AnimationName"]){o="-"+u[c].toLowerCase()+"-",i=s[c],a=!0;break}var d="@"+o+"keyframes resizeanim { from { opacity: 0; } to { opacity: 0; } } ",p=o+"animation: 1ms resizeanim; ";return{addResizeListener:function(a,o){if(!a.__resizeTriggers__){var u=a.ownerDocument,s=t.getComputedStyle(a);s&&"static"==s.position&&(a.style.position="relative"),function(t){if(!t.getElementById("muiDetectElementResize")){var n=(d||"")+".Mui-resizeTriggers { "+(p||"")+'visibility: hidden; opacity: 0; } .Mui-resizeTriggers, .Mui-resizeTriggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .Mui-resizeTriggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=t.head||t.getElementsByTagName("head")[0],a=t.createElement("style");a.id="muiDetectElementResize",a.type="text/css",null!=e&&a.setAttribute("nonce",e),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(t.createTextNode(n)),r.appendChild(a)}}(u),a.__resizeLast__={},a.__resizeListeners__=[],(a.__resizeTriggers__=u.createElement("div")).className="Mui-resizeTriggers",a.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',a.appendChild(a.__resizeTriggers__),n(a),a.addEventListener("scroll",r,!0),i&&(a.__resizeTriggers__.__animationListener__=function(e){"resizeanim"==e.animationName&&n(a)},a.__resizeTriggers__.addEventListener(i,a.__resizeTriggers__.__animationListener__))}a.__resizeListeners__.push(o)},removeResizeListener:function(e,t){if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",r,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(i,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}(f,t);return n.addResizeListener(C.current,D),D(),function(){n.removeResizeListener(C.current,D)}}}),[f,D]);var F={overflow:"visible"},T={};s||(F.height=0,T.height=y.height),d||(F.width=0,T.width=y.width);var N=(0,I.Z)(k,t);return p.createElement("div",Object.assign({ref:N,style:Object.assign(Object.assign({},F),m)},v),null===y.height&&null===y.width?null:n(T))})),yu=function(e,t){return t(e.current.state)},xu=function(e){return e.rows},ku=L(xu,(function(e){return e.totalRowCount})),wu=L(xu,(function(e){return e.totalTopLevelRowCount})),Cu=L(xu,(function(e){return e.idRowsLookup})),Du=L(xu,(function(e){return e.tree})),Eu=L(xu,(function(e){return e.groupingName})),Su=L(xu,(function(e){return e.treeDepth})),Iu=L(xu,(function(e){return e.ids})),Fu=function(e){return e.sorting},Tu=L(Fu,(function(e){return e.sortedRows})),Nu=L(Tu,Cu,(function(e,t){return e.map((function(e){return{id:e,model:t[e]}}))})),Au=L(Fu,(function(e){return e.sortModel})),Ru=L(Au,(function(e){return e.reduce((function(t,n,r){return t[n.field]={sortDirection:n.sort,sortIndex:e.length>1?r+1:void 0},t}),{})})),Ou=function(e){return e.columns},Zu=function(e){return e.columns.all},Mu=function(e){return e.columns.lookup},Pu=L(Zu,Mu,(function(e,t){return e.map((function(e){return t[e]}))})),Lu=L(Ou,(function(e){return e.columnVisibilityModel})),_u=L(Pu,Lu,(function(e,t){return e.filter((function(e){return!1!==t[e.field]}))})),Bu=(L(_u,(function(e){return e.map((function(e){return e.field}))})),L(_u,(function(e){var t=[];return{totalWidth:e.reduce((function(e,n){return t.push(e),e+n.computedWidth}),0),positions:t}}))),zu=L(Pu,(function(e){return e.filter((function(e){return e.filterable}))})),ju=L(zu,(function(e){return e.map((function(e){return e.field}))})),Vu=L(_u,(function(e){return e.length})),Wu=L(Bu,(function(e){return e.totalWidth})),Hu=function(e){return e.filter},Uu=L(Hu,(function(e){return e.filterModel})),Gu=L(Hu,(function(e){return e.visibleRowsLookup})),qu=(L(Hu,(function(e){return e.filteredDescendantCountLookup})),L(Gu,Nu,(function(e,t){return t.filter((function(t){return!1!==e[t.id]}))}))),Ku=L(qu,(function(e){return e.map((function(e){return e.id}))})),Xu=L(qu,Du,Su,(function(e,t,n){return n<2?e:e.filter((function(e){var n;return 0===(null===(n=t[e.id])||void 0===n?void 0:n.depth)}))})),Yu=L(qu,(function(e){return e.length})),$u=L(Xu,(function(e){return e.length})),Qu=L(Uu,Mu,(function(e,t){var n;return null===(n=e.items)||void 0===n?void 0:n.filter((function(e){var n,r;if(!e.columnField)return!1;var a=t[e.columnField];if(!(null==a?void 0:a.filterOperators)||0===(null===(n=null==a?void 0:a.filterOperators)||void 0===n?void 0:n.length))return!1;var o=a.filterOperators.find((function(t){return t.value===e.operatorValue}));return!!o&&(!o.InputComponent||null!=e.value&&""!==(null===(r=e.value)||void 0===r?void 0:r.toString()))}))})),Ju=L(Qu,(function(e){return e.reduce((function(e,t){return e[t.columnField]?e[t.columnField].push(t):e[t.columnField]=[t],e}),{})}));function es(){var e,t,n,r=lu(),a=fu(),o=yu(r,ku),i=yu(r,Yu),u=!a.loading&&0===o,s=!a.loading&&o>0&&0===i;return u?p.createElement(a.components.NoRowsOverlay,Object.assign({},null===(e=a.componentsProps)||void 0===e?void 0:e.noRowsOverlay)):s?p.createElement(a.components.NoResultsOverlay,Object.assign({},null===(t=a.componentsProps)||void 0===t?void 0:t.noResultsOverlay)):a.loading?p.createElement(a.components.LoadingOverlay,Object.assign({},null===(n=a.componentsProps)||void 0===n?void 0:n.loadingOverlay)):null}var ts=function(e){return e.selection},ns=L(ts,(function(e){return e.length})),rs=L(ts,Cu,(function(e,t){return new Map(e.map((function(e){return[e,t[e]]})))})),as=L(ts,(function(e){return e.reduce((function(e,t){return e[t]=t,e}),{})})),os=function(e){return e.density},is=L(os,(function(e){return e.value})),us=L(os,(function(e){return e.rowHeight})),ss=L(os,(function(e){return e.headerHeight}));function ls(e){var t=e.children,n=e.VirtualScrollerComponent,r=e.ColumnHeadersComponent,a=lu(),o=fu(),i=yu(a,ts),u=yu(a,ss),s=p.useState(o.disableVirtualization),c=(0,l.Z)(s,2),d=c[0],f=c[1],h=p.useCallback((function(){f(!0)}),[]),m=p.useCallback((function(){f(!1)}),[]);a.current.unstable_disableVirtualization=h,a.current.unstable_enableVirtualization=m;var v=p.useRef(null),g=p.useRef(null),b=p.useRef(null),y=p.useRef(null);a.current.columnHeadersContainerElementRef=g,a.current.columnHeadersElementRef=v,a.current.windowRef=b,a.current.renderingZoneRef=y;var x=p.useCallback((function(e){a.current.publishEvent(ou.resize,e)}),[a]),k=p.useMemo((function(){return"function"==typeof o.isRowSelectable?i.filter((function(e){return o.isRowSelectable(a.current.getRowParams(e))})):i}),[a,o.isRowSelectable,i]),w=p.useMemo((function(){return k.reduce((function(e,t){return e[t]=t,e}),{})}),[k]);return p.createElement(mu,null,p.createElement(es,null),p.createElement(r,{ref:g,innerRef:v}),p.createElement(bu,{nonce:o.nonce,disableHeight:o.autoHeight,onResize:x},(function(e){var t={width:e.width,height:e.height?e.height-u:"auto",marginTop:u};return p.createElement(n,{ref:b,style:t,selectionLookup:w,disableVirtualization:d})})),t)}function cs(e,t){var n=p.useRef(null);if(n.current)return n.current;var r=e.current.getLogger(t);return n.current=r,r}var ds=function(e){(0,u.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"componentDidCatch",value:function(e,t){this.props.api.current&&(this.logError(e),this.props.api.current.showError({error:e,errorInfo:t}))}},{key:"logError",value:function(e,t){this.props.logger.error("An unexpected error occurred. Error: ".concat(e&&e.message,". "),e,t)}},{key:"render",value:function(){var e;return this.props.hasError||(null===(e=this.state)||void 0===e?void 0:e.hasError)?this.props.render(this.props.componentProps||this.state):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}]),n}(p.Component);function ps(e){var t=e.children,n=lu(),r=cs(n,"GridErrorHandler"),a=fu(),o=n.current.state.error,i=p.useCallback((function(e){n.current.publishEvent(ou.resize,e)}),[n]);return p.createElement(ds,{hasError:null!=o,componentProps:o,api:n,logger:r,render:function(e){return p.createElement(mu,null,p.createElement(bu,{nonce:a.nonce,disableHeight:a.autoHeight,onResize:i},(function(){var t;return p.createElement(a.components.ErrorOverlay,Object.assign({},e,null===(t=a.componentsProps)||void 0===t?void 0:t.errorOverlay))})))}},t)}function fs(){var e,t=lu(),n=fu(),r=p.useRef(null);return t.current.footerRef=r,n.hideFooter?null:p.createElement("div",{ref:r},p.createElement(n.components.Footer,Object.assign({},null===(e=n.componentsProps)||void 0===e?void 0:e.footer)))}function hs(){var e,t=lu(),n=fu(),r=p.useRef(null);return t.current.headerRef=r,p.createElement("div",{ref:r},p.createElement(n.components.Header,Object.assign({},null===(e=n.componentsProps)||void 0===e?void 0:e.header)))}function ms(e){var t,n=e.item,r=e.applyValue,a=e.apiRef,o=e.focusElementRef,i=vu(e,["item","applyValue","apiRef","focusElementRef"]),u=p.useState(n.value||""),s=(0,l.Z)(u,2),c=s[0],d=s[1],f=fu(),h=p.useCallback((function(e){var t=e.target.value;d(t),r(Object.assign(Object.assign({},n),{value:t}))}),[r,n]);return p.useEffect((function(){d(n.value||"")}),[n.value]),p.createElement(f.components.BaseTextField,Object.assign({label:a.current.getLocaleText("filterPanelInputLabel"),value:c,onChange:h,variant:"standard",select:!0,SelectProps:{native:!0},InputLabelProps:{shrink:!0},inputRef:o},i,null===(t=f.componentsProps)||void 0===t?void 0:t.baseTextField),p.createElement("option",{value:""},a.current.getLocaleText("filterValueAny")),p.createElement("option",{value:"true"},a.current.getLocaleText("filterValueTrue")),p.createElement("option",{value:"false"},a.current.getLocaleText("filterValueFalse")))}var vs=(0,F.Z)(p.createElement("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),gs=(0,F.Z)(p.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),bs=(0,F.Z)(p.createElement("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),ys=(0,F.Z)(p.createElement("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),xs=(0,F.Z)(p.createElement("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),ks=(0,F.Z)(p.createElement("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),ws=((0,F.Z)(p.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search"),(0,F.Z)(p.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu"),(0,F.Z)(p.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle"),(0,F.Z)(p.createElement("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon")),Cs=(0,F.Z)(p.createElement("path",{d:"M11 19V5h2v14z"}),"Separator"),Ds=(0,F.Z)(p.createElement("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),Es=(0,F.Z)(p.createElement("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),Ss=(0,F.Z)(p.createElement("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),Is=(0,F.Z)(p.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),Fs=(0,F.Z)(p.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Ts=(0,F.Z)(p.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),Ns=(0,F.Z)(p.createElement("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),As=(0,F.Z)(p.createElement("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),Rs=(0,F.Z)(p.createElement("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),Os=(0,F.Z)(p.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),Zs=(0,F.Z)(p.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");function Ms(e){var t,n,r=e.item,a=e.applyValue,o=e.type,i=e.apiRef,u=e.focusElementRef,s=e.InputProps,c=vu(e,["item","applyValue","type","apiRef","focusElementRef","InputProps"]),d=p.useRef(),f=p.useState(null!==(t=r.value)&&void 0!==t?t:""),h=(0,l.Z)(f,2),m=h[0],v=h[1],g=p.useState(!1),b=(0,l.Z)(g,2),y=b[0],x=b[1],k=D(),w=fu(),C=p.useCallback((function(e){var t=e.target.value;clearTimeout(d.current),v(String(t)),x(!0),d.current=setTimeout((function(){a(Object.assign(Object.assign({},r),{value:t})),x(!1)}),500)}),[a,r]);return p.useEffect((function(){return function(){clearTimeout(d.current)}}),[]),p.useEffect((function(){var e,t=null!==(e=r.value)&&void 0!==e?e:"";v(String(t))}),[r.value]),p.createElement(w.components.BaseTextField,Object.assign({id:k,label:i.current.getLocaleText("filterPanelInputLabel"),placeholder:i.current.getLocaleText("filterPanelInputPlaceholder"),value:m,onChange:C,type:o||"text",variant:"standard",InputLabelProps:{shrink:!0},inputRef:u,InputProps:Object.assign(Object.assign(Object.assign({},y?{endAdornment:p.createElement(Ns,null)}:{}),s),{inputProps:Object.assign({max:"datetime-local"===o?"9999-12-31T23:59":"9999-12-31"},null==s?void 0:s.inputProps)})},c,null===(n=w.componentsProps)||void 0===n?void 0:n.baseTextField))}var Ps=/(\d+)-(\d+)-(\d+)/,Ls=/(\d+)-(\d+)-(\d+)T(\d+):(\d+)/;function _s(e,t,n,r){if(!e.value)return null;var a=e.value.match(n?Ls:Ps).slice(1).map(Number),o=(0,l.Z)(a,5),i=o[0],u=o[1],s=o[2],c=o[3],d=o[4],p=new Date(i,u-1,s,c||0,d||0).getTime();return function(e){var a=e.value;if(!a)return!1;var o=a instanceof Date?a:new Date(a.toString());if(r)return t(o.getTime(),p);var i=(a instanceof Date?new Date(o):o).setHours(n?o.getHours():0,n?o.getMinutes():0,0,0);return t(i,p)}}var Bs=function(e){return[{value:"is",getApplyFilterFn:function(t){return _s(t,(function(e,t){return e===t}),e)},InputComponent:Ms,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFn:function(t){return _s(t,(function(e,t){return e!==t}),e)},InputComponent:Ms,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFn:function(t){return _s(t,(function(e,t){return e>t}),e)},InputComponent:Ms,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:function(t){return _s(t,(function(e,t){return e>=t}),e)},InputComponent:Ms,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFn:function(t){return _s(t,(function(e,t){return e<t}),e,!e)},InputComponent:Ms,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:function(t){return _s(t,(function(e,t){return e<=t}),e)},InputComponent:Ms,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:function(){return function(e){return null==e.value}}},{value:"isNotEmpty",getApplyFilterFn:function(){return function(e){return null!=e.value}}}]},zs=function(e,t){var n=e.valueOptions,r=e.valueFormatter,o=e.field;return[""].concat("function"==typeof n?(0,a.Z)(n({field:o})):(0,a.Z)(n||[])).map((function(e){return"object"==typeof e?p.createElement("option",{key:e.value,value:e.value},e.label):p.createElement("option",{key:e,value:e},r&&""!==e?r({value:e,field:o,api:t}):e)}))};function js(e){var t,n,r=e.item,a=e.applyValue,o=e.type,i=e.apiRef,u=e.focusElementRef,s=vu(e,["item","applyValue","type","apiRef","focusElementRef"]),c=p.useRef(),d=p.useState(null!==(t=r.value)&&void 0!==t?t:""),f=(0,l.Z)(d,2),h=f[0],m=f[1],v=p.useState(!1),g=(0,l.Z)(v,2),b=g[0],y=g[1],x=D(),k=fu(),w="singleSelect"===o?{select:!0,SelectProps:{native:!0},children:zs(i.current.getColumn(r.columnField),i.current)}:{},C=p.useCallback((function(e){var t=e.target.value;if("singleSelect"===o){var n=i.current.getColumn(r.columnField),u="function"==typeof n.valueOptions?n.valueOptions({field:n.field}):n.valueOptions;t=u.map((function(e){return"object"==typeof e?e.value:e})).find((function(e){return String(e)===t}))}clearTimeout(c.current),m(String(t)),y(!0),c.current=setTimeout((function(){a(Object.assign(Object.assign({},r),{value:t})),y(!1)}),500)}),[i,a,r,o]);p.useEffect((function(){return function(){clearTimeout(c.current)}}),[]),p.useEffect((function(){var e,t=null!==(e=r.value)&&void 0!==e?e:"";m(String(t))}),[r.value]);var E=b?{endAdornment:p.createElement(Ns,null)}:s.InputProps;return p.createElement(k.components.BaseTextField,Object.assign({id:x,label:i.current.getLocaleText("filterPanelInputLabel"),placeholder:i.current.getLocaleText("filterPanelInputPlaceholder"),value:h,onChange:C,type:o||"text",variant:"standard",InputProps:E,InputLabelProps:{shrink:!0},inputRef:u},w,s,null===(n=k.componentsProps)||void 0===n?void 0:n.baseTextField))}function Vs(e){var t=e.item,n=e.applyValue,r=e.type,o=e.apiRef,i=e.focusElementRef,u=vu(e,["item","applyValue","type","apiRef","focusElementRef"]),s=p.useState(t.value||[]),c=(0,l.Z)(s,2),d=c[0],f=c[1],h=D();p.useEffect((function(){var e,n=null!==(e=t.value)&&void 0!==e?e:[];f(n.map(String))}),[t.value]);var m=p.useCallback((function(e,r){f(r.map(String)),n(Object.assign(Object.assign({},t),{value:(0,a.Z)(r)}))}),[n,t]);return p.createElement(dn,Object.assign({multiple:!0,freeSolo:!0,limitTags:1,options:[],filterOptions:function(e,t){var n=t.inputValue;return null==n||""===n?[]:[n]},id:h,value:d,onChange:m,renderTags:function(e,t){return e.map((function(e,n){return p.createElement(Lt,Object.assign({variant:"outlined",size:"small",label:e},t({index:n})))}))},renderInput:function(e){return p.createElement(La,Object.assign({},e,{label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:Object.assign(Object.assign({},e.InputLabelProps),{shrink:!0}),inputRef:i,type:r||"text",variant:"standard"}))}},u))}var Ws=function(e){return null==e?null:Number(e)},Hs=function(){return[{label:"=",value:"=",getApplyFilterFn:function(e){return null==e.value||Number.isNaN(e.value)?null:function(t){var n=t.value;return Ws(n)===e.value}},InputComponent:js,InputComponentProps:{type:"number"}},{label:"!=",value:"!=",getApplyFilterFn:function(e){return null==e.value||Number.isNaN(e.value)?null:function(t){var n=t.value;return Ws(n)!==e.value}},InputComponent:js,InputComponentProps:{type:"number"}},{label:">",value:">",getApplyFilterFn:function(e){return null==e.value||Number.isNaN(e.value)?null:function(t){var n=t.value;return null!=n&&Ws(n)>e.value}},InputComponent:js,InputComponentProps:{type:"number"}},{label:">=",value:">=",getApplyFilterFn:function(e){return null==e.value||Number.isNaN(e.value)?null:function(t){var n=t.value;return null!=n&&Ws(n)>=e.value}},InputComponent:js,InputComponentProps:{type:"number"}},{label:"<",value:"<",getApplyFilterFn:function(e){return null==e.value||Number.isNaN(e.value)?null:function(t){var n=t.value;return null!=n&&Ws(n)<e.value}},InputComponent:js,InputComponentProps:{type:"number"}},{label:"<=",value:"<=",getApplyFilterFn:function(e){return null==e.value||Number.isNaN(e.value)?null:function(t){var n=t.value;return null!=n&&Ws(n)<=e.value}},InputComponent:js,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:function(){return function(e){return null==e.value}}},{value:"isNotEmpty",getApplyFilterFn:function(){return function(e){return null!=e.value}}},{label:"is any of",value:"isAnyOf",getApplyFilterFn:function(e){return Array.isArray(e.value)&&0!==e.value.length?function(t){var n=t.value;return null!=n&&e.value.includes(Number(n))}:null},InputComponent:Vs,InputComponentProps:{type:"number"}}]};function Us(e,t){if(void 0!==t)return t.map((function(e){return"object"==typeof e?e.value:e})).find((function(t){return String(t)===String(e)}))}function Gs(e){var t,n,r=e.item,o=e.applyValue,i=e.type,u=e.apiRef,s=e.focusElementRef,c=vu(e,["item","applyValue","type","apiRef","focusElementRef"]),d=p.useState(null!==(t=r.value)&&void 0!==t?t:""),f=(0,l.Z)(d,2),h=f[0],m=f[1],v=D(),g=fu(),b=r.columnField?u.current.getColumn(r.columnField):null,y=p.useMemo((function(){return"function"==typeof b.valueOptions?b.valueOptions({field:b.field}):b.valueOptions}),[b]),x=p.useCallback((function(e){var t=e.target.value;t=Us(t,y),m(String(t)),o(Object.assign(Object.assign({},r),{value:t}))}),[o,r,y]);return p.useEffect((function(){var e;if(void 0!==y){if((e=Us(r.value,y))!==r.value)return void o(Object.assign(Object.assign({},r),{value:e}))}else e=r.value;e=null!=e?e:"",m(String(e))}),[r,y,o]),p.createElement(g.components.BaseTextField,Object.assign({id:v,label:u.current.getLocaleText("filterPanelInputLabel"),placeholder:u.current.getLocaleText("filterPanelInputPlaceholder"),value:h,onChange:x,type:i||"text",variant:"standard",InputLabelProps:{shrink:!0},inputRef:s,select:!0,SelectProps:{native:!0}},c,null===(n=g.componentsProps)||void 0===n?void 0:n.baseTextField),function(e,t){var n=e.valueOptions,r=e.valueFormatter,o=e.field;return[""].concat("function"==typeof n?(0,a.Z)(n({field:o})):(0,a.Z)(n||[])).map((function(e){return"object"==typeof e?p.createElement("option",{key:e.value,value:e.value},e.label):p.createElement("option",{key:e,value:e},r&&""!==e?r({value:e,field:o,api:t}):e)}))}(u.current.getColumn(r.columnField),u.current))}var qs=function(e){return"object"==typeof e?e.value:e},Ks=function(e,t){return qs(e)===qs(t)},Xs=U();function Ys(e){var t=e.item,n=e.applyValue,r=(e.type,e.apiRef),o=e.focusElementRef,i=vu(e,["item","applyValue","type","apiRef","focusElementRef"]),u=D(),s=t.columnField?r.current.getColumn(t.columnField):null,l=p.useMemo((function(){return"function"==typeof s.valueOptions?s.valueOptions({field:s.field}):s.valueOptions}),[s]),c=p.useMemo((function(){return l.map(qs)}),[l]),d=function(e,t){var n=e.valueFormatter,r=e.field;return function(e){return"object"==typeof e?e.label:n&&""!==e?n({value:e,field:r,api:t}):e}}(r.current.getColumn(t.columnField),r.current),f=p.useMemo((function(){return Array.isArray(t.value)?void 0!==l?t.value.map((function(e){var t=qs(e);return c.findIndex((function(e){return e===t}))})).filter((function(e){return e>=0})).map((function(e){return l[e]})):t.value:[]}),[t.value,l,c]);p.useEffect((function(){Array.isArray(t.value)&&f.length===t.value.length||n(Object.assign(Object.assign({},t),{value:f.map(qs)}))}),[t,f,n]);var h=p.useCallback((function(e,r){n(Object.assign(Object.assign({},t),{value:(0,a.Z)(r.map(qs))}))}),[n,t]);return p.createElement(dn,Object.assign({multiple:!0,freeSolo:!1,limitTags:1,options:l,isOptionEqualToValue:Ks,filterOptions:Xs,id:u,value:f,onChange:h,renderTags:function(e,t){return e.map((function(e,n){return p.createElement(Lt,Object.assign({variant:"outlined",size:"small",label:d(e)},t({index:n})))}))},renderInput:function(e){return p.createElement(La,Object.assign({},e,{label:r.current.getLocaleText("filterPanelInputLabel"),placeholder:r.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:Object.assign(Object.assign({},e.InputLabelProps),{shrink:!0}),inputRef:o,type:"singleSelect",variant:"standard"}))}},i))}var $s=function(e){return"object"==typeof e?e.value:e};function Qs(e,t){return e===t||e!=e&&t!=t}function Js(e,t){for(var n=e.length;n--;)if(Qs(e[n][0],t))return n;return-1}var el=Array.prototype.splice;function tl(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}tl.prototype.clear=function(){this.__data__=[],this.size=0},tl.prototype.delete=function(e){var t=this.__data__,n=Js(t,e);return!(n<0)&&(n==t.length-1?t.pop():el.call(t,n,1),--this.size,!0)},tl.prototype.get=function(e){var t=this.__data__,n=Js(t,e);return n<0?void 0:t[n][1]},tl.prototype.has=function(e){return Js(this.__data__,e)>-1},tl.prototype.set=function(e,t){var n=this.__data__,r=Js(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var nl="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,rl="object"==typeof self&&self&&self.Object===Object&&self,al=nl||rl||Function("return this")(),ol=al.Symbol,il=Object.prototype,ul=il.hasOwnProperty,sl=il.toString,ll=ol?ol.toStringTag:void 0,cl=Object.prototype.toString,dl=ol?ol.toStringTag:void 0;function pl(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":dl&&dl in Object(e)?function(e){var t=ul.call(e,ll),n=e[ll];try{e[ll]=void 0;var r=!0}catch(e){}var a=sl.call(e);return r&&(t?e[ll]=n:delete e[ll]),a}(e):function(e){return cl.call(e)}(e)}function fl(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function hl(e){if(!fl(e))return!1;var t=pl(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var ml,vl=al["__core-js_shared__"],gl=(ml=/[^.]+$/.exec(vl&&vl.keys&&vl.keys.IE_PROTO||""))?"Symbol(src)_1."+ml:"",bl=Function.prototype.toString;function yl(e){if(null!=e){try{return bl.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var xl=/^\[object .+?Constructor\]$/,kl=Function.prototype,wl=Object.prototype,Cl=kl.toString,Dl=wl.hasOwnProperty,El=RegExp("^"+Cl.call(Dl).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Sl(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!fl(e)||(t=e,gl&&gl in t))&&(hl(e)?El:xl).test(yl(e));var t}(n)?n:void 0}var Il=Sl(al,"Map"),Fl=Sl(Object,"create"),Tl=Object.prototype.hasOwnProperty,Nl=Object.prototype.hasOwnProperty;function Al(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Rl(e,t){var n,r,a=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?a["string"==typeof t?"string":"hash"]:a.map}function Ol(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Zl(e){var t=this.__data__=new tl(e);this.size=t.size}function Ml(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ol;++t<n;)this.add(e[t])}function Pl(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Ll(e,t,n,r,a,o){var i=1&n,u=e.length,s=t.length;if(u!=s&&!(i&&s>u))return!1;var l=o.get(e);if(l&&o.get(t))return l==t;var c=-1,d=!0,p=2&n?new Ml:void 0;for(o.set(e,t),o.set(t,e);++c<u;){var f=e[c],h=t[c];if(r)var m=i?r(h,f,c,t,e,o):r(f,h,c,e,t,o);if(void 0!==m){if(m)continue;d=!1;break}if(p){if(!Pl(t,(function(e,t){if(i=t,!p.has(i)&&(f===e||a(f,e,n,r,o)))return p.push(t);var i}))){d=!1;break}}else if(f!==h&&!a(f,h,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}Al.prototype.clear=function(){this.__data__=Fl?Fl(null):{},this.size=0},Al.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Al.prototype.get=function(e){var t=this.__data__;if(Fl){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Tl.call(t,e)?t[e]:void 0},Al.prototype.has=function(e){var t=this.__data__;return Fl?void 0!==t[e]:Nl.call(t,e)},Al.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Fl&&void 0===t?"__lodash_hash_undefined__":t,this},Ol.prototype.clear=function(){this.size=0,this.__data__={hash:new Al,map:new(Il||tl),string:new Al}},Ol.prototype.delete=function(e){var t=Rl(this,e).delete(e);return this.size-=t?1:0,t},Ol.prototype.get=function(e){return Rl(this,e).get(e)},Ol.prototype.has=function(e){return Rl(this,e).has(e)},Ol.prototype.set=function(e,t){var n=Rl(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Zl.prototype.clear=function(){this.__data__=new tl,this.size=0},Zl.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Zl.prototype.get=function(e){return this.__data__.get(e)},Zl.prototype.has=function(e){return this.__data__.has(e)},Zl.prototype.set=function(e,t){var n=this.__data__;if(n instanceof tl){var r=n.__data__;if(!Il||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ol(r)}return n.set(e,t),this.size=n.size,this},Ml.prototype.add=Ml.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ml.prototype.has=function(e){return this.__data__.has(e)};var _l=al.Uint8Array;function Bl(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function zl(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var jl=ol?ol.prototype:void 0,Vl=jl?jl.valueOf:void 0,Wl=Array.isArray,Hl=Object.prototype.propertyIsEnumerable,Ul=Object.getOwnPropertySymbols,Gl=Ul?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i)&&(o[a++]=i)}return o}(Ul(e),(function(t){return Hl.call(e,t)})))}:function(){return[]};function ql(e){return null!=e&&"object"==typeof e}function Kl(e){return ql(e)&&"[object Arguments]"==pl(e)}var Xl=Object.prototype,Yl=Xl.hasOwnProperty,$l=Xl.propertyIsEnumerable,Ql=Kl(function(){return arguments}())?Kl:function(e){return ql(e)&&Yl.call(e,"callee")&&!$l.call(e,"callee")},Jl="object"==typeof exports&&exports&&!exports.nodeType&&exports,ec=Jl&&e&&!e.nodeType&&e,tc=ec&&ec.exports===Jl?al.Buffer:void 0,nc=(tc?tc.isBuffer:void 0)||function(){return!1},rc=/^(?:0|[1-9]\d*)$/;function ac(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&rc.test(e))&&e>-1&&e%1==0&&e<t}function oc(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}var ic={};ic["[object Float32Array]"]=ic["[object Float64Array]"]=ic["[object Int8Array]"]=ic["[object Int16Array]"]=ic["[object Int32Array]"]=ic["[object Uint8Array]"]=ic["[object Uint8ClampedArray]"]=ic["[object Uint16Array]"]=ic["[object Uint32Array]"]=!0,ic["[object Arguments]"]=ic["[object Array]"]=ic["[object ArrayBuffer]"]=ic["[object Boolean]"]=ic["[object DataView]"]=ic["[object Date]"]=ic["[object Error]"]=ic["[object Function]"]=ic["[object Map]"]=ic["[object Number]"]=ic["[object Object]"]=ic["[object RegExp]"]=ic["[object Set]"]=ic["[object String]"]=ic["[object WeakMap]"]=!1;var uc,sc="object"==typeof exports&&exports&&!exports.nodeType&&exports,lc=sc&&e&&!e.nodeType&&e,cc=lc&&lc.exports===sc&&nl.process,dc=function(){try{return cc&&cc.binding&&cc.binding("util")}catch(e){}}(),pc=dc&&dc.isTypedArray,fc=pc?(uc=pc,function(e){return uc(e)}):function(e){return ql(e)&&oc(e.length)&&!!ic[pl(e)]},hc=Object.prototype.hasOwnProperty;var mc=Object.prototype,vc=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),gc=Object.prototype.hasOwnProperty;function bc(e){return null!=(t=e)&&oc(t.length)&&!hl(t)?function(e,t){var n=Wl(e),r=!n&&Ql(e),a=!n&&!r&&nc(e),o=!n&&!r&&!a&&fc(e),i=n||r||a||o,u=i?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],s=u.length;for(var l in e)!t&&!hc.call(e,l)||i&&("length"==l||a&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ac(l,s))||u.push(l);return u}(e):function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||mc))return vc(e);var t,n,r=[];for(var a in Object(e))gc.call(e,a)&&"constructor"!=a&&r.push(a);return r}(e);var t}function yc(e){return function(e,t,n){var r=t(e);return Wl(e)?r:function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}(r,n(e))}(e,bc,Gl)}var xc=Object.prototype.hasOwnProperty,kc=Sl(al,"DataView"),wc=Sl(al,"Promise"),Cc=Sl(al,"Set"),Dc=Sl(al,"WeakMap"),Ec=yl(kc),Sc=yl(Il),Ic=yl(wc),Fc=yl(Cc),Tc=yl(Dc),Nc=pl;(kc&&"[object DataView]"!=Nc(new kc(new ArrayBuffer(1)))||Il&&"[object Map]"!=Nc(new Il)||wc&&"[object Promise]"!=Nc(wc.resolve())||Cc&&"[object Set]"!=Nc(new Cc)||Dc&&"[object WeakMap]"!=Nc(new Dc))&&(Nc=function(e){var t=pl(e),n="[object Object]"==t?e.constructor:void 0,r=n?yl(n):"";if(r)switch(r){case Ec:return"[object DataView]";case Sc:return"[object Map]";case Ic:return"[object Promise]";case Fc:return"[object Set]";case Tc:return"[object WeakMap]"}return t});var Ac=Nc,Rc="[object Object]",Oc=Object.prototype.hasOwnProperty;function Zc(e,t,n,r,a){return e===t||(null==e||null==t||!ql(e)&&!ql(t)?e!=e&&t!=t:function(e,t,n,r,a,o){var i=Wl(e),u=Wl(t),s=i?"[object Array]":Ac(e),l=u?"[object Array]":Ac(t),c=(s="[object Arguments]"==s?Rc:s)==Rc,d=(l="[object Arguments]"==l?Rc:l)==Rc,p=s==l;if(p&&nc(e)){if(!nc(t))return!1;i=!0,c=!1}if(p&&!c)return o||(o=new Zl),i||fc(e)?Ll(e,t,n,r,a,o):function(e,t,n,r,a,o,i){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new _l(e),new _l(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Qs(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var u=Bl;case"[object Set]":var s=1&r;if(u||(u=zl),e.size!=t.size&&!s)return!1;var l=i.get(e);if(l)return l==t;r|=2,i.set(e,t);var c=Ll(u(e),u(t),r,a,o,i);return i.delete(e),c;case"[object Symbol]":if(Vl)return Vl.call(e)==Vl.call(t)}return!1}(e,t,s,n,r,a,o);if(!(1&n)){var f=c&&Oc.call(e,"__wrapped__"),h=d&&Oc.call(t,"__wrapped__");if(f||h){var m=f?e.value():e,v=h?t.value():t;return o||(o=new Zl),a(m,v,n,r,o)}}return!!p&&(o||(o=new Zl),function(e,t,n,r,a,o){var i=1&n,u=yc(e),s=u.length;if(s!=yc(t).length&&!i)return!1;for(var l=s;l--;){var c=u[l];if(!(i?c in t:xc.call(t,c)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var p=!0;o.set(e,t),o.set(t,e);for(var f=i;++l<s;){var h=e[c=u[l]],m=t[c];if(r)var v=i?r(m,h,c,t,e,o):r(h,m,c,e,t,o);if(!(void 0===v?h===m||a(h,m,n,r,o):v)){p=!1;break}f||(f="constructor"==c)}if(p&&!f){var g=e.constructor,b=t.constructor;g==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,r,a,o))}(e,t,n,r,Zc,a))}function Mc(){try{var e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(t){return!1}}function Pc(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}var Lc=function(e,t,n){return Math.max(t,Math.min(n,e))},_c=(0,b.ZP)(Ln,{name:"MuiDataGrid",slot:"EditInputCell",overridesResolver:function(e,t){return t.editInputCell}})((function(e){var t=e.theme;return Object.assign(Object.assign({},t.typography.body2),{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}})}));function Bc(e){var t=e.id,n=e.value,r=(e.formattedValue,e.api),a=e.field,o=(e.row,e.rowNode,e.colDef),i=(e.cellMode,e.isEditable,e.tabIndex,e.hasFocus),u=(e.getValue,vu(e,["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","getValue"])),s=p.useRef(),c=p.useState(n),d=(0,l.Z)(c,2),f=d[0],h=d[1],m=function(e){var t=e.classes;return(0,g.Z)({root:["editInputCell"]},cu,t)}({classes:fu().classes}),v=p.useMemo((function(){return(0,T.Z)(r.setEditCellValue,500)}),[r.setEditCellValue]),b=p.useCallback((function(e){var n=e.target.value;h(n),v({id:t,field:a,value:n},e)}),[v,a,t]);return p.useEffect((function(){h(n)}),[n]),w((function(){i&&s.current.focus()}),[i]),p.createElement(_c,Object.assign({inputRef:s,className:m.root,fullWidth:!0,type:"number"===o.type?o.type:"text",value:null!=f?f:"",onChange:b},u))}var zc=function(e,t){var n=e.indexOf(t);return t&&-1!==n&&n+1!==e.length?e[n+1]:e[0]},jc=function(e,t){return null==e&&null!=t?-1:null==t&&null!=e?1:null==e&&null==t?0:null},Vc=new Intl.Collator,Wc=function(e,t){var n=jc(e,t);return null!==n?n:Number(e)-Number(t)},Hc=function(e,t){var n=jc(e,t);return null!==n?n:e>t?1:e<t?-1:0},Uc={width:100,minWidth:50,maxWidth:1/0,hide:!1,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,editable:!1,sortComparator:function(e,t){var n=jc(e,t);return null!==n?n:"string"==typeof e?Vc.compare(e.toString(),t.toString()):e-t},type:"string",align:"left",filterOperators:[{value:"contains",getApplyFilterFn:function(e){if(!e.value)return null;var t=new RegExp(Pc(e.value),"i");return function(e){var n=e.value;return t.test(n&&n.toString()||"")}},InputComponent:js},{value:"equals",getApplyFilterFn:function(e){if(!e.value)return null;var t=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return function(n){var r=n.value;return 0===t.compare(e.value,r&&r.toString()||"")}},InputComponent:js},{value:"startsWith",getApplyFilterFn:function(e){if(!e.value)return null;var t=new RegExp("^".concat(Pc(e.value),".*$"),"i");return function(e){var n=e.value;return t.test(n&&n.toString()||"")}},InputComponent:js},{value:"endsWith",getApplyFilterFn:function(e){if(!e.value)return null;var t=new RegExp(".*".concat(Pc(e.value),"$"),"i");return function(e){var n=e.value;return t.test(n&&n.toString()||"")}},InputComponent:js},{value:"isEmpty",getApplyFilterFn:function(){return function(e){var t=e.value;return""===t||null==t}}},{value:"isNotEmpty",getApplyFilterFn:function(){return function(e){var t=e.value;return""!==t&&null!=t}}},{label:"is any of",value:"isAnyOf",getApplyFilterFn:function(e){if(!Array.isArray(e.value)||0===e.value.length)return null;var t=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return function(n){var r=n.value;return null!=r&&e.value.some((function(e){return 0===t.compare(e,r.toString()||"")}))}},InputComponent:Vs}],renderEditCell:function(e){return p.createElement(Bc,Object.assign({},e))}},Gc=(0,b.ZP)(bt,{name:"MuiDataGrid",slot:"Menu",overridesResolver:function(e,t){return t.menu}})((function(e){var t=e.theme;return(0,r.Z)({zIndex:t.zIndex.modal},"& .".concat(du.menuList),{outline:0})})),qc={"bottom-start":"top left","bottom-end":"top right"},Kc=function(e){var t,n=e.open,r=e.target,a=e.onClickAway,o=e.children,i=e.position,u=e.className,s=e.onExited,l=vu(e,["open","target","onClickAway","children","position","className","onExited"]),c=p.useRef(r),d=p.useRef(n),f=fu(),h=function(e){var t=e.classes;return(0,g.Z)({root:["menu"]},cu,t)}({classes:f.classes});return p.useEffect((function(){d.current&&c.current&&c.current.focus(),d.current=n,c.current=r}),[n,r]),p.createElement(Gc,Object.assign({as:f.components.BasePopper,className:(0,_.Z)(u,h.root),open:n,anchorEl:r,transition:!0,placement:i},l,null===(t=f.componentsProps)||void 0===t?void 0:t.basePopper),(function(e){var t,n=e.TransitionProps,r=e.placement;return p.createElement(Ba,{onClickAway:a},p.createElement(Vr,Object.assign({},n,{style:{transformOrigin:qc[r]},onExited:(t=null==n?void 0:n.onExited,function(e){t&&t(),s&&s(e)})}),p.createElement(Ct.Z,null,o)))}))},Xc=function(e){var t=p.useState(!1),n=(0,l.Z)(t,2),r=n[0],a=n[1],o=p.useRef(null),i=D(),u=D(),s=fu(),c=e.colDef,d=e.id,f=e.api,h=e.position,m=void 0===h?"bottom-end":h;if(!function(e){return"function"==typeof e.getActions}(c))throw new Error("MUI: Missing the `getActions` property in the `GridColDef`.");var v=function(){return a(!1)},g=c.getActions(f.getRowParams(d)),b=g.filter((function(e){return!e.props.showInMenu})),y=g.filter((function(e){return e.props.showInMenu}));return p.createElement("div",{className:du.actionsCell},b.map((function(e,t){return p.cloneElement(e,{key:t})})),y.length>0&&p.createElement(Tt,{ref:o,id:u,"aria-label":f.getLocaleText("actionsCellMore"),"aria-controls":i,"aria-expanded":r?"true":void 0,"aria-haspopup":"true",size:"small",onClick:function(){return a(!0)}},p.createElement(s.components.MoreActionsIcon,{fontSize:"small"})),y.length>0&&p.createElement(Kc,{id:i,onClickAway:v,onClick:v,open:r,target:o.current,position:m,"aria-labelledby":u},p.createElement(Zr,{className:du.menuList},y.map((function(e,t){return p.cloneElement(e,{key:t})})))))},Yc=Object.assign(Object.assign({},Uc),{sortable:!1,filterable:!1,width:100,align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:function(e){return p.createElement(Xc,Object.assign({},e))}}),$c=p.memo((function(e){e.id;var t=e.value,n=(e.formattedValue,e.api),r=(e.field,e.row,e.rowNode,e.colDef,e.cellMode,e.isEditable,e.hasFocus,e.tabIndex,e.getValue,vu(e,["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex","getValue"])),a=fu(),o=function(e){var t=e.classes;return(0,g.Z)({root:["booleanCell"]},cu,t)}({classes:a.classes}),i=p.useMemo((function(){return t?a.components.BooleanCellTrueIcon:a.components.BooleanCellFalseIcon}),[a.components.BooleanCellFalseIcon,a.components.BooleanCellTrueIcon,t]);return p.createElement(i,Object.assign({fontSize:"small",className:o.root,titleAccess:n.getLocaleText(t?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":Boolean(t)},r))}));function Qc(e){var t,n=e.id,r=e.value,a=(e.formattedValue,e.api),o=e.field,i=(e.row,e.rowNode,e.colDef,e.cellMode,e.isEditable,e.tabIndex,e.className),u=(e.getValue,e.hasFocus),s=vu(e,["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","getValue","hasFocus"]),c=p.useRef(null),d=D(),f=p.useState(r),h=(0,l.Z)(f,2),m=h[0],v=h[1],b=fu(),y=function(e){var t=e.classes;return(0,g.Z)({root:["editBooleanCell"]},cu,t)}({classes:b.classes}),x=p.useCallback((function(e){var t=e.target.checked;v(t),a.setEditCellValue({id:n,field:o,value:t},e)}),[a,o,n]);return p.useEffect((function(){v(r)}),[r]),w((function(){u&&c.current.focus()}),[u]),p.createElement("label",Object.assign({htmlFor:d,className:(0,_.Z)(y.root,i)},s),p.createElement(b.components.BaseCheckbox,Object.assign({id:d,inputRef:c,checked:Boolean(m),onChange:x,size:"small"},null===(t=b.componentsProps)||void 0===t?void 0:t.baseCheckbox)))}var Jc=Object.assign(Object.assign({},Uc),{type:"boolean",align:"center",headerAlign:"center",renderCell:function(e){return e.rowNode.isAutoGenerated?"":p.createElement($c,Object.assign({},e))},renderEditCell:function(e){return p.createElement(Qc,Object.assign({},e))},sortComparator:Wc,valueFormatter:function(e){var t=e.value,n=e.api;return t?n.getLocaleText("booleanCellTrueLabel"):n.getLocaleText("booleanCellFalseLabel")},filterOperators:[{value:"is",getApplyFilterFn:function(e){if(!e.value)return null;var t="true"===e.value;return function(e){var n=e.value;return Boolean(n)===t}},InputComponent:ms}]}),ed=function(e){return"Escape"===e},td=function(e){return"Enter"===e},nd=function(e){return"Tab"===e},rd=function(e){return" "===e},ad=function(e){return"Delete"===e||"Backspace"===e},od=/^((?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])|(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])|(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])|(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDEC0-\uDEC9\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9])|[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]|(?:[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDD-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF73\uDF80-\uDFD8\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6\uDF00-\uDF92\uDF94-\uDFCA])|(?:[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]))$/i,id=function(e){return od.test(e)},ud=["Enter","Escape","Tab"],sd=["Enter","Tab"],ld=function(e){return sd.indexOf(e)>-1},cd=function(e){return function(e){return"Home"===e||"End"===e}(e)||function(e){return 0===e.indexOf("Arrow")}(e)||function(e){return 0===e.indexOf("Page")}(e)||rd(e)},dd=function(e){return!!e.key},pd=function(e){return nd(e)||ed(e)},fd=p.forwardRef((function(e,t){var n,r=e.field,a=e.id,o=e.value,i=e.tabIndex,u=e.hasFocus,s=lu(),l=fu(),c=function(e){var t=e.classes;return(0,g.Z)({root:["checkboxInput"]},cu,t)}({classes:l.classes}),d=p.useRef(null),f=(0,I.Z)(d,t),h=s.current.getCellElement(a,r);p.useLayoutEffect((function(){0===i&&h&&(h.tabIndex=-1)}),[h,i]),p.useLayoutEffect((function(){u&&d.current&&d.current.querySelector("input").focus()}),[u]);var m=p.useCallback((function(t){rd(t.key)&&t.stopPropagation(),cd(t.key)&&!t.shiftKey&&s.current.publishEvent(ou.cellNavigationKeyDown,e,t)}),[s,e]),v=!l.isRowSelectable||l.isRowSelectable(s.current.getRowParams(a));return p.createElement(l.components.BaseCheckbox,Object.assign({ref:f,tabIndex:i,checked:!!o,onChange:function(e){var t={value:e.target.checked,id:a};s.current.publishEvent(ou.rowSelectionCheckboxChange,t,e)},onClick:function(e){e.stopPropagation()},className:c.root,color:"primary",inputProps:{"aria-label":"Select Row checkbox"},onKeyDown:m,disabled:!v},null===(n=l.componentsProps)||void 0===n?void 0:n.baseCheckbox))})),hd=p.memo(fd),md=function(e){return e.focus},vd=L(md,(function(e){return e.cell})),gd=L(md,(function(e){return e.columnHeader})),bd=function(e){return e.tabIndex},yd=L(bd,(function(e){return e.cell})),xd=L(bd,(function(e){return e.columnHeader})),kd=function(e){return e.pagination},wd=L(kd,(function(e){return e.page})),Cd=L(kd,(function(e){return e.pageSize})),Dd=(L(kd,(function(e){return e.pageCount})),L(kd,Du,Su,qu,Xu,(function(e,t,n,r,a){var o=a.length,i=Math.min(e.pageSize*e.page,o-1),u=Math.min(i+e.pageSize-1,o-1);if(-1===i||-1===u)return null;if(n<2)return{firstRowIndex:i,lastRowIndex:u};for(var s=a[i],l=u-i+1,c=r.findIndex((function(e){return e.id===s.id})),d=c,p=0;d<r.length&&p<=l;){var f=t[r[d].id].depth;(p<l||f>0)&&(d+=1),0===f&&(p+=1)}return{firstRowIndex:c,lastRowIndex:d-1}}))),Ed=L(qu,Dd,(function(e,t){return t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]})),Sd=L(Ku,Dd,(function(e,t){return t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]})),Id=p.forwardRef((function(e,t){var n,r=p.useState(!1),a=(0,l.Z)(r,2)[1],o=lu(),i=fu(),u=function(e){var t=e.classes;return(0,g.Z)({root:["checkboxInput"]},cu,t)}({classes:i.classes}),s=yu(o,xd),c=yu(o,ts),d=yu(o,Ku),f=yu(o,Sd),h=p.useMemo((function(){return"function"==typeof i.isRowSelectable?c.filter((function(e){return i.isRowSelectable(o.current.getRowParams(e))})):c}),[o,i.isRowSelectable,c]),m=p.useMemo((function(){return(i.pagination&&i.checkboxSelectionVisibleOnly?f:d).reduce((function(e,t){return e[t]=!0,e}),{})}),[i.pagination,i.checkboxSelectionVisibleOnly,f,d]),v=p.useMemo((function(){return h.filter((function(e){return m[e]})).length}),[h,m]),b=v>0&&v<Object.keys(m).length,y=v>0,x=null!==s&&s.field===e.field?0:-1;p.useLayoutEffect((function(){var t=o.current.getColumnHeaderElement(e.field);0===x&&t&&(t.tabIndex=-1)}),[x,o,e.field]);var k=p.useCallback((function(t){" "===t.key&&o.current.publishEvent(ou.headerSelectionCheckboxChange,{value:!y}),cd(t.key)&&!t.shiftKey&&o.current.publishEvent(ou.columnHeaderNavigationKeyDown,e,t)}),[o,e,y]),w=p.useCallback((function(){a((function(e){return!e}))}),[]);return p.useEffect((function(){return o.current.subscribeEvent(ou.selectionChange,w)}),[o,w]),p.createElement(i.components.BaseCheckbox,Object.assign({ref:t,indeterminate:b,checked:y,onChange:function(e){var t={value:e.target.checked};o.current.publishEvent(ou.headerSelectionCheckboxChange,t)},className:u.root,color:"primary",inputProps:{"aria-label":"Select All Rows checkbox"},tabIndex:x,onKeyDown:k},null===(n=i.componentsProps)||void 0===n?void 0:n.baseCheckbox))})),Fd=Object.assign(Object.assign({},Jc),{field:"__check__",type:"checkboxSelection",width:50,resizable:!1,sortable:!1,filterable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,valueGetter:function(e){return void 0!==as(e.api.state)[e.id]},renderHeader:function(e){return p.createElement(Id,Object.assign({},e))},renderCell:function(e){return p.createElement(hd,Object.assign({},e))}});function Td(e){var t=e.id,n=e.value,r=(e.formattedValue,e.api),a=e.field,o=(e.row,e.rowNode,e.colDef),i=(e.cellMode,e.isEditable,e.tabIndex,e.hasFocus),u=(e.getValue,e.inputProps),s=vu(e,["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","getValue","inputProps"]),c="dateTime"===o.type,d=p.useRef(),f=p.useMemo((function(){var e,t;return t=null==(e=null==n?null:n instanceof Date?n:new Date((null!=n?n:"").toString()))||Number.isNaN(e.getTime())?"":new Date(e.getTime()-60*e.getTimezoneOffset()*1e3).toISOString().substr(0,c?16:10),{parsed:e,formatted:t}}),[n,c]),h=p.useState(f),m=(0,l.Z)(h,2),v=m[0],b=m[1],y=function(e){var t=e.classes;return(0,g.Z)({root:["editInputCell"]},cu,t)}({classes:fu().classes}),x=p.useCallback((function(e){var n,o=e.target.value;if(""===o)n=null;else{var i=o.split("T"),u=(0,l.Z)(i,2),s=u[0],c=u[1],d=s.split("-"),p=(0,l.Z)(d,3),f=p[0],h=p[1],m=p[2];if((n=new Date).setFullYear(f,Number(h)-1,m),n.setHours(0,0,0,0),c){var v=c.split(":"),g=(0,l.Z)(v,2),y=g[0],x=g[1];n.setHours(Number(y),Number(x),0,0)}}b({parsed:n,formatted:o}),r.setEditCellValue({id:t,field:a,value:n},e)}),[r,a,t]);return p.useEffect((function(){b((function(e){var t,n;return f.parsed!==e.parsed&&(null===(t=f.parsed)||void 0===t?void 0:t.getTime())!==(null===(n=e.parsed)||void 0===n?void 0:n.getTime())?f:e}))}),[f]),w((function(){i&&d.current.focus()}),[i]),p.createElement(Ln,Object.assign({inputRef:d,fullWidth:!0,className:y.root,type:c?"datetime-local":"date",inputProps:Object.assign({max:c?"9999-12-31T23:59":"9999-12-31"},u),value:v.formatted,onChange:x},s))}var Nd=function(e){return p.createElement(Td,Object.assign({},e))};var Ad,Rd,Od,Zd=Object.assign(Object.assign({},Uc),{type:"date",sortComparator:Hc,valueFormatter:function(e){var t=e.value;return t instanceof Date?t.toLocaleDateString():t},filterOperators:Bs(),renderEditCell:Nd}),Md=Object.assign(Object.assign({},Uc),{type:"dateTime",sortComparator:Hc,valueFormatter:function(e){var t=e.value;return t instanceof Date?t.toLocaleString():t},filterOperators:Bs(!0),renderEditCell:Nd}),Pd=Object.assign(Object.assign({},Uc),{type:"number",align:"right",headerAlign:"right",sortComparator:Wc,valueParser:function(e){return""===e?null:Number(e)},valueFormatter:function(e){var t=e.value;return t&&function(e){return"number"==typeof e}(t)&&t.toLocaleString()||t},filterOperators:Hs()});!function(e){e.Cell="cell",e.Row="row"}(Ad||(Ad={})),function(e){e.Edit="edit",e.View="view"}(Rd||(Rd={})),function(e){e.Edit="edit",e.View="view"}(Od||(Od={}));var Ld=function(e){return"object"==typeof e?p.createElement(Ka,{key:e.value,value:e.value},e.label):p.createElement(Ka,{key:e,value:e},e)};function _d(e){var t,n,r=this,a=e.id,o=e.value,i=(e.formattedValue,e.api),u=e.field,s=e.row,c=(e.rowNode,e.colDef),f=(e.cellMode,e.isEditable,e.tabIndex,e.className,e.getValue,e.hasFocus),h=e.error,m=vu(e,["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","getValue","hasFocus","error"]),v=p.useRef(),g=p.useRef(),b=fu(),y=p.useState("cell"===b.editMode),x=(0,l.Z)(y,2),k=x[0],C=x[1];return n="function"==typeof c.valueOptions?c.valueOptions({id:a,row:s,field:u}):c.valueOptions,c.valueFormatter&&(n=n.map((function(e){if("object"==typeof e)return e;var t={field:u,api:i,value:e};return{value:e,label:String(c.valueFormatter(t))}}))),w((function(){f&&g.current.focus()}),[f]),p.createElement(b.components.BaseSelect,Object.assign({ref:v,inputRef:g,value:o,onChange:function(e){return gu(r,void 0,void 0,d().mark((function t(){var n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(C(!1),i.setEditCellValue({id:a,field:u,value:e.target.value},e),b.editMode!==Ad.Row){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Promise.resolve(i.commitCellChange({id:a,field:u},e));case 4:if(t.t0=t.sent,!t.t0){t.next=7;break}t.t0=(i.setCellMode(a,u,"view"),e.key);case 7:if(!t.t0){t.next=10;break}n=i.getCellParams(a,u),i.publishEvent(ou.cellNavigationKeyDown,n,e);case 10:case"end":return t.stop()}}),t)})))},open:k,onOpen:function(){C(!0)},MenuProps:{onClose:function(e,t){b.editMode!==Ad.Row?("backdropClick"===t||ed(e.key))&&i.setCellMode(a,u,"view"):C(!1)}},error:h,fullWidth:!0},m,null===(t=b.componentsProps)||void 0===t?void 0:t.baseSelect),n.map(Ld))}var Bd,zd,jd,Vd,Wd=Object.assign(Object.assign({},Uc),{type:"singleSelect",renderEditCell:function(e){return p.createElement(_d,Object.assign({},e))},filterOperators:[{value:"is",getApplyFilterFn:function(e){return null==e.value||""===e.value?null:function(t){var n=t.value;return $s(n)===$s(e.value)}},InputComponent:Gs},{value:"not",getApplyFilterFn:function(e){return null==e.value||""===e.value?null:function(t){var n=t.value;return $s(n)!==$s(e.value)}},InputComponent:Gs},{label:"is any of",value:"isAnyOf",getApplyFilterFn:function(e){if(!Array.isArray(e.value)||0===e.value.length)return null;var t=e.value.map($s);return function(e){var n=e.value;return t.includes($s(n))}},InputComponent:Ys}]}),Hd=function(){var e={string:Uc,number:Pd,date:Zd,dateTime:Md,boolean:Jc,singleSelect:Wd,actions:Yc};return e.__default__=Uc,e},Ud="client",Gd="server";!function(e){e.And="and",e.Or="or"}(Bd||(Bd={})),function(e){e.left="left",e.right="right"}(zd||(zd={})),function(e){e.Compact="compact",e.Standard="standard",e.Comfortable="comfortable"}(jd||(jd={}));var qd=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:function(e,t){return[(0,r.Z)({},"&.".concat(du.autoHeight),t.autoHeight),(0,r.Z)({},"& .".concat(du.editBooleanCell),t.editBooleanCell),(0,r.Z)({},"& .".concat(du["cell--editing"]),t["cell--editing"]),(0,r.Z)({},"& .".concat(du["cell--textCenter"]),t["cell--textCenter"]),(0,r.Z)({},"& .".concat(du["cell--textLeft"]),t["cell--textLeft"]),(0,r.Z)({},"& .".concat(du["cell--textRight"]),t["cell--textRight"]),(0,r.Z)({},"& .".concat(du["cell--withRenderer"]),t["cell--withRenderer"]),(0,r.Z)({},"& .".concat(du.cell),t.cell),(0,r.Z)({},"& .".concat(du.cellCheckbox),t.cellCheckbox),(0,r.Z)({},"& .".concat(du.checkboxInput),t.checkboxInput),(0,r.Z)({},"& .".concat(du["columnHeader--alignCenter"]),t["columnHeader--alignCenter"]),(0,r.Z)({},"& .".concat(du["columnHeader--alignLeft"]),t["columnHeader--alignLeft"]),(0,r.Z)({},"& .".concat(du["columnHeader--alignRight"]),t["columnHeader--alignRight"]),(0,r.Z)({},"& .".concat(du["columnHeader--dragging"]),t["columnHeader--dragging"]),(0,r.Z)({},"& .".concat(du["columnHeader--moving"]),t["columnHeader--moving"]),(0,r.Z)({},"& .".concat(du["columnHeader--numeric"]),t["columnHeader--numeric"]),(0,r.Z)({},"& .".concat(du["columnHeader--sortable"]),t["columnHeader--sortable"]),(0,r.Z)({},"& .".concat(du["columnHeader--sorted"]),t["columnHeader--sorted"]),(0,r.Z)({},"& .".concat(du.columnHeader),t.columnHeader),(0,r.Z)({},"& .".concat(du.columnHeaderCheckbox),t.columnHeaderCheckbox),(0,r.Z)({},"& .".concat(du.columnHeaderDraggableContainer),t.columnHeaderDraggableContainer),(0,r.Z)({},"& .".concat(du.columnHeaderTitleContainer),t.columnHeaderTitleContainer),(0,r.Z)({},"& .".concat(du["columnSeparator--resizable"]),t["columnSeparator--resizable"]),(0,r.Z)({},"& .".concat(du["columnSeparator--resizing"]),t["columnSeparator--resizing"]),(0,r.Z)({},"& .".concat(du.columnSeparator),t.columnSeparator),(0,r.Z)({},"& .".concat(du.filterIcon),t.filterIcon),(0,r.Z)({},"& .".concat(du.iconSeparator),t.iconSeparator),(0,r.Z)({},"& .".concat(du.menuIcon),t.menuIcon),(0,r.Z)({},"& .".concat(du.menuIconButton),t.menuIconButton),(0,r.Z)({},"& .".concat(du.menuOpen),t.menuOpen),(0,r.Z)({},"& .".concat(du.menuList),t.menuList),(0,r.Z)({},"& .".concat(du["row--editable"]),t["row--editable"]),(0,r.Z)({},"& .".concat(du["row--editing"]),t["row--editing"]),(0,r.Z)({},"& .".concat(du.row),t.row),(0,r.Z)({},"& .".concat(du.sortIcon),t.sortIcon),(0,r.Z)({},"& .".concat(du.withBorder),t.withBorder),(0,r.Z)({},"& .".concat(du.treeDataGroupingCell),t.treeDataGroupingCell),(0,r.Z)({},"& .".concat(du.treeDataGroupingCellToggle),t.treeDataGroupingCellToggle),t.root]}})((function(e){var t,n,a=e.theme,o="light"===a.palette.mode?(0,y.$n)((0,y.Fq)(a.palette.divider,1),.88):(0,y._j)((0,y.Fq)(a.palette.divider,1),.68);return Object.assign(Object.assign({flex:1,boxSizing:"border-box",position:"relative",border:"1px solid ".concat(o),borderRadius:a.shape.borderRadius,color:a.palette.text.primary},a.typography.body2),(n={outline:"none",height:"100%",display:"flex",flexDirection:"column"},(0,r.Z)(n,"&.".concat(du.autoHeight),{height:"auto"}),(0,r.Z)(n,"& .".concat(du.columnHeader,", & .").concat(du.cell),{WebkitTapHighlightColor:"transparent",lineHeight:null,padding:"0 10px",boxSizing:"border-box"}),(0,r.Z)(n,"& .".concat(du.columnHeader,":focus-within, & .").concat(du.cell,":focus-within"),{outline:"solid ".concat((0,y.Fq)(a.palette.primary.main,.5)," 1px"),outlineWidth:1,outlineOffset:-1}),(0,r.Z)(n,"& .".concat(du.columnHeader,":focus, & .").concat(du.cell,":focus"),{outline:"solid ".concat(a.palette.primary.main," 1px")}),(0,r.Z)(n,"& .".concat(du.columnHeaderCheckbox,", & .").concat(du.cellCheckbox),{padding:0,justifyContent:"center",alignItems:"center"}),(0,r.Z)(n,"& .".concat(du.columnHeader),{position:"relative",display:"flex",alignItems:"center"}),(0,r.Z)(n,"& .".concat(du["columnHeader--sorted"]," .").concat(du.iconButtonContainer),{visibility:"visible",width:"auto"}),(0,r.Z)(n,"& .".concat(du.columnHeader,":not(.").concat(du["columnHeader--sorted"],") .").concat(du.sortIcon),{opacity:0,transition:a.transitions.create(["opacity"],{duration:a.transitions.duration.shorter})}),(0,r.Z)(n,"& .".concat(du.columnHeader,":not(.").concat(du["columnHeader--sorted"],"):hover .").concat(du.sortIcon),{opacity:.5}),(0,r.Z)(n,"& .".concat(du.columnHeaderTitleContainer),{display:"flex",alignItems:"center",minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden",padding:"0 6px"}),(0,r.Z)(n,"& .".concat(du.sortIcon,", & .").concat(du.filterIcon),{fontSize:"inherit"}),(0,r.Z)(n,"& .".concat(du["columnHeader--sortable"]),{cursor:"pointer"}),(0,r.Z)(n,"& .".concat(du["columnHeader--alignCenter"]," .").concat(du.columnHeaderTitleContainer),{justifyContent:"center"}),(0,r.Z)(n,"& .".concat(du["columnHeader--alignRight"]," .").concat(du.columnHeaderDraggableContainer,", & .").concat(du["columnHeader--alignRight"]," .").concat(du.columnHeaderTitleContainer),{flexDirection:"row-reverse"}),(0,r.Z)(n,"& .".concat(du["columnHeader--alignCenter"]," .").concat(du.menuIcon,", & .").concat(du["columnHeader--alignRight"]," .").concat(du.menuIcon),{marginRight:"auto",marginLeft:-6}),(0,r.Z)(n,"& .".concat(du["columnHeader--moving"]),{backgroundColor:a.palette.action.hover}),(0,r.Z)(n,"& .".concat(du.columnSeparator),{position:"absolute",zIndex:100,display:"flex",flexDirection:"column",justifyContent:"center",color:o}),(0,r.Z)(n,"& .".concat(du["columnSeparator--sideLeft"]),{left:-12}),(0,r.Z)(n,"& .".concat(du["columnSeparator--sideRight"]),{right:-12}),(0,r.Z)(n,"& .".concat(du["columnSeparator--resizable"]),(0,r.Z)({cursor:"col-resize",touchAction:"none","&:hover":{color:a.palette.text.primary,"@media (hover: none)":{color:o}}},"&.".concat(du["columnSeparator--resizing"]),{color:a.palette.text.primary})),(0,r.Z)(n,"& .".concat(du.iconSeparator),{color:"inherit"}),(0,r.Z)(n,"& .".concat(du.menuIcon),{width:0,visibility:"hidden",fontSize:20,marginRight:-6,display:"flex",alignItems:"center"}),(0,r.Z)(n,"& .".concat(du.columnHeader,":hover"),(t={},(0,r.Z)(t,"& .".concat(du.iconButtonContainer),{visibility:"visible",width:"auto"}),(0,r.Z)(t,"& .".concat(du.menuIcon),{width:"auto",visibility:"visible"}),t)),(0,r.Z)(n,".".concat(du.menuOpen),{visibility:"visible",width:"auto"}),(0,r.Z)(n,"& .".concat(du.row),{display:"flex",width:"fit-content",breakInside:"avoid","&:hover, &.Mui-hovered":{backgroundColor:a.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:(0,y.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:(0,y.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,y.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity)}}}}),(0,r.Z)(n,"& .".concat(du.cell),{display:"flex",alignItems:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",borderBottom:"1px solid ".concat(o)}),(0,r.Z)(n,"& .".concat(du.cell,".").concat(du["cell--editing"]),{padding:1,display:"flex",boxShadow:a.shadows[2],backgroundColor:a.palette.background.paper,"&:focus-within":{outline:"solid ".concat(a.palette.primary.main," 1px"),outlineOffset:"-1px"}}),(0,r.Z)(n,"& .".concat(du["row--editing"]),{boxShadow:a.shadows[2]}),(0,r.Z)(n,"& .".concat(du["row--editing"]," .").concat(du.cell),{boxShadow:a.shadows[0],backgroundColor:a.palette.background.paper}),(0,r.Z)(n,"& .".concat(du.editBooleanCell),{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"}),(0,r.Z)(n,"& .".concat(du.booleanCell,'[data-value="true"]'),{color:a.palette.text.secondary}),(0,r.Z)(n,"& .".concat(du.booleanCell,'[data-value="false"]'),{color:a.palette.text.disabled}),(0,r.Z)(n,"& .".concat(du.actionsCell),{display:"inline-flex",alignItems:"center",gridGap:a.spacing(1)}),(0,r.Z)(n,"& .".concat(du.withBorder),{borderRight:"1px solid ".concat(o)}),(0,r.Z)(n,"& .".concat(du["cell--textLeft"]),{justifyContent:"flex-start"}),(0,r.Z)(n,"& .".concat(du["cell--textRight"]),{justifyContent:"flex-end"}),(0,r.Z)(n,"& .".concat(du["cell--textCenter"]),{justifyContent:"center"}),(0,r.Z)(n,"& .".concat(du.columnHeaderDraggableContainer),{display:"flex",width:"100%"}),(0,r.Z)(n,"& .".concat(du["columnHeader--dragging"]),{background:a.palette.background.paper,padding:"0 12px",borderRadius:a.shape.borderRadius,opacity:a.palette.action.disabledOpacity}),(0,r.Z)(n,"& .".concat(du.treeDataGroupingCell),{display:"flex",alignItems:"center",width:"100%"}),(0,r.Z)(n,"& .".concat(du.treeDataGroupingCellToggle),{flex:"0 0 28px",alignSelf:"stretch",marginRight:a.spacing(2)}),(0,r.Z)(n,"& .".concat(du.groupingCriteriaCell),{display:"flex",alignItems:"center",width:"100%"}),(0,r.Z)(n,"& .".concat(du.groupingCriteriaCellToggle),{flex:"0 0 28px",alignSelf:"stretch",marginRight:a.spacing(2)}),n))})),Kd=p.forwardRef((function(e,t){var n,a=fu(),o=e.children,i=e.className,u=vu(e,["children","className"]),s=lu(),l=yu(s,Vu),c=yu(s,ku),d=p.useRef(null),f=(0,I.Z)(d,t);return s.current.rootElementRef=d,p.createElement(Qa,null,p.createElement(qd,Object.assign({ref:f,className:(0,_.Z)(i,null===(n=a.classes)||void 0===n?void 0:n.root,du.root,(0,r.Z)({},du.autoHeight,a.autoHeight)),role:"grid","aria-colcount":l,"aria-rowcount":c,"aria-multiselectable":!a.disableMultipleSelection,"aria-label":a["aria-label"],"aria-labelledby":a["aria-labelledby"]},u),o))})),Xd=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"FooterContainer",overridesResolver:function(e,t){return t.footerContainer}})((function(){return{display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52}})),Yd=p.forwardRef((function(e,t){var n=e.className,r=vu(e,["className"]),a=function(e){var t=e.classes;return(0,g.Z)({root:["footerContainer"]},cu,t)}({classes:fu().classes});return p.createElement(Xd,Object.assign({ref:t,className:(0,_.Z)(a.root,n)},r))})),$d=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"Overlay",overridesResolver:function(e,t){return t.overlay}})((function(e){var t=e.theme;return{display:"flex",position:"absolute",top:0,left:0,right:0,bottom:0,alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:(0,y.Fq)(t.palette.background.default,t.palette.action.disabledOpacity)}})),Qd=p.forwardRef((function(e,t){var n,r,a=e.className,o=e.style,i=vu(e,["className","style"]),u=lu(),s=fu(),c=function(e){var t=e.classes;return(0,g.Z)({root:["overlay"]},cu,t)}({classes:s.classes}),d=yu(u,ss),f=p.useState((function(){var e,t;return null!==(t=null===(e=u.current.getRootDimensions())||void 0===e?void 0:e.viewportInnerSize)&&void 0!==t?t:null})),h=(0,l.Z)(f,2),m=h[0],v=h[1],b=p.useCallback((function(){var e,t;v(null!==(t=null===(e=u.current.getRootDimensions())||void 0===e?void 0:e.viewportInnerSize)&&void 0!==t?t:null)}),[u]);w((function(){return u.current.subscribeEvent(ou.viewportInnerSizeChange,b)}),[u,b]);var y=null!==(n=null==m?void 0:m.height)&&void 0!==n?n:0;return s.autoHeight&&0===y&&(y="auto"),m?p.createElement($d,Object.assign({ref:t,className:(0,_.Z)(c.root,a),style:Object.assign({height:y,width:null!==(r=null==m?void 0:m.width)&&void 0!==r?r:0,top:d,position:"absolute",left:0},o)},i)):null})),Jd=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"ToolbarContainer",overridesResolver:function(e,t){return t.toolbarContainer}})((function(e){return{display:"flex",alignItems:"center",padding:e.theme.spacing(.5,.5,0)}})),ep=p.forwardRef((function(e,t){var n=e.className,r=e.children,a=vu(e,["className","children"]),o=function(e){var t=e.classes;return(0,g.Z)({root:["toolbarContainer"]},cu,t)}({classes:fu().classes});return r?p.createElement(Jd,Object.assign({ref:t,className:(0,_.Z)(n,o.root)},a),r):null})),tp=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"IconButtonContainer",overridesResolver:function(e,t){return t.iconButtonContainer}})((function(){return{display:"flex",visibility:"hidden",width:0}})),np=p.forwardRef((function(e,t){var n=e.className,r=vu(e,["className"]),a=function(e){var t=e.classes;return(0,g.Z)({root:["iconButtonContainer"]},cu,t)}({classes:fu().classes});return p.createElement(tp,Object.assign({ref:t,className:(0,_.Z)(a.root,n)},r))})),rp=p.memo((function(e){var t=e.direction,n=e.index,r=e.sortingOrder,a=lu(),o=fu(),i=function(e){var t=e.classes;return(0,g.Z)({icon:["sortIcon"]},cu,t)}(Object.assign(Object.assign({},e),{classes:o.classes})),u=function(e,t,n,r){var a=e.ColumnUnsortedIcon,o={};return"asc"===t?a=e.ColumnSortedAscendingIcon:"desc"===t?a=e.ColumnSortedDescendingIcon:(a=e.ColumnUnsortedIcon,o.sortingOrder=r),a?p.createElement(a,Object.assign({fontSize:"small",className:n},o)):null}(o.components,t,i.icon,r);if(!u)return null;var s=p.createElement(Tt,{tabIndex:-1,"aria-label":a.current.getLocaleText("columnHeaderSortIconLabel"),title:a.current.getLocaleText("columnHeaderSortIconLabel"),size:"small"},u);return p.createElement(np,null,null!=n&&p.createElement(fo,{badgeContent:n,color:"default"},s),null==n&&s)}));function ap(e,t){return e.closest(".".concat(t))}function op(e){return null!=e&&e.classList.contains(du.cell)}function ip(e){return e.replace(/["\\]/g,"\\$&")}function up(e,t){return e.querySelector(".".concat(du.row,'[data-id="').concat(ip(String(t)),'"]'))}var sp,lp=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle",overridesResolver:function(e,t){return t.columnHeaderTitle}})((function(e){return{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:e.theme.typography.fontWeightMedium}})),cp=p.forwardRef((function(e,t){var n=e.className,r=vu(e,["className"]),a=function(e){var t=e.classes;return(0,g.Z)({root:["columnHeaderTitle"]},cu,t)}({classes:fu().classes});return p.createElement(lp,Object.assign({ref:t,className:(0,_.Z)(a.root,n)},r))}));function dp(e){var t,n=e.label,r=e.description,a=e.columnWidth,o=fu(),i=p.useRef(null),u=p.useState(""),s=(0,l.Z)(u,2),c=s[0],d=s[1];return p.useEffect((function(){if(!r&&i&&i.current){var e=(t=i.current).scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth;d(e?n:"")}var t}),[i,a,r,n]),p.createElement(o.components.BaseTooltip,Object.assign({title:r||c},null===(t=o.componentsProps)||void 0===t?void 0:t.baseTooltip),p.createElement(cp,{ref:i},n))}!function(e){e.Left="left",e.Right="right"}(sp||(sp={}));var pp,fp=p.memo((function(e){e.resizable,e.resizing;var t=e.height,n=e.side,r=void 0===n?sp.Right:n,a=vu(e,["resizable","resizing","height","side"]),o=fu(),i=function(e){var t=e.resizable,n=e.resizing,r=e.classes,a=e.side,o={root:["columnSeparator",t&&"columnSeparator--resizable",n&&"columnSeparator--resizing",a&&"columnSeparator--side".concat((0,N.Z)(a))],icon:["iconSeparator"]};return(0,g.Z)(o,cu,r)}(Object.assign(Object.assign({},e),{side:r,classes:o.classes})),u=p.useCallback((function(e){e.preventDefault(),e.stopPropagation()}),[]);return p.createElement("div",Object.assign({className:i.root,style:{minHeight:t,opacity:o.showColumnRightBorder?0:1}},a,{onClick:u}),p.createElement(o.components.ColumnResizeIcon,{className:i.icon}))})),hp=p.memo((function(e){var t=e.column,n=e.open,r=e.columnMenuId,a=e.columnMenuButtonId,o=e.iconButtonRef,i=lu(),u=fu(),s=function(e){var t=e.classes,n=e.open;return(0,g.Z)({root:["menuIcon",n&&"menuOpen"],button:["menuIconButton"]},cu,t)}(Object.assign(Object.assign({},e),{classes:u.classes})),l=p.useCallback((function(e){e.preventDefault(),e.stopPropagation(),i.current.toggleColumnMenu(t.field)}),[i,t.field]);return p.createElement("div",{className:s.root},p.createElement(Tt,{ref:o,tabIndex:-1,className:s.button,"aria-label":i.current.getLocaleText("columnMenuLabel"),title:i.current.getLocaleText("columnMenuLabel"),size:"small",onClick:l,"aria-expanded":n?"true":void 0,"aria-haspopup":"true","aria-controls":r,id:a},p.createElement(u.components.ColumnMenuIcon,{fontSize:"small"})))})),mp=function(e){return e.preferencePanel};function vp(e){var t,n=e.counter,r=lu(),a=fu(),o=function(e){var t=e.classes;return(0,g.Z)({icon:["filterIcon"]},cu,t)}(Object.assign(Object.assign({},e),{classes:a.classes})),i=p.useCallback((function(e){e.preventDefault(),e.stopPropagation();var t=mp(r.current.state),n=t.open,a=t.openedPanelValue;n&&a===pp.filters?r.current.hideFilterPanel():r.current.showFilterPanel()}),[r]);if(!n)return null;var u=p.createElement(Tt,{onClick:i,color:"default","aria-label":r.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1},p.createElement(a.components.ColumnFilteredIcon,{className:o.icon,fontSize:"small"}));return p.createElement(a.components.BaseTooltip,Object.assign({title:r.current.getLocaleText("columnHeaderFiltersTooltipActive")(n),enterDelay:1e3},null===(t=a.componentsProps)||void 0===t?void 0:t.baseTooltip),p.createElement(np,null,n>1&&p.createElement(fo,{badgeContent:n,color:"default"},u),1===n&&u))}function gp(e){var t=e.columnMenuId,n=e.columnMenuButtonId,r=e.ContentComponent,a=e.contentComponentProps,o=e.field,i=e.open,u=e.target,s=e.onExited,l=lu(),c=l.current.getColumn(o),d=p.useCallback((function(e){e.stopPropagation(),l.current.hideColumnMenu()}),[l]);return u?p.createElement(Kc,{placement:"bottom-"+("right"===c.align?"start":"end"),open:i,target:u,onClickAway:d,onExited:s},p.createElement(r,Object.assign({currentColumn:c,hideMenu:d,open:i,id:t,labelledby:n},a))):null}function bp(e){var t,n,r,a,o=e.column,i=e.columnMenuOpen,u=e.colIndex,s=e.headerHeight,c=e.isResizing,d=e.isLastColumn,f=e.sortDirection,h=e.sortIndex,m=e.filterItemsCounter,v=e.hasFocus,b=e.tabIndex,y=e.extendRowFullWidth,x=e.disableReorder,k=e.separatorSide,w=lu(),C=fu(),E=p.useRef(null),S=D(),I=D(),F=p.useRef(null),T=p.useState(i),N=(0,l.Z)(T,2),A=N[0],R=N[1],O=null!==(t=w.current.getRootDimensions())&&void 0!==t?t:{hasScrollX:!1,hasScrollY:!1},Z=O.hasScrollX,M=O.hasScrollY,P=null;o.renderHeader&&(P=o.renderHeader(w.current.getColumnHeaderParams(o.field)));var L,B=p.useCallback((function(e){return function(t){t.currentTarget.contains(t.target)&&w.current.publishEvent(e,w.current.getColumnHeaderParams(o.field),t)}}),[w,o.field]),z={onClick:B(ou.columnHeaderClick),onDoubleClick:B(ou.columnHeaderDoubleClick),onMouseOver:B(ou.columnHeaderOver),onMouseOut:B(ou.columnHeaderOut),onMouseEnter:B(ou.columnHeaderEnter),onMouseLeave:B(ou.columnHeaderLeave),onKeyDown:B(ou.columnHeaderKeyDown),onFocus:B(ou.columnHeaderFocus),onBlur:B(ou.columnHeaderBlur)},j={onDragStart:B(ou.columnHeaderDragStart),onDragEnter:B(ou.columnHeaderDragEnter),onDragOver:B(ou.columnHeaderDragOver),onDragEnd:B(ou.columnHeaderDragEnd)},V=d?!(d&&Z&&!M)&&!y:C.showColumnRightBorder,W=function(e){var t=e.column,n=e.classes,r=e.isDragging,a=e.sortDirection,o=e.showRightBorder,i=null!=a,u="number"===t.type,s={root:["columnHeader","left"===t.headerAlign&&"columnHeader--alignLeft","center"===t.headerAlign&&"columnHeader--alignCenter","right"===t.headerAlign&&"columnHeader--alignRight",t.sortable&&"columnHeader--sortable",r&&"columnHeader--moving",i&&"columnHeader--sorted",u&&"columnHeader--numeric",o&&"withBorder"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"]};return(0,g.Z)(s,cu,n)}(Object.assign(Object.assign({},e),{classes:C.classes,showRightBorder:V})),H=o.computedWidth;null!=f&&(L="asc"===f?"ascending":"descending"),p.useEffect((function(){A||R(i)}),[A,i]);var U=p.useCallback((function(){R(!1)}),[]),G=!C.disableColumnMenu&&!o.disableColumnMenu&&p.createElement(hp,{column:o,columnMenuId:S,columnMenuButtonId:I,open:A,iconButtonRef:F}),q=null!==(n=o.sortingOrder)&&void 0!==n?n:C.sortingOrder,K=p.createElement(p.Fragment,null,!C.disableColumnFilter&&p.createElement(vp,{counter:m}),o.sortable&&!o.hideSortIcons&&p.createElement(rp,{direction:f,index:h,sortingOrder:q}));p.useLayoutEffect((function(){var e=w.current.state.columnMenu;if(v&&!e.open){var t=E.current.querySelector('[tabindex="0"]');t?t.focus():E.current.focus()}}));var X="function"==typeof o.headerClassName?o.headerClassName({field:o.field,colDef:o}):o.headerClassName;return p.createElement("div",Object.assign({ref:E,className:(0,_.Z)(W.root,X),"data-field":o.field,style:{width:H,minWidth:H,maxWidth:H},role:"columnheader",tabIndex:b,"aria-colindex":u+1,"aria-sort":L},z),p.createElement("div",Object.assign({className:W.draggableContainer,draggable:!C.disableColumnReorder&&!x&&!o.disableReorder},j),p.createElement("div",{className:W.titleContainer},P||p.createElement(dp,{label:null!==(r=o.headerName)&&void 0!==r?r:o.field,description:o.description,columnWidth:H}),K),G),p.createElement(fp,{resizable:!C.disableColumnResize&&!!o.resizable,resizing:c,height:s,onMouseDown:B(ou.columnSeparatorMouseDown),side:k}),p.createElement(gp,{columnMenuId:S,columnMenuButtonId:I,field:o.field,open:i,target:F.current,ContentComponent:C.components.ColumnMenu,contentComponentProps:null===(a=C.componentsProps)||void 0===a?void 0:a.columnMenu,onExited:U}))}!function(e){e.filters="filters",e.columns="columns"}(pp||(pp={}));var yp,xp=function(e){var t=e.onClick,n=lu(),r=fu(),a=p.useCallback((function(e){t(e),n.current.showPreferences(pp.columns)}),[n,t]);return r.disableColumnSelector?null:p.createElement(Ka,{onClick:a},n.current.getLocaleText("columnMenuShowColumns"))},kp=function(e){var t=e.column,n=e.onClick,r=lu(),a=fu(),o=p.useCallback((function(e){n(e),r.current.showFilterPanel(null==t?void 0:t.field)}),[r,null==t?void 0:t.field,n]);return a.disableColumnFilter||!(null==t?void 0:t.filterable)?null:p.createElement(Ka,{onClick:o},r.current.getLocaleText("columnMenuFilter"))},wp=p.forwardRef((function(e,t){var n=e.hideMenu,r=(e.currentColumn,e.open),a=e.id,o=e.labelledby,i=e.className,u=e.children,s=vu(e,["hideMenu","currentColumn","open","id","labelledby","className","children"]),l=p.useCallback((function(e){nd(e.key)&&e.preventDefault(),pd(e.key)&&n(e)}),[n]);return p.createElement(Zr,Object.assign({id:a,ref:t,className:(0,_.Z)(du.menuList,i),"aria-labelledby":o,onKeyDown:l,autoFocus:r},s),u)}));function Cp(e,t,n){var r=cs(e,"useGridApiMethod"),a=p.useRef(t),o=p.useState(Object.keys(t)),i=(0,l.Z)(o,1)[0],u=p.useCallback((function(){e.current&&i.forEach((function(t){e.current.hasOwnProperty(t)||(r.debug("Adding ".concat(n,".").concat(t," to apiRef")),e.current[t]=function(){var e;return(e=a.current)[t].apply(e,arguments)})}))}),[i,n,e,r]);p.useEffect((function(){a.current=t}),[t]),p.useEffect((function(){u()}),[u]),u()}!function(e){e.hydrateColumns="hydrateColumns",e.scrollToIndexes="scrollToIndexes",e.columnMenu="columnMenu",e.canBeReordered="canBeReordered",e.filteringMethod="filteringMethod",e.sortingMethod="sortingMethod"}(yp||(yp={}));var Dp=function(e){var t=p.useRef(!0);t.current&&(t.current=!1,e())},Ep=function(e,t,n){var r=p.useRef(),a=p.useRef("mui-".concat(Math.round(1e9*Math.random()))),o=p.useCallback((function(){r.current=e.current.unstable_registerPreProcessor(t,a.current,n)}),[e,n,t]);Dp((function(){o()}));var i=p.useRef(!0);p.useEffect((function(){return i.current?i.current=!1:o(),function(){r.current&&(r.current(),r.current=null)}}),[o])},Sp=function(e,t){var n={},r=0,a=0,o=[];if(e.all.forEach((function(t){var i,u=Object.assign({},e.lookup[t]);!1===e.columnVisibilityModel[t]?u.computedWidth=0:(u.flex&&u.flex>0?(r+=u.flex,i=u.minWidth,o.push(u)):i=Lc(u.width,u.minWidth,u.maxWidth),a+=i,u.computedWidth=i);n[t]=u})),r>0&&a<t){var i=(t-a)/r;o.forEach((function(e){e.computedWidth=Lc(e.computedWidth+i*e.flex,e.minWidth,e.maxWidth)}))}return Object.assign(Object.assign({},e),{lookup:n})},Ip=function(e){var t,n,r,o,i,u=e.apiRef,s=e.columnsToUpsert,l=e.columnsTypes,c=e.currentColumnVisibilityModel,d=void 0===c?Lu(u.current.state):c,p=e.shouldRegenColumnVisibilityModelFromColumns,f=e.reset;if(f)i={all:[],lookup:{}};else{var h=Ou(u.current.state);i={all:(0,a.Z)(h.all),lookup:Object.assign({},h.lookup)}}s.forEach((function(e){null==i.lookup[e.field]?(i.lookup[e.field]=Object.assign(Object.assign({},function(e,t){return t?e[t]:e.__default__}(l,e.type)),e),i.all.push(e.field)):i.lookup[e.field]=Object.assign(Object.assign({},i.lookup[e.field]),e)}));var m=u.current.unstable_applyPreProcessors(yp.hydrateColumns,i),v={};if(p)if(f)m.all.forEach((function(e){v[e]=!i.lookup[e].hide}));else{var g=Object.assign({},d),b=!1;m.all.forEach((function(e){var t,n=null===(t=d[e])||void 0===t||t,r=!m.lookup[e].hide;r!==n&&(b=!0,g[e]=r)})),v=b?g:d}else v=d;var y=Object.assign(Object.assign({},m),{columnVisibilityModel:v});return Sp(y,null!==(o=null===(r=null===(n=(t=u.current).getRootDimensions)||void 0===n?void 0:n.call(t))||void 0===r?void 0:r.viewportInnerSize.width)&&void 0!==o?o:0)},Fp=function(e){var t=e.column,n=e.onClick,r=lu(),a=fu(),o=p.useRef(),i=1===_u(r.current.state).filter((function(e){return!0!==e.disableColumnMenu})).length,u=p.useCallback((function(e){i||(n(e),o.current=setTimeout((function(){r.current.setColumnVisibility(null==t?void 0:t.field,!1)}),100))}),[r,null==t?void 0:t.field,n,i]);return p.useEffect((function(){return function(){return clearTimeout(o.current)}}),[]),a.disableColumnSelector||!1===t.hideable?null:p.createElement(Ka,{onClick:u,disabled:i},r.current.getLocaleText("columnMenuHideColumn"))},Tp=function(e){var t=e.column,n=e.onClick,r=lu(),a=yu(r,Au),o=p.useMemo((function(){if(!t)return null;var e=a.find((function(e){return e.field===t.field}));return null==e?void 0:e.sort}),[t,a]),i=p.useCallback((function(e){n(e);var a=e.currentTarget.getAttribute("data-value")||null;r.current.sortColumn(t,a)}),[r,t,n]);return t&&t.sortable?p.createElement(p.Fragment,null,p.createElement(Ka,{onClick:i,disabled:null==o},r.current.getLocaleText("columnMenuUnsort")),p.createElement(Ka,{onClick:i,"data-value":"asc",disabled:"asc"===o},r.current.getLocaleText("columnMenuSortAsc")),p.createElement(Ka,{onClick:i,"data-value":"desc",disabled:"desc"===o},r.current.getLocaleText("columnMenuSortDesc"))):null},Np=p.forwardRef((function(e,t){var n=e.hideMenu,r=e.currentColumn,a=lu(),o=[p.createElement(Tp,{onClick:n,column:r}),p.createElement(kp,{onClick:n,column:r}),p.createElement(Fp,{onClick:n,column:r}),p.createElement(xp,{onClick:n,column:r})],i=a.current.unstable_applyPreProcessors(yp.columnMenu,o,r);return p.createElement(wp,Object.assign({ref:t},e),i.map((function(e,t){return p.cloneElement(e,{key:t,onClick:n,column:r})})))})),Ap=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"PanelContent",overridesResolver:function(e,t){return t.panelContent}})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400});function Rp(e){var t=e.className,n=vu(e,["className"]),r=function(e){var t=e.classes;return(0,g.Z)({root:["panelContent"]},cu,t)}({classes:fu().classes});return p.createElement(Ap,Object.assign({className:(0,_.Z)(t,r.root)},n))}var Op=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"PanelFooter",overridesResolver:function(e,t){return t.panelFooter}})((function(e){return{padding:e.theme.spacing(.5),display:"flex",justifyContent:"space-between"}}));function Zp(e){var t=e.className,n=vu(e,["className"]),r=function(e){var t=e.classes;return(0,g.Z)({root:["panelFooter"]},cu,t)}({classes:fu().classes});return p.createElement(Op,Object.assign({className:(0,_.Z)(t,r.root)},n))}var Mp=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"PanelHeader",overridesResolver:function(e,t){return t.panelHeader}})((function(e){return{padding:e.theme.spacing(1)}}));function Pp(e){var t=e.className,n=vu(e,["className"]),r=function(e){var t=e.classes;return(0,g.Z)({root:["panelHeader"]},cu,t)}({classes:fu().classes});return p.createElement(Mp,Object.assign({className:(0,_.Z)(t,r.root)},n))}var Lp=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"PanelWrapper",overridesResolver:function(e,t){return t.panelWrapper}})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),_p=function(){return!0};function Bp(e){var t=e.className,n=vu(e,["className"]),r=function(e){var t=e.classes;return(0,g.Z)({root:["panelWrapper"]},cu,t)}({classes:fu().classes});return p.createElement(Oo.Z,{open:!0,disableEnforceFocus:!0,isEnabled:_p},p.createElement(Lp,Object.assign({tabIndex:-1,className:(0,_.Z)(t,r.root)},n)))}var zp=!1;"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.GRID_EXPERIMENTAL_ENABLED&&Mc()&&window.localStorage.getItem("GRID_EXPERIMENTAL_ENABLED")?zp="true"===window.localStorage.getItem("GRID_EXPERIMENTAL_ENABLED"):"undefined"!=typeof process&&(zp="true"==={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.GRID_EXPERIMENTAL_ENABLED);var jp=zp,Vp={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",errorOverlayDefaultLabel:"An error occurred.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:function(e){return"".concat(e,1!==e?" active filters":" active filter")},toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",columnsPanelTextFieldLabel:"Find column",columnsPanelTextFieldPlaceholder:"Column title",columnsPanelDragIconLabel:"Reorder column",columnsPanelShowAllButton:"Show all",columnsPanelHideAllButton:"Hide all",filterPanelAddFilter:"Add filter",filterPanelDeleteIconLabel:"Delete",filterPanelOperators:"Operators",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorEquals:"equals",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuShowColumns:"Show columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:function(e){return"".concat(e,1!==e?" active filters":" active filter")},columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:function(e){return"".concat(e.toLocaleString(),1!==e?" rows selected":" row selected")},footerTotalRows:"Total Rows:",footerTotalVisibleRows:function(e,t){return"".concat(e.toLocaleString()," of ").concat(t.toLocaleString())},checkboxSelectionHeaderName:"Checkbox selection",booleanCellTrueLabel:"true",booleanCellFalseLabel:"false",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:function(e){return"Group by ".concat(e)},unGroupColumn:function(e){return"Stop grouping by ".concat(e)},MuiTablePagination:{}},Wp=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"ColumnsPanel",overridesResolver:function(e,t){return t.columnsPanel}})((function(){return{padding:"8px 0px 8px 8px"}})),Hp=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"ColumnsPanelRow",overridesResolver:function(e,t){return t.columnsPanelRow}})((function(e){var t=e.theme;return(0,r.Z)({display:"flex",justifyContent:"space-between",padding:"1px 8px 1px 7px"},"& .".concat(mo.root),{marginRight:t.spacing(.5)})})),Up=(0,b.ZP)(Tt)({justifyContent:"flex-end"});var Gp=(0,v.Z)("MuiDataGrid",["panel","paper"]),qp=(0,b.ZP)(bt,{name:"MuiDataGrid",slot:"Panel",overridesResolver:function(e,t){return t.panel}})((function(e){return{zIndex:e.theme.zIndex.modal}})),Kp=(0,b.ZP)(Ct.Z,{name:"MuiDataGrid",slot:"Paper",overridesResolver:function(e,t){return t.paper}})((function(e){return{backgroundColor:e.theme.palette.background.paper,minWidth:300,maxHeight:450,display:"flex"}})),Xp=p.forwardRef((function(e,t){var n,r=e.children,a=e.className,o=(e.classes,vu(e,["children","className","classes"])),i=lu(),u=Gp,s=p.useState(!1),c=(0,l.Z)(s,2),d=c[0],f=c[1],h=p.useCallback((function(){i.current.hidePreferences()}),[i]),m=p.useCallback((function(e){ed(e.key)&&i.current.hidePreferences()}),[i]),v=null===(n=i.current.columnHeadersContainerElementRef)||void 0===n?void 0:n.current;return v?p.createElement(qp,Object.assign({ref:t,placement:"bottom-start",className:(0,_.Z)(a,u.panel),anchorEl:v,modifiers:[{name:"flip",enabled:!1},{name:"isPlaced",enabled:!0,phase:"main",fn:function(){f(!0)}}]},o),p.createElement(Ba,{onClickAway:h},p.createElement(Kp,{className:u.paper,elevation:8,onKeyDown:m},d&&r))):null})),Yp=p.forwardRef((function(e,t){var n,r,a,o,i=lu(),u=yu(i,Pu),s=fu(),l=yu(i,mp),c=l.openedPanelValue===pp.columns,d=!l.openedPanelValue||!c;return p.createElement(s.components.Panel,Object.assign({ref:t,as:s.components.BasePopper,open:u.length>0&&l.open},null===(n=s.componentsProps)||void 0===n?void 0:n.panel,e,null===(r=s.componentsProps)||void 0===r?void 0:r.basePopper),!s.disableColumnSelector&&c&&p.createElement(s.components.ColumnsPanel,Object.assign({},null===(a=s.componentsProps)||void 0===a?void 0:a.columnsPanel)),!s.disableColumnFilter&&d&&p.createElement(s.components.FilterPanel,Object.assign({},null===(o=s.componentsProps)||void 0===o?void 0:o.filterPanel)))})),$p=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"FilterForm",overridesResolver:function(e,t){return t.filterForm}})((function(e){return{display:"flex",padding:e.theme.spacing(1)}}));function Qp(e){var t,n,r,a,o,i,u,s,l,c=e.item,d=e.hasMultipleFilters,f=e.deleteFilter,h=e.applyFilterChanges,m=e.multiFilterOperator,v=e.showMultiFilterOperators,b=e.disableMultiFilterOperator,y=e.applyMultiFilterOperatorChanges,x=e.focusElementRef,k=lu(),w=yu(k,zu),C=D(),E=D(),S=D(),I=D(),F=D(),T=D(),A=fu(),R=function(e){var t=e.classes;return(0,g.Z)({root:["filterForm"]},cu,t)}({classes:A.classes}),O=p.useRef(null),Z=p.useRef(null),M=c.columnField?k.current.getColumn(c.columnField):null,P=p.useMemo((function(){var e;return c.operatorValue&&M?null===(e=M.filterOperators)||void 0===e?void 0:e.find((function(e){return e.value===c.operatorValue})):null}),[c,M]),L=p.useCallback((function(e){var t=e.target.value,n=k.current.getColumn(t);if(n.field!==M.field){var r=n.filterOperators.find((function(e){return e.value===c.operatorValue}))||n.filterOperators[0],a=!r.InputComponent||r.InputComponent!==(null==P?void 0:P.InputComponent);h(Object.assign(Object.assign({},c),{columnField:t,operatorValue:r.value,value:a?void 0:c.value}))}}),[k,h,c,M,P]),_=p.useCallback((function(e){var t=e.target.value,n=null==M?void 0:M.filterOperators.find((function(e){return e.value===t})),r=!(null==n?void 0:n.InputComponent)||(null==n?void 0:n.InputComponent)!==(null==P?void 0:P.InputComponent);h(Object.assign(Object.assign({},c),{operatorValue:t,value:r?void 0:c.value}))}),[h,c,M,P]),B=p.useCallback((function(e){var t=e.target.value===Bd.And.toString()?Bd.And:Bd.Or;y(t)}),[y]);return p.useImperativeHandle(x,(function(){return{focus:function(){var e;(null==P?void 0:P.InputComponent)?null===(e=null==O?void 0:O.current)||void 0===e||e.focus():Z.current.focus()}}}),[P]),p.createElement($p,{className:R.root},p.createElement(A.components.BaseFormControl,Object.assign({variant:"standard",sx:{flexShrink:0,justifyContent:"flex-end",marginRight:.5,marginBottom:.2}},null===(t=A.componentsProps)||void 0===t?void 0:t.baseFormControl),p.createElement(Tt,{"aria-label":k.current.getLocaleText("filterPanelDeleteIconLabel"),title:k.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:function(){A.disableMultipleColumnsFiltering?h(Object.assign(Object.assign({},c),{value:void 0})):f(c)},size:"small"},p.createElement(Fs,{fontSize:"small"}))),p.createElement(A.components.BaseFormControl,Object.assign({variant:"standard",sx:{minWidth:60,display:d?"block":"none",visibility:v?"visible":"hidden"}},null===(n=A.componentsProps)||void 0===n?void 0:n.baseFormControl),p.createElement(pr,{htmlFor:C,id:E},k.current.getLocaleText("filterPanelOperators")),p.createElement(A.components.BaseSelect,Object.assign({labelId:E,id:C,value:m,onChange:B,disabled:!!b,native:!0},null===(r=A.componentsProps)||void 0===r?void 0:r.baseSelect),p.createElement("option",{key:Bd.And.toString(),value:Bd.And.toString()},k.current.getLocaleText("filterPanelOperatorAnd")),p.createElement("option",{key:Bd.Or.toString(),value:Bd.Or.toString()},k.current.getLocaleText("filterPanelOperatorOr")))),p.createElement(A.components.BaseFormControl,Object.assign({variant:"standard",sx:{width:150}},null===(a=A.componentsProps)||void 0===a?void 0:a.baseFormControl),p.createElement(pr,{htmlFor:S,id:I},k.current.getLocaleText("filterPanelColumns")),p.createElement(A.components.BaseSelect,Object.assign({labelId:I,id:S,value:c.columnField||"",onChange:L,native:!0},null===(o=A.componentsProps)||void 0===o?void 0:o.baseSelect),w.map((function(e){return p.createElement("option",{key:e.field,value:e.field},e.headerName||e.field)})))),p.createElement(A.components.BaseFormControl,Object.assign({variant:"standard",sx:{width:120}},null===(i=A.componentsProps)||void 0===i?void 0:i.baseFormControl),p.createElement(pr,{htmlFor:F,id:T},k.current.getLocaleText("filterPanelOperators")),p.createElement(A.components.BaseSelect,Object.assign({labelId:T,id:F,value:c.operatorValue,onChange:_,native:!0,inputRef:Z},null===(u=A.componentsProps)||void 0===u?void 0:u.baseSelect),null===(s=null==M?void 0:M.filterOperators)||void 0===s?void 0:s.map((function(e){return p.createElement("option",{key:e.value,value:e.value},e.label||k.current.getLocaleText("filterOperator".concat((0,N.Z)(e.value))))})))),p.createElement(A.components.BaseFormControl,Object.assign({variant:"standard",sx:{width:190}},null===(l=A.componentsProps)||void 0===l?void 0:l.baseFormControl),(null==P?void 0:P.InputComponent)?p.createElement(P.InputComponent,Object.assign({apiRef:k,item:c,applyValue:h,focusElementRef:O},P.InputComponentProps)):null))}var Jp=p.forwardRef((function(e,t){var n,r=e.onClick,a=vu(e,["onClick"]),o=lu(),i=fu(),u=yu(o,mp),s=u.open,l=u.openedPanelValue;return i.disableColumnSelector?null:p.createElement(i.components.BaseButton,Object.assign({ref:t,size:"small",color:"primary","aria-label":o.current.getLocaleText("toolbarColumnsLabel"),startIcon:p.createElement(i.components.ColumnSelectorIcon,null)},a,{onClick:function(e){s&&l===pp.columns?o.current.hidePreferences():o.current.showPreferences(pp.columns),null==r||r(e)}},null===(n=i.componentsProps)||void 0===n?void 0:n.baseButton),o.current.getLocaleText("toolbarColumns"))})),ef=p.forwardRef((function(e,t){var n,r=e.onClick,a=vu(e,["onClick"]),o=lu(),i=fu(),u=yu(o,is),s=D(),c=D(),d=p.useState(!1),f=(0,l.Z)(d,2),h=f[0],m=f[1],v=p.useRef(null),g=(0,I.Z)(t,v),b=[{icon:p.createElement(i.components.DensityCompactIcon,null),label:o.current.getLocaleText("toolbarDensityCompact"),value:jd.Compact},{icon:p.createElement(i.components.DensityStandardIcon,null),label:o.current.getLocaleText("toolbarDensityStandard"),value:jd.Standard},{icon:p.createElement(i.components.DensityComfortableIcon,null),label:o.current.getLocaleText("toolbarDensityComfortable"),value:jd.Comfortable}],y=p.useMemo((function(){switch(u){case jd.Compact:return p.createElement(i.components.DensityCompactIcon,null);case jd.Comfortable:return p.createElement(i.components.DensityComfortableIcon,null);default:return p.createElement(i.components.DensityStandardIcon,null)}}),[u,i]),x=function(){return m(!1)};if(i.disableDensitySelector)return null;var k=b.map((function(e,t){return p.createElement(Ka,{key:t,onClick:function(){return t=e.value,o.current.setDensity(t),void m(!1);var t},selected:e.value===u},p.createElement($a,null,e.icon),e.label)}));return p.createElement(p.Fragment,null,p.createElement(i.components.BaseButton,Object.assign({ref:g,color:"primary",size:"small",startIcon:y,"aria-label":o.current.getLocaleText("toolbarDensityLabel"),"aria-expanded":h?"true":void 0,"aria-haspopup":"menu","aria-labelledby":c,id:s},a,{onClick:function(e){m(!0),null==r||r(e)}},null===(n=i.componentsProps)||void 0===n?void 0:n.baseButton),o.current.getLocaleText("toolbarDensity")),p.createElement(Kc,{open:h,target:v.current,onClickAway:x,position:"bottom-start"},p.createElement(Zr,{id:c,className:du.menuList,"aria-labelledby":s,onKeyDown:function(e){nd(e.key)&&e.preventDefault(),pd(e.key)&&x()},autoFocusItem:h},k)))})),tf=(0,b.ZP)("ul",{name:"MuiDataGrid",slot:"ToolbarFilterList",overridesResolver:function(e,t){return t.toolbarFilterList}})((function(e){var t=e.theme;return{margin:t.spacing(1,1,.5),padding:t.spacing(0,1)}})),nf=p.forwardRef((function(e,t){var n,r,a=e.componentsProps,o=void 0===a?{}:a,i=vu(e,["componentsProps"]),u=o.button||{},s=lu(),l=fu(),c=yu(s,Qu),d=yu(s,Mu),f=yu(s,mp),h=function(e){var t=e.classes;return(0,g.Z)({root:["toolbarFilterList"]},cu,t)}({classes:l.classes}),m=p.useMemo((function(){return f.open?s.current.getLocaleText("toolbarFiltersTooltipHide"):0===c.length?s.current.getLocaleText("toolbarFiltersTooltipShow"):p.createElement("div",null,s.current.getLocaleText("toolbarFiltersTooltipActive")(c.length),p.createElement(tf,{className:h.root},c.map((function(e,t){return Object.assign({},d[e.columnField]&&p.createElement("li",{key:t},"".concat(d[e.columnField].headerName||e.columnField,"\n                  ").concat(function(e){return d[e.columnField].filterOperators.find((function(t){return t.value===e.operatorValue})).label||s.current.getLocaleText("filterOperator".concat((0,N.Z)(e.operatorValue))).toString()}(e),"\n                  ").concat(e.value)))}))))}),[s,f.open,c,d,h]);return l.disableColumnFilter?null:p.createElement(l.components.BaseTooltip,Object.assign({title:m,enterDelay:1e3},i,null===(n=l.componentsProps)||void 0===n?void 0:n.baseTooltip),p.createElement(l.components.BaseButton,Object.assign({ref:t,size:"small",color:"primary","aria-label":s.current.getLocaleText("toolbarFiltersLabel"),startIcon:p.createElement(fo,{badgeContent:c.length,color:"primary"},p.createElement(l.components.OpenFilterButtonIcon,null))},u,{onClick:function(e){var t,n=f.open,r=f.openedPanelValue;n&&r===pp.filters?s.current.hideFilterPanel():s.current.showFilterPanel(),null===(t=u.onClick)||void 0===t||t.call(u,e)}},null===(r=l.componentsProps)||void 0===r?void 0:r.baseButton),s.current.getLocaleText("toolbarFilters")))})),rf=p.forwardRef((function(e,t){var n,r=e.csvOptions,a=e.printOptions,o=e.onClick,i=vu(e,["csvOptions","printOptions","onClick"]),u=lu(),s=fu(),c=D(),d=D(),f=p.useState(!1),h=(0,l.Z)(f,2),m=h[0],v=h[1],g=p.useRef(null),b=(0,I.Z)(t,g),y=[{label:u.current.getLocaleText("toolbarExportCSV"),format:"csv",formatOptions:r},{label:u.current.getLocaleText("toolbarExportPrint"),format:"print",formatOptions:a}],x=function(){return v(!1)},k=function(e){return function(){switch(e.format){case"csv":u.current.exportDataAsCsv(e.formatOptions);break;case"print":u.current.exportDataAsPrint(e.formatOptions)}v(!1)}};return(null==r?void 0:r.disableToolbarButton)&&(null==a?void 0:a.disableToolbarButton)?null:p.createElement(p.Fragment,null,p.createElement(s.components.BaseButton,Object.assign({ref:b,color:"primary",size:"small",startIcon:p.createElement(s.components.ExportIcon,null),"aria-expanded":m?"true":void 0,"aria-label":u.current.getLocaleText("toolbarExportLabel"),"aria-haspopup":"menu","aria-labelledby":d,id:c},i,{onClick:function(e){v(!0),null==o||o(e)}},null===(n=s.componentsProps)||void 0===n?void 0:n.baseButton),u.current.getLocaleText("toolbarExport")),p.createElement(Kc,{open:m,target:g.current,onClickAway:x,position:"bottom-start"},p.createElement(Zr,{id:d,className:du.menuList,"aria-labelledby":c,onKeyDown:function(e){nd(e.key)&&e.preventDefault(),pd(e.key)&&x()},autoFocusItem:m},y.map((function(e,t){var n;return(null===(n=e.formatOptions)||void 0===n?void 0:n.disableToolbarButton)?null:p.createElement(Ka,{key:t,onClick:k(e)},e.label)})))))})),af=(p.forwardRef((function(e,t){e.className;var n=e.csvOptions,r=e.printOptions,a=vu(e,["className","csvOptions","printOptions"]),o=fu();return o.disableColumnFilter&&o.disableColumnSelector&&o.disableDensitySelector?null:p.createElement(ep,Object.assign({ref:t},a),p.createElement(Jp,null),p.createElement(nf,null),p.createElement(ef,null),p.createElement(rf,{csvOptions:n,printOptions:r}))})),(0,b.ZP)("div",{name:"MuiDataGrid",slot:"RowCount",overridesResolver:function(e,t){return t.rowCount}})((function(e){return{alignItems:"center",display:"flex",margin:e.theme.spacing(0,2)}}))),of=p.forwardRef((function(e,t){var n=e.className,r=e.rowCount,a=e.visibleRowCount,o=vu(e,["className","rowCount","visibleRowCount"]),i=lu(),u=function(e){var t=e.classes;return(0,g.Z)({root:["rowCount"]},cu,t)}({classes:fu().classes});if(0===r)return null;var s=a<r?i.current.getLocaleText("footerTotalVisibleRows")(a,r):r.toLocaleString();return p.createElement(af,Object.assign({ref:t,className:(0,_.Z)(u.root,n)},o),i.current.getLocaleText("footerTotalRows")," ",s)})),uf=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"SelectedRowCount",overridesResolver:function(e,t){return t.selectedRowCount}})((function(e){var t=e.theme;return(0,r.Z)({alignItems:"center",display:"flex",margin:t.spacing(0,2),visibility:"hidden",width:0,height:0},t.breakpoints.up("sm"),{visibility:"visible",width:"auto",height:"auto"})})),sf=p.forwardRef((function(e,t){var n=e.className,r=e.selectedRowCount,a=vu(e,["className","selectedRowCount"]),o=lu(),i=function(e){var t=e.classes;return(0,g.Z)({root:["selectedRowCount"]},cu,t)}({classes:fu().classes}),u=o.current.getLocaleText("footerRowSelected")(r);return p.createElement(uf,Object.assign({ref:t,className:(0,_.Z)(i.root,n)},a),u)})),lf=p.forwardRef((function(e,t){var n,r=lu(),a=fu(),o=yu(r,wu),i=yu(r,ns),u=yu(r,$u),s=!a.hideFooterSelectedRowCount&&i>0?p.createElement(sf,{selectedRowCount:i}):p.createElement("div",null),l=a.hideFooterRowCount||a.pagination?null:p.createElement(of,{rowCount:o,visibleRowCount:u}),c=a.pagination&&!a.hideFooterPagination&&a.components.Pagination&&p.createElement(a.components.Pagination,Object.assign({},null===(n=a.componentsProps)||void 0===n?void 0:n.pagination));return p.createElement(Yd,Object.assign({ref:t},e),s,l,c)})),cf=p.forwardRef((function(e,t){var n,r,a=fu();return p.createElement("div",Object.assign({ref:t},e),p.createElement(a.components.PreferencesPanel,Object.assign({},null===(n=a.componentsProps)||void 0===n?void 0:n.preferencesPanel)),a.components.Toolbar&&p.createElement(a.components.Toolbar,Object.assign({},null===(r=a.componentsProps)||void 0===r?void 0:r.toolbar)))})),df=p.forwardRef((function(e,t){return p.createElement(Qd,Object.assign({ref:t},e),p.createElement($o,null))})),pf=p.forwardRef((function(e,t){var n=lu().current.getLocaleText("noRowsLabel");return p.createElement(Qd,Object.assign({ref:t},e),n)})),ff=(0,b.ZP)(Pi)((function(e){var t,n=e.theme;return t={},(0,r.Z)(t,"& .".concat(Ei.selectLabel),(0,r.Z)({display:"none"},n.breakpoints.up("sm"),{display:"block"})),(0,r.Z)(t,"& .".concat(Ei.input),(0,r.Z)({display:"none"},n.breakpoints.up("sm"),{display:"inline-flex"})),t})),hf=p.forwardRef((function(e,t){var n,r=lu(),a=fu(),o=yu(r,kd),i=p.useMemo((function(){return Math.floor(o.rowCount/(o.pageSize||1))}),[o.rowCount,o.pageSize]),u=p.useCallback((function(e){var t=Number(e.target.value);r.current.setPageSize(t)}),[r]),s=p.useCallback((function(e,t){r.current.setPage(t)}),[r]);return p.createElement(ff,Object.assign({ref:t,component:"div",count:o.rowCount,page:o.page<=i?o.page:i,rowsPerPageOptions:(null===(n=a.rowsPerPageOptions)||void 0===n?void 0:n.includes(o.pageSize))?a.rowsPerPageOptions:[],rowsPerPage:o.pageSize,onPageChange:s,onRowsPerPageChange:u},r.current.getLocaleText("MuiTablePagination"),e))})),mf=function(e){var t=e.width,n=e.height;if(!t||!n)return null;var r={width:t,height:n};return p.createElement("div",{className:"MuiDataGrid-cell",style:r})};var vf,gf=function(){function e(){(0,o.Z)(this,e),this.timeouts=new Map}return(0,i.Z)(e,[{key:"register",value:function(e,t,n){var r=this,a=setTimeout((function(){"function"==typeof t&&t(),r.timeouts.delete(n.cleanupToken)}),1e3);this.timeouts.set(n.cleanupToken,a)}},{key:"unregister",value:function(e){var t=this.timeouts.get(e.cleanupToken);t&&(this.timeouts.delete(e.cleanupToken),clearTimeout(t))}}]),e}(),bf=function(){function e(){(0,o.Z)(this,e),this.registry=new FinalizationRegistry((function(e){"function"==typeof e&&e()}))}return(0,i.Z)(e,[{key:"register",value:function(e,t,n){this.registry.register(e,t,n)}},{key:"unregister",value:function(e){this.registry.unregister(e)}}]),e}();!function(e){e.DataGrid="DataGrid",e.DataGridPro="DataGridPro"}(vf||(vf={}));var yf=(0,i.Z)((function e(){(0,o.Z)(this,e)}));var xf=function(e){var t=0;return function(n,r,a,o){var i=p.useState(new yf),u=(0,l.Z)(i,1)[0],s=p.useRef(null),c=p.useRef();c.current=a;var d=p.useRef(null);if(!s.current&&c.current){s.current=n.current.subscribeEvent(r,(function(e,t,n){var r;t.defaultMuiPrevented||null===(r=c.current)||void 0===r||r.call(c,e,t,n)}),o),t+=1,d.current={cleanupToken:t},e.register(u,(function(){var e;null===(e=s.current)||void 0===e||e.call(s),s.current=null,d.current=null}),d.current)}else!c.current&&s.current&&(s.current(),s.current=null,d.current&&(e.unregister(d.current),d.current=null));p.useEffect((function(){if(!s.current&&c.current){s.current=n.current.subscribeEvent(r,(function(e,t,n){var r;t.defaultMuiPrevented||null===(r=c.current)||void 0===r||r.call(c,e,t,n)}),o)}return d.current&&e&&(e.unregister(d.current),d.current=null),function(){var e;null===(e=s.current)||void 0===e||e.call(s),s.current=null}}),[n,r,o])}}("undefined"!=typeof FinalizationRegistry?new bf:new gf),kf={isFirst:!0};function wf(e,t,n){xf(e,t,n,kf)}var Cf=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"ScrollArea",overridesResolver:function(e,t){return[(0,r.Z)({},"&.".concat(du["scrollArea--left"]),t["scrollArea--left"]),(0,r.Z)({},"&.".concat(du["scrollArea--right"]),t["scrollArea--right"]),t.scrollArea]}})((function(){var e;return e={position:"absolute",top:0,zIndex:101,width:20,bottom:0},(0,r.Z)(e,"&.".concat(du["scrollArea--left"]),{left:0}),(0,r.Z)(e,"&.".concat(du["scrollArea--right"]),{right:0}),e})),Df=p.memo((function(e){var t=e.scrollDirection,n=p.useRef(null),r=lu(),a=p.useRef(),o=p.useState(!1),i=(0,l.Z)(o,2),u=i[0],s=i[1],c=yu(r,ss),d=p.useRef({left:0,top:0}),f=fu(),h=function(e){var t=e.scrollDirection,n=e.classes;return(0,g.Z)({root:["scrollArea","scrollArea--".concat(t)]},cu,n)}(Object.assign(Object.assign({},e),{classes:f.classes})),m=p.useCallback((function(e){d.current=e}),[]),v=p.useCallback((function(e){var o;if("left"===t)o=e.clientX-n.current.getBoundingClientRect().right;else{if("right"!==t)throw new Error("MUI: Wrong drag direction");o=Math.max(1,e.clientX-n.current.getBoundingClientRect().left)}o=1.5*(o-1)+1,clearTimeout(a.current),a.current=setTimeout((function(){r.current.scroll({left:d.current.left+o,top:d.current.top})}))}),[t,r]);p.useEffect((function(){return function(){clearTimeout(a.current)}}),[]);var b=p.useCallback((function(){s((function(e){return!e}))}),[]);return xf(r,ou.rowsScroll,m),xf(r,ou.columnHeaderDragStart,b),xf(r,ou.columnHeaderDragEnd,b),u?p.createElement(Cf,{ref:n,className:(0,_.Z)(h.root),onDragOver:v,style:{height:c}}):null})),Ef=function(e){return e.columnMenu},Sf=(L((function(e){return e.columnReorder}),(function(e){return e.dragCol})),L((function(e){return e.columnResize}),(function(e){return e.resizingColumnField})),function(e){return e.editRows});Object.assign(Object.assign({},Uc),{type:"treeDataGroup",sortable:!1,filterable:!1,disableColumnMenu:!0,disableReorder:!0,align:"left",width:200,valueGetter:function(e){return e.rowNode.groupingKey}});var If=L((function(e){return e.rowGrouping}),(function(e){return e.model})),Ff=(L(If,Mu,(function(e,t){return e.filter((function(e){return!!t[e]&&t[e].groupable}))})),function(){function e(){(0,o.Z)(this,e),this.maxListeners=10,this.warnOnce=!1,this.events={}}return(0,i.Z)(e,[{key:"on",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.events[e];r||(r={highPriority:new Map,regular:new Map},this.events[e]=r),n.isFirst?r.highPriority.set(t,!0):r.regular.set(t,!0)}},{key:"removeListener",value:function(e,t){this.events[e]&&(this.events[e].regular.delete(t),this.events[e].highPriority.delete(t))}},{key:"removeAllListeners",value:function(){this.events={}}},{key:"emit",value:function(e){var t=this.events[e];if(t){for(var n=Array.from(t.highPriority.keys()),r=Array.from(t.regular.keys()),a=arguments.length,o=new Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];for(var u=n.length-1;u>=0;u-=1){var s=n[u];t.highPriority.has(s)&&s.apply(this,o)}for(var l=0;l<r.length;l+=1){var c=r[l];t.regular.has(c)&&c.apply(this,o)}}}},{key:"once",value:function(e,t){var n=this;this.on(e,(function r(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];n.removeListener(e,r),t.apply(n,o)}))}}]),e}());var Tf=function(e,t,n,r,a){var o=cs(e,"useNativeEventListener"),i=p.useState(!1),u=(0,l.Z)(i,2),s=u[0],c=u[1],d=p.useRef(r),f=p.useCallback((function(e){return d.current&&d.current(e)}),[]);p.useEffect((function(){d.current=r}),[r]),p.useEffect((function(){var r;if((r="function"==typeof t?t():t&&t.current?t.current:null)&&f&&n&&!s){o.debug("Binding native ".concat(n," event")),r.addEventListener(n,f,a);var i=r;c(!0);e.current.subscribeEvent(ou.unmount,(function(){o.debug("Clearing native ".concat(n," event")),i.removeEventListener(n,f,a)}))}}),[t,f,n,s,o,a,e])},Nf=function(e,t){var n;return{components:{MuiDataGrid:{defaultProps:{localeText:Object.assign(Object.assign({},e),{MuiTablePagination:(null===(n=null==t?void 0:t.components)||void 0===n?void 0:n.MuiTablePagination.defaultProps)||{}})}}}}},Af=(Nf({noRowsLabel:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0635\u0641\u0648\u0641",noResultsOverlayLabel:"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0646\u062a\u0627\u0626\u062c.",errorOverlayDefaultLabel:"\u062d\u062f\u062b \u062e\u0637\u0623.",toolbarDensity:"\u0643\u062b\u0627\u0641\u0629",toolbarDensityLabel:"\u0643\u062b\u0627\u0641\u0629",toolbarDensityCompact:"\u0645\u062f\u0645\u062c",toolbarDensityStandard:"\u0627\u0644\u0645\u0639\u064a\u0627\u0631",toolbarDensityComfortable:"\u0645\u0631\u064a\u062d",toolbarColumns:"\u0627\u0644\u0623\u0639\u0645\u062f\u0629",toolbarColumnsLabel:"\u062d\u062f\u062f \u0627\u0644\u0623\u0639\u0645\u062f\u0629",toolbarFilters:"\u0627\u0644\u0641\u0644\u0627\u062a\u0631",toolbarFiltersLabel:"\u0627\u0638\u0647\u0631 \u0627\u0644\u0641\u0644\u0627\u062a\u0631",toolbarFiltersTooltipHide:"\u0625\u062e\u0641\u0627\u0621 \u0627\u0644\u0641\u0644\u0627\u062a\u0631",toolbarFiltersTooltipShow:"\u0627\u0638\u0647\u0631 \u0627\u0644\u0641\u0644\u0627\u062a\u0631",toolbarFiltersTooltipActive:function(e){return"".concat(e," \u0641\u0644\u0627\u062a\u0631 \u0646\u0634\u0637\u0629")},toolbarExport:"\u062a\u0635\u062f\u064a\u0631",toolbarExportLabel:"\u062a\u0635\u062f\u064a\u0631",toolbarExportCSV:"\u062a\u0646\u0632\u064a\u0644 \u0643\u0645\u0644\u0641 CSV",columnsPanelTextFieldLabel:"\u0627\u064a\u062c\u0627\u062f \u0639\u0645\u0648\u062f",columnsPanelTextFieldPlaceholder:"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0639\u0645\u0648\u062f",columnsPanelDragIconLabel:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0631\u062a\u064a\u0628 \u0627\u0644\u0639\u0645\u0648\u062f",columnsPanelShowAllButton:"\u0639\u0631\u0636 \u0627\u0644\u0643\u0644",columnsPanelHideAllButton:"\u0627\u062e\u0641\u0627\u0621 \u0627\u0644\u0643\u0644",filterPanelAddFilter:"\u0627\u0636\u0641 \u0641\u0644\u062a\u0631",filterPanelDeleteIconLabel:"\u062d\u0630\u0641",filterPanelOperators:"\u0627\u0644\u0639\u0627\u0645\u0644\u064a\u0646",filterPanelOperatorAnd:"\u0648",filterPanelOperatorOr:"\u0627\u0648",filterPanelColumns:"\u0627\u0644\u0623\u0639\u0645\u062f\u0629",filterPanelInputLabel:"\u0642\u064a\u0645\u0629",filterPanelInputPlaceholder:"\u0642\u064a\u0645\u0629 \u0627\u0644\u062a\u0635\u0641\u064a\u0629",filterOperatorContains:"\u064a\u062d\u062a\u0648\u064a \u0639\u0644\u0649",filterOperatorEquals:"\u064a\u0633\u0627\u0648\u064a",filterOperatorStartsWith:"\u064a\u0628\u062f\u0623 \u0628",filterOperatorEndsWith:"\u064a\u0646\u062a\u0647\u064a \u0628\u0640",filterOperatorIs:"\u064a\u0643\u0648\u0646",filterOperatorNot:"\u0644\u064a\u0633",filterOperatorAfter:"\u064a\u0643\u0648\u0646 \u0628\u0639\u062f",filterOperatorOnOrAfter:"\u0641\u064a \u0623\u0648 \u0628\u0639\u062f",filterOperatorBefore:"\u064a\u0643\u0648\u0646",filterOperatorOnOrBefore:"\u0641\u064a \u0623\u0648 \u0642\u0628\u0644",filterOperatorIsEmpty:"\u0641\u0627\u0631\u063a",filterOperatorIsNotEmpty:"\u0644\u064a\u0633 \u0641\u0627\u0631\u063a\u0627",filterValueAny:"\u0623\u064a",filterValueTrue:"\u0635\u062d\u064a\u062d",filterValueFalse:"\u062e\u0627\u0637\u0626\u0629",columnMenuLabel:"\u0627\u0644\u0642\u0627\u0626\u0645\u0629",columnMenuShowColumns:"\u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u0623\u0639\u0645\u062f\u0629",columnMenuFilter:"\u0641\u0644\u062a\u0631",columnMenuHideColumn:"\u0625\u062e\u0641\u0627\u0621",columnMenuUnsort:"\u063a\u064a\u0631 \u0645\u0631\u062a\u0628",columnMenuSortAsc:"\u0627\u0644\u062a\u0631\u062a\u064a\u0628 \u062d\u0633\u0628 ASC",columnMenuSortDesc:"\u0627\u0644\u062a\u0631\u062a\u064a\u0628 \u062d\u0633\u0628 DESC",columnHeaderFiltersTooltipActive:function(e){return"".concat(e," \u0641\u0644\u0627\u062a\u0631 \u0646\u0634\u0637\u0629")},columnHeaderFiltersLabel:"\u0627\u0638\u0647\u0631 \u0627\u0644\u0641\u0644\u0627\u062a\u0631",columnHeaderSortIconLabel:"\u062a\u0631\u062a\u064a\u0628",footerRowSelected:function(e){return"".concat(e.toLocaleString()," \u0635\u0641\u0648\u0641 \u0645\u062e\u062a\u0627\u0631\u0629")},footerTotalRows:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0635\u0641\u0648\u0641:",footerTotalVisibleRows:function(e,t){return"".concat(e.toLocaleString()," \u0645\u0646 ").concat(t.toLocaleString())},checkboxSelectionHeaderName:"\u062a\u062d\u062f\u064a\u062f",booleanCellTrueLabel:"\u0635\u062d\u064a\u062d",booleanCellFalseLabel:"\u062e\u0627\u0637\u0626\u0629"},{components:{MuiBreadcrumbs:{defaultProps:{expandText:"\u0625\u0638\u0647\u0631 \u0627\u0644\u0639\u0646\u0648\u0627\u0646"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:function(e){return"first"===e?"\u0625\u0630\u0647\u0628 \u0627\u0644\u0649 \u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0623\u0648\u0644\u0649":"last"===e?"\u0625\u0630\u0647\u0628 \u0627\u0644\u064a \u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0623\u062e\u064a\u0631\u0629":"next"===e?"\u0625\u0630\u0647\u0628 \u0627\u0644\u0649 \u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u062a\u0627\u0644\u064a\u0629":"\u0625\u0630\u0647\u0628 \u0627\u0644\u0649 \u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0633\u0627\u0628\u0642\u0629"},labelRowsPerPage:"\u0639\u062f\u062f \u0627\u0644\u0635\u0641\u0648\u0641 \u0641\u064a \u0627\u0644\u0635\u0641\u062d\u0629:",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"\u2013").concat(n," \u0645\u0646 ").concat(-1!==r?r:" \u0623\u0643\u062b\u0631 \u0645\u0646".concat(n))}}},MuiRating:{defaultProps:{getLabelText:function(e){return"".concat(e," ").concat(1!==e?"\u0646\u062c\u0648\u0645":"\u0646\u062c\u0645\u0629")},emptyLabelText:"\u0641\u0627\u0631\u063a"}},MuiAutocomplete:{defaultProps:{clearText:"\u0645\u0633\u062d",closeText:"\u0625\u063a\u0644\u0627\u0642",loadingText:"\u064a\u062a\u0645 \u0627\u0644\u062a\u062d\u0645\u064a\u0644\u2026",noOptionsText:"\u0644\u0627 \u064a\u0648\u062c\u062f \u062e\u064a\u0627\u0631\u0627\u062a",openText:"\u0641\u062a\u062d"}},MuiAlert:{defaultProps:{closeText:"\u0625\u063a\u0644\u0627\u0642"}},MuiPagination:{defaultProps:{"aria-label":"\u0627\u0644\u062a\u0646\u0642\u0644 \u0639\u0628\u0631 \u0627\u0644\u0635\u0641\u062d\u0627\u062a",getItemAriaLabel:function(e,t,n){return"page"===e?"".concat(n?"":"\u0625\u0630\u0647\u0628 \u0625\u0644\u0649 "," \u0635\u0641\u062d\u0629 ").concat(t):"first"===e?"\u0625\u0630\u0647\u0628 \u0627\u0644\u0649 \u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0623\u0648\u0644\u0649":"last"===e?"\u0625\u0630\u0647\u0628 \u0627\u0644\u064a \u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0623\u062e\u064a\u0631\u0629":"next"===e?"\u0625\u0630\u0647\u0628 \u0627\u0644\u0649 \u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u062a\u0627\u0644\u064a\u0629":"\u0625\u0630\u0647\u0628 \u0627\u0644\u0649 \u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0633\u0627\u0628\u0642\u0629"}}}}}),Nf({noRowsLabel:"\u041d\u044f\u043c\u0430 \u0440\u0435\u0434\u043e\u0432\u0435",errorOverlayDefaultLabel:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430.",toolbarDensity:"\u0413\u044a\u0441\u0442\u043e\u0442\u0430",toolbarDensityLabel:"\u0413\u044a\u0441\u0442\u043e\u0442\u0430",toolbarDensityCompact:"\u041a\u043e\u043c\u043f\u0430\u043a\u0442\u043d\u0430",toolbarDensityStandard:"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0430",toolbarDensityComfortable:"\u041a\u043e\u043c\u0444\u043e\u0440\u0442\u043d\u0430",toolbarColumns:"\u041a\u043e\u043b\u043e\u043d\u0438",toolbarColumnsLabel:"\u041f\u043e\u043a\u0430\u0436\u0438 \u0441\u0435\u043b\u0435\u043a\u0442\u043e\u0440\u0430 \u043d\u0430 \u043a\u043e\u043b\u043e\u043d\u0438",toolbarFilters:"\u0424\u0438\u043b\u0442\u0440\u0438",toolbarFiltersLabel:"\u041f\u043e\u043a\u0430\u0436\u0438 \u0424\u0438\u043b\u0442\u0440\u0438\u0442\u0435",toolbarFiltersTooltipHide:"\u0421\u043a\u0440\u0438\u0439 \u0424\u0438\u043b\u0442\u0440\u0438\u0442\u0435",toolbarFiltersTooltipShow:"\u041f\u043e\u043a\u0430\u0436\u0438 \u0424\u0438\u043b\u0442\u0440\u0438\u0442\u0435",toolbarFiltersTooltipActive:function(e){return"".concat(e," \u0430\u043a\u0442\u0438\u0432\u043d\u0438 \u0444\u0438\u043b\u0442\u0440\u0438")},columnsPanelTextFieldLabel:"\u041d\u0430\u043c\u0435\u0440\u0438 \u043a\u043e\u043b\u043e\u043d\u0430",columnsPanelTextFieldPlaceholder:"\u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 \u043d\u0430 \u043a\u043e\u043b\u043e\u043d\u0430",columnsPanelDragIconLabel:"\u041f\u0440\u0435\u043d\u0430\u0440\u0435\u0434\u0438 \u043d\u0430 \u043a\u043e\u043b\u043e\u043d\u0430",columnsPanelShowAllButton:"\u041f\u043e\u043a\u0430\u0436\u0438 \u0412\u0441\u0438\u0447\u043a\u0438",columnsPanelHideAllButton:"\u0421\u043a\u0440\u0438\u0439 \u0412\u0441\u0438\u0447\u043a\u0438",filterPanelAddFilter:"\u0414\u043e\u0431\u0430\u0432\u0438 \u0424\u0438\u043b\u0442\u044a\u0440",filterPanelDeleteIconLabel:"\u0418\u0437\u0442\u0440\u0438\u0439",filterPanelOperators:"\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0438",filterPanelOperatorAnd:"\u0418",filterPanelOperatorOr:"\u0418\u043b\u0438",filterPanelColumns:"\u041a\u043e\u043b\u043e\u043d\u0438",filterPanelInputLabel:"\u0421\u0442\u043e\u0439\u043d\u043e\u0441\u0442",filterPanelInputPlaceholder:"\u0421\u0442\u043e\u0439\u043d\u043e\u0441\u0442 \u043d\u0430 \u0444\u0438\u043b\u0442\u044a\u0440\u0430",filterOperatorContains:"\u0441\u044a\u0434\u044a\u0440\u0436\u0430",filterOperatorEquals:"\u0440\u0430\u0432\u043d\u043e",filterOperatorStartsWith:"\u0437\u0430\u043f\u043e\u0447\u0432\u0430 \u0441",filterOperatorEndsWith:"\u0437\u0430\u0432\u044a\u0440\u0448\u0432\u0430 \u0441",filterOperatorIs:"\u0435",filterOperatorNot:"\u043d\u0435 \u0435",filterOperatorAfter:"\u0435 \u0441\u043b\u0435\u0434",filterOperatorOnOrAfter:"\u0435 \u043d\u0430 \u0438\u043b\u0438 \u0441\u043b\u0435\u0434",filterOperatorBefore:"\u0435 \u043f\u0440\u0435\u0434\u0438",filterOperatorOnOrBefore:"\u0435 \u043d\u0430 \u0438\u043b\u0438 \u043f\u0440\u0435\u0434\u0438",columnMenuLabel:"\u041c\u0435\u043d\u044e",columnMenuShowColumns:"\u041f\u043e\u043a\u0430\u0436\u0438 \u043a\u043e\u043b\u043e\u043d\u0438\u0442\u0435",columnMenuFilter:"\u0424\u0438\u043b\u0442\u0440\u0438",columnMenuHideColumn:"\u0421\u043a\u0440\u0438\u0439",columnMenuUnsort:"\u041e\u0442\u043c\u0435\u043d\u0438 \u0441\u043e\u0440\u0442\u0438\u0440\u0430\u043d\u0435\u0442\u043e",columnMenuSortAsc:"\u0421\u043e\u0440\u0442\u0438\u0440\u0430\u0439 \u043f\u043e \u0432\u044a\u0437\u0445\u043e\u0434\u044f\u0449 \u0440\u0435\u0434",columnMenuSortDesc:"\u0421\u043e\u0440\u0442\u0438\u0440\u0430\u0439 \u043f\u043e \u043d\u0438\u0437\u0445\u043e\u0434\u044f\u0449 \u0440\u0435\u0434",columnHeaderFiltersTooltipActive:function(e){return"".concat(e," \u0430\u043a\u0442\u0438\u0432\u043d\u0438 \u0444\u0438\u043b\u0442\u0440\u0438")},columnHeaderFiltersLabel:"\u041f\u043e\u043a\u0430\u0436\u0438 \u0424\u0438\u043b\u0442\u0440\u0438\u0442\u0435",columnHeaderSortIconLabel:"\u0421\u043e\u0440\u0442\u0438\u0440\u0430\u0439",footerRowSelected:function(e){return"".concat(e.toLocaleString(),1!==e?" \u0438\u0437\u0431\u0440\u0430\u043d\u0438 \u0440\u0435\u0434\u043e\u0432\u0435":" \u0438\u0437\u0431\u0440\u0430\u043d \u0440\u0435\u0434")},footerTotalRows:"\u041e\u0431\u0449\u043e R\u0435\u0434\u043e\u0432\u0435:"},{components:{MuiBreadcrumbs:{defaultProps:{expandText:"\u041f\u043e\u043a\u0430\u0437\u0432\u0430\u043d\u0435 \u043d\u0430 \u043f\u044a\u0442\u044f"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:function(e){return"first"===e?"\u041e\u0442\u0438\u0434\u0438 \u043d\u0430 \u043f\u044a\u0440\u0432\u0430\u0442\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430":"last"===e?"\u041e\u0442\u0438\u0434\u0438 \u043d\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0430\u0442\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430":"next"===e?"\u041e\u0442\u0438\u0434\u0438 \u043d\u0430 \u0441\u043b\u0435\u0434\u0432\u0430\u0449\u0430\u0442\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430":"\u041e\u0442\u0438\u0434\u0438 \u043d\u0430 \u043f\u0440\u0435\u0434\u0438\u0448\u043d\u0430\u0442\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"},labelRowsPerPage:"\u0420\u0435\u0434\u043e\u0432\u0435 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430:"}},MuiRating:{defaultProps:{getLabelText:function(e){return"".concat(e," \u0417\u0432\u0435\u0437\u0434").concat(1!==e?"\u0438":"\u0430")},emptyLabelText:"\u0418\u0437\u0447\u0438\u0441\u0442\u0438"}},MuiAutocomplete:{defaultProps:{clearText:"\u0418\u0437\u0447\u0438\u0441\u0442\u0438",closeText:"\u0417\u0430\u0442\u0432\u043e\u0440\u0438",loadingText:"\u0417\u0430\u0440\u0435\u0436\u0434\u0430\u043d\u0435\u2026",noOptionsText:"\u041d\u044f\u043c\u0430 \u043d\u0430\u043b\u0438\u0447\u043d\u0438 \u043e\u043f\u0446\u0438\u0438",openText:"\u041e\u0442\u0432\u043e\u0440\u0438"}},MuiAlert:{defaultProps:{closeText:"\u0417\u0430\u0442\u0432\u043e\u0440\u0438"}},MuiPagination:{defaultProps:{"aria-label":"\u041f\u0430\u0433\u0438\u043d\u0430\u0446\u0438\u044f",getItemAriaLabel:function(e,t,n){return"page"===e?"".concat(n?"":"\u041a\u044a\u043c ","\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 ").concat(t):"first"===e?"\u041e\u0442\u0438\u0434\u0438 \u043d\u0430 \u043f\u044a\u0440\u0432\u0430\u0442\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430":"last"===e?"\u041e\u0442\u0438\u0434\u0438 \u043d\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0430\u0442\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430":"next"===e?"\u041e\u0442\u0438\u0434\u0438 \u043d\u0430 \u0441\u043b\u0435\u0434\u0432\u0430\u0449\u0430\u0442\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430":"\u041e\u0442\u0438\u0434\u0438 \u043d\u0430 \u043f\u0440\u0435\u0434\u0438\u0448\u043d\u0430\u0442\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"}}}}}),Nf({noRowsLabel:"\u017d\xe1dn\xe9 z\xe1znamy",noResultsOverlayLabel:"Nena\u0161li se \u017eadn\xe9 v\xfdsledky.",errorOverlayDefaultLabel:"Stala sa nep\u0159edv\xeddan\xe1 chyba.",toolbarDensity:"Hustota",toolbarDensityLabel:"Hustota",toolbarDensityCompact:"Kompaktn\xed",toolbarDensityStandard:"Standartn\xed",toolbarDensityComfortable:"Komfortn\xed",toolbarColumns:"Sloupce",toolbarColumnsLabel:"Vybrat sloupec",toolbarFilters:"Filtry",toolbarFiltersLabel:"Zobrazit filtry",toolbarFiltersTooltipHide:"Skr\xfdt filtry",toolbarFiltersTooltipShow:"Zobrazit filtry",toolbarFiltersTooltipActive:function(e){var t="aktivn\xedch filtr\u016f";return e>1&&e<5?t="aktivn\xed filtry":1===e&&(t="aktivn\xed filtr"),"".concat(e," ").concat(t)},toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"St\xe1hnout jako CSV",toolbarExportPrint:"Vytisknout",columnsPanelTextFieldLabel:"Naj\xedt sloupec",columnsPanelTextFieldPlaceholder:"N\xe1zev sloupce",columnsPanelDragIconLabel:"Uspo\u0159\xe1dat sloupce",columnsPanelShowAllButton:"Zobrazit v\u0161e",columnsPanelHideAllButton:"Skr\xfdt v\u0161e",filterPanelAddFilter:"P\u0159idat filtr",filterPanelDeleteIconLabel:"Odstranit",filterPanelOperators:"Oper\xe1tory",filterPanelOperatorAnd:"A",filterPanelOperatorOr:"Nebo",filterPanelColumns:"Sloupce",filterPanelInputLabel:"Hodnota",filterPanelInputPlaceholder:"Hodnota filtru",filterOperatorContains:"obsahuje",filterOperatorEquals:"rovn\xe1 se",filterOperatorStartsWith:"za\u010d\xedn\xe1 s",filterOperatorEndsWith:"kon\u010d\xed na",filterOperatorIs:"je",filterOperatorNot:"nen\xed",filterOperatorAfter:"je po",filterOperatorOnOrAfter:"je na nebo po",filterOperatorBefore:"je p\u0159ed",filterOperatorOnOrBefore:"je na nebo d\u0159\xedve",filterOperatorIsEmpty:"je pr\xe1zdn\xfd",filterOperatorIsNotEmpty:"nen\xed pr\xe1zdn\xfd",filterValueAny:"jak\xfdkoliv",filterValueTrue:"ano",filterValueFalse:"ne",columnMenuLabel:"Menu",columnMenuShowColumns:"Zobrazit sloupce",columnMenuFilter:"Filtr",columnMenuHideColumn:"Skr\xfdt",columnMenuUnsort:"Zru\u0161it filtry",columnMenuSortAsc:"Se\u0159adit vzestupn\u011b",columnMenuSortDesc:"Se\u0159adit sestupn\u011b",columnHeaderFiltersTooltipActive:function(e){var t="aktivn\xedch filtr\u016f";return e>1&&e<5?t="aktivn\xed filtry":1===e&&(t="aktivn\xed filtr"),"".concat(e," ").concat(t)},columnHeaderFiltersLabel:"Zobrazit filtry",columnHeaderSortIconLabel:"Filtrovat",footerRowSelected:function(e){var t="vybran\xfdch z\xe1znam\u016f";return e>1&&e<5?t="vybran\xe9 z\xe1znamy":1===e&&(t="vybran\xfd z\xe1znam"),"".concat(e," ").concat(t)},footerTotalRows:"Celkem \u0159\xe1dk\u016f:",footerTotalVisibleRows:function(e,t){var n=t.toString(),r=n[0],a=["4","6","7"].includes(r)||"1"===r&&n.length%3==0?"ze":"z";return"".concat(e.toLocaleString()," ").concat(a," ").concat(t.toLocaleString())},checkboxSelectionHeaderName:"V\xfdb\u011br \u0159\xe1dku",booleanCellTrueLabel:"ano",booleanCellFalseLabel:"ne",actionsCellMore:"v\xedce",pinToLeft:"P\u0159ipnout na levo",pinToRight:"P\u0159ipnout na pravo",unpin:"Odepnout",treeDataGroupingHeaderName:"Skupina",treeDataExpand:"zobrazit potomky",treeDataCollapse:"skr\xfdt potomky",groupingColumnHeaderName:"Skupina",groupColumn:function(e){return"Zoskupit podle ".concat(e)},unGroupColumn:function(e){return"P\u0159estat zoskupovat podle ".concat(e)}},{components:{MuiBreadcrumbs:{defaultProps:{expandText:"Uk\xe1zat cestu"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:function(e){return"first"===e?"J\xedt na prvn\xed str\xe1nku":"last"===e?"J\xedt na posledn\xed str\xe1nku":"next"===e?"J\xedt na dal\u0161\xed str\xe1nku":"J\xedt na p\u0159edchoz\xed str\xe1nku"},labelRowsPerPage:"\u0158\xe1dk\u016f na str\xe1nce:",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"\u2013").concat(n," z ").concat(-1!==r?r:"v\xedce ne\u017e ".concat(n))}}},MuiRating:{defaultProps:{getLabelText:function(e){return"".concat(e,1===e?" hv\u011bzdi\u010dka":e>=2&&e<=4?" hv\u011bzdi\u010dky":" hv\u011bzdi\u010dek")},emptyLabelText:"Pr\xe1zdn\xe9"}},MuiAutocomplete:{defaultProps:{clearText:"Vymazat",closeText:"Zav\u0159\xedt",loadingText:"Na\u010d\xedt\xe1n\xed\u2026",noOptionsText:"\u017d\xe1dn\xe9 mo\u017enosti",openText:"Otev\u0159\xedt"}},MuiAlert:{defaultProps:{closeText:"Zav\u0159\xedt"}},MuiPagination:{defaultProps:{"aria-label":"Navigace str\xe1nkov\xe1n\xedm",getItemAriaLabel:function(e,t,n){return"page"===e?"".concat(n?"":"J\xedt na ").concat(t," str\xe1nku"):"first"===e?"J\xedt na prvn\xed str\xe1nku":"last"===e?"J\xedt na posledn\xed str\xe1nku":"next"===e?"J\xedt na dal\u0161\xed str\xe1nku":"J\xedt na p\u0159edchoz\xed str\xe1nku"}}}}}),Nf({noRowsLabel:"Keine Eintr\xe4ge",noResultsOverlayLabel:"Keine Ergebnisse gefunden.",errorOverlayDefaultLabel:"Ein unerwarteter Fehler ist aufgetreten.",toolbarDensity:"Zeilenh\xf6he",toolbarDensityLabel:"Zeilenh\xf6he",toolbarDensityCompact:"Kompakt",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Breit",toolbarColumns:"Spalten",toolbarColumnsLabel:"Zeige Spaltenauswahl",toolbarFilters:"Filter",toolbarFiltersLabel:"Zeige Filter",toolbarFiltersTooltipHide:"Verberge Filter",toolbarFiltersTooltipShow:"Zeige Filter",toolbarFiltersTooltipActive:function(e){return"".concat(e,1!==e?" aktive Filter":" aktiver Filter")},toolbarExport:"Exportieren",toolbarExportLabel:"Exportieren",toolbarExportCSV:"Download als CSV",toolbarExportPrint:"Drucken",columnsPanelTextFieldLabel:"Finde Spalte",columnsPanelTextFieldPlaceholder:"Spalten\xfcberschrift",columnsPanelDragIconLabel:"Spalte umsortieren",columnsPanelShowAllButton:"Zeige alle",columnsPanelHideAllButton:"Verberge alle",filterPanelAddFilter:"Filter hinzuf\xfcgen",filterPanelDeleteIconLabel:"L\xf6schen",filterPanelOperators:"Operatoren",filterPanelOperatorAnd:"Und",filterPanelOperatorOr:"Oder",filterPanelColumns:"Spalten",filterPanelInputLabel:"Wert",filterPanelInputPlaceholder:"Wert filtern",filterOperatorContains:"enth\xe4lt",filterOperatorEquals:"ist gleich",filterOperatorStartsWith:"beginnt mit",filterOperatorEndsWith:"endet mit",filterOperatorIs:"ist",filterOperatorNot:"ist nicht",filterOperatorAfter:"ist nach",filterOperatorOnOrAfter:"ist am oder nach",filterOperatorBefore:"ist vor",filterOperatorOnOrBefore:"ist am oder vor",filterOperatorIsEmpty:"ist leer",filterOperatorIsNotEmpty:"ist nicht leer",filterValueAny:"Beliebig",filterValueTrue:"Ja",filterValueFalse:"Nein",columnMenuLabel:"Men\xfc",columnMenuShowColumns:"Zeige alle Spalten",columnMenuFilter:"Filter",columnMenuHideColumn:"Verbergen",columnMenuUnsort:"Sortierung deaktivieren",columnMenuSortAsc:"Sortiere aufsteigend",columnMenuSortDesc:"Sortiere absteigend",columnHeaderFiltersTooltipActive:function(e){return"".concat(e,1!==e?" aktive Filter":" aktiver Filter")},columnHeaderFiltersLabel:"Zeige Filter",columnHeaderSortIconLabel:"Sortieren",footerRowSelected:function(e){return"".concat(e.toLocaleString(),1!==e?" Eintr\xe4ge ausgew\xe4hlt":" Eintrag ausgew\xe4hlt")},footerTotalRows:"Gesamt:",footerTotalVisibleRows:function(e,t){return"".concat(e.toLocaleString()," von ").concat(t.toLocaleString())},checkboxSelectionHeaderName:"Checkbox Auswahl",booleanCellTrueLabel:"Ja",booleanCellFalseLabel:"Nein",actionsCellMore:"Mehr",pinToLeft:"Links anheften",pinToRight:"Rechts anheften",unpin:"Losl\xf6sen",treeDataGroupingHeaderName:"Gruppe",treeDataExpand:"Kinder einblenden",treeDataCollapse:"Kinder ausblenden"},{components:{MuiBreadcrumbs:{defaultProps:{expandText:"Pfad anzeigen"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:function(e){return"first"===e?"Zur ersten Seite":"last"===e?"Zur letzten Seite":"next"===e?"Zur n\xe4chsten Seite":"Zur vorherigen Seite"},labelRowsPerPage:"Zeilen pro Seite:",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"\u2013").concat(n," von ").concat(-1!==r?r:"mehr als ".concat(n))}}},MuiRating:{defaultProps:{getLabelText:function(e){return"".concat(e," ").concat(1!==e?"Sterne":"Stern")},emptyLabelText:"Keine Wertung"}},MuiAutocomplete:{defaultProps:{clearText:"Leeren",closeText:"Schlie\xdfen",loadingText:"Wird geladen\u2026",noOptionsText:"Keine Optionen",openText:"\xd6ffnen"}},MuiAlert:{defaultProps:{closeText:"Schlie\xdfen"}},MuiPagination:{defaultProps:{"aria-label":"Navigation via Seitennummerierung",getItemAriaLabel:function(e,t,n){return"page"===e?"".concat(n?"":"Gehe zu ","Seite ").concat(t):"first"===e?"Zur ersten Seite":"last"===e?"Zur letzten Seite":"next"===e?"Zur n\xe4chsten Seite":"Zur vorherigen Seite"}}}}}),Nf({noRowsLabel:"\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03ba\u03b1\u03c4\u03b1\u03c7\u03c9\u03c1\u03ae\u03c3\u03b5\u03b9\u03c2",noResultsOverlayLabel:"\u0394\u03b5\u03bd \u03b2\u03c1\u03ad\u03b8\u03b7\u03ba\u03b1\u03bd \u03b1\u03c0\u03bf\u03c4\u03b5\u03bb\u03ad\u03c3\u03bc\u03b1\u03c4\u03b1.",errorOverlayDefaultLabel:"\u03a0\u03b1\u03c1\u03bf\u03c5\u03c3\u03b9\u03ac\u03c3\u03c4\u03b7\u03ba\u03b5 \u03b1\u03c0\u03c1\u03cc\u03b2\u03bb\u03b5\u03c0\u03c4\u03bf \u03c3\u03c6\u03ac\u03bb\u03bc\u03b1.",toolbarDensity:"\u038e\u03c8\u03bf\u03c2 \u03c3\u03b5\u03b9\u03c1\u03ac\u03c2",toolbarDensityLabel:"\u038e\u03c8\u03bf\u03c2 \u03c3\u03b5\u03b9\u03c1\u03ac\u03c2",toolbarDensityCompact:"\u03a3\u03c5\u03bc\u03c0\u03b1\u03b3\u03ae\u03c2",toolbarDensityStandard:"\u03a0\u03c1\u03bf\u03ba\u03b1\u03b8\u03bf\u03c1\u03b9\u03c3\u03bc\u03ad\u03bd\u03bf",toolbarDensityComfortable:"\u03a0\u03bb\u03b1\u03c4\u03cd",toolbarColumns:"\u03a3\u03c4\u03ae\u03bb\u03b5\u03c2",toolbarColumnsLabel:"\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03c3\u03c4\u03ae\u03bb\u03b5\u03c2",toolbarFilters:"\u03a6\u03af\u03bb\u03c4\u03c1\u03b1",toolbarFiltersLabel:"\u0395\u03bc\u03c6\u03ac\u03bd\u03b9\u03c3\u03b7 \u03c6\u03af\u03bb\u03c4\u03c1\u03c9\u03bd",toolbarFiltersTooltipHide:"\u0391\u03c0\u03cc\u03ba\u03c1\u03c5\u03c8\u03b7 \u03c6\u03af\u03bb\u03c4\u03c1\u03c9\u03bd",toolbarFiltersTooltipShow:"\u0395\u03bc\u03c6\u03ac\u03bd\u03b9\u03c3\u03b7 \u03c6\u03af\u03bb\u03c4\u03c1\u03c9\u03bd",toolbarFiltersTooltipActive:function(e){return"".concat(e,1!==e?" \u03b5\u03bd\u03b5\u03c1\u03b3\u03ac \u03c6\u03af\u03bb\u03c4\u03c1\u03b1":" \u03b5\u03bd\u03b5\u03c1\u03b3\u03cc \u03c6\u03af\u03bb\u03c4\u03c1\u03bf")},toolbarExport:"\u0395\u03be\u03b1\u03b3\u03c9\u03b3\u03ae",toolbarExportLabel:"\u0395\u03be\u03b1\u03b3\u03c9\u03b3\u03ae",toolbarExportCSV:"\u039b\u03ae\u03c8\u03b7 \u03c9\u03c2 CSV",columnsPanelTextFieldLabel:"\u0395\u03cd\u03c1\u03b5\u03c3\u03b7 \u03c3\u03c4\u03ae\u03bb\u03b7\u03c2",columnsPanelTextFieldPlaceholder:"\u0395\u03c0\u03b9\u03ba\u03b5\u03c6\u03b1\u03bb\u03af\u03b4\u03b1 \u03c3\u03c4\u03ae\u03bb\u03b7\u03c2",columnsPanelDragIconLabel:"\u0391\u03bd\u03b1\u03b4\u03b9\u03ac\u03c4\u03b1\u03be\u03b7 \u03c3\u03c4\u03ae\u03bb\u03b7\u03c2",columnsPanelShowAllButton:"\u03a0\u03c1\u03bf\u03b2\u03bf\u03bb\u03ae \u03cc\u03bb\u03c9\u03bd",columnsPanelHideAllButton:"\u0391\u03c0\u03cc\u03ba\u03c1\u03c5\u03c8\u03b7 \u03cc\u03bb\u03c9\u03bd",filterPanelAddFilter:"\u03a0\u03c1\u03bf\u03c3\u03b8\u03ae\u03ba\u03b7 \u03c6\u03af\u03bb\u03c4\u03c1\u03bf\u03c5",filterPanelDeleteIconLabel:"\u0394\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae",filterPanelOperators:"\u03a4\u03b5\u03bb\u03b5\u03c3\u03c4\u03ad\u03c2",filterPanelOperatorAnd:"\u039a\u03b1\u03af",filterPanelOperatorOr:"\u0389",filterPanelColumns:"\u03a3\u03c4\u03ae\u03bb\u03b5\u03c2",filterPanelInputLabel:"\u03a4\u03b9\u03bc\u03ae",filterPanelInputPlaceholder:"\u03a4\u03b9\u03bc\u03ae \u03c6\u03af\u03bb\u03c4\u03c1\u03bf\u03c5",filterOperatorContains:"\u03c0\u03b5\u03c1\u03b9\u03ad\u03c7\u03b5\u03b9",filterOperatorEquals:"\u03b9\u03c3\u03bf\u03cd\u03c4\u03b1\u03b9",filterOperatorStartsWith:"\u03be\u03b5\u03ba\u03b9\u03bd\u03ac\u03b5\u03b9 \u03bc\u03b5",filterOperatorEndsWith:"\u03c4\u03b5\u03bb\u03b5\u03b9\u03ce\u03bd\u03b5\u03b9 \u03bc\u03b5",filterOperatorIs:"\u03b5\u03af\u03bd\u03b1\u03b9",filterOperatorNot:"\u03b4\u03b5\u03bd \u03b5\u03af\u03bd\u03b1\u03b9",filterOperatorAfter:"\u03b5\u03af\u03bd\u03b1\u03b9 \u03bc\u03b5\u03c4\u03ac",filterOperatorOnOrAfter:"\u03b5\u03af\u03bd\u03b1\u03b9 \u03af\u03c3\u03bf \u03ae \u03bc\u03b5\u03c4\u03ac",filterOperatorBefore:"\u03b5\u03af\u03bd\u03b1\u03b9 \u03c0\u03c1\u03b9\u03bd",filterOperatorOnOrBefore:"\u03b5\u03af\u03bd\u03b1\u03b9 \u03af\u03c3\u03bf \u03ae \u03c0\u03c1\u03b9\u03bd",filterOperatorIsEmpty:"\u03b5\u03af\u03bd\u03b1\u03b9 \u03ba\u03b5\u03bd\u03cc",filterOperatorIsNotEmpty:"\u03b4\u03b5\u03bd \u03b5\u03af\u03bd\u03b1\u03b9 \u03ba\u03b5\u03bd\u03cc",columnMenuLabel:"\u039c\u03b5\u03bd\u03bf\u03cd",columnMenuShowColumns:"\u0395\u03bc\u03c6\u03ac\u03bd\u03b9\u03c3\u03b7 \u03c3\u03c4\u03b7\u03bb\u03ce\u03bd",columnMenuFilter:"\u03a6\u03af\u03bb\u03c4\u03c1\u03bf",columnMenuHideColumn:"\u0391\u03c0\u03cc\u03ba\u03c1\u03c5\u03c8\u03b7",columnMenuUnsort:"\u0391\u03c0\u03b5\u03bd\u03b5\u03c1\u03b3\u03bf\u03c0\u03bf\u03af\u03b7\u03c3\u03b7 \u03c4\u03b1\u03be\u03b9\u03bd\u03cc\u03bc\u03b7\u03c3\u03b7\u03c2",columnMenuSortAsc:"\u03a4\u03b1\u03be\u03b9\u03bd\u03cc\u03bc\u03b7\u03c3\u03b7 \u03c3\u03b5 \u03b1\u03cd\u03be\u03bf\u03c5\u03c3\u03b1 \u03c3\u03b5\u03b9\u03c1\u03ac",columnMenuSortDesc:"\u03a4\u03b1\u03be\u03b9\u03bd\u03cc\u03bc\u03b7\u03c3\u03b7 \u03c3\u03b5 \u03c6\u03b8\u03af\u03bd\u03bf\u03c5\u03c3\u03b1 \u03c3\u03b5\u03b9\u03c1\u03ac",columnHeaderFiltersTooltipActive:function(e){return"".concat(e,1!==e?" \u03b5\u03bd\u03b5\u03c1\u03b3\u03ac \u03c6\u03af\u03bb\u03c4\u03c1\u03b1":" \u03b5\u03bd\u03b5\u03c1\u03b3\u03cc \u03c6\u03af\u03bb\u03c4\u03c1\u03bf")},columnHeaderFiltersLabel:"\u0395\u03bc\u03c6\u03ac\u03bd\u03b9\u03c3\u03b7 \u03c6\u03af\u03bb\u03c4\u03c1\u03c9\u03bd",columnHeaderSortIconLabel:"\u03a4\u03b1\u03be\u03b9\u03bd\u03cc\u03bc\u03b7\u03c3\u03b7",footerRowSelected:function(e){return"".concat(e.toLocaleString(),1!==e?" \u03b5\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03b5\u03c2 \u03b3\u03c1\u03b1\u03bc\u03bc\u03ad\u03c2":" \u03b5\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03b7 \u03b3\u03c1\u03b1\u03bc\u03bc\u03ae")},footerTotalRows:"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u0393\u03c1\u03b1\u03bc\u03bc\u03ce\u03bd:",footerTotalVisibleRows:function(e,t){return"".concat(e.toLocaleString()," \u03b1\u03c0\u03cc ").concat(t.toLocaleString())},actionsCellMore:"\u03c0\u03b5\u03c1\u03b9\u03c3\u03c3\u03cc\u03c4\u03b5\u03c1\u03b1"}),Nf(Vp,{}),Nf({noRowsLabel:"Sin filas",errorOverlayDefaultLabel:"Ha ocurrido un error.",toolbarDensity:"Densidad",toolbarDensityLabel:"Densidad",toolbarDensityCompact:"Compacta",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comoda",toolbarColumns:"Columnas",toolbarColumnsLabel:"Seleccionar columnas",toolbarFilters:"Filtros",toolbarFiltersLabel:"Mostrar filtros",toolbarFiltersTooltipHide:"Ocultar filtros",toolbarFiltersTooltipShow:"Mostrar filtros",toolbarFiltersTooltipActive:function(e){return"".concat(e,e>1?" filtros activos":" filtro activo")},toolbarExport:"Exportar",toolbarExportLabel:"Exportar",toolbarExportCSV:"Descargar como CSV",columnsPanelTextFieldLabel:"Columna de b\xfasqueda",columnsPanelTextFieldPlaceholder:"T\xedtulo de columna",columnsPanelDragIconLabel:"Reorder columna",columnsPanelShowAllButton:"Mostrar todo",columnsPanelHideAllButton:"Ocultar todo",filterPanelAddFilter:"Agregar filtro",filterPanelDeleteIconLabel:"Borrar",filterPanelOperators:"Operadores",filterPanelOperatorAnd:"Y",filterPanelOperatorOr:"O",filterPanelColumns:"Columnas",filterPanelInputLabel:"Valor",filterPanelInputPlaceholder:"Valor de filtro",filterOperatorContains:"contiene",filterOperatorEquals:"es igual",filterOperatorStartsWith:"comienza con",filterOperatorEndsWith:"termina con",filterOperatorIs:"es",filterOperatorNot:"no es",filterOperatorAfter:"es posterior",filterOperatorOnOrAfter:"es en o posterior",filterOperatorBefore:"es anterior",filterOperatorOnOrBefore:"es en o anterior",filterOperatorIsEmpty:"est\xe1 vac\xedo",filterOperatorIsNotEmpty:"no esta vac\xedo",columnMenuLabel:"Men\xfa",columnMenuShowColumns:"Mostrar columnas",columnMenuFilter:"Filtro",columnMenuHideColumn:"Ocultar",columnMenuUnsort:"Desordenar",columnMenuSortAsc:"Ordenar ASC",columnMenuSortDesc:"Ordenar DESC",columnHeaderFiltersTooltipActive:function(e){return"".concat(e,e>1?" filtros activos":" filtro activo")},columnHeaderFiltersLabel:"Mostrar filtros",columnHeaderSortIconLabel:"Ordenar",footerRowSelected:function(e){return"".concat(e.toLocaleString(),e>1?" filas seleccionadas":" fila seleccionada")},footerTotalRows:"Filas Totales:",footerTotalVisibleRows:function(e,t){return"".concat(e.toLocaleString()," de ").concat(t.toLocaleString())},actionsCellMore:"m\xe1s"},{components:{MuiBreadcrumbs:{defaultProps:{expandText:"Mostrar ruta"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:function(e){return"first"===e?"Ir a la primera p\xe1gina":"last"===e?"Ir a la \xfaltima p\xe1gina":"next"===e?"Ir a la p\xe1gina siguiente":"Ir a la p\xe1gina anterior"},labelRowsPerPage:"Filas por p\xe1gina:",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"\u2013").concat(n," de ").concat(-1!==r?r:"m\xe1s de ".concat(n))}}},MuiRating:{defaultProps:{getLabelText:function(e){return"".concat(e," Estrella").concat(1!==e?"s":"")},emptyLabelText:"Vac\xedo"}},MuiAutocomplete:{defaultProps:{clearText:"Limpiar",closeText:"Cerrar",loadingText:"Cargando\u2026",noOptionsText:"Sin opciones",openText:"Abierto"}},MuiAlert:{defaultProps:{closeText:"Cerrar"}},MuiPagination:{defaultProps:{"aria-label":"Paginador",getItemAriaLabel:function(e,t,n){return"page"===e?"".concat(n?"":"Ir a la ","p\xe1gina ").concat(t):"first"===e?"Ir a la primera p\xe1gina":"last"===e?"Ir a la \xfaltima p\xe1gina":"next"===e?"Ir a la p\xe1gina siguiente":"Ir a la p\xe1gina anterior"}}}}}),Nf({noRowsLabel:"\u0628\u062f\u0648\u0646 \u0633\u0637\u0631",noResultsOverlayLabel:"\u0646\u062a\u06cc\u062c\u0647 \u0627\u06cc \u067e\u06cc\u062f\u0627 \u0646\u0634\u062f.",errorOverlayDefaultLabel:"\u062e\u0637\u0627\u06cc\u06cc \u0631\u0648\u06cc \u062f\u0627\u062f.",toolbarDensity:"\u062a\u0631\u0627\u06a9\u0645",toolbarDensityLabel:"\u062a\u0631\u0627\u06a9\u0645",toolbarDensityCompact:"\u0641\u0634\u0631\u062f\u0647",toolbarDensityStandard:"\u0627\u0633\u062a\u0627\u0646\u062f\u0627\u0631\u062f",toolbarDensityComfortable:"\u0631\u0627\u062d\u062a",toolbarColumns:"\u0633\u062a\u0648\u0646\u200c\u0647\u0627",toolbarColumnsLabel:"\u0633\u062a\u0648\u0646\u200c\u0647\u0627 \u0631\u0627 \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f",toolbarFilters:"\u0641\u06cc\u0644\u062a\u0631\u0647\u0627",toolbarFiltersLabel:"\u0646\u0645\u0627\u06cc\u0634 \u0641\u06cc\u0644\u062a\u0631\u0647\u0627",toolbarFiltersTooltipHide:"\u0645\u062e\u0641\u06cc \u06a9\u0631\u062f\u0646 \u0641\u06cc\u0644\u062a\u0631\u0647\u0627",toolbarFiltersTooltipShow:"\u0646\u0645\u0627\u06cc\u0634 \u0641\u06cc\u0644\u062a\u0631\u0647\u0627",toolbarFiltersTooltipActive:function(e){return"".concat(e,1!==e?" \u0641\u06cc\u0644\u062a\u0631\u0647\u0627\u06cc \u0641\u0639\u0627\u0644":" \u0641\u06cc\u0644\u062a\u0631 \u0641\u0639\u0627\u0644")},toolbarExport:"\u062e\u0631\u0648\u062c\u06cc",toolbarExportLabel:"\u062e\u0631\u0648\u062c\u06cc",toolbarExportCSV:"\u062f\u0627\u0646\u0644\u0648\u062f \u0628\u0647\u200c\u0635\u0648\u0631\u062a CSV",columnsPanelTextFieldLabel:"\u067e\u06cc\u062f\u0627\u06a9\u0631\u062f\u0646 \u0633\u062a\u0648\u0646",columnsPanelTextFieldPlaceholder:"\u0639\u0646\u0648\u0627\u0646 \u0633\u062a\u0648\u0646",columnsPanelDragIconLabel:"\u062c\u0627\u200c\u0628\u0647\u200c\u062c\u0627\u06cc\u06cc \u0633\u062a\u0648\u0646",columnsPanelShowAllButton:"\u0646\u0645\u0627\u06cc\u0634 \u0647\u0645\u0647",columnsPanelHideAllButton:"\u0645\u062e\u0641\u06cc \u0647\u0645\u0647",filterPanelAddFilter:"\u0627\u0641\u0632\u0648\u062f\u0646 \u0641\u06cc\u0644\u062a\u0631",filterPanelDeleteIconLabel:"\u062d\u0630\u0641",filterPanelOperators:"\u0639\u0645\u0644\u06af\u0631\u0647\u0627",filterPanelOperatorAnd:"\u0648",filterPanelOperatorOr:"\u06cc\u0627",filterPanelColumns:"\u0633\u062a\u0648\u0646\u200c\u0647\u0627",filterPanelInputLabel:"\u0645\u0642\u062f\u0627\u0631",filterPanelInputPlaceholder:"\u0641\u06cc\u0644\u062a\u0631 \u0645\u0642\u062f\u0627\u0631",filterOperatorContains:"\u0634\u0627\u0645\u0644",filterOperatorEquals:"\u0645\u0633\u0627\u0648\u06cc",filterOperatorStartsWith:"\u0634\u0631\u0648\u0639 \u0628\u0627",filterOperatorEndsWith:"\u067e\u0627\u06cc\u0627\u0646 \u0628\u0627",filterOperatorIs:"\u0647\u0633\u062a",filterOperatorNot:"\u0646\u06cc\u0633\u062a",filterOperatorAfter:"\u0628\u0639\u062f \u0627\u0632",filterOperatorOnOrAfter:"\u0645\u0639\u0627\u062f\u0644 \u06cc\u0627 \u0628\u0639\u062f\u0634",filterOperatorBefore:"\u0642\u0628\u0644\u0634",filterOperatorOnOrBefore:"\u0645\u0639\u0627\u062f\u0644 \u06cc\u0627 \u0642\u0628\u0644\u0634",filterOperatorIsEmpty:"\u062e\u0627\u0644\u06cc \u0627\u0633\u062a",filterOperatorIsNotEmpty:"\u062e\u0627\u0644\u06cc \u0646\u06cc\u0633\u062a",filterValueAny:"\u0647\u0631\u0686\u06cc\u0632\u06cc",filterValueTrue:"\u0635\u062d\u06cc\u062d",filterValueFalse:"\u063a\u0644\u0637",columnMenuLabel:"\u0641\u0647\u0631\u0633\u062a",columnMenuShowColumns:"\u0646\u0645\u0627\u06cc\u0634 \u0633\u062a\u0648\u0646\u200c\u0647\u0627",columnMenuFilter:"\u0641\u06cc\u0644\u062a\u0631",columnMenuHideColumn:"\u0645\u062e\u0641\u06cc",columnMenuUnsort:"\u0646\u0627\u0645\u0631\u062a\u0628\u200c\u06a9\u0631\u062f\u0646",columnMenuSortAsc:"\u0645\u0631\u062a\u0628\u200c\u06a9\u0631\u062f\u0646 \u0635\u0639\u0648\u062f\u06cc",columnMenuSortDesc:"\u0645\u0631\u062a\u0628\u200c\u06a9\u0631\u062f\u0646 \u0646\u0632\u0648\u0644\u06cc",columnHeaderFiltersTooltipActive:function(e){return"".concat(e,1!==e?" \u0641\u06cc\u0644\u062a\u0631\u200c\u0647\u0627\u06cc \u0641\u0639\u0627\u0644":" \u0641\u06cc\u0644\u062a\u0631 \u0641\u0639\u0627\u0644")},columnHeaderFiltersLabel:"\u0646\u0645\u0627\u06cc\u0634 \u0641\u06cc\u0644\u062a\u0631\u0647\u0627",columnHeaderSortIconLabel:"\u0645\u0631\u062a\u0628\u200c\u06a9\u0631\u062f\u0646",footerRowSelected:function(e){return"".concat(e.toLocaleString(),1!==e?" \u0633\u0637\u0631\u0647\u0627\u06cc \u0627\u0646\u062a\u062e\u0627\u0628 \u0634\u062f\u0647":" \u0633\u0637\u0631 \u0627\u0646\u062a\u062e\u0627\u0628 \u0634\u062f\u0647")},footerTotalRows:"\u0645\u062c\u0645\u0648\u0639 \u0633\u0637\u0631\u0647\u0627:",footerTotalVisibleRows:function(e,t){return"".concat(e.toLocaleString()," \u0627\u0632 ").concat(t.toLocaleString())},checkboxSelectionHeaderName:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0686\u06a9\u200c\u0628\u0627\u06a9\u0633",booleanCellTrueLabel:"\u0635\u062d\u06cc\u062d",booleanCellFalseLabel:"\u063a\u0644\u0637",actionsCellMore:"\u0628\u06cc\u0634\u062a\u0631"},{components:{MuiBreadcrumbs:{defaultProps:{expandText:"\u0646\u0645\u0627\u06cc\u0634 \u0645\u0633\u06cc\u0631"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:function(e){return"first"===e?"\u0631\u0641\u062a\u0646 \u0628\u0647 \u0627\u0648\u0644\u06cc\u0646 \u0635\u0641\u062d\u0647":"last"===e?"\u0631\u0641\u062a\u0646 \u0628\u0647 \u0622\u062e\u0631\u06cc\u0646 \u0635\u0641\u062d\u0647":"next"===e?"\u0631\u0641\u062a\u0646 \u0628\u0647 \u0635\u0641\u062d\u0647\u200c\u06cc \u0628\u0639\u062f\u06cc":"\u0631\u0641\u062a\u0646 \u0628\u0647 \u0635\u0641\u062d\u0647\u200c\u06cc \u0642\u0628\u0644\u06cc"},labelRowsPerPage:"\u062a\u0639\u062f\u0627\u062f \u0633\u0637\u0631\u0647\u0627\u06cc \u0647\u0631 \u0635\u0641\u062d\u0647:"}},MuiRating:{defaultProps:{getLabelText:function(e){return"".concat(e," \u0633\u062a\u0627\u0631\u0647")},emptyLabelText:"\u062e\u0627\u0644\u06cc"}},MuiAutocomplete:{defaultProps:{clearText:"\u067e\u0627\u06a9\u200c\u06a9\u0631\u062f\u0646",closeText:"\u0628\u0633\u062a\u0646",loadingText:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u0630\u0627\u0631\u06cc\u2026",noOptionsText:"\u0628\u06cc\u200c\u0646\u062a\u06cc\u062c\u0647",openText:"\u0628\u0627\u0632\u06a9\u0631\u062f\u0646"}},MuiAlert:{defaultProps:{closeText:"\u0628\u0633\u062a\u0646"}},MuiPagination:{defaultProps:{"aria-label":"\u0646\u0627\u0648\u0628\u0631\u06cc \u0635\u0641\u062d\u0647",getItemAriaLabel:function(e,t,n){return"page"===e?"".concat(n?"":"\u0631\u0641\u062a\u0646 \u0628\u0647 ","\u0635\u0641\u062d\u0647\u0654 ").concat(t):"first"===e?"\u0631\u0641\u062a\u0646 \u0628\u0647 \u0627\u0648\u0644\u06cc\u0646 \u0635\u0641\u062d\u0647":"last"===e?"\u0631\u0641\u062a\u0646 \u0628\u0647 \u0622\u062e\u0631\u06cc\u0646 \u0635\u0641\u062d\u0647":"next"===e?"\u0631\u0641\u062a\u0646 \u0628\u0647 \u0635\u0641\u062d\u0647\u200c\u06cc \u0628\u0639\u062f\u06cc":"\u0631\u0641\u062a\u0646 \u0628\u0647 \u0635\u0641\u062d\u0647\u200c\u06cc \u0642\u0628\u0644\u06cc"}}}}}),Nf({noRowsLabel:"Ei rivej\xe4",noResultsOverlayLabel:"Ei tuloksia.",errorOverlayDefaultLabel:"Tapahtui virhe.",toolbarDensity:"Density",toolbarDensityLabel:"Tiiveys",toolbarDensityCompact:"Kompakti",toolbarDensityStandard:"Vakio",toolbarDensityComfortable:"Mukava",toolbarColumns:"Sarakkeet",toolbarColumnsLabel:"Valitse sarakkeet",toolbarFilters:"Suodattimet",toolbarFiltersLabel:"N\xe4yt\xe4 suodattimet",toolbarFiltersTooltipHide:"Piilota suodattimet",toolbarFiltersTooltipShow:"N\xe4yt\xe4 suodattimet",toolbarFiltersTooltipActive:function(e){return"".concat(e,1!==e?" aktiivista suodatinta":" aktiivinen suodatin")},toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Lataa CSV-muodossa",toolbarExportPrint:"Tulosta",columnsPanelTextFieldLabel:"Etsi sarake",columnsPanelTextFieldPlaceholder:"Sarakkeen otsikko",columnsPanelDragIconLabel:"J\xe4rjest\xe4 sarake uudelleen",columnsPanelShowAllButton:"N\xe4yt\xe4 kaikki",columnsPanelHideAllButton:"Piilota kaikki",filterPanelAddFilter:"Lis\xe4\xe4 suodatin",filterPanelDeleteIconLabel:"Poista",filterPanelOperators:"Operaattorit",filterPanelOperatorAnd:"Ja",filterPanelOperatorOr:"Tai",filterPanelColumns:"Sarakkeet",filterPanelInputLabel:"Arvo",filterPanelInputPlaceholder:"Suodattimen arvo",filterOperatorContains:"sis\xe4lt\xe4\xe4",filterOperatorEquals:"on yht\xe4 suuri",filterOperatorStartsWith:"alkaa",filterOperatorEndsWith:"p\xe4\xe4ttyy",filterOperatorIs:"on",filterOperatorNot:"ei ole",filterOperatorAfter:"on j\xe4lkeen",filterOperatorOnOrAfter:"on sama tai j\xe4lkeen",filterOperatorBefore:"on ennen",filterOperatorOnOrBefore:"on sama tai ennen",filterOperatorIsEmpty:"on tyhj\xe4",filterOperatorIsNotEmpty:"ei ole tyhj\xe4",filterValueAny:"mik\xe4 tahansa",filterValueTrue:"tosi",filterValueFalse:"ep\xe4tosi",columnMenuLabel:"Valikko",columnMenuShowColumns:"N\xe4yt\xe4 sarakkeet",columnMenuFilter:"Suodata",columnMenuHideColumn:"Piilota",columnMenuUnsort:"Poista j\xe4rjestys",columnMenuSortAsc:"J\xe4rjest\xe4 laskevasti",columnMenuSortDesc:"J\xe4rjest\xe4 nousevasti",columnHeaderFiltersTooltipActive:function(e){return"".concat(e,1!==e?" aktiivista suodatinta":" aktiivinen suodatin")},columnHeaderFiltersLabel:"N\xe4yt\xe4 suodattimet",columnHeaderSortIconLabel:"J\xe4rjest\xe4",footerRowSelected:function(e){return"".concat(e.toLocaleString(),1!==e?" rivi\xe4 valittu":" rivi valittu")},footerTotalRows:"Rivej\xe4 yhteens\xe4:",footerTotalVisibleRows:function(e,t){return"".concat(e.toLocaleString()," / ").concat(t.toLocaleString())},checkboxSelectionHeaderName:"Valintaruutu",booleanCellTrueLabel:"tosi",booleanCellFalseLabel:"ep\xe4tosi",actionsCellMore:"lis\xe4\xe4",pinToLeft:"Kiinnit\xe4 vasemmalle",pinToRight:"Kiinnit\xe4 oikealle",unpin:"Irrota kiinnitys",treeDataGroupingHeaderName:"Ryhm\xe4",treeDataExpand:"Laajenna",treeDataCollapse:"Supista"},{components:{MuiBreadcrumbs:{defaultProps:{expandText:"N\xe4yt\xe4 reitti"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:function(e){return"first"===e?"Mene ensimm\xe4iselle sivulle":"last"===e?"Mene viimeiselle sivulle":"next"===e?"Mene seuraavalle sivulle":"Mene edelliselle sivulle"},labelRowsPerPage:"Rivej\xe4 per sivu:",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"\u2013").concat(n," / ").concat(-1!==r?r:"enemm\xe4n kuin ".concat(n))}}},MuiRating:{defaultProps:{getLabelText:function(e){return"".concat(e," T\xe4ht").concat(1!==e?"e\xe4":"i")},emptyLabelText:"Tyhj\xe4"}},MuiAutocomplete:{defaultProps:{clearText:"Tyhjenn\xe4",closeText:"Sulje",loadingText:"Ladataan\u2026",noOptionsText:"Ei valintoja",openText:"Avaa"}},MuiAlert:{defaultProps:{closeText:"Sulje"}},MuiPagination:{defaultProps:{"aria-label":"Sivutus navigaatio",getItemAriaLabel:function(e,t,n){return"page"===e?"".concat(n?"sivu":"Mene sivulle"," ").concat(t):"first"===e?"Mene ensimm\xe4iselle sivulle":"last"===e?"Mene viimeiselle sivulle":"next"===e?"Mene seuraavalle sivulle":"Mene edelliselle sivulle"}}}}}),Nf({noRowsLabel:"Pas de r\xe9sultats",noResultsOverlayLabel:"Aucun r\xe9sultat.",errorOverlayDefaultLabel:"Une erreur est apparue.",toolbarDensity:"Densit\xe9",toolbarDensityLabel:"Densit\xe9",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Confortable",toolbarColumns:"Colonnes",toolbarColumnsLabel:"Choisir les colonnes",toolbarFilters:"Filtres",toolbarFiltersLabel:"Afficher les filtres",toolbarFiltersTooltipHide:"Cacher les filtres",toolbarFiltersTooltipShow:"Afficher les filtres",toolbarFiltersTooltipActive:function(e){return"".concat(e,e>1?" filtres actifs":" filtre actif")},toolbarExport:"Exporter",toolbarExportLabel:"Exporter",toolbarExportCSV:"T\xe9l\xe9charger en CSV",toolbarExportPrint:"Imprimer",columnsPanelTextFieldLabel:"Chercher colonne",columnsPanelTextFieldPlaceholder:"Titre de la colonne",columnsPanelDragIconLabel:"R\xe9organiser la colonne",columnsPanelShowAllButton:"Tout afficher",columnsPanelHideAllButton:"Tout cacher",filterPanelAddFilter:"Ajouter un filtre",filterPanelDeleteIconLabel:"Supprimer",filterPanelOperators:"Op\xe9rateurs",filterPanelOperatorAnd:"Et",filterPanelOperatorOr:"Ou",filterPanelColumns:"Colonnes",filterPanelInputLabel:"Valeur",filterPanelInputPlaceholder:"Filtrer la valeur",filterOperatorContains:"contient",filterOperatorEquals:"\xe9gal \xe0",filterOperatorStartsWith:"commence par",filterOperatorEndsWith:"se termine par",filterOperatorIs:"est",filterOperatorNot:"n'est pas",filterOperatorAfter:"post\xe9rieur",filterOperatorOnOrAfter:"\xe9gal ou post\xe9rieur",filterOperatorBefore:"ant\xe9rieur",filterOperatorOnOrBefore:"\xe9gal ou ant\xe9rieur",filterOperatorIsEmpty:"est vide",filterOperatorIsNotEmpty:"n'est pas vide",columnMenuLabel:"Menu",columnMenuShowColumns:"Afficher les colonnes",columnMenuFilter:"Filtrer",columnMenuHideColumn:"Cacher",columnMenuUnsort:"Annuler le tri",columnMenuSortAsc:"Tri ascendant",columnMenuSortDesc:"Tri descendant",columnHeaderFiltersTooltipActive:function(e){return"".concat(e,e>1?" filtres actifs":" filtre actif")},columnHeaderFiltersLabel:"Afficher les filtres",columnHeaderSortIconLabel:"Trier",footerRowSelected:function(e){return"".concat(e.toLocaleString(),e>1?" lignes s\xe9lectionn\xe9es":" ligne s\xe9lectionn\xe9e")},footerTotalRows:"Lignes totales :",footerTotalVisibleRows:function(e,t){return"".concat(e.toLocaleString()," sur ").concat(t.toLocaleString())},checkboxSelectionHeaderName:"S\xe9lection",actionsCellMore:"Plus",treeDataGroupingHeaderName:"Groupe",treeDataExpand:"afficher les enfants",treeDataCollapse:"masquer les enfants"},{components:{MuiBreadcrumbs:{defaultProps:{expandText:"Montrer le chemin"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:function(e){return"first"===e?"Aller \xe0 la premi\xe8re page":"last"===e?"Aller \xe0 la derni\xe8re page":"next"===e?"Aller \xe0 la page suivante":"Aller \xe0 la page pr\xe9c\xe9dente"},labelRowsPerPage:"Lignes par page :",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"\u2013").concat(n," sur ").concat(-1!==r?r:"plus que ".concat(n))}}},MuiRating:{defaultProps:{getLabelText:function(e){return"".concat(e," Etoile").concat(1!==e?"s":"")},emptyLabelText:"Vide"}},MuiAutocomplete:{defaultProps:{clearText:"Vider",closeText:"Fermer",loadingText:"Chargement\u2026",noOptionsText:"Pas de r\xe9sultats",openText:"Ouvrir"}},MuiAlert:{defaultProps:{closeText:"Fermer"}},MuiPagination:{defaultProps:{"aria-label":"navigation de pagination",getItemAriaLabel:function(e,t,n){return"page"===e?"".concat(n?"":"Aller \xe0 la ","page ").concat(t):"first"===e?"Aller \xe0 la premi\xe8re page":"last"===e?"Aller \xe0 la derni\xe8re page":"next"===e?"Aller \xe0 la page suivante":"Aller \xe0 la page pr\xe9c\xe9dente"}}}}}),Nf({noRowsLabel:"\u05d0\u05d9\u05df \u05e9\u05d5\u05e8\u05d5\u05ea",noResultsOverlayLabel:"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea.",errorOverlayDefaultLabel:"\u05d0\u05d9\u05e8\u05e2\u05d4 \u05e9\u05d2\u05d9\u05d0\u05d4.",toolbarDensity:"\u05e6\u05e4\u05d9\u05e4\u05d5\u05ea",toolbarDensityLabel:"\u05e6\u05e4\u05d9\u05e4\u05d5\u05ea",toolbarDensityCompact:"\u05d3\u05d7\u05d5\u05e1\u05d4",toolbarDensityStandard:"\u05e8\u05d2\u05d9\u05dc\u05d4",toolbarDensityComfortable:"\u05d0\u05d5\u05d5\u05e8\u05d9\u05e8\u05d9\u05ea",toolbarColumns:"\u05e2\u05de\u05d5\u05d3\u05d5\u05ea",toolbarColumnsLabel:"\u05d1\u05d7\u05e8 \u05e2\u05de\u05d5\u05d3\u05d5\u05ea",toolbarFilters:"\u05e1\u05d9\u05e0\u05d5\u05df",toolbarFiltersLabel:"\u05d4\u05e6\u05d2 \u05de\u05e1\u05e0\u05e0\u05d9\u05dd",toolbarFiltersTooltipHide:"\u05d4\u05e1\u05ea\u05e8 \u05de\u05e1\u05e0\u05e0\u05d9\u05dd",toolbarFiltersTooltipShow:"\u05d4\u05e6\u05d2 \u05de\u05e1\u05e0\u05e0\u05d9\u05dd",toolbarFiltersTooltipActive:function(e){return 1!==e?"".concat(e," \u05de\u05e1\u05e0\u05e0\u05d9\u05dd \u05e4\u05e2\u05d9\u05dc\u05d9\u05dd"):"\u05de\u05e1\u05e0\u05df \u05d0\u05d7\u05d3 \u05e4\u05e2\u05d9\u05dc"},toolbarExport:"\u05d9\u05d9\u05e6\u05d5\u05d0",toolbarExportLabel:"\u05d9\u05d9\u05e6\u05d5\u05d0",toolbarExportCSV:"\u05d4\u05d5\u05e8\u05d3\u05d4 \u05db- CSV",toolbarExportPrint:"\u05d4\u05d3\u05e4\u05e1\u05d4",columnsPanelTextFieldLabel:"\u05d7\u05e4\u05e9 \u05e2\u05de\u05d5\u05d3\u05d4",columnsPanelTextFieldPlaceholder:"\u05db\u05d5\u05ea\u05e8\u05ea \u05e2\u05de\u05d5\u05d3\u05d4",columnsPanelDragIconLabel:"\u05e1\u05d3\u05e8 \u05e2\u05de\u05d5\u05d3\u05d5\u05ea \u05de\u05d7\u05d3\u05e9",columnsPanelShowAllButton:"\u05d4\u05e6\u05d2 \u05d4\u05db\u05dc",columnsPanelHideAllButton:"\u05d4\u05e1\u05ea\u05e8 \u05d4\u05db\u05dc",filterPanelAddFilter:"\u05d4\u05d5\u05e1\u05e3 \u05de\u05e1\u05e0\u05df",filterPanelDeleteIconLabel:"\u05de\u05d7\u05e7",filterPanelOperators:"\u05d0\u05d5\u05e4\u05e8\u05d8\u05d5\u05e8",filterPanelOperatorAnd:"\u05d5\u05d2\u05dd",filterPanelOperatorOr:"\u05d0\u05d5",filterPanelColumns:"\u05e2\u05de\u05d5\u05d3\u05d5\u05ea",filterPanelInputLabel:"\u05e2\u05e8\u05da",filterPanelInputPlaceholder:"\u05e2\u05e8\u05da \u05de\u05e1\u05e0\u05df",filterOperatorContains:"\u05de\u05db\u05d9\u05dc",filterOperatorEquals:"\u05e9\u05d5\u05d5\u05d4",filterOperatorStartsWith:"\u05de\u05ea\u05d7\u05d9\u05dc \u05d1-",filterOperatorEndsWith:"\u05e0\u05d2\u05de\u05e8 \u05d1-",filterOperatorIs:"\u05d4\u05d9\u05e0\u05d5",filterOperatorNot:"\u05d0\u05d9\u05e0\u05d5",filterOperatorAfter:"\u05d0\u05d7\u05e8\u05d9",filterOperatorOnOrAfter:"\u05d1- \u05d0\u05d5 \u05d0\u05d7\u05e8\u05d9",filterOperatorBefore:"\u05dc\u05e4\u05e0\u05d9",filterOperatorOnOrBefore:"\u05d1- \u05d0\u05d5 \u05dc\u05e4\u05e0\u05d9",filterOperatorIsEmpty:"\u05e8\u05d9\u05e7",filterOperatorIsNotEmpty:"\u05d0\u05d9\u05e0\u05d5 \u05e8\u05d9\u05e7",filterValueAny:"\u05db\u05dc \u05e2\u05e8\u05da",filterValueTrue:"\u05db\u05df",filterValueFalse:"\u05dc\u05d0",columnMenuLabel:"\u05ea\u05e4\u05e8\u05d9\u05d8",columnMenuShowColumns:"\u05d4\u05e6\u05d2 \u05e2\u05de\u05d5\u05d3\u05d5\u05ea",columnMenuFilter:"\u05e1\u05e0\u05df",columnMenuHideColumn:"\u05d4\u05e1\u05ea\u05e8",columnMenuUnsort:"\u05d1\u05d8\u05dc \u05de\u05d9\u05d5\u05df",columnMenuSortAsc:"\u05de\u05d9\u05d9\u05df \u05d1\u05e1\u05d3\u05e8 \u05e2\u05d5\u05dc\u05d4",columnMenuSortDesc:"\u05de\u05d9\u05d9\u05df \u05d1\u05e1\u05d3\u05e8 \u05d9\u05d5\u05e8\u05d3",columnHeaderFiltersTooltipActive:function(e){return 1!==e?"".concat(e," \u05de\u05e1\u05e0\u05e0\u05d9\u05dd \u05e4\u05e2\u05d9\u05dc\u05d9\u05dd"):"\u05de\u05e1\u05e0\u05df \u05d0\u05d7\u05d3 \u05e4\u05e2\u05d9\u05dc"},columnHeaderFiltersLabel:"\u05d4\u05e6\u05d2 \u05de\u05e1\u05e0\u05e0\u05d9\u05dd",columnHeaderSortIconLabel:"\u05de\u05d9\u05d9\u05df",footerRowSelected:function(e){return 1!==e?"".concat(e.toLocaleString()," \u05e9\u05d5\u05e8\u05d5\u05ea \u05e0\u05d1\u05d7\u05e8\u05d5"):"\u05e9\u05d5\u05e8\u05d4 \u05d0\u05d7\u05ea \u05e0\u05d1\u05d7\u05e8\u05d4"},footerTotalRows:"\u05e1\u05da \u05d4\u05db\u05dc \u05e9\u05d5\u05e8\u05d5\u05ea: ",footerTotalVisibleRows:function(e,t){return"".concat(e.toLocaleString()," \u05de\u05ea\u05d5\u05da ").concat(t.toLocaleString())},checkboxSelectionHeaderName:"\u05d1\u05d7\u05d9\u05e8\u05d4",booleanCellTrueLabel:"\u05db\u05df",booleanCellFalseLabel:"\u05dc\u05d0",actionsCellMore:"\u05e2\u05d5\u05d3",pinToLeft:"\u05e0\u05e2\u05e5 \u05de\u05e9\u05de\u05d0\u05dc",pinToRight:"\u05e0\u05e2\u05e5 \u05de\u05d9\u05de\u05d9\u05df",unpin:"\u05d1\u05d8\u05dc \u05e0\u05e2\u05d9\u05e6\u05d4",treeDataGroupingHeaderName:"\u05e7\u05d1\u05d5\u05e6\u05d4",treeDataExpand:"\u05d4\u05e8\u05d7\u05d1",treeDataCollapse:"\u05db\u05d5\u05d5\u05e5"},{components:{MuiBreadcrumbs:{defaultProps:{expandText:"\u05d4\u05e6\u05d2 \u05e0\u05ea\u05d9\u05d1"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:function(e){return"first"===e?"\u05dc\u05e2\u05de\u05d5\u05d3 \u05d4\u05e8\u05d0\u05e9\u05d5\u05df":"last"===e?"\u05dc\u05e2\u05de\u05d5\u05d3 \u05d4\u05d0\u05d7\u05e8\u05d5\u05df":"next"===e?"\u05dc\u05e2\u05de\u05d5\u05d3 \u05d4\u05d1\u05d0":"\u05dc\u05e2\u05de\u05d5\u05d3 \u05d4\u05e7\u05d5\u05d3\u05dd"},labelRowsPerPage:"\u05e9\u05d5\u05e8\u05d5\u05ea \u05d1\u05e2\u05de\u05d5\u05d3:",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"\u2013").concat(n," \u05de\u05ea\u05d5\u05da ").concat(-1!==r?r:"\u05d9\u05d5\u05ea\u05e8 \u05de ".concat(n))}}},MuiRating:{defaultProps:{getLabelText:function(e){return"".concat(e," \u05db\u05d5\u05db\u05d1").concat(1!==e?"\u05d9\u05dd":"")},emptyLabelText:"\u05e8\u05d9\u05e7"}},MuiAutocomplete:{defaultProps:{clearText:"\u05e0\u05e7\u05d4",closeText:"\u05e1\u05d2\u05d5\u05e8",loadingText:"\u05d8\u05d5\u05e2\u05df\u2026",noOptionsText:"\u05d0\u05d9\u05df \u05d0\u05d5\u05e4\u05e6\u05d9\u05d5\u05ea",openText:"\u05e4\u05ea\u05d7"}},MuiAlert:{defaultProps:{closeText:"\u05e1\u05d2\u05d5\u05e8"}},MuiPagination:{defaultProps:{"aria-label":"\u05e0\u05d9\u05d5\u05d5\u05d8 \u05d1\u05e2\u05de\u05d5\u05d3\u05d9\u05dd",getItemAriaLabel:function(e,t,n){return"page"===e?"".concat(n?"":"\u05dc ","\u05e2\u05de\u05d5\u05d3 ").concat(t):"first"===e?"\u05dc\u05e2\u05de\u05d5\u05d3 \u05d4\u05e8\u05d0\u05e9\u05d5\u05df":"last"===e?"\u05dc\u05e2\u05de\u05d5\u05d3 \u05d4\u05d0\u05d7\u05e8\u05d5\u05df":"next"===e?"\u05dc\u05e2\u05de\u05d5\u05d3 \u05d4\u05d1\u05d0":"\u05dc\u05e2\u05de\u05d5\u05d3 \u05d4\u05e7\u05d5\u05d3\u05dd"}}}}}),Nf({noRowsLabel:"Nessun record",noResultsOverlayLabel:"Nessun record trovato.",errorOverlayDefaultLabel:"Si \xe8 verificato un errore.",toolbarDensity:"Densit\xe0",toolbarDensityLabel:"Densit\xe0",toolbarDensityCompact:"Compatta",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comoda",toolbarColumns:"Colonne",toolbarColumnsLabel:"Seleziona le colonne",toolbarFilters:"Filtri",toolbarFiltersLabel:"Mostra i filtri",toolbarFiltersTooltipHide:"Nascondi i filtri",toolbarFiltersTooltipShow:"Mostra i filtri",toolbarFiltersTooltipActive:function(e){return"".concat(e,e>1?" filtri attivi":" filtro attivo")},toolbarExport:"Esporta",toolbarExportLabel:"Esporta",toolbarExportCSV:"Esporta in CSV",columnsPanelTextFieldLabel:"Cerca colonna",columnsPanelTextFieldPlaceholder:"Titolo della colonna",columnsPanelDragIconLabel:"Riordina la colonna",columnsPanelShowAllButton:"Mostra tutto",columnsPanelHideAllButton:"Nascondi tutto",filterPanelAddFilter:"Aggiungi un filtro",filterPanelDeleteIconLabel:"Rimuovi",filterPanelOperators:"Operatori",filterPanelOperatorAnd:"E (and)",filterPanelOperatorOr:"O (or)",filterPanelColumns:"Colonne",filterPanelInputLabel:"Valore",filterPanelInputPlaceholder:"Filtra il valore",filterOperatorContains:"contiene",filterOperatorEquals:"uguale a",filterOperatorStartsWith:"comincia per",filterOperatorEndsWith:"termina per",filterOperatorIs:"uguale a",filterOperatorNot:"diversa da",filterOperatorAfter:"dopo il",filterOperatorOnOrAfter:"a partire dal",filterOperatorBefore:"prima del",filterOperatorOnOrBefore:"fino al",filterOperatorIsEmpty:"\xe8 vuoto",filterOperatorIsNotEmpty:"non \xe8 vuoto",columnMenuLabel:"Menu",columnMenuShowColumns:"Mostra le colonne",columnMenuFilter:"Filtra",columnMenuHideColumn:"Nascondi",columnMenuUnsort:"Annulla l'ordinamento",columnMenuSortAsc:"Ordinamento crescente",columnMenuSortDesc:"Ordinamento decrescente",columnHeaderFiltersTooltipActive:function(e){return"".concat(e,e>1?" filtri attivi":" filtro attivo")},columnHeaderFiltersLabel:"Mostra i filtri",columnHeaderSortIconLabel:"Ordina",footerRowSelected:function(e){return"".concat(e.toLocaleString(),e>1?" record selezionati":" record selezionato")},footerTotalRows:"Record totali:",footerTotalVisibleRows:function(e,t){return"".concat(e.toLocaleString()," di ").concat(t.toLocaleString())},checkboxSelectionHeaderName:"Seleziona",actionsCellMore:"pi\xf9",pinToLeft:"Blocca a sinistra",pinToRight:"Blocca a destra",unpin:"Sblocca"},{components:{MuiBreadcrumbs:{defaultProps:{expandText:"Visualizza percorso"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:function(e){return"first"===e?"Vai alla prima pagina":"last"===e?"Vai all'ultima pagina":"next"===e?"Vai alla pagina successiva":"Vai alla pagina precedente"},labelRowsPerPage:"Righe per pagina:"}},MuiRating:{defaultProps:{getLabelText:function(e){return"".concat(e," Stell").concat(1!==e?"e":"a")},emptyLabelText:"Vuoto"}},MuiAutocomplete:{defaultProps:{clearText:"Svuota",closeText:"Chiudi",loadingText:"Caricamento in corso\u2026",noOptionsText:"Nessuna opzione",openText:"Apri"}},MuiAlert:{defaultProps:{closeText:"Chiudi"}},MuiPagination:{defaultProps:{"aria-label":"Navigazione impaginata",getItemAriaLabel:function(e,t,n){return"page"===e?"".concat(n?"":"Vai alla ","pagina ").concat(t):"first"===e?"Vai alla prima pagina":"last"===e?"Vai all'ultima pagina":"next"===e?"Vai alla pagina successiva":"Vai alla pagina precedente"}}}}}),Nf({noRowsLabel:"\u884c\u304c\u3042\u308a\u307e\u305b\u3093\u3002",noResultsOverlayLabel:"\u7d50\u679c\u304c\u3042\u308a\u307e\u305b\u3093\u3002",errorOverlayDefaultLabel:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002",toolbarDensity:"\u884c\u9593\u9694",toolbarDensityLabel:"\u884c\u9593\u9694",toolbarDensityCompact:"\u30b3\u30f3\u30d1\u30af\u30c8",toolbarDensityStandard:"\u6a19\u6e96",toolbarDensityComfortable:"\u3072\u308d\u3081",toolbarColumns:"\u5217\u4e00\u89a7",toolbarColumnsLabel:"\u5217\u9078\u629e",toolbarFilters:"\u30d5\u30a3\u30eb\u30bf\u30fc",toolbarFiltersLabel:"\u30d5\u30a3\u30eb\u30bf\u30fc\u8868\u793a",toolbarFiltersTooltipHide:"\u30d5\u30a3\u30eb\u30bf\u30fc\u975e\u8868\u793a",toolbarFiltersTooltipShow:"\u30d5\u30a3\u30eb\u30bf\u30fc\u8868\u793a",toolbarFiltersTooltipActive:function(e){return"".concat(e,"\u4ef6\u306e\u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u9069\u7528\u4e2d")},toolbarExport:"\u30a8\u30af\u30b9\u30dd\u30fc\u30c8",toolbarExportLabel:"\u30a8\u30af\u30b9\u30dd\u30fc\u30c8",toolbarExportCSV:"CSV\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9",columnsPanelTextFieldLabel:"\u5217\u691c\u7d22",columnsPanelTextFieldPlaceholder:"\u691c\u7d22\u30af\u30a8\u30ea\u3092\u5165\u529b...",columnsPanelDragIconLabel:"\u5217\u4e26\u3079\u66ff\u3048",columnsPanelShowAllButton:"\u3059\u3079\u3066\u8868\u793a",columnsPanelHideAllButton:"\u3059\u3079\u3066\u975e\u8868\u793a",filterPanelAddFilter:"\u30d5\u30a3\u30eb\u30bf\u30fc\u8ffd\u52a0",filterPanelDeleteIconLabel:"\u524a\u9664",filterPanelOperators:"\u30aa\u30da\u30ec\u30fc\u30bf",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"\u5217",filterPanelInputLabel:"\u5024",filterPanelInputPlaceholder:"\u5024\u3092\u5165\u529b...",filterOperatorContains:"...\u3092\u542b\u3080",filterOperatorEquals:"...\u306b\u7b49\u3057\u3044",filterOperatorStartsWith:"...\u3067\u59cb\u307e\u308b",filterOperatorEndsWith:"...\u3067\u7d42\u308f\u308b",filterOperatorIs:"...\u3067\u3042\u308b",filterOperatorNot:"...\u3067\u306a\u3044",filterOperatorAfter:"...\u3088\u308a\u5f8c\u308d",filterOperatorOnOrAfter:"...\u4ee5\u964d",filterOperatorBefore:"...\u3088\u308a\u524d",filterOperatorOnOrBefore:"...\u4ee5\u524d",filterOperatorIsEmpty:"...\u7a7a\u3067\u3042\u308b",filterOperatorIsNotEmpty:"...\u7a7a\u3067\u306a\u3044",columnMenuLabel:"\u30e1\u30cb\u30e5\u30fc",columnMenuShowColumns:"\u5217\u8868\u793a",columnMenuFilter:"\u30d5\u30a3\u30eb\u30bf\u30fc",columnMenuHideColumn:"\u5217\u975e\u8868\u793a",columnMenuUnsort:"\u30bd\u30fc\u30c8\u89e3\u9664",columnMenuSortAsc:"\u6607\u9806\u30bd\u30fc\u30c8",columnMenuSortDesc:"\u964d\u9806\u30bd\u30fc\u30c8",columnHeaderFiltersTooltipActive:function(e){return"".concat(e,"\u4ef6\u306e\u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u9069\u7528\u4e2d")},columnHeaderFiltersLabel:"\u30d5\u30a3\u30eb\u30bf\u30fc\u8868\u793a",columnHeaderSortIconLabel:"\u30bd\u30fc\u30c8",footerRowSelected:function(e){return"".concat(e,"\u884c\u3092\u9078\u629e\u4e2d")},footerTotalRows:"\u7dcf\u884c\u6570:",footerTotalVisibleRows:function(e,t){return"".concat(e.toLocaleString()," / ").concat(t.toLocaleString())},checkboxSelectionHeaderName:"\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9",booleanCellTrueLabel:"\u771f",booleanCellFalseLabel:"\u507d"},{components:{MuiBreadcrumbs:{defaultProps:{expandText:"\u3059\u3079\u3066\u8868\u793a"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:function(e){return"first"===e?"\u6700\u521d\u306e\u30da\u30fc\u30b8\u3078":"last"===e?"\u6700\u5f8c\u306e\u30da\u30fc\u30b8\u3078":"next"===e?"\u6b21\u306e\u30da\u30fc\u30b8\u3078":"\u524d\u306e\u30da\u30fc\u30b8\u3078"},labelRowsPerPage:"\u30da\u30fc\u30b8\u3042\u305f\u308a\u306e\u884c\u6570:",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"\uff5e").concat(n," / ").concat(-1!==r?r:"".concat(n,"\u4ee5\u4e0a"))}}},MuiRating:{defaultProps:{getLabelText:function(e){return"\u661f".concat(e)},emptyLabelText:"\u661f\u306a\u3057"}},MuiAutocomplete:{defaultProps:{clearText:"\u30af\u30ea\u30a2",closeText:"\u9589\u3058\u308b",loadingText:"\u8aad\u307f\u8fbc\u307f\u4e2d\u2026",noOptionsText:"\u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u305b\u3093",openText:"\u958b\u304f"}},MuiAlert:{defaultProps:{closeText:"\u9589\u3058\u308b"}},MuiPagination:{defaultProps:{"aria-label":"\u30da\u30fc\u30b8\u9078\u629e",getItemAriaLabel:function(e,t,n){return"page"===e?"\u30da\u30fc\u30b8".concat(t).concat(n?"":"\u3078"):"first"===e?"\u6700\u521d\u306e\u30da\u30fc\u30b8\u3078":"last"===e?"\u6700\u5f8c\u306e\u30da\u30fc\u30b8\u3078":"next"===e?"\u6b21\u306e\u30da\u30fc\u30b8\u3078":"\u524d\u306e\u30da\u30fc\u30b8\u3078"}}}}}),Nf({noRowsLabel:"\ud589\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.",noResultsOverlayLabel:"\uacb0\uacfc\uac12\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.",errorOverlayDefaultLabel:"\uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.",toolbarDensity:"\ub77c\uc778 \uac04\uaca9",toolbarDensityLabel:"\ub77c\uc778 \uac04\uaca9",toolbarDensityCompact:"\uc881\uac8c",toolbarDensityStandard:"\uae30\ubcf8",toolbarDensityComfortable:"\ub113\uac8c",toolbarColumns:"\uc5f4 \ubaa9\ub85d",toolbarColumnsLabel:"\uc5f4 \uc120\ud0dd",toolbarFilters:"\ud544\ud130",toolbarFiltersLabel:"\ud544\ud130 \ud45c\uc2dc",toolbarFiltersTooltipHide:"\ud544\ud130 \uc228\uae30\uae30",toolbarFiltersTooltipShow:"\ud544\ud130 \ud45c\uc2dc",toolbarFiltersTooltipActive:function(e){return"".concat(e,"\uac74\uc758 \ud544\ud130\ub97c \uc801\uc6a9\uc911")},toolbarExport:"\ub0b4\ubcf4\ub0b4\uae30",toolbarExportLabel:"\ub0b4\ubcf4\ub0b4\uae30",toolbarExportCSV:"CSV\ub2e4\uc6b4\ub85c\ub4dc",toolbarExportPrint:"\ud504\ub9b0\ud2b8",columnsPanelTextFieldLabel:"\uc5f4 \uac80\uc0c9",columnsPanelTextFieldPlaceholder:"\uc5f4 \uc774\ub984",columnsPanelDragIconLabel:"\uc5f4 \uc815\ub82c",columnsPanelShowAllButton:"\ubaa8\ub450 \ubcf4\uae30",columnsPanelHideAllButton:"\ubaa8\ub450 \uc228\uae30\uae30",filterPanelAddFilter:"\ud544\ud130 \ucd94\uac00",filterPanelDeleteIconLabel:"\uc0ad\uc81c",filterPanelOperators:"\uc5f0\uc0b0\uc790",filterPanelOperatorAnd:"\uadf8\ub9ac\uace0",filterPanelOperatorOr:"\ub610\ub294",filterPanelColumns:"\ubaa9\ub85d",filterPanelInputLabel:"\uac12",filterPanelInputPlaceholder:"\uac12 \uc785\ub825",filterOperatorContains:"\ud3ec\ud568\ud558\ub294",filterOperatorEquals:"\uac12\uc774 \uac19\uc740",filterOperatorStartsWith:"\uc2dc\uc791\ud558\ub294",filterOperatorEndsWith:"\ub05d\ub098\ub294",filterOperatorIs:"~\uc778",filterOperatorNot:"~\uc544\ub2cc",filterOperatorAfter:"\ub354 \uc774\ud6c4",filterOperatorOnOrAfter:"\uc774\ud6c4",filterOperatorBefore:"\ub354 \uc774\uc804",filterOperatorOnOrBefore:"\uc774\uc804",filterOperatorIsEmpty:"\uac12\uc774 \uc5c6\ub294",filterOperatorIsNotEmpty:"\uac12\uc774 \uc788\ub294",filterValueAny:"\uc544\ubb34\uac12",filterValueTrue:"\ucc38",filterValueFalse:"\uac70\uc9d3",columnMenuLabel:"\uba54\ub274",columnMenuShowColumns:"\uc5f4 \ud45c\uc2dc",columnMenuFilter:"\ud544\ud130",columnMenuHideColumn:"\uc5f4 \uc228\uae30\uae30",columnMenuUnsort:"\uc815\ub82c \ud574\uc81c",columnMenuSortAsc:"\uc624\ub984\ucc28\uc21c \uc815\ub82c",columnMenuSortDesc:"\ub0b4\ub9bc\ucc28\uc21c \uc815\ub82c",columnHeaderFiltersTooltipActive:function(e){return"".concat(e,"\uac74\uc758 \ud544\ud130\ub97c \uc801\uc6a9\uc911")},columnHeaderFiltersLabel:"\ud544\ud130 \ud45c\uc2dc",columnHeaderSortIconLabel:"\uc815\ub82c",footerRowSelected:function(e){return"".concat(e,"\ud589 \uc120\ud0dd\uc911")},footerTotalRows:"\ucd1d \ud589\uc218:",footerTotalVisibleRows:function(e,t){return"".concat(e.toLocaleString()," / ").concat(t.toLocaleString())},checkboxSelectionHeaderName:"\uc120\ud0dd",booleanCellTrueLabel:"\ucc38",booleanCellFalseLabel:"\uac70\uc9d3",actionsCellMore:"\ub354\ubcf4\uae30",treeDataGroupingHeaderName:"\uadf8\ub8f9",treeDataExpand:"\ud558\uc704\ub178\ub4dc \ud3bc\uce58\uae30",treeDataCollapse:"\ud558\uc704\ub178\ub4dc \uc811\uae30"},{components:{MuiBreadcrumbs:{defaultProps:{expandText:"\uacbd\ub85c \ubcf4\uae30"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:function(e){return"first"===e?"\uccab \ubc88\uc9f8 \ud398\uc774\uc9c0\ub85c \uc774\ub3d9":"last"===e?"\ub9c8\uc9c0\ub9c9 \ud398\uc774\uc9c0\ub85c \uc774\ub3d9":"next"===e?"\ub2e4\uc74c \ud398\uc774\uc9c0\ub85c \uc774\ub3d9":"\uc774\uc804 \ud398\uc774\uc9c0\ub85c \uc774\ub3d9"},labelRowsPerPage:"\ud398\uc774\uc9c0 \ub2f9 \ud589:",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"\u2013").concat(n," / ").concat(-1!==r?r:"".concat(n,"\uac1c \uc774\uc0c1"))}}},MuiRating:{defaultProps:{getLabelText:function(e){return"".concat(e," \uc810")},emptyLabelText:"\ube48 \ud14d\uc2a4\ud2b8"}},MuiAutocomplete:{defaultProps:{clearText:"\uc9c0\uc6b0\uae30",closeText:"\ub2eb\uae30",loadingText:"\ubd88\ub7ec\uc624\ub294 \uc911\u2026",noOptionsText:"\uc635\uc158 \uc5c6\uc74c",openText:"\uc5f4\uae30"}},MuiAlert:{defaultProps:{closeText:"\ub2eb\uae30"}},MuiPagination:{defaultProps:{"aria-label":"\ud398\uc774\uc9c0\ub124\uc774\uc158 \ub124\ube44\uac8c\uc774\uc158",getItemAriaLabel:function(e,t,n){return"page"===e?"".concat(t," \ubc88\uc9f8 \ud398\uc774\uc9c0").concat(n?"":"\ub85c \uc774\ub3d9"):"first"===e?"\uccab \ubc88\uc9f8 \ud398\uc774\uc9c0\ub85c \uc774\ub3d9":"last"===e?"\ub9c8\uc9c0\ub9c9 \ud398\uc774\uc9c0\ub85c \uc774\ub3d9":"next"===e?"\ub2e4\uc74c \ud398\uc774\uc9c0\ub85c \uc774\ub3d9":"\uc774\uc804 \ud398\uc774\uc9c0\ub85c \uc774\ub3d9"}}}}}),Nf({noRowsLabel:"Geen resultaten.",noResultsOverlayLabel:"Geen resultaten gevonden.",errorOverlayDefaultLabel:"Er deed zich een fout voor.",toolbarDensity:"Grootte",toolbarDensityLabel:"Grootte",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Normaal",toolbarDensityComfortable:"Breed",toolbarColumns:"Kolommen",toolbarColumnsLabel:"Kies kolommen",toolbarFilters:"Filters",toolbarFiltersLabel:"Toon filters",toolbarFiltersTooltipHide:"Verberg filters",toolbarFiltersTooltipShow:"Toon filters",toolbarFiltersTooltipActive:function(e){return"".concat(e,e>1?" actieve filters":" filter actief")},toolbarExport:"Exporteren",toolbarExportLabel:"Exporteren",toolbarExportCSV:"Exporteer naar CSV",toolbarExportPrint:"Print",columnsPanelTextFieldLabel:"Zoek kolom",columnsPanelTextFieldPlaceholder:"Kolomtitel",columnsPanelDragIconLabel:"Kolom herschikken",columnsPanelShowAllButton:"Alles tonen",columnsPanelHideAllButton:"Alles verbergen",filterPanelAddFilter:"Filter toevoegen",filterPanelDeleteIconLabel:"Verwijderen",filterPanelOperators:"Operatoren",filterPanelOperatorAnd:"En",filterPanelOperatorOr:"Of",filterPanelColumns:"Kolommen",filterPanelInputLabel:"Waarde",filterPanelInputPlaceholder:"Filter waarde",filterOperatorContains:"bevat",filterOperatorEquals:"gelijk aan",filterOperatorStartsWith:"begint met",filterOperatorEndsWith:"eindigt met",filterOperatorIs:"is",filterOperatorNot:"is niet",filterOperatorAfter:"is na",filterOperatorOnOrAfter:"is gelijk of er na",filterOperatorBefore:"is voor",filterOperatorOnOrBefore:"is gelijk of er voor",filterOperatorIsEmpty:"is leeg",filterOperatorIsNotEmpty:"is niet leeg",filterValueAny:"alles",filterValueTrue:"waar",filterValueFalse:"onwaar",columnMenuLabel:"Menu",columnMenuShowColumns:"Toon kolommen",columnMenuFilter:"Filteren",columnMenuHideColumn:"Verbergen",columnMenuUnsort:"Annuleer sortering",columnMenuSortAsc:"Oplopend sorteren",columnMenuSortDesc:"Aflopend sorteren",columnHeaderFiltersTooltipActive:function(e){return"".concat(e,e>1?" actieve filters":" filter actief")},columnHeaderFiltersLabel:"Toon filters",columnHeaderSortIconLabel:"Sorteren",footerRowSelected:function(e){return"".concat(e.toLocaleString(),e>1?" rijen geselecteerd":" rij geselecteerd")},footerTotalRows:"Totaal:",footerTotalVisibleRows:function(e,t){return"".concat(e.toLocaleString()," van ").concat(t.toLocaleString())},checkboxSelectionHeaderName:"Checkbox selectie",booleanCellTrueLabel:"waar",booleanCellFalseLabel:"onwaar",actionsCellMore:"meer",pinToLeft:"Links vastzetten",pinToRight:"Rechts vastzetten",unpin:"Losmaken",treeDataGroupingHeaderName:"Groep",treeDataExpand:"Uitvouwen",treeDataCollapse:"Inklappen"},{components:{MuiBreadcrumbs:{defaultProps:{expandText:"Pad tonen"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:function(e){return"first"===e?"Ga naar eerste pagina":"last"===e?"Ga naar laatste pagina":"next"===e?"Ga naar volgende pagina":"Ga naar vorige pagina"},labelRowsPerPage:"Regels per pagina:",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"\u2013").concat(n," van ").concat(-1!==r?r:"meer dan ".concat(n))}}},MuiRating:{defaultProps:{getLabelText:function(e){return"".concat(e," Ster").concat(1!==e?"ren":"")},emptyLabelText:"Leeg"}},MuiAutocomplete:{defaultProps:{clearText:"Wissen",closeText:"Sluiten",loadingText:"Laden\u2026",noOptionsText:"Geen opties",openText:"Openen"}},MuiAlert:{defaultProps:{closeText:"Sluiten"}},MuiPagination:{defaultProps:{"aria-label":"Navigatie via paginering",getItemAriaLabel:function(e,t,n){return"page"===e?"".concat(n?"":"Ga naar ","pagina ").concat(t):"first"===e?"Ga naar eerste pagina":"last"===e?"Ga naar laatste pagina":"next"===e?"Ga naar volgende pagina":"Ga naar vorige pagina"}}}}}),Nf({noRowsLabel:"Brak danych",noResultsOverlayLabel:"Nie znaleziono wynik\xf3w.",errorOverlayDefaultLabel:"Wyst\u0105pi\u0142 b\u0142\u0105d.",toolbarDensity:"Wysoko\u015b\u0107 rz\u0119du",toolbarDensityLabel:"Wysoko\u015b\u0107 rz\u0119du",toolbarDensityCompact:"Kompakt",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Komfort",toolbarColumns:"Kolumny",toolbarColumnsLabel:"Zaznacz kolumny",toolbarFilters:"Filtry",toolbarFiltersLabel:"Poka\u017c filtry",toolbarFiltersTooltipHide:"Ukryj filtry",toolbarFiltersTooltipShow:"Poka\u017c filtry",toolbarFiltersTooltipActive:function(e){return"Liczba aktywnych filtr\xf3w: ".concat(e)},toolbarExport:"Eksportuj",toolbarExportLabel:"Eksportuj",toolbarExportCSV:"Pobierz jako plik CSV",columnsPanelTextFieldLabel:"Znajd\u017a kolumn\u0119",columnsPanelTextFieldPlaceholder:"Tytu\u0142 kolumny",columnsPanelDragIconLabel:"Zmie\u0144 kolejno\u015b\u0107 kolumn",columnsPanelShowAllButton:"Poka\u017c wszystko",columnsPanelHideAllButton:"Ukryj wszystko",filterPanelAddFilter:"Dodaj filtr",filterPanelDeleteIconLabel:"Usu\u0144",filterPanelOperators:"Operator",filterPanelOperatorAnd:"I",filterPanelOperatorOr:"Lub",filterPanelColumns:"Kolumny",filterPanelInputLabel:"Warto\u015b\u0107",filterPanelInputPlaceholder:"Filtrowana warto\u015b\u0107",filterOperatorContains:"zawiera",filterOperatorEquals:"r\xf3wna si\u0119",filterOperatorStartsWith:"zaczyna si\u0119 od",filterOperatorEndsWith:"ko\u0144czy si\u0119 na",filterOperatorIs:"r\xf3wna si\u0119",filterOperatorNot:"r\xf3\u017cne",filterOperatorAfter:"wi\u0119ksze ni\u017c",filterOperatorOnOrAfter:"wi\u0119ksze lub r\xf3wne",filterOperatorBefore:"mniejsze ni\u017c",filterOperatorOnOrBefore:"mniejsze lub r\xf3wne",filterOperatorIsEmpty:"jest pusty",filterOperatorIsNotEmpty:"nie jest pusty",columnMenuLabel:"Menu",columnMenuShowColumns:"Poka\u017c wszystkie kolumny",columnMenuFilter:"Filtr",columnMenuHideColumn:"Ukryj",columnMenuUnsort:"Anuluj sortowanie",columnMenuSortAsc:"Sortuj rosn\u0105co",columnMenuSortDesc:"Sortuj malej\u0105co",columnHeaderFiltersTooltipActive:function(e){return"Liczba aktywnych filtr\xf3w: ".concat(e)},columnHeaderFiltersLabel:"Poka\u017c filtry",columnHeaderSortIconLabel:"Sortuj",footerRowSelected:function(e){return"Liczba wybranych wierszy: ".concat(e.toLocaleString())},footerTotalRows:"\u0141\u0105czna liczba wierszy:",footerTotalVisibleRows:function(e,t){return"".concat(e.toLocaleString()," z ").concat(t.toLocaleString())},actionsCellMore:"wi\u0119cej"},{components:{MuiBreadcrumbs:{defaultProps:{expandText:"Poka\u017c \u015bcie\u017ck\u0119"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:function(e){return"first"===e?"Przejd\u017a do pierwszej strony":"last"===e?"Przejd\u017a do ostatniej strony":"next"===e?"Przejd\u017a do nast\u0119pnej strony":"Przejd\u017a do poprzedniej strony"},labelRowsPerPage:"Wierszy na stron\u0119:"}},MuiRating:{defaultProps:{getLabelText:function(e){var t="gwiazdek",n=e%10;return(e<10||e>20)&&n>1&&n<5?t="gwiazdki":1===e&&(t="gwiazdka"),"".concat(e," ").concat(t)},emptyLabelText:"Brak gwiazdek"}},MuiAutocomplete:{defaultProps:{clearText:"Wyczy\u015b\u0107",closeText:"Zamknij",loadingText:"\u0141adowanie\u2026",noOptionsText:"Brak opcji",openText:"Otw\xf3rz"}},MuiAlert:{defaultProps:{closeText:"Zamknij"}},MuiPagination:{defaultProps:{"aria-label":"Nawigacja podzia\u0142u na strony",getItemAriaLabel:function(e,t,n){return"page"===e?n?"".concat(t,". strona"):"Przejd\u017a do ".concat(t,". strony"):"first"===e?"Przejd\u017a do pierwszej strony":"last"===e?"Przejd\u017a do ostatniej strony":"next"===e?"Przejd\u017a do nast\u0119pnej strony":"Przejd\u017a do poprzedniej strony"}}}}}),Nf({noRowsLabel:"Nenhuma linha",noResultsOverlayLabel:"Nenhum resultado encontrado.",errorOverlayDefaultLabel:"Ocorreu um erro.",toolbarDensity:"Densidade",toolbarDensityLabel:"Densidade",toolbarDensityCompact:"Compacto",toolbarDensityStandard:"Padr\xe3o",toolbarDensityComfortable:"Confort\xe1vel",toolbarColumns:"Colunas",toolbarColumnsLabel:"Exibir seletor de colunas",toolbarFilters:"Filtros",toolbarFiltersLabel:"Exibir filtros",toolbarFiltersTooltipHide:"Ocultar filtros",toolbarFiltersTooltipShow:"Exibir filtros",toolbarFiltersTooltipActive:function(e){return"".concat(e," ").concat(1!==e?"filtros":"filtro"," ").concat(1!==e?"ativos":"ativo")},toolbarExport:"Exportar",toolbarExportLabel:"Exportar",toolbarExportCSV:"Baixar como CSV",toolbarExportPrint:"Print",columnsPanelTextFieldLabel:"Localizar coluna",columnsPanelTextFieldPlaceholder:"T\xedtulo da coluna",columnsPanelDragIconLabel:"Reordenar Coluna",columnsPanelShowAllButton:"Mostrar todas",columnsPanelHideAllButton:"Ocultar todas",filterPanelAddFilter:"Adicionar filtro",filterPanelDeleteIconLabel:"Excluir",filterPanelOperators:"Operadores",filterPanelOperatorAnd:"E",filterPanelOperatorOr:"Ou",filterPanelColumns:"Colunas",filterPanelInputLabel:"Valor",filterPanelInputPlaceholder:"Filtrar valor",filterOperatorContains:"cont\xe9m",filterOperatorEquals:"\xe9 igual a",filterOperatorStartsWith:"come\xe7a com",filterOperatorEndsWith:"termina com",filterOperatorIs:"\xe9",filterOperatorNot:"n\xe3o \xe9",filterOperatorAfter:"ap\xf3s",filterOperatorOnOrAfter:"em ou ap\xf3s",filterOperatorBefore:"antes de",filterOperatorOnOrBefore:"em ou antes de",filterOperatorIsEmpty:"est\xe1 vazio",filterOperatorIsNotEmpty:"n\xe3o est\xe1 vazio",filterValueAny:"qualquer",filterValueTrue:"verdadeiro",filterValueFalse:"falso",columnMenuLabel:"Menu",columnMenuShowColumns:"Exibir colunas",columnMenuFilter:"Filtrar",columnMenuHideColumn:"Ocultar",columnMenuUnsort:"Desfazer ordena\xe7\xe3o",columnMenuSortAsc:"Ordenar do menor para o maior",columnMenuSortDesc:"Ordenar do maior para o menor",columnHeaderFiltersTooltipActive:function(e){return"".concat(e," ").concat(1!==e?"filtros":"filtro"," ").concat(1!==e?"ativos":"ativo")},columnHeaderFiltersLabel:"Exibir Filtros",columnHeaderSortIconLabel:"Ordenar",footerRowSelected:function(e){return"".concat(e.toLocaleString(),1!==e?" linhas selecionadas":" linha selecionada")},footerTotalRows:"Total de linhas:",footerTotalVisibleRows:function(e,t){return"".concat(e.toLocaleString()," de ").concat(t.toLocaleString())},checkboxSelectionHeaderName:"Sele\xe7\xe3o",booleanCellTrueLabel:"sim",booleanCellFalseLabel:"n\xe3o",actionsCellMore:"mais",pinToLeft:"Fixar \xe0 esquerda",pinToRight:"Fixar \xe0 direita",unpin:"Desafixar",groupingColumnHeaderName:"Grupo",groupColumn:function(e){return"Agrupar por ".concat(e)},unGroupColumn:function(e){return"Parar agrupamento por ".concat(e)}},{components:{MuiBreadcrumbs:{defaultProps:{expandText:"Mostrar caminho"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:function(e){return"first"===e?"Ir para a primeira p\xe1gina":"last"===e?"Ir para a \xfaltima p\xe1gina":"next"===e?"Ir para a pr\xf3xima p\xe1gina":"Ir para a p\xe1gina anterior"},labelRowsPerPage:"Linhas por p\xe1gina:",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"\u2013").concat(n," de ").concat(-1!==r?r:"mais de ".concat(n))}}},MuiRating:{defaultProps:{getLabelText:function(e){return"".concat(e," Estrela").concat(1!==e?"s":"")},emptyLabelText:"Vazio"}},MuiAutocomplete:{defaultProps:{clearText:"Limpar",closeText:"Fechar",loadingText:"Carregando\u2026",noOptionsText:"Sem op\xe7\xf5es",openText:"Abrir"}},MuiAlert:{defaultProps:{closeText:"Fechar"}},MuiPagination:{defaultProps:{"aria-label":"Navegar pela pagina\xe7\xe3o",getItemAriaLabel:function(e,t,n){return"page"===e?"".concat(n?"":"Ir para a ","p\xe1gina ").concat(t):"first"===e?"Ir para a primeira p\xe1gina":"last"===e?"Ir para a \xfaltima p\xe1gina":"next"===e?"Ir para a pr\xf3xima p\xe1gina":"Ir para a p\xe1gina anterior"}}}}}),Nf({noRowsLabel:"\u041d\u0435\u0442 \u0441\u0442\u0440\u043e\u043a",noResultsOverlayLabel:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b.",errorOverlayDefaultLabel:"\u041e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430.",toolbarDensity:"\u0412\u044b\u0441\u043e\u0442\u0430 \u0441\u0442\u0440\u043e\u043a\u0438",toolbarDensityLabel:"\u0412\u044b\u0441\u043e\u0442\u0430 \u0441\u0442\u0440\u043e\u043a\u0438",toolbarDensityCompact:"\u041a\u043e\u043c\u043f\u0430\u043a\u0442\u043d\u0430\u044f",toolbarDensityStandard:"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0430\u044f",toolbarDensityComfortable:"\u041a\u043e\u043c\u0444\u043e\u0440\u0442\u043d\u0430\u044f",toolbarColumns:"\u0421\u0442\u043e\u043b\u0431\u0446\u044b",toolbarColumnsLabel:"\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u0435 \u0441\u0442\u043e\u043b\u0431\u0446\u044b",toolbarFilters:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b",toolbarFiltersLabel:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b",toolbarFiltersTooltipHide:"\u0421\u043a\u0440\u044b\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b",toolbarFiltersTooltipShow:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b",toolbarFiltersTooltipActive:function(e){var t="\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432",n=e%10;return n>1&&n<5?t="\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u0430":1===n&&(t="\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u0444\u0438\u043b\u044c\u0442\u0440"),"".concat(e," ").concat(t)},toolbarExport:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442",toolbarExportLabel:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442",toolbarExportCSV:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 CSV",toolbarExportPrint:"\u041f\u0435\u0447\u0430\u0442\u044c",columnsPanelTextFieldLabel:"\u041d\u0430\u0439\u0442\u0438 \u0441\u0442\u043e\u043b\u0431\u0435\u0446",columnsPanelTextFieldPlaceholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0441\u0442\u043e\u043b\u0431\u0446\u0430",columnsPanelDragIconLabel:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u0440\u044f\u0434\u043e\u043a \u0441\u0442\u043e\u043b\u0431\u0446\u0430",columnsPanelShowAllButton:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435",columnsPanelHideAllButton:"\u0421\u043a\u0440\u044b\u0442\u044c \u0432\u0441\u0435",filterPanelAddFilter:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440",filterPanelDeleteIconLabel:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",filterPanelOperators:"\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u044b",filterPanelOperatorAnd:"\u0418",filterPanelOperatorOr:"\u0418\u043b\u0438",filterPanelColumns:"\u0421\u0442\u043e\u043b\u0431\u0446\u044b",filterPanelInputLabel:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435",filterPanelInputPlaceholder:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u0430",filterOperatorContains:"\u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442",filterOperatorEquals:"\u0440\u0430\u0432\u0435\u043d",filterOperatorStartsWith:"\u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441",filterOperatorEndsWith:"\u0437\u0430\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u043d\u0430",filterOperatorIs:"\u0440\u0430\u0432\u0435\u043d",filterOperatorNot:"\u043d\u0435 \u0440\u0430\u0432\u0435\u043d",filterOperatorAfter:"\u0431\u043e\u043b\u044c\u0448\u0435 \u0447\u0435\u043c",filterOperatorOnOrAfter:"\u0431\u043e\u043b\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e",filterOperatorBefore:"\u043c\u0435\u043d\u044c\u0448\u0435 \u0447\u0435\u043c",filterOperatorOnOrBefore:"\u043c\u0435\u043d\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e",filterOperatorIsEmpty:"\u043f\u0443\u0441\u0442\u043e\u0439",filterOperatorIsNotEmpty:"\u043d\u0435 \u043f\u0443\u0441\u0442\u043e\u0439",filterValueAny:"\u043b\u044e\u0431\u043e\u0439",filterValueTrue:"\u0438\u0441\u0442\u0438\u043d\u0430",filterValueFalse:"\u043b\u043e\u0436\u044c",columnMenuLabel:"\u041c\u0435\u043d\u044e",columnMenuShowColumns:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0446\u044b",columnMenuFilter:"\u0424\u0438\u043b\u044c\u0442\u0440",columnMenuHideColumn:"\u0421\u043a\u0440\u044b\u0442\u044c",columnMenuUnsort:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0443",columnMenuSortAsc:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e",columnMenuSortDesc:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",columnHeaderFiltersTooltipActive:function(e){var t="\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432",n=e%10;return n>1&&n<5?t="\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u0430":1===n&&(t="\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u0444\u0438\u043b\u044c\u0442\u0440"),"".concat(e," ").concat(t)},columnHeaderFiltersLabel:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b",columnHeaderSortIconLabel:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",footerRowSelected:function(e){var t="\u0441\u0442\u0440\u043e\u043a \u0432\u044b\u0431\u0440\u0430\u043d\u043e",n=e%10;return n>1&&n<5?t="\u0441\u0442\u0440\u043e\u043a\u0438 \u0432\u044b\u0431\u0440\u0430\u043d\u044b":1===n&&(t="\u0441\u0442\u0440\u043e\u043a\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u0430"),"".concat(e," ").concat(t)},footerTotalRows:"\u0412\u0441\u0435\u0433\u043e \u0441\u0442\u0440\u043e\u043a:",footerTotalVisibleRows:function(e,t){return"".concat(e.toLocaleString()," \u0438\u0437 ").concat(t.toLocaleString())},checkboxSelectionHeaderName:"\u0412\u044b\u0431\u043e\u0440 \u0444\u043b\u0430\u0436\u043a\u0430",booleanCellTrueLabel:"\u0438\u0441\u0442\u0438\u043d\u0430",booleanCellFalseLabel:"\u043b\u043e\u0436\u044c",actionsCellMore:"\u0435\u0449\u0451",treeDataGroupingHeaderName:"\u0413\u0440\u0443\u043f\u043f\u0430",treeDataExpand:"\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b",treeDataCollapse:"\u0441\u043a\u0440\u044b\u0442\u044c \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b"},{components:{MuiBreadcrumbs:{defaultProps:{expandText:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u043e\u043b\u043d\u044b\u0439 \u043f\u0443\u0442\u044c"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:function(e){return"first"===e?"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u043f\u0435\u0440\u0432\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443":"last"===e?"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044e\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443":"next"===e?"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443":"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"},labelRowsPerPage:"\u0421\u0442\u0440\u043e\u043a \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435:",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"\u2013").concat(n," \u0438\u0437 ").concat(-1!==r?r:"\u0431\u043e\u043b\u0435\u0435 \u0447\u0435\u043c ".concat(n))}}},MuiRating:{defaultProps:{getLabelText:function(e){var t="\u0417\u0432\u0451\u0437\u0434",n=e%10;return n>1&&n<5?t="\u0417\u0432\u0435\u0437\u0434\u044b":1===n&&(t="\u0417\u0432\u0435\u0437\u0434\u0430"),"".concat(e," ").concat(t)},emptyLabelText:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"}},MuiAutocomplete:{defaultProps:{clearText:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c",closeText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",loadingText:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430\u2026",noOptionsText:"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432",openText:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"}},MuiAlert:{defaultProps:{closeText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}},MuiPagination:{defaultProps:{"aria-label":"\u041d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f \u043f\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430\u043c",getItemAriaLabel:function(e,t,n){return"page"===e?n?"".concat(t," \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"):"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 ".concat(t," \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"):"first"===e?"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u043f\u0435\u0440\u0432\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443":"last"===e?"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044e\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443":"next"===e?"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443":"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"}}}}}),Nf({noRowsLabel:"\u017diadne z\xe1znamy",noResultsOverlayLabel:"Nena\u0161li sa \u017eadne v\xfdsledky.",errorOverlayDefaultLabel:"Stala sa nepredv\xeddan\xe1 chyba.",toolbarDensity:"Hustota",toolbarDensityLabel:"Hustota",toolbarDensityCompact:"Kompaktn\xe1",toolbarDensityStandard:"\u0160tandartn\xe1",toolbarDensityComfortable:"Komfortn\xe1",toolbarColumns:"St\u013apce",toolbarColumnsLabel:"Vybra\u0165 st\u013apce",toolbarFilters:"Filtre",toolbarFiltersLabel:"Zobrazi\u0165 filtre",toolbarFiltersTooltipHide:"Skry\u0165 filtre ",toolbarFiltersTooltipShow:"Zobrazi\u0165 filtre",toolbarFiltersTooltipActive:function(e){var t="akt\xedvnych filtrov";return e>1&&e<5?t="akt\xedvne filtre":1===e&&(t="akt\xedvny filter"),"".concat(e," ").concat(t)},toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Stiahnu\u0165 ako CSV",toolbarExportPrint:"Vytla\u010di\u0165",columnsPanelTextFieldLabel:"N\xe1js\u0165 st\u013apec",columnsPanelTextFieldPlaceholder:"N\xe1zov st\u013apca",columnsPanelDragIconLabel:"Usporiad\u0165 st\u013apce",columnsPanelShowAllButton:"Zobrazi\u0165 v\u0161etko",columnsPanelHideAllButton:"Skry\u0165 v\u0161etko",filterPanelAddFilter:"Prida\u0165 filter",filterPanelDeleteIconLabel:"Odstr\xe1ni\u0165",filterPanelOperators:"Oper\xe1tory",filterPanelOperatorAnd:"A",filterPanelOperatorOr:"Alebo",filterPanelColumns:"St\u013apce",filterPanelInputLabel:"Hodnota",filterPanelInputPlaceholder:"Hodnota filtra",filterOperatorContains:"obsahuje",filterOperatorEquals:"rovn\xe1 sa",filterOperatorStartsWith:"za\u010d\xedna s",filterOperatorEndsWith:"kon\u010d\xed na",filterOperatorIs:"je",filterOperatorNot:"nie je",filterOperatorAfter:"je po",filterOperatorOnOrAfter:"je na alebo po",filterOperatorBefore:"je pred",filterOperatorOnOrBefore:"je na alebo sk\xf4r",filterOperatorIsEmpty:"je pr\xe1zdny",filterOperatorIsNotEmpty:"nie je pr\xe1zdny",filterValueAny:"ak\xfdko\u013evek",filterValueTrue:"\xe1no",filterValueFalse:"nie",columnMenuLabel:"Menu",columnMenuShowColumns:"Zobrazi\u0165 st\u013apce",columnMenuFilter:"Filter",columnMenuHideColumn:"Skry\u0165",columnMenuUnsort:"Zru\u0161i\u0165 filtre",columnMenuSortAsc:"Zoradi\u0165 vzostupne",columnMenuSortDesc:"Zoradi\u0165 zostupne",columnHeaderFiltersTooltipActive:function(e){var t="akt\xedvnych filtrov";return e>1&&e<5?t="akt\xedvne filtre":1===e&&(t="akt\xedvny filter"),"".concat(e," ").concat(t)},columnHeaderFiltersLabel:"Zobrazi\u0165 filtre",columnHeaderSortIconLabel:"Filtrova\u0165",footerRowSelected:function(e){var t="vybran\xfdch z\xe1znamov";return e>1&&e<5?t="vybran\xe9 z\xe1znamy":1===e&&(t="vybran\xfd z\xe1znam"),"".concat(e," ").concat(t)},footerTotalRows:"Riadkov spolu:",footerTotalVisibleRows:function(e,t){var n=t.toString(),r=n[0],a=["4","6","7"].includes(r)||"1"===r&&n.length%3==0?"zo":"z";return"".concat(e.toLocaleString()," ").concat(a," ").concat(t.toLocaleString())},checkboxSelectionHeaderName:"V\xfdber riadku",booleanCellTrueLabel:"\xe1no",booleanCellFalseLabel:"nie",actionsCellMore:"viac",pinToLeft:"Pripn\xfa\u0165 na \u013eavo",pinToRight:"Pripn\xfa\u0165 na pravo",unpin:"Odopn\xfa\u0165",treeDataGroupingHeaderName:"Skupina",treeDataExpand:"zobrazi\u0165 potomkov",treeDataCollapse:"skry\u0165 potomkov",groupingColumnHeaderName:"Skupina",groupColumn:function(e){return"Zoskupi\u0165 pod\u013ea ".concat(e)},unGroupColumn:function(e){return"Presta\u0165 zoskupova\u0165 pod\u013ea ".concat(e)}},{components:{MuiBreadcrumbs:{defaultProps:{expandText:"Uk\xe1za\u0165 cestu "}},MuiTablePagination:{defaultProps:{getItemAriaLabel:function(e){return"first"===e?"\xcds\u0165 na prv\xfa str\xe1nku":"last"===e?"\xcds\u0165 na posledn\xfa str\xe1nku":"next"===e?"\xcds\u0165 na \u010fa\u013e\u0161iu str\xe1nku":"\xcds\u0165 na predch\xe1dzaj\xfacu str\xe1nku"},labelRowsPerPage:"Riadkov na str\xe1nke:",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"\u2013").concat(n," z ").concat(-1!==r?r:"viac ako ".concat(n))}}},MuiRating:{defaultProps:{getLabelText:function(e){return"".concat(e,1===e?" hviezdi\u010dka":e>=2&&e<=4?" hviezdi\u010dky":" hviezdi\u010diek")},emptyLabelText:"Pr\xe1zdne"}},MuiAutocomplete:{defaultProps:{clearText:"Vymaza\u0165",closeText:"Zavrie\u0165",loadingText:"Na\u010d\xedtanie\u2026",noOptionsText:"\u017diadne mo\u017enosti",openText:"Otvori\u0165"}},MuiAlert:{defaultProps:{closeText:"Zavrie\u0165"}},MuiPagination:{defaultProps:{"aria-label":"Navig\xe1cia str\xe1nkovanim",getItemAriaLabel:function(e,t,n){return"page"===e?"".concat(n?"":"\xcds\u0165 na ","str\xe1nku ").concat(t):"first"===e?"\xcds\u0165 na prv\xfa str\xe1nku":"last"===e?"\xcds\u0165 na posledn\xfa str\xe1nku":"next"===e?"\xcds\u0165 na \u010fa\u013e\u0161iu str\xe1nku":"\xcds\u0165 na predch\xe1dzaj\xfacu str\xe1nku"}}}}}),Nf({noRowsLabel:"Sat\u0131r yok",errorOverlayDefaultLabel:"Bir hata olu\u015ftu.",toolbarDensity:"Yo\u011funluk",toolbarDensityLabel:"Yo\u011funluk",toolbarDensityCompact:"S\u0131k\u0131",toolbarDensityStandard:"Standart",toolbarDensityComfortable:"Rahat",toolbarColumns:"S\xfctunlar",toolbarColumnsLabel:"S\xfctun se\xe7",toolbarFilters:"Filtreler",toolbarFiltersLabel:"Filtreleri g\xf6ster",toolbarFiltersTooltipHide:"Filtreleri gizle",toolbarFiltersTooltipShow:"Filtreleri g\xf6ster",toolbarFiltersTooltipActive:function(e){return"".concat(e," aktif filtre")},toolbarExport:"D\u0131\u015fa aktar",toolbarExportLabel:"D\u0131\u015fa aktar",toolbarExportCSV:"CSV olarak aktar",columnsPanelTextFieldLabel:"S\xfctun ara",columnsPanelTextFieldPlaceholder:"S\xfctun ad\u0131",columnsPanelDragIconLabel:"S\xfctunlar\u0131 yeniden s\u0131rala",columnsPanelShowAllButton:"Hepsini g\xf6ster",columnsPanelHideAllButton:"Hepsini gizle",filterPanelAddFilter:"Filtre Ekle",filterPanelDeleteIconLabel:"Kald\u0131r",filterPanelOperators:"Operat\xf6r",filterPanelOperatorAnd:"Ve",filterPanelOperatorOr:"Veya",filterPanelColumns:"S\xfctunlar",filterPanelInputLabel:"De\u011fer",filterPanelInputPlaceholder:"Filtre de\u011feri",filterOperatorContains:"i\xe7erir",filterOperatorEquals:"e\u015fittir",filterOperatorStartsWith:"ile ba\u015flar",filterOperatorEndsWith:"ile biter",filterOperatorIs:"e\u015fittir",filterOperatorNot:"e\u015fit de\u011fildir",filterOperatorAfter:"b\xfcy\xfck",filterOperatorOnOrAfter:"b\xfcy\xfck e\u015fit",filterOperatorBefore:"k\xfc\xe7\xfck",filterOperatorOnOrBefore:"k\xfc\xe7\xfck e\u015fit",filterOperatorIsEmpty:"bo\u015f",filterOperatorIsNotEmpty:"dolu",columnMenuLabel:"Men\xfc",columnMenuShowColumns:"S\xfctunlar\u0131 g\xf6ster",columnMenuFilter:"Filtre uygula",columnMenuHideColumn:"Gizle",columnMenuUnsort:"S\u0131ralama",columnMenuSortAsc:"S\u0131rala - Artan",columnMenuSortDesc:"S\u0131rala - Azalan",columnHeaderFiltersTooltipActive:function(e){return"".concat(e," filtre aktif")},columnHeaderFiltersLabel:"Filtreleri g\xf6ster",columnHeaderSortIconLabel:"S\u0131rala",footerRowSelected:function(e){return"".concat(e.toLocaleString()," sat\u0131r se\xe7ildi")},footerTotalRows:"Toplam Sat\u0131r:",footerTotalVisibleRows:function(e,t){return"".concat(e.toLocaleString()," / ").concat(t.toLocaleString())}},{components:{MuiBreadcrumbs:{defaultProps:{expandText:"Yolu g\xf6ster"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:function(e){return"first"===e?"\u0130lk sayfaya git":"last"===e?"Son sayfaya git":"next"===e?"Sonraki sayfaya git":"\xd6nceki sayfaya git"},labelRowsPerPage:"Sayfa ba\u015f\u0131na sat\u0131r:"}},MuiRating:{defaultProps:{getLabelText:function(e){return"".concat(e," Y\u0131ld\u0131z")},emptyLabelText:"Bo\u015f"}},MuiAutocomplete:{defaultProps:{clearText:"Temizle",closeText:"Kapat",loadingText:"Y\xfckleniyor\u2026",noOptionsText:"Se\xe7enek yok",openText:"A\xe7"}},MuiAlert:{defaultProps:{closeText:"Kapat"}},MuiPagination:{defaultProps:{"aria-label":"Sayfa navigasyonu",getItemAriaLabel:function(e,t,n){return"page"===e?"".concat(t,". ").concat(n?"sayfa":"sayfaya git"):"first"===e?"\u0130lk sayfaya git":"last"===e?"Son sayfaya git":"next"===e?"Sonraki sayfaya git":"\xd6nceki sayfaya git"}}}}}),function(e,t){var n=t.many,r=e%10;return r>1&&r<5?n=t.few:1===r&&(n=t.one),"".concat(e," ").concat(n)}),Rf=(Nf({noRowsLabel:"\u041d\u0435\u043c\u0430\u0454 \u0440\u044f\u0434\u043a\u0456\u0432",noResultsOverlayLabel:"\u0414\u0430\u043d\u0456 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e.",errorOverlayDefaultLabel:"\u0412\u0438\u044f\u0432\u043b\u0435\u043d\u043e \u043f\u043e\u043c\u0438\u043b\u043a\u0443.",toolbarDensity:"\u0412\u0438\u0441\u043e\u0442\u0430 \u0440\u044f\u0434\u043a\u0430",toolbarDensityLabel:"\u0412\u0438\u0441\u043e\u0442\u0430 \u0440\u044f\u0434\u043a\u0430",toolbarDensityCompact:"\u041a\u043e\u043c\u043f\u0430\u043a\u0442\u043d\u0438\u0439",toolbarDensityStandard:"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0438\u0439",toolbarDensityComfortable:"\u041a\u043e\u043c\u0444\u043e\u0440\u0442\u043d\u0438\u0439",toolbarColumns:"\u0421\u0442\u043e\u0432\u043f\u0446\u0456",toolbarColumnsLabel:"\u0412\u0438\u0434\u0456\u043b\u0456\u0442\u044c \u0441\u0442\u043e\u0432\u043f\u0446\u0456",toolbarFilters:"\u0424\u0456\u043b\u044c\u0442\u0440\u0438",toolbarFiltersLabel:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0444\u0456\u043b\u044c\u0442\u0440\u0438",toolbarFiltersTooltipHide:"\u041f\u0440\u0438\u0445\u043e\u0432\u0430\u0442\u0438 \u0444\u0456\u043b\u044c\u0442\u0440\u0438",toolbarFiltersTooltipShow:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0444\u0456\u043b\u044c\u0442\u0440\u0438",toolbarFiltersTooltipActive:function(e){return Af(e,{one:"\u0430\u043a\u0442\u0438\u0432\u043d\u0438\u0439 \u0444\u0456\u043b\u044c\u0442\u0440",few:"\u0430\u043a\u0442\u0438\u0432\u043d\u0456 \u0444\u0456\u043b\u044c\u0442\u0440\u0438",many:"\u0430\u043a\u0442\u0438\u0432\u043d\u0438\u0445 \u0444\u0456\u043b\u044c\u0442\u0440\u0456\u0432"})},toolbarExport:"\u0415\u043a\u0441\u043f\u043e\u0440\u0442",toolbarExportLabel:"\u0415\u043a\u0441\u043f\u043e\u0440\u0442",toolbarExportCSV:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0443 \u0444\u043e\u0440\u043c\u0430\u0442\u0456 CSV",toolbarExportPrint:"\u0414\u0440\u0443\u043a",columnsPanelTextFieldLabel:"\u0417\u043d\u0430\u0439\u0442\u0438 \u0441\u0442\u043e\u0432\u043f\u0435\u0446\u044c",columnsPanelTextFieldPlaceholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0441\u0442\u043e\u0432\u043f\u0446\u044f",columnsPanelDragIconLabel:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438 \u043f\u043e\u0440\u044f\u0434\u043e\u043a \u0441\u0442\u043e\u0432\u043f\u0446\u044f",columnsPanelShowAllButton:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0432\u0441\u0456",columnsPanelHideAllButton:"\u041f\u0440\u0438\u0445\u043e\u0432\u0430\u0442\u0438 \u0432\u0441\u0456",filterPanelAddFilter:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0444\u0456\u043b\u044c\u0442\u0440",filterPanelDeleteIconLabel:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438",filterPanelOperators:"\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0438",filterPanelOperatorAnd:"\u0406",filterPanelOperatorOr:"\u0410\u0431\u043e",filterPanelColumns:"\u0421\u0442\u043e\u0432\u043f\u0446\u0456",filterPanelInputLabel:"\u0417\u043d\u0430\u0447\u0435\u043d\u043d\u044f",filterPanelInputPlaceholder:"\u0417\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u0444\u0456\u043b\u044c\u0442\u0440\u0430",filterOperatorContains:"\u043c\u0456\u0441\u0442\u0438\u0442\u044c",filterOperatorEquals:"\u0434\u043e\u0440\u0456\u0432\u043d\u044e\u0454",filterOperatorStartsWith:"\u043f\u043e\u0447\u0438\u043d\u0430\u0454\u0442\u044c\u0441\u044f \u0437",filterOperatorEndsWith:"\u0437\u0430\u043a\u0456\u043d\u0447\u0443\u0454\u0442\u044c\u0441\u044f \u043d\u0430",filterOperatorIs:"\u0434\u043e\u0440\u0456\u0432\u043d\u044e\u0454",filterOperatorNot:"\u043d\u0435 \u0434\u043e\u0440\u0456\u0432\u043d\u044e\u0454",filterOperatorAfter:"\u0431\u0456\u043b\u044c\u0448\u0435 \u043d\u0456\u0436",filterOperatorOnOrAfter:"\u0431\u0456\u043b\u044c\u0448\u0435 \u0430\u0431\u043e \u0434\u043e\u0440\u0456\u0432\u043d\u044e\u0454",filterOperatorBefore:"\u043c\u0435\u043d\u0448\u0435 \u043d\u0456\u0436",filterOperatorOnOrBefore:"\u043c\u0435\u043d\u0448\u0435 \u0430\u0431\u043e \u0434\u043e\u0440\u0456\u0432\u043d\u044e\u0454",filterOperatorIsEmpty:"\u043f\u043e\u0440\u043e\u0436\u043d\u0456\u0439",filterOperatorIsNotEmpty:"\u043d\u0435 \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u0439",filterValueAny:"\u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0439",filterValueTrue:"\u0442\u0430\u043a",filterValueFalse:"\u043d\u0456",columnMenuLabel:"\u041c\u0435\u043d\u044e",columnMenuShowColumns:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0441\u0442\u043e\u0432\u043f\u0446\u0456",columnMenuFilter:"\u0424\u0456\u043b\u044c\u0442\u0440",columnMenuHideColumn:"\u041f\u0440\u0438\u0445\u043e\u0432\u0430\u0442\u0438",columnMenuUnsort:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438 \u0441\u043e\u0440\u0442\u0443\u0432\u0430\u043d\u043d\u044f",columnMenuSortAsc:"\u0421\u043e\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0437\u0430 \u0437\u0440\u043e\u0441\u0442\u0430\u043d\u043d\u044f\u043c",columnMenuSortDesc:"\u0421\u043e\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0437\u0430 \u0441\u043f\u0430\u0434\u0430\u043d\u043d\u044f\u043c",columnHeaderFiltersTooltipActive:function(e){return Af(e,{one:"\u0430\u043a\u0442\u0438\u0432\u043d\u0438\u0439 \u0444\u0456\u043b\u044c\u0442\u0440",few:"\u0430\u043a\u0442\u0438\u0432\u043d\u0456 \u0444\u0456\u043b\u044c\u0442\u0440\u0438",many:"\u0430\u043a\u0442\u0438\u0432\u043d\u0438\u0445 \u0444\u0456\u043b\u044c\u0442\u0440\u0456\u0432"})},columnHeaderFiltersLabel:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0444\u0456\u043b\u044c\u0442\u0440\u0438",columnHeaderSortIconLabel:"\u0421\u043e\u0440\u0442\u0443\u0432\u0430\u0442\u0438",footerRowSelected:function(e){return Af(e,{one:"\u0432\u0438\u0431\u0440\u0430\u043d\u0438\u0439 \u0440\u044f\u0434\u043e\u043a",few:"\u0432\u0438\u0431\u0440\u0430\u043d\u0456 \u0440\u044f\u0434\u043a\u0438",many:"\u0432\u0438\u0431\u0440\u0430\u043d\u0438\u0445 \u0440\u044f\u0434\u043a\u0456\u0432"})},footerTotalRows:"\u0423\u0441\u044c\u043e\u0433\u043e \u0440\u044f\u0434\u043a\u0456\u0432:",footerTotalVisibleRows:function(e,t){return"".concat(e.toLocaleString()," \u0437 ").concat(t.toLocaleString())},checkboxSelectionHeaderName:"\u0412\u0438\u0431\u0456\u0440 \u043f\u0440\u0430\u043f\u043e\u0440\u0446\u044f",booleanCellTrueLabel:"\u0442\u0430\u043a",booleanCellFalseLabel:"\u043d\u0456",actionsCellMore:"\u0431\u0456\u043b\u044c\u0448\u0435",pinToLeft:"\u0417\u0430\u043a\u0440\u0456\u043f\u0438\u0442\u0438 \u043b\u0456\u0432\u043e\u0440\u0443\u0447",pinToRight:"\u0417\u0430\u043a\u0440\u0456\u043f\u0438\u0442\u0438 \u043f\u0440\u0430\u0432\u043e\u0440\u0443\u0447",unpin:"\u0412\u0456\u0434\u043a\u0440\u0456\u043f\u0438\u0442\u0438",treeDataGroupingHeaderName:"\u0413\u0440\u0443\u043f\u0430",treeDataExpand:"\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0434\u043e\u0447\u0456\u0440\u043d\u0456 \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0438",treeDataCollapse:"\u043f\u0440\u0438\u0445\u043e\u0432\u0430\u0442\u0438 \u0434\u043e\u0447\u0456\u0440\u043d\u0456 \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0438"},{components:{MuiBreadcrumbs:{defaultProps:{expandText:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0448\u043b\u044f\u0445 \u0441\u0442\u043e\u0440\u0456\u043d\u043e\u043a"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:function(e){return"first"===e?"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u043f\u0435\u0440\u0448\u0443 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443":"last"===e?"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u043e\u0441\u0442\u0430\u043d\u043d\u044e \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443":"next"===e?"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443":"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u044e \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443"},labelRowsPerPage:"\u0420\u044f\u0434\u043a\u0456\u0432 \u043d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u0446\u0456:",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"\u2013").concat(n," \u0437 ").concat(-1!==r?r:"\u043f\u043e\u043d\u0430\u0434 ".concat(n))}}},MuiRating:{defaultProps:{getLabelText:function(e){var t="\u0417\u0456\u0440\u043e\u043a",n=e%10;return n>1&&n<5?t="\u0417\u0456\u0440\u043a\u0438":1===n&&(t="\u0417\u0456\u0440\u043a\u0430"),"".concat(e," ").concat(t)},emptyLabelText:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456\u0439"}},MuiAutocomplete:{defaultProps:{clearText:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u0438",closeText:"\u0417\u0433\u043e\u0440\u043d\u0443\u0442\u0438",loadingText:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f\u2026",noOptionsText:"\u041d\u0435\u043c\u0430\u0454 \u0432\u0430\u0440\u0456\u0430\u043d\u0442\u0456\u0432",openText:"\u0420\u043e\u0437\u0433\u043e\u0440\u043d\u0443\u0442\u0438"}},MuiAlert:{defaultProps:{closeText:"\u0417\u0433\u043e\u0440\u043d\u0443\u0442\u0438"}},MuiPagination:{defaultProps:{"aria-label":"\u041d\u0430\u0432\u0456\u0433\u0430\u0446\u0456\u044f \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430\u043c\u0438",getItemAriaLabel:function(e,t,n){return"page"===e?"".concat(n?"":"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 ","\u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443 ").concat(t):"first"===e?"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u043f\u0435\u0440\u0448\u0443 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443":"last"===e?"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u043e\u0441\u0442\u0430\u043d\u043d\u044e \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443":"next"===e?"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443":"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u044e \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443"}}}}}),Nf({noRowsLabel:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u",noResultsOverlayLabel:"Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3.",errorOverlayDefaultLabel:"C\xf3 l\u1ed7i x\u1ea3y ra.",toolbarDensity:"\u0110\u1ed9 gi\xe3n",toolbarDensityLabel:"\u0110\u1ed9 gi\xe3n",toolbarDensityCompact:"Trung b\xecnh",toolbarDensityStandard:"Ti\xeau chu\u1ea9n",toolbarDensityComfortable:"R\u1ed9ng",toolbarColumns:"C\u1ed9t",toolbarColumnsLabel:"Ch\u1ecdn c\u1ed9t",toolbarFilters:"B\u1ed9 l\u1ecdc",toolbarFiltersLabel:"Hi\u1ec3n th\u1ecb b\u1ed9 l\u1ecdc",toolbarFiltersTooltipHide:"\u1ea8n",toolbarFiltersTooltipShow:"Hi\u1ec7n",toolbarFiltersTooltipActive:function(e){return"".concat(e," b\u1ed9 l\u1ecdc ho\u1ea1t \u0111\u1ed9ng")},toolbarExport:"Xu\u1ea5t",toolbarExportLabel:"Xu\u1ea5t",toolbarExportCSV:"Xu\u1ea5t CSV",toolbarExportPrint:"In",columnsPanelTextFieldLabel:"T\xecm ki\u1ebfm",columnsPanelTextFieldPlaceholder:"Ti\xeau \u0111\u1ec1 c\u1ed9t",columnsPanelDragIconLabel:"S\u1eafp x\u1ebfp",columnsPanelShowAllButton:"Hi\u1ec7n t\u1ea5t c\u1ea3",columnsPanelHideAllButton:"\u1ea8n t\u1ea5t c\u1ea3",filterPanelAddFilter:"Th\xeam b\u1ed9 l\u1ecdc",filterPanelDeleteIconLabel:"X\xf3a",filterPanelOperators:"To\xe1n t\u1eed",filterPanelOperatorAnd:"V\xe0",filterPanelOperatorOr:"Ho\u1eb7c",filterPanelColumns:"C\u1ed9t",filterPanelInputLabel:"Gi\xe1 tr\u1ecb",filterPanelInputPlaceholder:"L\u1ecdc gi\xe1 tr\u1ecb",filterOperatorContains:"Ch\u1ee9a",filterOperatorEquals:"B\u1eb1ng",filterOperatorStartsWith:"B\u1eaft \u0111\u1ea7u b\u1eb1ng",filterOperatorEndsWith:"K\u1ebft th\xfac b\u1eb1ng",filterOperatorIs:"L\xe0",filterOperatorNot:"Kh\xf4ng l\xe0",filterOperatorAfter:"Tr\u01b0\u1edbc",filterOperatorOnOrAfter:"b\u1eb1ng ho\u1eb7c sau",filterOperatorBefore:"Sau",filterOperatorOnOrBefore:"b\u1eb1ng ho\u1eb7c tr\u01b0\u1edbc",filterOperatorIsEmpty:"R\u1ed7ng",filterOperatorIsNotEmpty:"Kh\xe1c r\u1ed7ng",filterValueAny:"b\u1ea5t k\u1ef3 gi\xe1 tr\u1ecb n\xe0o",filterValueTrue:"C\xf3",filterValueFalse:"Kh\xf4ng",columnMenuLabel:"Danh m\u1ee5c",columnMenuShowColumns:"Danh s\xe1ch c\u1ed9t",columnMenuFilter:"B\u1ed9 l\u1ecdc",columnMenuHideColumn:"\u1ea8n c\u1ed9t",columnMenuUnsort:"B\u1ecf s\u1eafp x\u1ebfp",columnMenuSortAsc:"S\u1eafp x\u1ebfp t\u0103ng d\u1ea7n",columnMenuSortDesc:"S\u1eafp x\u1ebfp gi\u1ea3m d\u1ea7n",columnHeaderFiltersTooltipActive:function(e){return"".concat(e," b\u1ed9 l\u1ecdc ho\u1ea1t \u0111\u1ed9ng")},columnHeaderFiltersLabel:"B\u1ed9 l\u1ecdc",columnHeaderSortIconLabel:"S\u1eafp x\u1ebfp",footerRowSelected:function(e){return"".concat(e.toLocaleString()," h\xe0ng \u0111\xe3 ch\u1ecdn")},footerTotalRows:"T\u1ed5ng:",footerTotalVisibleRows:function(e,t){return"".concat(e.toLocaleString()," / ").concat(t.toLocaleString())},checkboxSelectionHeaderName:"T\xedch v\xe0o \xf4 tr\u1ed1ng",booleanCellTrueLabel:"C\xf3",booleanCellFalseLabel:"Kh\xf4ng",actionsCellMore:"Th\xeam",pinToLeft:"Ghim c\u1ed9t b\xean tr\xe1i",pinToRight:"Ghim c\u1ed9t b\xean ph\u1ea3i",unpin:"B\u1ecf ghim",treeDataGroupingHeaderName:"Nh\xf3m",treeDataExpand:"m\u1edf r\u1ed9ng",treeDataCollapse:"\u1ea9n \u0111i"},{components:{MuiBreadcrumbs:{defaultProps:{expandText:"M\u1edf ra"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:function(e){return"first"===e?"T\u1edbi trang \u0111\u1ea7u ti\xean":"last"===e?"T\u1edbi trang cu\u1ed1i c\xf9ng":"next"===e?"T\u1edbi trang ti\u1ebfp theo":"V\u1ec1 trang tr\u01b0\u1edbc \u0111\xf3"},labelRowsPerPage:"S\u1ed1 h\xe0ng m\u1ed7i trang:",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"\u2013").concat(n," trong ").concat(-1!==r?r:"nhi\u1ec1u h\u01a1n ".concat(n))}}},MuiRating:{defaultProps:{getLabelText:function(e){return"".concat(e," sao")},emptyLabelText:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u"}},MuiAutocomplete:{defaultProps:{clearText:"X\xf3a",closeText:"\u0110\xf3ng",loadingText:"\u0110ang t\u1ea3i\u2026",noOptionsText:"Kh\xf4ng c\xf3 l\u1ef1a ch\u1ecdn n\xe0o",openText:"M\u1edf"}},MuiAlert:{defaultProps:{closeText:"\u0110\xf3ng"}},MuiPagination:{defaultProps:{"aria-label":"Thanh \u0111i\u1ec1u khi\u1ec3n trang",getItemAriaLabel:function(e,t,n){return"page"===e?"".concat(n?"":"T\u1edbi ","trang ").concat(t):"first"===e?"T\u1edbi trang \u0111\u1ea7u ti\xean":"last"===e?"T\u1edbi trang cu\u1ed1i c\xf9ng":"next"===e?"T\u1edbi trang ti\u1ebfp theo":"V\u1ec1 trang tr\u01b0\u1edbc \u0111\xf3"}}}}}),Nf({noRowsLabel:"\u6ca1\u6709\u6570\u636e\u3002",noResultsOverlayLabel:"\u672a\u627e\u5230\u6570\u636e\u3002",errorOverlayDefaultLabel:"\u53d1\u751f\u9519\u8bef\u3002",toolbarDensity:"\u8868\u683c\u5bc6\u5ea6",toolbarDensityLabel:"\u8868\u683c\u5bc6\u5ea6",toolbarDensityCompact:"\u7d27\u5bc6",toolbarDensityStandard:"\u6807\u51c6",toolbarDensityComfortable:"\u7a00\u758f",toolbarColumns:"\u5217",toolbarColumnsLabel:"\u9009\u62e9\u5217",toolbarFilters:"\u7b5b\u9009\u5668",toolbarFiltersLabel:"\u663e\u793a\u7b5b\u9009\u5668",toolbarFiltersTooltipHide:"\u9690\u85cf\u7b5b\u9009\u5668",toolbarFiltersTooltipShow:"\u663e\u793a\u7b5b\u9009\u5668",toolbarFiltersTooltipActive:function(e){return"".concat(e," \u4e2a\u7b5b\u9009\u5668")},toolbarExport:"\u5bfc\u51fa",toolbarExportLabel:"\u5bfc\u51fa",toolbarExportCSV:"\u5bfc\u51fa\u81f3CSV",columnsPanelTextFieldLabel:"\u641c\u7d22\u5217",columnsPanelTextFieldPlaceholder:"\u5217\u540d",columnsPanelDragIconLabel:"\u91cd\u6392\u5e8f\u5217",columnsPanelShowAllButton:"\u663e\u793a\u6240\u6709",columnsPanelHideAllButton:"\u9690\u85cf\u6240\u6709",filterPanelAddFilter:"\u6dfb\u52a0\u7b5b\u9009\u5668",filterPanelDeleteIconLabel:"\u5220\u9664",filterPanelOperators:"\u64cd\u4f5c\u5668",filterPanelOperatorAnd:"\u4e0e",filterPanelOperatorOr:"\u6216",filterPanelColumns:"\u5217",filterPanelInputLabel:"\u503c",filterPanelInputPlaceholder:"\u7b5b\u9009\u503c",filterOperatorContains:"\u5305\u542b",filterOperatorEquals:"\u7b49\u4e8e",filterOperatorStartsWith:"\u5f00\u59cb\u4e8e",filterOperatorEndsWith:"\u7ed3\u675f\u4e8e",filterOperatorIs:"\u662f",filterOperatorNot:"\u4e0d\u662f",filterOperatorAfter:"\u5728\u540e\u9762",filterOperatorOnOrAfter:"\u6b63\u5728\u540e\u9762",filterOperatorBefore:"\u5728\u524d\u9762",filterOperatorOnOrBefore:"\u6b63\u5728\u524d\u9762",filterOperatorIsEmpty:"\u4e3a\u7a7a",filterOperatorIsNotEmpty:"\u4e0d\u4e3a\u7a7a",filterValueAny:"\u4efb\u4f55",filterValueTrue:"\u771f",filterValueFalse:"\u5047",columnMenuLabel:"\u83dc\u5355",columnMenuShowColumns:"\u663e\u793a",columnMenuFilter:"\u7b5b\u9009\u5668",columnMenuHideColumn:"\u9690\u85cf",columnMenuUnsort:"\u6062\u590d\u9ed8\u8ba4",columnMenuSortAsc:"\u5347\u5e8f",columnMenuSortDesc:"\u964d\u5e8f",columnHeaderFiltersTooltipActive:function(e){return"".concat(e," \u4e2a\u7b5b\u9009\u5668")},columnHeaderFiltersLabel:"\u663e\u793a\u7b5b\u9009\u5668",columnHeaderSortIconLabel:"\u6392\u5e8f",footerRowSelected:function(e){return"\u5171\u9009\u4e2d\u4e86".concat(e.toLocaleString(),"\u884c")},footerTotalRows:"\u6240\u6709\u884c:",footerTotalVisibleRows:function(e,t){return"".concat(e.toLocaleString()," / ").concat(t.toLocaleString())},checkboxSelectionHeaderName:"\u591a\u9009\u6846",booleanCellTrueLabel:"\u771f",booleanCellFalseLabel:"\u5047"},{components:{MuiBreadcrumbs:{defaultProps:{expandText:"\u5c55\u5f00"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:function(e){return"first"===e?"\u7b2c\u4e00\u9875":"last"===e?"\u6700\u540e\u4e00\u9875":"next"===e?"\u4e0b\u4e00\u9875":"\u4e0a\u4e00\u9875"},labelRowsPerPage:"\u6bcf\u9875\u884c\u6570:",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"\u7b2c ".concat(t," \u6761\u5230\u7b2c ").concat(n," \u6761\uff0c").concat(-1!==r?"\u5171 ".concat(r," \u6761"):"\u81f3\u5c11 ".concat(n," \u6761"))}}},MuiRating:{defaultProps:{getLabelText:function(e){return"".concat(e," \u9897\u661f")},emptyLabelText:"\u65e0\u6807\u7b7e"}},MuiAutocomplete:{defaultProps:{clearText:"\u6e05\u7a7a",closeText:"\u5173\u95ed",loadingText:"\u52a0\u8f7d\u4e2d\u2026\u2026",noOptionsText:"\u6ca1\u6709\u53ef\u7528\u9009\u9879",openText:"\u6253\u5f00"}},MuiAlert:{defaultProps:{closeText:"\u5173\u95ed"}}}}),function(e){var t=e.apiRef,n=e.props,r=e.children;return p.createElement(pu.Provider,{value:n},p.createElement(su.Provider,{value:t},r))}),Of=Mc()&&null!=window.localStorage.getItem("DEBUG"),Zf=function(){},Mf={debug:Zf,info:Zf,warn:Zf,error:Zf},Pf=["debug","info","warn","error"];function Lf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console,r=Pf.indexOf(t);if(-1===r)throw new Error("MUI: Log level ".concat(t," not recognized."));return Pf.reduce((function(t,o,i){return t[o]=i>=r?function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var u=r[0],s=r.slice(1);n[o].apply(n,["MUI: ".concat(e," - ").concat(u)].concat((0,a.Z)(s)))}:Zf,t}),{})}function _f(e){var t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);var n=document.createRange();n.selectNode(t);var r=window.getSelection();r.removeAllRanges(),r.addRange(n);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}var Bf=function(e,t){var n=p.useRef(!1);n.current||(e.current.state=t(e.current.state),n.current=!0)};var zf=function(e,t,n){switch(e){case jd.Compact:return{value:e,headerHeight:Math.floor(.7*t),rowHeight:Math.floor(.7*n)};case jd.Comfortable:return{value:e,headerHeight:Math.floor(1.3*t),rowHeight:Math.floor(1.3*n)};default:return{value:e,headerHeight:t,rowHeight:n}}},jf=function(e,t){if("string"==typeof e){var n=e.replace(/"/g,'""');return[t,"\n","\r"].some((function(e){return n.includes(e)}))?'"'.concat(n,'"'):n}return e};var Vf=function(e){var t=cs(e,"useGridCsvExport"),n=yu(e,_u),r=yu(e,Ku),a=yu(e,Pu),o=p.useCallback((function(o){var i,u;t.debug("Get data as CSV"),u=(null==o?void 0:o.fields)?o.fields.map((function(e){return a.find((function(t){return t.field===e}))})).filter((function(e){return!!e})):((null==o?void 0:o.allColumns)?a:n).filter((function(e){return!e.disableExport}));var s=e.current.getSelectedRows();return function(e){var t=e.columns,n=e.rowIds,r=e.getCellParams,a=e.delimiterCharacter,o=e.includeHeaders,i=n.reduce((function(e,n){return"".concat(e).concat(function(e,t,n,r){return t.map((function(t){return jf(n(e,t.field).formattedValue,r)}))}(n,t,r,a).join(a),"\r\n")}),"").trim();return o?"".concat("".concat(t.filter((function(e){return e.field!==Fd.field})).map((function(e){return jf(e.headerName||e.field,a)})).join(a),"\r\n"),i).trim():i}({columns:u,rowIds:s.size>0?r.filter((function(e){return s.has(e)})):r,getCellParams:e.current.getCellParams,delimiterCharacter:(null==o?void 0:o.delimiter)||",",includeHeaders:null===(i=null==o?void 0:o.includeHeaders)||void 0===i||i})}),[t,n,a,r,e]),i=p.useCallback((function(e){t.debug("Export data as CSV");var n=o(e);!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"csv",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.title,r="".concat(n,".").concat(t);if("download"in HTMLAnchorElement.prototype){var a=URL.createObjectURL(e),o=document.createElement("a");return o.href=a,o.download=r,o.click(),void setTimeout((function(){URL.revokeObjectURL(a)}))}throw new Error("MUI: exportAs not supported")}(new Blob([(null==e?void 0:e.utf8WithBom)?new Uint8Array([239,187,191]):"",n],{type:"text/csv"}),"csv",null==e?void 0:e.fileName)}),[t,o]);Cp(e,{getDataAsCsv:o,exportDataAsCsv:i},"GridCsvExportApi")},Wf=function(e,t){var n=Object.assign({},e);if(null==n.id&&(n.id=Math.round(1e5*Math.random())),null==n.operatorValue){var r=t.current.getColumn(n.columnField);n.operatorValue=r&&r.filterOperators[0].value}return n},Hf=function(e){if(e.items.length>1&&e.items.find((function(e){return null==e.id})))throw new Error("MUI: The 'id' field is required on `filterModel.items` when you use multiple filters.")},Uf=function(e,t){var n,r;return t.pagination&&"client"===t.paginationMode?(r=Dd(e),n=Ed(e)):r=0===(n=qu(e)).length?null:{firstRowIndex:0,lastRowIndex:n.length-1},{rows:n,range:r}},Gf=function(e,t){var n=Uf(e.current.state,t);return p.useMemo((function(){return{rows:n.rows,range:n.range}}),[n.rows,n.range])},qf=function(e,t){return t>0&&e>0?Math.ceil(e/t):0},Kf=function(e){return e.pageCount?Object.assign(Object.assign({},e),{page:Math.max(Math.min(e.page,e.pageCount-1),0)}):e};function Xf(e){return"function"==typeof e.then}function Yf(e,t,n){var r=t?t(e):e.id;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"A row was provided without id in the rows prop:";if(null==e)throw new Error(["MUI: The data grid component requires all rows to have a unique id property.",n,JSON.stringify(t)].join("\n"))}(r,e,n),r}var $f=function(e){var t,n=e.prevState,r=e.rows,a=e.props,o=null!=a?a:n.props;if(r){t={idRowsLookup:{},ids:[]};for(var i=0;i<r.length;i+=1){var u=r[i],s=Yf(u,o.getRowId);t.idRowsLookup[s]=u,t.ids.push(s)}}else t=n.value;return{value:t,props:o,rowsBeforePartialUpdates:null!=r?r:n.rowsBeforePartialUpdates}},Qf=function(e,t,n){var r=e.state,a=r.props.rowCount,o=void 0===a?0:a,i=r.value,u=n.current.unstable_groupRows(Object.assign(Object.assign({},i),{previousTree:t})),s=Object.values(u.tree).filter((function(e){return null==e.parent})).length,l=o>u.ids.length?o:u.ids.length,c=o>s?o:s;return Object.assign(Object.assign({},u),{totalRowCount:l,totalTopLevelRowCount:c})};function Jf(e){var t=e.clientHeight,n=e.scrollTop,r=e.offsetHeight,a=e.offsetTop,o=a+r;return o-t>n?o-t:a<n?a:void 0}var eh=function(e,t){(function(e,t){(function(e,t){e.current.getLogger=p.useCallback((function(e){return Of?Lf(e,"debug",t.logger):t.logLevel?Lf(e,t.logLevel.toString(),t.logger):Mf}),[t.logLevel,t.logger])})(e,t),function(e,t){var n=cs(e,"useApi"),r=p.useCallback((function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=r[0],i=r[1],u=r[2],s=void 0===u?{}:u;if(s.defaultMuiPrevented=!1,!function(e){return void 0!==e.isPropagationStopped}(s)||!s.isPropagationStopped()){var l=t.signature===vf.DataGridPro?{api:e.current}:{};e.current.unstable_eventManager.emit(o,i,s,l)}}),[e,t.signature]),a=p.useCallback((function(t,r,a){n.debug("Binding ".concat(t," event")),e.current.unstable_eventManager.on(t,r,a);var o=e.current;return function(){n.debug("Clearing ".concat(t," event")),o.unstable_eventManager.removeListener(t,r)}}),[e,n]),o=p.useCallback((function(t){e.current.publishEvent(ou.componentError,t)}),[e]);Cp(e,{subscribeEvent:a,publishEvent:r,showError:o},"GridCoreApi"),p.useEffect((function(){n.debug("Initializing grid api.");var t=e.current;return function(){n.info("Unmounting Grid component. Clearing all events listeners."),t.publishEvent(ou.unmount)}}),[n,e])}(e,t),function(e,t){var n=p.useCallback((function(t){e.current.setState((function(e){return Object.assign(Object.assign({},e),{error:t})}))}),[e]);p.useEffect((function(){n(t.error)}),[n,t.error]),xf(e,ou.componentError,n)}(e,t),function(e,t){var n=p.useRef({}),r=p.useState(),a=(0,l.Z)(r,2)[1],o=p.useCallback((function(e){var t=e.stateId,r=vu(e,["stateId"]);n.current[t]=Object.assign(Object.assign({},r),{stateId:t})}),[]),i=p.useCallback((function(r){var a;if(a="function"==typeof r?r(e.current.state):r,e.current.state===a)return!1;var o=!1,i=[];if(Object.keys(n.current).forEach((function(t){var r=n.current[t],u=r.stateSelector(e.current.state),s=r.stateSelector(a);s!==u&&(i.push({stateId:r.stateId,hasPropChanged:s!==r.propModel}),void 0!==r.propModel&&s!==r.propModel&&(o=!0))})),i.length>1)throw new Error("You're not allowed to update several sub-state in one transaction. You already updated ".concat(i[0],", therefore, you're not allowed to update ").concat(i.join(", ")," in the same transaction."));return o||(e.current.state=a,e.current.publishEvent&&e.current.publishEvent(ou.stateChange,a)),i.forEach((function(r){var i=r.stateId,u=r.hasPropChanged,s=n.current[i],l=s.stateSelector(a);if(s.propOnChange&&u){var c=t.signature===vf.DataGridPro?{api:e.current}:{};s.propOnChange(l,c)}o||e.current.publishEvent(s.changeEvent,l)})),!o}),[e,t.signature]),u=p.useCallback((function(){return a((function(){return e.current.state}))}),[e]);Cp(e,{setState:i,forceUpdate:u,unstable_updateControlState:o},"useGridStateInitialization")}(e,t),function(e){var t=p.useRef({}),n=p.useCallback((function(n,a,o){t.current[n]||(t.current[n]={});var i=t.current[n],u=i[a];return u&&u===o||(t.current[n]=Object.assign(Object.assign({},i),(0,r.Z)({},a,o)),e.current.publishEvent(ou.preProcessorRegister,n)),function(){var r=t.current[n],o=a;r[o];var i=vu(r,["symbol"==typeof o?o:o+""]);t.current[n]=i,e.current.publishEvent(ou.preProcessorUnregister,n)}}),[e]),a=p.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n[0],o=n[1],i=n[2];return t.current[a]?Object.values(t.current[a]).reduce((function(e,t){return t(e,i)}),o):o}),[]);Cp(e,{unstable_registerPreProcessor:n,unstable_applyPreProcessors:a},"GridPreProcessing")}(e),function(e){var t=p.useRef(new Map),n=p.useCallback((function(n,r){var a;(null!==(a=t.current.get(n))&&void 0!==a?a:null)!==r&&(t.current.set(n,r),e.current.publishEvent(ou.rowGroupsPreProcessingChange))}),[e]),r=p.useCallback((function(){for(var e=null,n=Array.from(t.current.values());!e&&n.length;){var r=n.shift();r&&(e=r.apply(void 0,arguments))}return e||function(e){for(var t=e.ids,n=e.idRowsLookup,r={},a=0;a<t.length;a+=1){var o=t[a];r[o]={id:o,depth:0,parent:null,groupingKey:"",groupingField:null}}return{groupingName:"none",tree:r,treeDepth:1,idRowsLookup:n,ids:t}}.apply(void 0,arguments)}),[]);Cp(e,{unstable_registerRowGroupsBuilder:n,unstable_groupRows:r},"GridRowGroupsPreProcessing")}(e),function(e,t){Cp(e,{getLocaleText:p.useCallback((function(e){if(null==t.localeText[e])throw new Error("Missing translation for key ".concat(e,"."));return t.localeText[e]}),[t.localeText])},"LocaleTextApi")}(e,t)})(e,t),function(e,t){var n=cs(e,"useGridSelection"),r=p.useMemo((function(){return null==t.selectionModel||Array.isArray(t.selectionModel)?t.selectionModel:[t.selectionModel]}),[t.selectionModel]);Bf(e,(function(e){return Object.assign(Object.assign({},e),{selection:null!=r?r:[]})}));var o=function(e){var t=e.classes;return p.useMemo((function(){return(0,g.Z)({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},cu,t)}),[t])}({classes:t.classes}),i=p.useRef(null);e.current.unstable_updateControlState({stateId:"selection",propModel:r,propOnChange:t.onSelectionModelChange,stateSelector:ts,changeEvent:ou.selectionChange});var u=t.checkboxSelection,s=t.disableMultipleSelection,c=t.disableSelectionOnClick,d=t.isRowSelectable,f=!s||u,h=p.useCallback((function(t){var n,r=t,a=null!==(n=i.current)&&void 0!==n?n:t,o=e.current.isRowSelected(t);if(o){var u=Ku(e.current.state),s=u.findIndex((function(e){return e===a})),l=u.findIndex((function(e){return e===r}));r=s>l?u[l+1]:u[l-1]}i.current=t,e.current.selectRowRange({startId:a,endId:r},!o)}),[e]),m=p.useCallback((function(n){var r=Object.assign(Object.assign({},Fd),{cellClassName:o.cellCheckbox,headerClassName:o.columnHeaderCheckbox,headerName:e.current.getLocaleText("checkboxSelectionHeaderName")}),i=t.checkboxSelection,u=null!=n.lookup[r.field];return i&&!u?(n.lookup[r.field]=r,n.all=[r.field].concat((0,a.Z)(n.all))):!i&&u&&(delete n.lookup[r.field],n.all=n.all.filter((function(e){return e!==r.field}))),n}),[e,o,t.checkboxSelection]);Ep(e,yp.hydrateColumns,m);var v=p.useCallback((function(t){ts(e.current.state)!==t&&(n.debug("Setting selection model"),e.current.setState((function(e){return Object.assign(Object.assign({},e),{selection:t})})),e.current.forceUpdate())}),[e,n]),b=p.useCallback((function(t){return ts(e.current.state).includes(t)}),[e]),y=p.useCallback((function(){return rs(e.current.state)}),[e]),x=p.useCallback((function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!d||d(e.current.getRowParams(t)))if(i.current=t,a)n.debug("Setting selection for row ".concat(t)),e.current.setSelectionModel(r?[t]:[]);else{n.debug("Toggling selection for row ".concat(t));var o=ts(e.current.state).filter((function(e){return e!==t}));r&&o.push(t),(o.length<2||f)&&e.current.setSelectionModel(o)}}),[e,d,n,f]),k=p.useCallback((function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n.debug("Setting selection for several rows");var o,i=d?t.filter((function(t){return d(e.current.getRowParams(t))})):t;if(a)o=r?i:[];else{var u=Object.assign({},as(e.current.state));i.forEach((function(e){r?u[e]=e:delete u[e]})),o=Object.values(u)}(o.length<2||f)&&e.current.setSelectionModel(o)}),[e,d,n,f]),w=p.useCallback((function(t){var r=t.startId,a=t.endId,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2?arguments[2]:void 0;if(e.current.getRow(r)&&e.current.getRow(a)){n.debug("Expanding selection from row ".concat(r," to row ").concat(a));var u=Ku(e.current.state),s=u.indexOf(r),c=u.indexOf(a),d=s>c?[c,s]:[s,c],p=(0,l.Z)(d,2),f=p[0],h=p[1],m=u.slice(f,h+1);e.current.selectRows(m,o,i)}}),[e,n]);Cp(e,{selectRow:x,selectRows:k,selectRowRange:w,setSelectionModel:v,getSelectedRows:y,isRowSelected:b},"GridSelectionApi");var C=p.useCallback((function(){var t=ts(e.current.state),n=Cu(e.current.state),r=Object.assign({},as(e.current.state)),a=!1;t.forEach((function(e){n[e]||(delete r[e],a=!0)})),a&&e.current.setSelectionModel(Object.values(r))}),[e]),D=p.useCallback((function(t,n){var r=n.metaKey||n.ctrlKey,a=!u&&!r&&!dd(n),o=!f||a,i=e.current.isRowSelected(t);o?e.current.selectRow(t,!!a||!i,!0):e.current.selectRow(t,!i,!1)}),[e,f,u]),E=p.useCallback((function(t,n){if(!c){var r=ap(n.target,du.cell),a=null==r?void 0:r.getAttribute("data-field");a&&"actions"===e.current.getColumn(a).type||(n.shiftKey&&(f||u)?h(t.id):D(t.id,n))}}),[c,f,u,e,h,D]),S=p.useCallback((function(e,t){var n;f&&t.shiftKey&&(null===(n=window.getSelection())||void 0===n||n.removeAllRanges())}),[f]),I=p.useCallback((function(t,n){n.nativeEvent.shiftKey?h(t.id):e.current.selectRow(t.id,t.value)}),[e,h]),F=p.useCallback((function(n){var r=t.checkboxSelectionVisibleOnly&&t.pagination?Sd(e.current.state):Ku(e.current.state);e.current.selectRows(r,n.value)}),[e,t.checkboxSelectionVisibleOnly,t.pagination]),T=p.useCallback((function(t,n){if(op(n.target)){var r=e.current.getCellParams(t.id,t.field);return r.cellMode===Rd.Edit?void 0:" "===n.key&&n.shiftKey?(n.preventDefault(),void D(r.id,n)):void("a"===n.key.toLowerCase()&&(n.ctrlKey||n.metaKey)&&(n.preventDefault(),k(e.current.getAllRowIds(),!0)))}}),[e,D,k]);xf(e,ou.visibleRowsSet,C),xf(e,ou.rowClick,E),xf(e,ou.rowSelectionCheckboxChange,I),xf(e,ou.headerSelectionCheckboxChange,F),xf(e,ou.cellMouseDown,S),xf(e,ou.cellKeyDown,T),p.useEffect((function(){void 0!==r&&e.current.setSelectionModel(r)}),[e,r]);var N=null!=r;p.useEffect((function(){if(!N){var t=ts(e.current.state);if(d){var n=t.filter((function(t){return d(e.current.getRowParams(t))}));n.length<t.length&&e.current.setSelectionModel(n)}}}),[e,d,N])}(e,t),function(e,t){var n,o,i=cs(e,"useGridColumns"),u=p.useMemo((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign(Object.assign({},Hd()),e),n={};return Object.entries(t).forEach((function(e){var r=(0,l.Z)(e,2),a=r[0],o=r[1];o=Object.assign(Object.assign({},t[o.extendType||"__default__"]),o),n[a]=o})),n}(t.columnTypes)}),[t.columnTypes]),s=p.useRef(!!t.columnVisibilityModel||!!(null===(o=null===(n=t.initialState)||void 0===n?void 0:n.columns)||void 0===o?void 0:o.columnVisibilityModel)).current;Bf(e,(function(n){var r,a,o,i,l=Ip({apiRef:e,columnsTypes:u,columnsToUpsert:t.columns,shouldRegenColumnVisibilityModelFromColumns:!s,currentColumnVisibilityModel:null!==(i=null!==(r=t.columnVisibilityModel)&&void 0!==r?r:null===(o=null===(a=t.initialState)||void 0===a?void 0:a.columns)||void 0===o?void 0:o.columnVisibilityModel)&&void 0!==i?i:{},reset:!0});return Object.assign(Object.assign({},n),{columns:l})})),e.current.unstable_updateControlState({stateId:"visibleColumns",propModel:t.columnVisibilityModel,propOnChange:t.onColumnVisibilityModelChange,stateSelector:Lu,changeEvent:ou.columnVisibilityModelChange});var c=p.useCallback((function(t){i.debug("Updating columns state."),e.current.setState((function(e){return Object.assign(Object.assign({},e),{columns:t})})),e.current.forceUpdate(),e.current.publishEvent(ou.columnsChange,t.all)}),[i,e]),d=p.useCallback((function(t){return Mu(e.current.state)[t]}),[e]),f=p.useCallback((function(){return Pu(e.current.state)}),[e]),h=p.useCallback((function(){return _u(e.current.state)}),[e]),m=p.useCallback((function(){return Bu(e.current.state)}),[e]),v=p.useCallback((function(t){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?_u(e.current.state):Pu(e.current.state)).findIndex((function(e){return e.field===t}))}),[e]),g=p.useCallback((function(t){var n=v(t);return Bu(e.current.state).positions[n]}),[e,v]),b=p.useCallback((function(t){Lu(e.current.state)!==t&&(e.current.setState((function(n){return Object.assign(Object.assign({},n),{columns:Ip({apiRef:e,columnsTypes:u,columnsToUpsert:[],shouldRegenColumnVisibilityModelFromColumns:!1,currentColumnVisibilityModel:t,reset:!1})})})),e.current.forceUpdate())}),[e,u]),y=p.useCallback((function(t){var n=Ip({apiRef:e,columnsTypes:u,columnsToUpsert:t,shouldRegenColumnVisibilityModelFromColumns:!0,reset:!1});c(n)}),[e,c,u]),x=p.useCallback((function(t){return e.current.updateColumns([t])}),[e]),k=p.useCallback((function(t,n){var a;if(s){var o=Lu(e.current.state);if(n!==(null===(a=o[t])||void 0===a||a)){var i=Object.assign(Object.assign({},o),(0,r.Z)({},t,n));e.current.setColumnVisibilityModel(i)}}else{var u=e.current.getColumn(t),l=Object.assign(Object.assign({},u),{hide:!n});e.current.updateColumns([l]);var c={field:t,colDef:l,isVisible:n};e.current.publishEvent(ou.columnVisibilityChange,c)}}),[e,s]),w=p.useCallback((function(t,n){var r=Zu(e.current.state),o=r.findIndex((function(e){return e===t}));if(o!==n){i.debug("Moving column ".concat(t," to index ").concat(n));var u=(0,a.Z)(r);u.splice(n,0,u.splice(o,1)[0]),c(Object.assign(Object.assign({},Ou(e.current.state)),{all:u}));var s={field:t,element:e.current.getColumnHeaderElement(t),colDef:e.current.getColumn(t),targetIndex:n,oldIndex:o};e.current.publishEvent(ou.columnOrderChange,s)}}),[e,i,c]),C=p.useCallback((function(t,n){i.debug("Updating column ".concat(t," width to ").concat(n));var r=e.current.getColumn(t),a=Object.assign(Object.assign({},r),{width:n});e.current.updateColumns([a]),e.current.publishEvent(ou.columnWidthChange,{element:e.current.getColumnHeaderElement(t),colDef:a,width:n})}),[e,i]);Cp(e,{getColumn:d,getAllColumns:f,getColumnIndex:v,getColumnPosition:g,getVisibleColumns:h,getColumnsMeta:m,updateColumn:x,updateColumns:y,setColumnVisibilityModel:b,setColumnVisibility:k,setColumnIndex:w,setColumnWidth:C},"GridColumnApi");var D=p.useCallback((function(t){if(t===yp.hydrateColumns){i.info("Columns pre-processing have changed, regenerating the columns");var n=Ip({apiRef:e,columnsTypes:u,columnsToUpsert:[],shouldRegenColumnVisibilityModelFromColumns:!s,reset:!1});c(n)}}),[e,i,c,u,s]),E=p.useRef(null);xf(e,ou.preProcessorRegister,D),xf(e,ou.viewportInnerSizeChange,(function(t){E.current!==t.width&&(E.current=t.width,c(Sp(Ou(e.current.state),t.width)))})),wf(e,ou.columnVisibilityChange,t.onColumnVisibilityChange);var S=p.useRef(!0);p.useEffect((function(){if(S.current)S.current=!1;else{i.info("GridColumns have changed, new length ".concat(t.columns.length));var n=Ip({apiRef:e,columnsTypes:u,shouldRegenColumnVisibilityModelFromColumns:!s,columnsToUpsert:t.columns,reset:!0});c(n)}}),[i,e,c,t.columns,u,s]),p.useEffect((function(){void 0!==t.columnVisibilityModel&&e.current.setColumnVisibilityModel(t.columnVisibilityModel)}),[e,i,t.columnVisibilityModel])}(e,t),function(e,t){var n=cs(e,"useGridRows"),o=p.useRef({state:{value:{idRowsLookup:{},ids:[]},props:{rowCount:void 0,getRowId:void 0},rowsBeforePartialUpdates:[]},timeout:null,lastUpdateMs:0});Bf(e,(function(n){return o.current.state=$f({rows:t.rows,props:{rowCount:t.rowCount,getRowId:t.getRowId},prevState:o.current.state}),o.current.lastUpdateMs=Date.now(),Object.assign(Object.assign({},n),{rows:Qf(o.current,null,e)})}));var i=p.useCallback((function(t){var n;return null!==(n=Cu(e.current.state)[t])&&void 0!==n?n:null}),[e]),u=p.useCallback((function(n,r){var a=function(){o.current.timeout=null,o.current.lastUpdateMs=Date.now(),e.current.setState((function(t){return Object.assign(Object.assign({},t),{rows:Qf(o.current,Du(e.current.state),e)})})),e.current.publishEvent(ou.rowsSet),e.current.forceUpdate()};if(o.current.timeout&&clearTimeout(o.current.timeout),o.current.state=n,o.current.timeout=null,r){var i=t.throttleRowsMs-(Date.now()-o.current.lastUpdateMs);i>0?o.current.timeout=setTimeout(a,i):a()}else a()}),[e,o,t.throttleRowsMs]),s=p.useCallback((function(e){n.debug("Updating all rows, new length ".concat(e.length)),u($f({rows:e,prevState:o.current.state}),!0)}),[n,u]),l=p.useCallback((function(n){if(t.signature===vf.DataGrid&&n.length>1)throw new Error(["MUI: You can't update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n"));var r=new Map;n.forEach((function(e){var n=Yf(e,t.getRowId,"A row was provided without id when calling updateRows():");r.has(n)?r.set(n,Object.assign(Object.assign({},r.get(n)),e)):r.set(n,e)}));var i=[],s={idRowsLookup:Object.assign({},o.current.state.value.idRowsLookup),ids:(0,a.Z)(o.current.state.value.ids)};r.forEach((function(t,n){return"delete"===t._action?(delete s.idRowsLookup[n],void i.push(n)):e.current.getRow(n)?void(s.idRowsLookup[n]=Object.assign(Object.assign({},e.current.getRow(n)),t)):(s.idRowsLookup[n]=t,void s.ids.push(n))})),i.length>0&&(s.ids=s.ids.filter((function(e){return!i.includes(e)})));var l=Object.assign(Object.assign({},o.current.state),{value:s});u(l,!0)}),[e,t.getRowId,u,t.signature]),c=p.useCallback((function(){var t=Iu(e.current.state),n=Cu(e.current.state);return new Map(t.map((function(e){return[e,n[e]]})))}),[e]),d=p.useCallback((function(){return ku(e.current.state)}),[e]),f=p.useCallback((function(){return Iu(e.current.state)}),[e]),h=p.useCallback((function(t,n){var a=e.current.getRowNode(t);if(!a)throw new Error("MUI: No row with id #".concat(t," found"));var o=Object.assign(Object.assign({},a),{childrenExpanded:n});e.current.setState((function(e){return Object.assign(Object.assign({},e),{rows:Object.assign(Object.assign({},e.rows),{tree:Object.assign(Object.assign({},e.rows.tree),(0,r.Z)({},t,o))})})})),e.current.forceUpdate(),e.current.publishEvent(ou.rowExpansionChange,o)}),[e]),m=p.useCallback((function(t){var n;return null!==(n=Du(e.current.state)[t])&&void 0!==n?n:null}),[e]);p.useEffect((function(){return function(){null!==o.current.timeout&&clearTimeout(o.current.timeout)}}),[]);var v=p.useRef(!0);p.useEffect((function(){v.current?v.current=!1:o.current.state.rowsBeforePartialUpdates!==t.rows&&(n.debug("Updating all rows, new length ".concat(t.rows.length)),u($f({rows:t.rows,props:{rowCount:t.rowCount,getRowId:t.getRowId},prevState:o.current.state}),!1))}),[t.rows,t.rowCount,t.getRowId,n,u]);var g=p.useCallback((function(){var e;n.info("Row grouping pre-processing have changed, regenerating the row tree"),e=o.current.state.rowsBeforePartialUpdates===t.rows?void 0:t.rows,u($f({rows:e,props:{rowCount:t.rowCount,getRowId:t.getRowId},prevState:o.current.state}),!1)}),[n,u,t.rowCount,t.getRowId,t.rows]);xf(e,ou.rowGroupsPreProcessingChange,g),Cp(e,{getRow:i,getRowModels:c,getRowsCount:d,getAllRowIds:f,setRows:s,updateRows:l,setRowChildrenExpansion:h,getRowNode:m},"GridRowApi")}(e,t),function(e){var t=p.useCallback((function(t){return{field:t,colDef:e.current.getColumn(t)}}),[e]),n=p.useCallback((function(){var t;return(t=e.current).getCellValue.apply(t,arguments)}),[e]),r=p.useCallback((function(t){var r=e.current.getRow(t);if(!r)throw new Error("No row with id #".concat(t," found"));return{id:t,columns:e.current.getAllColumns(),row:r,getValue:n}}),[e,n]),a=p.useCallback((function(t,r){var a=e.current.getRow(t),o=e.current.getRowNode(t);if(!a||!o)throw new Error("No row with id #".concat(t," found"));var i=vd(e.current.state),u=yd(e.current.state);return{id:t,field:r,row:a,rowNode:o,value:a[r],colDef:e.current.getColumn(r),cellMode:e.current.getCellMode(t,r),getValue:n,api:e.current,hasFocus:null!==i&&i.field===r&&i.id===t,tabIndex:u&&u.field===r&&u.id===t?0:-1}}),[e,n]),o=p.useCallback((function(t,r){var a=e.current.getColumn(r),o=e.current.getCellValue(t,r),i=e.current.getRow(t),u=e.current.getRowNode(t);if(!i||!u)throw new Error("No row with id #".concat(t," found"));var s=vd(e.current.state),l=yd(e.current.state),c={id:t,field:r,row:i,rowNode:u,colDef:a,cellMode:e.current.getCellMode(t,r),getValue:n,hasFocus:null!==s&&s.field===r&&s.id===t,tabIndex:l&&l.field===r&&l.id===t?0:-1,value:o,formattedValue:o};return a.valueFormatter&&(c.formattedValue=a.valueFormatter({id:t,field:c.field,value:c.value,api:e.current})),c.isEditable=a&&e.current.isCellEditable(c),c}),[e,n]),i=p.useCallback((function(t,n){var r=e.current.getColumn(n);if(!r||!r.valueGetter){var o=e.current.getRow(t);if(!o)throw new Error("No row with id #".concat(t," found"));return o[n]}return r.valueGetter(a(t,n))}),[e,a]),u=p.useCallback((function(t){return e.current.rootElementRef.current?function(e,t){return e.querySelector('[role="columnheader"][data-field="'.concat(ip(t),'"]'))}(e.current.rootElementRef.current,t):null}),[e]),s=p.useCallback((function(t){return e.current.rootElementRef.current?up(e.current.rootElementRef.current,t):null}),[e]),l=p.useCallback((function(t,n){return e.current.rootElementRef.current?function(e,t){var n=t.field,r=up(e,t.id);return r?r.querySelector(".".concat(du.cell,'[data-field="').concat(ip(n),'"]')):null}(e.current.rootElementRef.current,{id:t,field:n}):null}),[e]);Cp(e,{getCellValue:i,getCellParams:o,getCellElement:l,getRowParams:r,getRowElement:s,getColumnHeaderParams:t,getColumnHeaderElement:u},"GridParamsApi")}(e),function(e,t){var n=this,a=cs(e,"useGridEditRows");Bf(e,(function(e){return Object.assign(Object.assign({},e),{editRows:{}})}));var o=p.useRef(null),i=p.useRef(null),u=yu(e,Pu);e.current.unstable_updateControlState({stateId:"editRows",propModel:t.editRowsModel,propOnChange:t.onEditRowsModelChange,stateSelector:Sf,changeEvent:ou.editRowsModelChange});var s=function(r,a){return gu(n,void 0,void 0,d().mark((function n(){var u=this;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=r.cellMode!==Rd.View,!n.t0){n.next=9;break}if(t.editMode!==Ad.Row){n.next=6;break}i.current=null,o.current=setTimeout((function(){return gu(u,void 0,void 0,d().mark((function t(){var n,o;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((null===(n=i.current)||void 0===n?void 0:n.id)===r.id){t.next=5;break}return t.next=3,e.current.commitRowChange(r.id,a);case 3:o=e.current.getRowParams(r.id),e.current.publishEvent(ou.rowEditStop,o,a);case 5:case"end":return t.stop()}}),t)})))})),n.next=9;break;case 6:return n.next=8,e.current.commitCellChange(r,a);case 8:e.current.publishEvent(ou.cellEditStop,r,a);case 9:case"end":return n.stop()}}),n)})))},l=p.useCallback((function(e){i.current=e}),[]),c=(0,E.Z)((function(e,t){s(e,t)})),f=(0,E.Z)((function(){var t=vd(e.current.state);if(t){var n=e.current.getCellParams(t.id,t.field);s(n,{})}})),h=p.useCallback((function(t,n,r){var o=e.current.getCellMode(t,n)===Rd.Edit;r===Rd.Edit&&o||r===Rd.View&&!o||(a.debug("Switching cell id: ".concat(t," field: ").concat(n," to mode: ").concat(r)),e.current.setState((function(a){var o=Object.assign({},a.editRows);return o[t]=Object.assign({},o[t]),r===Rd.Edit?o[t][n]={value:e.current.getCellValue(t,n)}:(delete o[t][n],Object.keys(o[t]).length||delete o[t]),Object.assign(Object.assign({},a),{editRows:o})})),e.current.forceUpdate(),e.current.publishEvent(ou.cellModeChange,e.current.getCellParams(t,n)))}),[e,a]),m=p.useCallback((function(t,n){var r=e.current.getRowMode(t)===Od.Edit;n===Od.Edit&&r||n===Od.View&&!r||(e.current.setState((function(r){var a=Object.assign({},r.editRows);return n===Od.Edit?(a[t]={},u.forEach((function(n){var r=e.current.getCellParams(t,n.field);r.isEditable&&(a[t][n.field]={value:r.value})}))):delete a[t],Object.assign(Object.assign({},r),{editRows:a})})),e.current.forceUpdate())}),[e,u]),v=p.useCallback((function(n){return t.editMode===Ad.Cell?Od.View:Sf(e.current.state)[n]?Od.Edit:Od.View}),[e,t.editMode]),g=p.useCallback((function(t,n){var r=Sf(e.current.state);return r[t]&&r[t][n]?Rd.Edit:Rd.View}),[e]),b=p.useCallback((function(e){return!e.rowNode.isAutoGenerated&&!!e.colDef.editable&&!!e.colDef.renderEditCell&&(!t.isCellEditable||t.isCellEditable(e))}),[t.isCellEditable]),y=p.useCallback((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={id:t.id,field:t.field,props:{value:t.value}};e.current.publishEvent(ou.editCellPropsChange,r,n)}),[e]),x=p.useCallback((function(t){var n=t.id,r=t.field,o=t.props;a.debug("Setting cell props on id: ".concat(n," field: ").concat(r)),e.current.setState((function(t){var a=e.current.getColumn(r),i=a.valueParser?a.valueParser(o.value,e.current.getCellParams(n,r)):o.value,u=Object.assign({},t.editRows);return u[n]=Object.assign({},t.editRows[n]),u[n][r]=Object.assign(Object.assign({},o),{value:i}),Object.assign(Object.assign({},t),{editRows:u})})),e.current.forceUpdate()}),[e,a]),k=p.useCallback((function(r){var a=e.current.getRow(r.id);if("row"===t.editMode){var o=e.current.getEditRowsModel()[r.id];Object.keys(o).forEach((function(t){return gu(n,void 0,void 0,d().mark((function n(){var i,u,s;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(i=e.current.getColumn(t)).preProcessEditCellProps){n.next=9;break}return u=t===r.field?r.props:o[t],n.next=5,Promise.resolve(i.preProcessEditCellProps({id:r.id,row:a,props:u}));case 5:s=n.sent,x({id:r.id,field:t,props:s}),n.next=10;break;case 9:t===r.field&&x(r);case 10:case"end":return n.stop()}}),n)})))}))}else{var i=e.current.getColumn(r.field),u=i.preProcessEditCellProps?i.preProcessEditCellProps({id:r.id,row:a,props:r.props}):r.props;Xf(u)?u.then((function(e){x(Object.assign(Object.assign({},r),{props:e}))})):x(Object.assign(Object.assign({},r),{props:u}))}}),[e,t.editMode,x]),w=p.useCallback((function(t){Sf(e.current.state)!==t&&(a.debug("Setting editRows model"),e.current.setState((function(e){return Object.assign(Object.assign({},e),{editRows:t})})),e.current.forceUpdate())}),[e,a]),C=p.useCallback((function(){return Sf(e.current.state)}),[e]),D=p.useCallback((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.id,a=t.field,o=e.current.getEditRowsModel();if(!o[r]||!o[r][a])throw new Error("MUI: Cell at id: ".concat(r," and field: ").concat(a," is not in edit mode."));var i=o[r][a],u=e.current.getColumn(a),s=e.current.getRow(r),l=Object.assign(Object.assign({},t),{value:i.value}),c=!!i.error;if(!c&&"function"==typeof u.preProcessEditCellProps){var d=u.preProcessEditCellProps({id:r,row:s,props:i});if(Xf(d))return d.then((function(t){return x({id:r,field:a,props:t}),!t.error&&(e.current.publishEvent(ou.cellEditCommit,l,n),!0)}));x({id:r,field:a,props:d}),c=!!d.error}return!c&&(e.current.publishEvent(ou.cellEditCommit,l,n),!0)}),[e,x]),S=p.useCallback((function(n){if(t.editMode===Ad.Row)throw new Error("MUI: You can't commit changes when the edit mode is 'row'.");var o=n.id,i=n.field,u=e.current.getEditRowsModel()[o][i].value;a.debug("Setting cell id: ".concat(o," field: ").concat(i," to value: ").concat(null==u?void 0:u.toString()));var s=e.current.getRow(o);if(s){var l=e.current.getColumn(n.field),c=Object.assign(Object.assign({},s),(0,r.Z)({},i,u));l.valueSetter&&(c=l.valueSetter({row:s,value:u})),e.current.updateRows([c])}}),[e,a,t.editMode]),I=p.useCallback((function(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.editMode===Ad.Cell)throw new Error("MUI: You can't commit changes when the edit mode is 'cell'.");var o=e.current.getEditRowsModel()[r];if(!o)throw new Error("MUI: Row at id: ".concat(r," is not being edited."));if(Object.values(o).some((function(e){return!!e.error})))return!1;var i=Object.keys(o).filter((function(t){return"function"==typeof e.current.getColumn(t).preProcessEditCellProps}));if(i.length>0){var u=e.current.getRow(r),s=i.map((function(t){return gu(n,void 0,void 0,d().mark((function n(){var a,i;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.current.getColumn(t),n.next=3,Promise.resolve(a.preProcessEditCellProps({id:r,row:u,props:o[t]}));case 3:return i=n.sent,n.abrupt("return",(x({id:r,field:t,props:i}),i.error));case 5:case"end":return n.stop()}}),n)})))}));return Promise.all(s).then((function(t){return!t.some((function(e){return!!e}))&&(e.current.publishEvent(ou.rowEditCommit,r,a),!0)}))}return e.current.publishEvent(ou.rowEditCommit,r,a),!0}),[e,t.editMode,x]),F=p.useCallback((function(e,t){e.isEditable&&(h(e.id,e.field,Rd.Edit),dd(t)&&id(t.key)&&x({id:e.id,field:e.field,props:{value:""}}))}),[x,h]),T=p.useCallback((function(t){e.current.setRowMode(t.id,Od.Edit)}),[e]),N=p.useCallback((function(t,n){e.current.setRowMode(t.id,Od.View),"Enter"===n.key&&e.current.publishEvent(ou.cellNavigationKeyDown,t,n)}),[e]),A=p.useCallback((function(t){var n=e.current.getEditRowsModel()[t];if(!n)throw new Error("MUI: Row at id: ".concat(t," is not being edited."));var r=e.current.getRow(t);if(r){var a=Object.assign({},r);Object.keys(n).forEach((function(t){var r=e.current.getColumn(t),o=n[t].value;r.valueSetter?a=r.valueSetter({row:a,value:o}):a[t]=o})),e.current.updateRows([a])}}),[e]),R=p.useCallback((function(e,t){var n=t.detail>1;e.isEditable&&e.cellMode===Rd.View&&n&&t.preventDefault()}),[]),O=p.useCallback((function(r,a){return gu(n,void 0,void 0,d().mark((function n(){var o,i,u,s,l,c,p,f;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=r.id,i=r.field,u=r.cellMode,r.isEditable){n.next=3;break}return n.abrupt("return");case 3:if(s=u===Rd.Edit,t.editMode!==Ad.Row){n.next=19;break}if(l=e.current.getRowParams(r.id),!s){n.next=17;break}if("Enter"!==a.key){n.next=13;break}return n.next=10,e.current.commitRowChange(r.id);case 10:n.t1=e.current.publishEvent(ou.rowEditStop,l,a),n.next=14;break;case 13:n.t1="Escape"===a.key&&e.current.publishEvent(ou.rowEditStop,l,a);case 14:n.t0=n.t1,n.next=18;break;case 17:n.t0="Enter"===a.key&&e.current.publishEvent(ou.rowEditStart,l,a);case 18:return n.abrupt("return",void n.t0);case 19:if(c=a.ctrlKey||a.metaKey||a.altKey,s||(p=a.key,!(td(p)||ad(p)||id(p)))||c||" "===a.key&&a.shiftKey||e.current.publishEvent(ou.cellEditStart,r,a),!s&&ad(a.key)&&(e.current.setEditCellValue({id:o,field:i,value:""}),e.current.commitCellChange({id:o,field:i},a),e.current.publishEvent(ou.cellEditStop,r,a)),!s||!ld(a.key)){n.next=26;break}return f={id:o,field:i},n.next=24,e.current.commitCellChange(f,a);case 24:if(n.sent){n.next=26;break}return n.abrupt("return");case 26:s&&function(e){return ud.indexOf(e)>-1}(a.key)&&e.current.publishEvent(ou.cellEditStop,r,a);case 27:case"end":return n.stop()}}),n)})))}),[e,t.editMode]),Z=p.useCallback((function(t,n){h(t.id,t.field,Rd.View),dd(n)&&(ld(n.key)?e.current.publishEvent(ou.cellNavigationKeyDown,t,n):("Escape"===n.key||ad(n.key))&&e.current.setCellFocus(t.id,t.field))}),[e,h]),M=p.useCallback((function(n,r){if(n.isEditable)if(t.editMode===Ad.Row){var a=e.current.getRowParams(n.id);e.current.publishEvent(ou.rowEditStart,a,r)}else e.current.publishEvent(ou.cellEditStart,n,r)}),[e,t.editMode]);xf(e,ou.cellKeyDown,O),xf(e,ou.cellMouseDown,R),xf(e,ou.cellDoubleClick,M),xf(e,ou.cellFocusOut,c),xf(e,ou.cellFocusIn,l),xf(e,ou.columnHeaderDragStart,f),xf(e,ou.editCellPropsChange,k),xf(e,ou.cellEditStart,F),xf(e,ou.cellEditStop,Z),xf(e,ou.cellEditCommit,S),xf(e,ou.rowEditStart,T),xf(e,ou.rowEditStop,N),xf(e,ou.rowEditCommit,A),wf(e,ou.editCellPropsChange,t.onEditCellPropsChange),wf(e,ou.cellEditCommit,t.onCellEditCommit),wf(e,ou.cellEditStart,t.onCellEditStart),wf(e,ou.cellEditStop,t.onCellEditStop),wf(e,ou.rowEditCommit,t.onRowEditCommit),wf(e,ou.rowEditStart,t.onRowEditStart),wf(e,ou.rowEditStop,t.onRowEditStop),Cp(e,{setCellMode:h,getCellMode:g,setRowMode:m,getRowMode:v,isCellEditable:b,commitCellChange:D,commitRowChange:I,setEditRowsModel:w,getEditRowsModel:C,setEditCellValue:y},"EditRowApi"),p.useEffect((function(){void 0!==t.editRowsModel&&e.current.setEditRowsModel(t.editRowsModel)}),[e,t.editRowsModel])}(e,t),function(e,t){var n=cs(e,"useGridFocus");Bf(e,(function(e){return Object.assign(Object.assign({},e),{focus:{cell:null,columnHeader:null},tabIndex:{cell:null,columnHeader:null}})}));var r=p.useRef(null),a=p.useCallback((function(t,r){if(e.current.getRow(t)){var a=vd(e.current.state);(null==a?void 0:a.id)===t&&a.field===r||(e.current.setState((function(e){return n.debug("Focusing on cell with id=".concat(t," and field=").concat(r)),Object.assign(Object.assign({},e),{tabIndex:{cell:{id:t,field:r},columnHeader:null},focus:{cell:{id:t,field:r},columnHeader:null}})})),e.current.forceUpdate(),e.current.publishEvent(ou.cellFocusIn,e.current.getCellParams(t,r)))}}),[e,n]),o=p.useCallback((function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=vd(e.current.state);a&&e.current.publishEvent(ou.cellFocusOut,e.current.getCellParams(a.id,a.field),r),e.current.setState((function(e){return n.debug("Focusing on column header with colIndex=".concat(t)),Object.assign(Object.assign({},e),{tabIndex:{columnHeader:{field:t},cell:null},focus:{columnHeader:{field:t},cell:null}})})),e.current.forceUpdate()}),[e,n]),i=p.useCallback((function(t){var n=t.id,r=t.field;e.current.setCellFocus(n,r)}),[e]),u=p.useCallback((function(t,n){"Enter"===n.key||"Tab"===n.key||cd(n.key)||e.current.setCellFocus(t.id,t.field)}),[e]),s=p.useCallback((function(t,n){var r=t.field;n.target===n.currentTarget&&e.current.setColumnHeaderFocus(r,n)}),[e]),l=p.useCallback((function(){n.debug("Clearing focus"),e.current.setState((function(e){return Object.assign(Object.assign({},e),{focus:{cell:null,columnHeader:null}})}))}),[n,e]),c=p.useCallback((function(e){r.current=e}),[]),d=p.useCallback((function(t){var n=r.current;r.current=null;var a=vd(e.current.state);if(a){if((null==n?void 0:n.id)!==a.id||(null==n?void 0:n.field)!==a.field){var o=e.current.getCellElement(a.id,a.field);(null==o?void 0:o.contains(t.target))||e.current.getRow(a.id)&&(e.current.publishEvent(ou.cellFocusOut,e.current.getCellParams(a.id,a.field),t),n?e.current.setCellFocus(n.id,n.field):(e.current.setState((function(e){return Object.assign(Object.assign({},e),{focus:{cell:null,columnHeader:null}})})),e.current.forceUpdate()))}}else n&&e.current.setCellFocus(n.id,n.field)}),[e]),f=p.useCallback((function(t){if("view"!==t.cellMode){var n=vd(e.current.state);(null==n?void 0:n.id)===t.id&&(null==n?void 0:n.field)===t.field||e.current.setCellFocus(t.id,t.field)}}),[e]);Cp(e,{setCellFocus:a,setColumnHeaderFocus:o},"GridFocusApi"),p.useEffect((function(){var t=vd(e.current.state);t&&(e.current.getRow(t.id)||e.current.setState((function(e){return Object.assign(Object.assign({},e),{focus:{cell:null,columnHeader:null}})})))}),[e,t.rows]),p.useEffect((function(){var t=(0,A.Z)(e.current.rootElementRef.current);return t.addEventListener("click",d),function(){t.removeEventListener("click",d)}}),[e,d]),xf(e,ou.columnHeaderBlur,l),xf(e,ou.cellDoubleClick,i),xf(e,ou.cellMouseUp,c),xf(e,ou.cellKeyDown,u),xf(e,ou.cellModeChange,f),xf(e,ou.columnHeaderFocus,s)}(e,t),function(e,t){var n=cs(e,"useGridSorting"),r=p.useRef({}),o=p.useRef(null);Bf(e,(function(e){var n,r,a,o;return Object.assign(Object.assign({},e),{sorting:{sortModel:null!==(o=null!==(n=t.sortModel)&&void 0!==n?n:null===(a=null===(r=t.initialState)||void 0===r?void 0:r.sorting)||void 0===a?void 0:a.sortModel)&&void 0!==o?o:[],sortedRows:[]}})})),e.current.unstable_updateControlState({stateId:"sortModel",propModel:t.sortModel,propOnChange:t.onSortModelChange,stateSelector:Au,changeEvent:ou.sortModelChange});var i=p.useCallback((function(t,n){var r=Au(e.current.state),o=r.findIndex((function(e){return e.field===t})),i=(0,a.Z)(r);return o>-1?n?i.splice(o,1,n):i.splice(o,1):i=[].concat((0,a.Z)(r),[n]),i}),[e]),u=p.useCallback((function(n,r){var a,o,i=Au(e.current.state).find((function(e){return e.field===n.field}));if(i){var u=void 0===r?zc(null!==(a=n.sortingOrder)&&void 0!==a?a:t.sortingOrder,i.sort):r;return null==u?void 0:Object.assign(Object.assign({},i),{sort:u})}return{field:n.field,sort:void 0===r?zc(null!==(o=n.sortingOrder)&&void 0!==o?o:t.sortingOrder):r}}),[e,t.sortingOrder]),s=p.useCallback((function(){if(t.sortingMode===Gd)return n.debug("Skipping sorting rows as sortingMode = server"),void e.current.setState((function(e){return Object.assign(Object.assign({},e),{sorting:Object.assign(Object.assign({},e.sorting),{sortedRows:Iu(e)})})}));e.current.setState((function(t){var n=Eu(t),a=r.current[n];if(!a)throw new Error("MUI: Invalid sorting method.");var o=function(e,t){var n=e.map((function(e){return function(e,t){var n=t.current.getColumn(e.field);return n?{getSortCellParams:function(e){return{id:e,field:n.field,rowNode:t.current.getRowNode(e),value:t.current.getCellValue(e,n.field),api:t.current}},comparator:"desc"===e.sort?function(){return-1*n.sortComparator.apply(n,arguments)}:n.sortComparator}:null}(e,t)})).filter((function(e){return!!e}));return 0===n.length?null:function(e){return e.map((function(e){return{value:e,params:n.map((function(t){return t.getSortCellParams(e.id)}))}})).sort((function(e,t){return r=n,a=e.params,o=t.params,r.reduce((function(e,t,n){if(0!==e)return e;var r=a[n],i=o[n];return t.comparator(r.value,i.value,r,i)}),0);var r,a,o})).map((function(e){return e.value.id}))}}(Au(t),e),i=a({sortRowList:o});return Object.assign(Object.assign({},t),{sorting:Object.assign(Object.assign({},t.sorting),{sortedRows:i})})})),e.current.forceUpdate()}),[e,n,t.sortingMode]),l=p.useCallback((function(t){Au(e.current.state)!==t&&(n.debug("Setting sort model"),e.current.setState((function(e){return Object.assign(Object.assign({},e),{sorting:Object.assign(Object.assign({},e.sorting),{sortModel:t})})})),e.current.forceUpdate(),e.current.applySorting())}),[e,n]),c=p.useCallback((function(n,r,a){if(n.sortable){var o,s=u(n,r);o=!a||t.disableMultipleColumnsSorting?s?[s]:[]:i(n.field,s),e.current.setSortModel(o)}}),[e,i,u,t.disableMultipleColumnsSorting]),d=p.useCallback((function(){return Au(e.current.state)}),[e]),f=p.useCallback((function(){return Nu(e.current.state).map((function(e){return e.model}))}),[e]),h=p.useCallback((function(){return Tu(e.current.state)}),[e]),m=p.useCallback((function(t){return e.current.getSortedRowIds().indexOf(t)}),[e]),v=p.useCallback((function(t){return e.current.getSortedRowIds()[t]}),[e]);Cp(e,{getSortModel:d,getSortedRows:f,getSortedRowIds:h,getRowIndex:m,getRowIdFromRowIndex:v,setSortModel:l,sortColumn:c,applySorting:s},"GridSortApi");var g=p.useCallback((function(t){if(!t.sortRowList)return Iu(e.current.state);var n=Du(e.current.state);return t.sortRowList(Object.values(n))}),[e]);!function(e,t,n){var r=p.useCallback((function(e){return e[t]=n,e}),[t,n]);Ep(e,yp.sortingMethod,r)}(e,"none",g);var b=p.useCallback((function(e,t){var n=e.colDef,r=t.shiftKey||t.metaKey||t.ctrlKey;c(n,void 0,r)}),[c]),y=p.useCallback((function(e,t){var n=e.colDef;!td(t.key)||t.ctrlKey||t.metaKey||c(n,void 0,t.shiftKey)}),[c]),x=p.useCallback((function(){var t=Au(e.current.state),n=Pu(e.current.state);if(t.length>0){var r=t.filter((function(e){return n.find((function(t){return t.field===e.field}))}));r.length<t.length&&e.current.setSortModel(r)}}),[e]),k=p.useCallback((function(t){if(t===yp.sortingMethod){r.current=e.current.unstable_applyPreProcessors(yp.sortingMethod,{});var n=Eu(e.current.state);o.current!==r.current[n]&&e.current.applySorting()}}),[e]);xf(e,ou.columnHeaderClick,b),xf(e,ou.columnHeaderKeyDown,y),xf(e,ou.rowsSet,e.current.applySorting),xf(e,ou.columnsChange,x),xf(e,ou.preProcessorRegister,k),Dp((function(){r.current=e.current.unstable_applyPreProcessors(yp.sortingMethod,{}),e.current.applySorting()})),p.useEffect((function(){void 0!==t.sortModel&&e.current.setSortModel(t.sortModel)}),[e,t.sortModel])}(e,t),function(e,t){var n=cs(e,"useGridPreferencesPanel");Bf(e,(function(e){var n,r;return Object.assign(Object.assign({},e),{preferencePanel:null!==(r=null===(n=t.initialState)||void 0===n?void 0:n.preferencePanel)&&void 0!==r?r:{open:!1}})}));var r=p.useRef(),a=p.useRef(),o=p.useCallback((function(){n.debug("Hiding Preferences Panel"),e.current.setState((function(e){return Object.assign(Object.assign({},e),{preferencePanel:{open:!1}})})),e.current.forceUpdate()}),[e,n]),i=p.useCallback((function(){a.current=setTimeout((function(){return clearTimeout(r.current)}),0)}),[]),u=p.useCallback((function(){r.current=setTimeout(o,100)}),[o]),s=p.useCallback((function(t){n.debug("Opening Preferences Panel"),i(),e.current.setState((function(e){return Object.assign(Object.assign({},e),{preferencePanel:Object.assign(Object.assign({},e.preferencePanel),{open:!0,openedPanelValue:t})})})),e.current.forceUpdate()}),[i,e,n]);Cp(e,{showPreferences:s,hidePreferences:u},"ColumnMenuApi"),p.useEffect((function(){return function(){clearTimeout(r.current),clearTimeout(a.current)}}),[])}(e,t),function(e,t){var n=cs(e,"useGridFilter"),r=p.useRef({}),o=p.useRef(null);Bf(e,(function(e){var n,r,a,o;return t.filterModel&&Hf(t.filterModel),Object.assign(Object.assign({},e),{filter:{filterModel:null!==(o=null!==(n=t.filterModel)&&void 0!==n?n:null===(a=null===(r=t.initialState)||void 0===r?void 0:r.filter)||void 0===a?void 0:a.filterModel)&&void 0!==o?o:{items:[],linkOperator:Bd.And},visibleRowsLookup:{},filteredDescendantCountLookup:{}}})})),e.current.unstable_updateControlState({stateId:"filter",propModel:t.filterModel,propOnChange:t.onFilterModelChange,stateSelector:Uu,changeEvent:ou.filterModelChange});var i=p.useCallback((function(){e.current.setState((function(n){var a=Eu(n),i=r.current[a];if(!i)throw new Error("MUI: Invalid filtering method.");var u=Uu(n),s=t.filterMode===Ud?function(e,t){var n=e.items,r=e.linkOperator,a=void 0===r?Bd.And:r,o=n.map((function(e){var n;if(!e.columnField||!e.operatorValue)return null;var r,a=t.current.getColumn(e.columnField);if(!a)return null;if(a.valueParser){var o=a.valueParser;r=Array.isArray(e.value)?null===(n=e.value)||void 0===n?void 0:n.map((function(e){return o(e)})):o(e.value)}else r=e.value;var i=Object.assign(Object.assign({},e),{value:r}),u=a.filterOperators;if(!(null==u?void 0:u.length))throw new Error("MUI: No filter operators found for column '".concat(a.field,"'."));var s=u.find((function(e){return e.value===i.operatorValue}));if(!s)throw new Error("MUI: No filter operator found for column '".concat(a.field,"' and operator value '").concat(i.operatorValue,"'."));var l=s.getApplyFilterFn(i,a);return"function"!=typeof l?null:{fn:function(e){var n=t.current.getCellParams(e,i.columnField);return l(n)},item:i}})).filter((function(e){return!!e}));return 0===o.length?null:function(e,t){var n=t?o.filter((function(e){return t(e.item)})):o;return a===Bd.And?n.every((function(t){return t.fn(e)})):n.some((function(t){return t.fn(e)}))}}(u,e):null;o.current=i;var l=i({isRowMatchingFilters:s});return Object.assign(Object.assign({},n),{filter:Object.assign(Object.assign({},n.filter),l)})})),e.current.publishEvent(ou.visibleRowsSet),e.current.forceUpdate()}),[e,t.filterMode]),u=p.useCallback((function(t){var n=Uu(e.current.state),r=(0,a.Z)(n.items),o=r.findIndex((function(e){return e.id===t.id})),i=Wf(t,e);-1===o?r.push(i):r[o]=i,e.current.setFilterModel(Object.assign(Object.assign({},n),{items:r}))}),[e]),s=p.useCallback((function(t){var n=Uu(e.current.state),r=n.items.filter((function(e){return e.id!==t.id}));r.length!==n.items.length&&e.current.setFilterModel(Object.assign(Object.assign({},n),{items:r}))}),[e]),l=p.useCallback((function(r){if(n.debug("Displaying filter panel"),r){var o,i=Uu(e.current.state),u=i.items.filter((function(e){return void 0!==e.value}));o=u.find((function(e){return e.columnField===r}))?u:t.disableMultipleColumnsFiltering?[Wf({columnField:r},e)]:[].concat((0,a.Z)(u),[Wf({columnField:r},e)]),e.current.setFilterModel(Object.assign(Object.assign({},i),{items:o}))}e.current.showPreferences(pp.filters)}),[e,n,t.disableMultipleColumnsFiltering]),c=p.useCallback((function(){n.debug("Hiding filter panel"),e.current.hidePreferences()}),[e,n]),d=p.useCallback((function(t){var n=Uu(e.current.state);n.linkOperator!==t&&e.current.setFilterModel(Object.assign(Object.assign({},n),{linkOperator:t}))}),[e]),f=p.useCallback((function(r){Uu(e.current.state)!==r&&(Hf(r),r.items.length>1&&t.disableMultipleColumnsFiltering&&(r.items=[r.items[0]]),n.debug("Setting filter model"),e.current.setState((function(e){return Object.assign(Object.assign({},e),{filter:Object.assign(Object.assign({},e.filter),{filterModel:r})})})),e.current.unstable_applyFilters())}),[e,n,t.disableMultipleColumnsFiltering]),h=p.useCallback((function(){var t=qu(e.current.state);return new Map(t.map((function(e){return[e.id,e.model]})))}),[e]);Cp(e,{setFilterLinkOperator:d,unstable_applyFilters:i,deleteFilterItem:s,upsertFilterItem:u,setFilterModel:f,showFilterPanel:l,hideFilterPanel:c,getVisibleRowModels:h},"GridFilterApi");var m=p.useCallback((function(n){if(t.filterMode===Ud&&n.isRowMatchingFilters){for(var r=Iu(e.current.state),a={},o=0;o<r.length;o+=1){var i=r[o];a[i]=n.isRowMatchingFilters(i)}return{visibleRowsLookup:a,filteredDescendantCountLookup:{}}}return{visibleRowsLookup:{},filteredDescendantCountLookup:{}}}),[e,t.filterMode]);!function(e,t,n){var r=p.useCallback((function(e){return e[t]=n,e}),[t,n]);Ep(e,yp.filteringMethod,r)}(e,"none",m);var v=p.useCallback((function(){n.debug("onColUpdated - GridColumns changed, applying filters");var t=Uu(e.current.state),r=ju(e.current.state),a=t.items.filter((function(e){return e.columnField&&r.includes(e.columnField)}));a.length<t.items.length&&e.current.setFilterModel(Object.assign(Object.assign({},t),{items:a}))}),[e,n]),g=p.useCallback((function(t){if(t===yp.filteringMethod){r.current=e.current.unstable_applyPreProcessors(yp.filteringMethod,{});var n=Eu(e.current.state);o.current!==r.current[n]&&e.current.unstable_applyFilters()}}),[e]);xf(e,ou.rowsSet,e.current.unstable_applyFilters),xf(e,ou.rowExpansionChange,e.current.unstable_applyFilters),xf(e,ou.columnsChange,v),xf(e,ou.preProcessorRegister,g),Dp((function(){r.current=e.current.unstable_applyPreProcessors(yp.filteringMethod,{}),e.current.unstable_applyFilters()})),p.useEffect((function(){void 0!==t.filterModel&&e.current.setFilterModel(t.filterModel)}),[e,n,t.filterModel])}(e,t),function(e,t){var n=cs(e,"useDensity");Bf(e,(function(e){return Object.assign(Object.assign({},e),{density:zf(t.density,t.headerHeight,t.rowHeight)})}));var r=p.useCallback((function(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.headerHeight,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.rowHeight;n.debug("Set grid density to ".concat(r)),e.current.setState((function(e){var t=os(e),n=zf(r,a,o);return Zc(t,n)?e:Object.assign(Object.assign({},e),{density:n})})),e.current.forceUpdate()}),[n,e,t.headerHeight,t.rowHeight]);p.useEffect((function(){e.current.setDensity(t.density,t.headerHeight,t.rowHeight)}),[e,t.density,t.rowHeight,t.headerHeight]),Cp(e,{setDensity:r},"GridDensityApi")}(e,t),function(e,t){var n=cs(e,"useGridPageSize"),r=yu(e,us);Bf(e,(function(e){var n,r,a;return a=null!=t.pageSize?t.pageSize:null!=(null===(r=null===(n=t.initialState)||void 0===n?void 0:n.pagination)||void 0===r?void 0:r.pageSize)?t.initialState.pagination.pageSize:t.autoPageSize?0:100,Object.assign(Object.assign({},e),{pagination:{pageSize:a}})})),e.current.unstable_updateControlState({stateId:"pageSize",propModel:t.pageSize,propOnChange:t.onPageSizeChange,stateSelector:Cd,changeEvent:ou.pageSizeChange});var a=p.useCallback((function(t){t!==Cd(e.current.state)&&(n.debug("Setting page size to ".concat(t)),e.current.setState((function(e){return Object.assign(Object.assign({},e),{pagination:Object.assign(Object.assign({},e.pagination),{pageSize:t})})})),e.current.forceUpdate())}),[e,n]);Cp(e,{setPageSize:a},"GridPageSizeApi");var o=p.useCallback((function(){var n=e.current.getRootDimensions();if(t.autoPageSize&&n){var a=Math.floor(n.viewportInnerSize.height/r);e.current.setPageSize(a)}}),[e,t.autoPageSize,r]);xf(e,ou.viewportInnerSizeChange,o),p.useEffect((function(){null==t.pageSize||t.autoPageSize||e.current.setPageSize(t.pageSize)}),[e,t.autoPageSize,t.pageSize]),p.useEffect((function(){o()}),[o])}(e,t),function(e,t){var n=cs(e,"useGridPage");Bf(e,(function(e){var n,r,a,o,i,u;return Object.assign(Object.assign({},e),{pagination:Object.assign(Object.assign({},e.pagination),{page:null!==(o=null!==(n=t.page)&&void 0!==n?n:null===(a=null===(r=t.initialState)||void 0===r?void 0:r.pagination)||void 0===a?void 0:a.page)&&void 0!==o?o:0,pageCount:qf(null!==(i=t.rowCount)&&void 0!==i?i:0,e.pagination.pageSize),rowCount:null!==(u=t.rowCount)&&void 0!==u?u:0})})}));var r=yu(e,$u);e.current.unstable_updateControlState({stateId:"page",propModel:t.page,propOnChange:t.onPageChange,stateSelector:wd,changeEvent:ou.pageChange});var a=p.useCallback((function(t){n.debug("Setting page to ".concat(t)),e.current.setState((function(e){return Object.assign(Object.assign({},e),{pagination:Kf(Object.assign(Object.assign({},e.pagination),{page:t}))})})),e.current.forceUpdate()}),[e,n]);Cp(e,{setPage:a},"GridPageApi"),xf(e,ou.pageSizeChange,(function(t){e.current.setState((function(e){var n=qf(e.pagination.rowCount,t);return Object.assign(Object.assign({},e),{pagination:Kf(Object.assign(Object.assign({},e.pagination),{pageCount:n,page:e.pagination.page}))})})),e.current.forceUpdate()})),p.useEffect((function(){e.current.setState((function(e){var n=void 0!==t.rowCount?t.rowCount:r,a=qf(n,e.pagination.pageSize),o=null==t.page?e.pagination.page:t.page;return Object.assign(Object.assign({},e),{pagination:Kf(Object.assign(Object.assign({},e.pagination),{page:o,rowCount:n,pageCount:a}))})})),e.current.forceUpdate()}),[r,t.rowCount,t.page,e])}(e,t),function(e,t){var n=cs(e,"useGridScroll"),r=e.current.columnHeadersElementRef,a=e.current.windowRef,o=yu(e,us),i=yu(e,kd),u=yu(e,ku),s=yu(e,_u),l=yu(e,Bu),c=p.useCallback((function(r){if(0===u||0===s.length)return!1;n.debug("Scrolling to cell at row ".concat(r.rowIndex,", col: ").concat(r.colIndex," "));var c={};if(null!=r.colIndex&&(c.left=Jf({clientHeight:a.current.clientWidth,scrollTop:a.current.scrollLeft,offsetHeight:s[r.colIndex].computedWidth,offsetTop:l.positions[r.colIndex]})),null!=r.rowIndex){var d=t.pagination?r.rowIndex-i.page*i.pageSize:r.rowIndex;c.top=Jf({clientHeight:a.current.clientHeight,scrollTop:a.current.scrollTop,offsetHeight:o,offsetTop:o*d})}return(void 0!==typeof(c=e.current.unstable_applyPreProcessors(yp.scrollToIndexes,c,r)).left||void 0!==typeof c.top)&&(e.current.scroll(c),!0)}),[u,s,n,e,t.pagination,i.page,i.pageSize,a,l.positions,o]),d=p.useCallback((function(e){a.current&&null!=e.left&&r.current&&(r.current.scrollLeft=e.left,a.current.scrollLeft=e.left,n.debug("Scrolling left: ".concat(e.left))),a.current&&null!=e.top&&(a.current.scrollTop=e.top,n.debug("Scrolling top: ".concat(e.top))),n.debug("Scrolling, updating container, and viewport")}),[a,r,n]),f=p.useCallback((function(){return(null==a?void 0:a.current)?{top:a.current.scrollTop,left:a.current.scrollLeft}:{top:0,left:0}}),[a]);Cp(e,{scroll:d,scrollToIndexes:c,getScrollPosition:f},"GridScrollApi");var h=p.useCallback((function(e){e.target.scrollLeft=0,e.target.scrollTop=0}),[]);Tf(e,(function(){var t,n,r;return null===(r=null===(n=null===(t=e.current)||void 0===t?void 0:t.renderingZoneRef)||void 0===n?void 0:n.current)||void 0===r?void 0:r.parentElement}),"scroll",h)}(e,t),function(e){var t=cs(e,"useGridColumnMenu");Bf(e,(function(e){return Object.assign(Object.assign({},e),{columnMenu:{open:!1}})}));var n=yu(e,Ef),r=p.useCallback((function(n){e.current.setState((function(e){return e.columnMenu.open&&e.columnMenu.field===n?e:(t.debug("Opening Column Menu"),Object.assign(Object.assign({},e),{columnMenu:{open:!0,field:n}}))}))&&(e.current.hidePreferences(),e.current.forceUpdate())}),[e,t]),a=p.useCallback((function(){e.current.setState((function(e){return e.columnMenu.open||void 0!==e.columnMenu.field?(t.debug("Hiding Column Menu"),Object.assign(Object.assign({},e),{columnMenu:Object.assign(Object.assign({},e.columnMenu),{open:!1,field:void 0})})):e}))&&e.current.forceUpdate()}),[e,t]),o=p.useCallback((function(e){t.debug("Toggle Column Menu"),n.open&&n.field===e?a():r(e)}),[t,r,a,n]);Cp(e,{showColumnMenu:r,hideColumnMenu:a,toggleColumnMenu:o},"GridColumnMenuApi"),xf(e,ou.columnResizeStart,a),xf(e,ou.rowsScroll,a)}(e),function(e){var t=p.useCallback((function(t,n){e.current.publishEvent(ou.cellNavigationKeyDown,t,n);var r=vd(e.current.state);if(r){var a=ap(n.target,du.row),o=Number(a.getAttribute("data-rowindex")),i=Ku(e.current.state)[o];i!==r.id&&e.current.selectRowRange({startId:i,endId:r.id},!e.current.isRowSelected(r.id))}}),[e]),n=p.useCallback((function(n,r){if(op(r.target)){var a=e.current.getCellParams(n.id,n.field);a.cellMode===Rd.Edit||" "===r.key&&r.shiftKey||(!cd(r.key)||r.shiftKey?cd(r.key)&&r.shiftKey&&(r.preventDefault(),t(a,r)):e.current.publishEvent(ou.cellNavigationKeyDown,a,r))}}),[e,t]);xf(e,ou.cellKeyDown,n)}(e),function(e,t){var n=cs(e,"useGridKeyboardNavigation"),r=yu(e,Vu),a=yu(e,qu),o=Gf(e,t),i=p.useCallback((function(t,r){n.debug("Navigating to cell row ".concat(r,", col ").concat(t)),e.current.scrollToIndexes({colIndex:t,rowIndex:r});var o=e.current.getVisibleColumns()[t].field,i=a[r];e.current.setCellFocus(i.id,o)}),[e,n,a]),u=p.useCallback((function(t,r){n.debug("Navigating to header col ".concat(t)),e.current.scrollToIndexes({colIndex:t});var a=e.current.getVisibleColumns()[t].field;e.current.setColumnHeaderFocus(a,r)}),[e,n]),s=p.useCallback((function(t,n){n.preventDefault();var s=e.current.getRootDimensions();if(o.range&&s){var l=e.current.unstable_getViewportPageSize(),c=t.field?e.current.getColumnIndex(t.field):0,d=a.findIndex((function(e){return e.id===t.id})),p=o.range.firstRowIndex,f=o.range.lastRowIndex,h=r-1;switch(n.key){case"ArrowDown":case"Enter":d<f&&i(c,d+1);break;case"ArrowUp":d>p?i(c,d-1):u(c,n);break;case"ArrowRight":c<h&&i(c+1,d);break;case"ArrowLeft":c>0&&i(c-1,d);break;case"Tab":n.shiftKey&&c>0?i(c-1,d):!n.shiftKey&&c<h&&i(c+1,d);break;case"PageDown":case" ":d<f&&i(c,Math.min(d+l,f));break;case"PageUp":d-l>=p?i(c,d-l):u(c,n);break;case"Home":n.ctrlKey||n.metaKey||n.shiftKey?i(0,p):i(0,d);break;case"End":n.ctrlKey||n.metaKey||n.shiftKey?i(h,f):i(h,d)}}}),[e,a,r,o,i,u]),l=p.useCallback((function(t,n){var a,s,l,c;if(n.preventDefault(),t.field&&e.current.getRootDimensions()){var d=e.current.unstable_getViewportPageSize(),p=t.field?e.current.getColumnIndex(t.field):0,f=null!==(s=null===(a=o.range)||void 0===a?void 0:a.firstRowIndex)&&void 0!==s?s:null,h=null!==(c=null===(l=o.range)||void 0===l?void 0:l.lastRowIndex)&&void 0!==c?c:null,m=r-1;switch(n.key){case"ArrowDown":null!==f&&i(p,f);break;case"ArrowRight":p<m&&u(p+1,n);break;case"ArrowLeft":p>0&&u(p-1,n);break;case"PageDown":null!==f&&null!==h&&i(p,Math.min(f+d,h));break;case"Home":u(0,n);break;case"End":u(m,n);break;case"Enter":(n.ctrlKey||n.metaKey)&&e.current.toggleColumnMenu(t.field);break;case" ":n.preventDefault()}}}),[e,r,o,i,u]);xf(e,ou.cellNavigationKeyDown,s),xf(e,ou.columnHeaderKeyDown,l)}(e,t),Vf(e),function(e,t){var n=cs(e,"useGridPrintExport"),r=yu(e,us),o=yu(e,ss),i=yu(e,Yu),u=yu(e,Lu),s=yu(e,Pu),l=p.useRef(null),c=p.useRef(),f=p.useRef([]);p.useEffect((function(){l.current=(0,A.Z)(e.current.rootElementRef.current)}),[e]);var h=p.useCallback((function(t,n){return new Promise((function(r){t||n?(e.current.updateColumns(s.map((function(e){return!1!==u[e.field]&&f.current.push(e.field),n?(e.hide=!1,e):(e.hide=!(null==t?void 0:t.includes(e.field))||e.disableExport,e)}))),r()):r()}))}),[s,u,e]),m=p.useCallback((function(e){var t=document.createElement("iframe");return t.id="grid-print-window",t.src=window.location.href,t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.title=e||document.title,t}),[]),v=p.useCallback((function(t,n){var u,s,c,d,p,f,h=Object.assign({copyStyles:!0,hideToolbar:!1,hideFooter:!1},n);t.onload=null;var m=t.contentDocument||(null===(s=t.contentWindow)||void 0===s?void 0:s.document);if(m){var v=e.current.rootElementRef.current,g=v.cloneNode(!0),b=g.querySelector(".".concat(du.virtualScroller));b.style.height="auto",b.style.width="auto",b.parentElement.style.width="auto",b.parentElement.style.height="auto",g.querySelector(".".concat(du.main)).style.overflow="visible",g.querySelector(".".concat(du.columnHeaders)).querySelector(".".concat(du.columnHeadersInner)).style.width="100%";var y=(null===(c=v.querySelector(".".concat(du.toolbarContainer)))||void 0===c?void 0:c.clientHeight)||0,x=(null===(d=v.querySelector(".".concat(du.footerContainer)))||void 0===d?void 0:d.clientHeight)||0;h.hideToolbar&&(null===(p=g.querySelector(".".concat(du.toolbarContainer)))||void 0===p||p.remove(),y=0),h.hideFooter&&(null===(f=g.querySelector(".".concat(du.footerContainer)))||void 0===f||f.remove(),x=0),g.style.height="".concat(i*r+o+y+x,"px"),m.body.innerHTML="",m.body.appendChild(g);var k="function"==typeof h.pageStyle?h.pageStyle():h.pageStyle;if("string"==typeof k){var w=m.createElement("style");w.appendChild(m.createTextNode(k)),m.head.appendChild(w)}if(h.bodyClassName&&(u=m.body.classList).add.apply(u,(0,a.Z)(h.bodyClassName.split(" "))),h.copyStyles)for(var C=l.current.querySelectorAll("style, link[rel='stylesheet']"),D=0;D<C.length;D+=1){var E=C[D];if("STYLE"===E.tagName){var S=m.createElement(E.tagName),I=E.sheet;if(I){for(var F="",T=0;T<I.cssRules.length;T+=1)"string"==typeof I.cssRules[T].cssText&&(F+="".concat(I.cssRules[T].cssText,"\r\n"));S.appendChild(m.createTextNode(F)),m.head.appendChild(S)}}else if(E.getAttribute("href")){for(var N=m.createElement(E.tagName),A=0;A<E.attributes.length;A+=1){var R=E.attributes[A];R&&N.setAttribute(R.nodeName,R.nodeValue||"")}m.head.appendChild(N)}}t.contentWindow.print()}}),[e,l,i,r,o]),g=p.useCallback((function(t){l.current.body.removeChild(t),e.current.setState((function(e){return Object.assign(Object.assign({},e),c.current)})),e.current.unstable_enableVirtualization(),f.current.length&&e.current.updateColumns(s.map((function(e){return e.hide=f.current.includes(e.field),e}))),c.current=null,f.current=[]}),[s,e]),b=p.useCallback((function(r){return gu(void 0,void 0,void 0,d().mark((function a(){var o;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.debug("Export data as Print"),e.current.rootElementRef.current){a.next=2;break}throw new Error("MUI: No grid root element available.");case 2:return c.current=e.current.state,t.pagination&&e.current.setPageSize(i),a.next=6,h(null==r?void 0:r.fields,null==r?void 0:r.allColumns);case 6:e.current.unstable_disableVirtualization(),o=m(null==r?void 0:r.fileName),l.current.body.appendChild(o),o.onload=function(){return v(o,r)},o.contentWindow.onafterprint=function(){return g(o)};case 9:case"end":return a.stop()}}),a)})))}),[i,t,n,e,m,v,g,h]);Cp(e,{exportDataAsPrint:b},"GridPrintExportApi")}(e,t),function(e){var t=p.useCallback((function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(0!==e.current.getSelectedRows().size){var n=e.current.getDataAsCsv({includeHeaders:t,delimiter:"\t"});navigator.clipboard?navigator.clipboard.writeText(n).catch((function(){_f(n)})):_f(n)}}),[e]),n=p.useCallback((function(t){var n,r=t.ctrlKey||t.metaKey||t.altKey;"c"===t.key.toLowerCase()&&r&&""===(null===(n=window.getSelection())||void 0===n?void 0:n.toString())&&e.current.unstable_copySelectedRowsToClipboard(t.altKey)}),[e]);Tf(e,e.current.rootElementRef,"keydown",n),Cp(e,{unstable_copySelectedRowsToClipboard:t},"GridClipboardApi")}(e),function(e,t){var n=cs(e,"useResizeContainer"),r=p.useRef(!1),a=p.useRef(null),o=p.useRef(null),i=yu(e,us),u=yu(e,ss),s=p.useCallback((function(){var n,r=null===(n=e.current.rootElementRef)||void 0===n?void 0:n.current,s=Wu(e.current.state);if(a.current){var l;if(null!=t.scrollbarSize)l=t.scrollbarSize;else if(s&&r){var c=(0,A.Z)(r).createElement("div");c.style.width="99px",c.style.height="99px",c.style.position="absolute",c.style.overflow="scroll",c.className="scrollDiv",r.appendChild(c),l=c.offsetWidth-c.clientWidth,r.removeChild(c)}else l=0;var d=Uf(e.current.state,{pagination:t.pagination,paginationMode:t.paginationMode}).rows.length*i,p={width:a.current.width,height:t.autoHeight?d:a.current.height-u},f=function(e){var t=e.content,n=e.container,r=e.scrollBarSize,a=t.width>n.width,o=t.height>n.height,i=!1,u=!1;return(a||o)&&(i=a,(u=t.height+(i?r:0)>n.height)&&(i=t.width+r>n.width)),{hasScrollX:i,hasScrollY:u}}({content:{width:Math.round(s),height:d},container:p,scrollBarSize:l}),h=f.hasScrollX,m=f.hasScrollY,v={viewportOuterSize:p,viewportInnerSize:{height:p.height-(h?l:0),width:p.width-(m?l:0)},hasScrollX:h,hasScrollY:m},g=o.current;o.current=v,v.viewportInnerSize.width===(null==g?void 0:g.viewportInnerSize.width)&&v.viewportInnerSize.height===(null==g?void 0:g.viewportInnerSize.height)||e.current.publishEvent(ou.viewportInnerSizeChange,v.viewportInnerSize)}}),[e,t.scrollbarSize,t.autoHeight,t.pagination,t.paginationMode,u,i]),l=p.useCallback((function(){s(),e.current.publishEvent(ou.debouncedResize,a.current)}),[e,s]),c=p.useCallback((function(){return o.current}),[]),d=p.useCallback((function(){var n=e.current.getRootDimensions();if(!n)return 0;var r=Uf(e.current.state,{pagination:t.pagination,paginationMode:t.paginationMode}),a=Math.floor(n.viewportInnerSize.height/us(e.current.state));return Math.min(a,r.rows.length)}),[e,t.pagination,t.paginationMode]);Cp(e,{resize:l,getRootDimensions:c,unstable_getViewportPageSize:d},"GridDimensionsApi");var f=p.useMemo((function(){return(0,T.Z)(l,60)}),[l]),h=p.useRef(!0),m=p.useCallback((function(e){a.current=e;var o=/jsdom/.test(window.navigator.userAgent);return 0!==e.height||r.current||t.autoHeight||o||(n.warn(["The parent of the grid has an empty height.","You need to make sure the container has an intrinsic height.","The grid displays with a height of 0px.","","You can find a solution in the docs:","https://mui.com/components/data-grid/layout/"].join("\n")),r.current=!0),0!==e.width||r.current||o||(n.warn(["The parent of the grid has an empty width.","You need to make sure the container has an intrinsic width.","The grid displays with a width of 0px.","","You can find a solution in the docs:","https://mui.com/components/data-grid/layout/"].join("\n")),r.current=!0),h.current?(l(),void(h.current=!1)):void f()}),[t.autoHeight,f,n,l]);w((function(){return s()}),[s]),wf(e,ou.visibleRowsSet,s),wf(e,ou.pageChange,s),wf(e,ou.pageSizeChange,s),wf(e,ou.columnsChange,s),xf(e,ou.resize,m),wf(e,ou.debouncedResize,t.onResize)}(e,t),function(e,t){wf(e,ou.columnHeaderClick,t.onColumnHeaderClick),wf(e,ou.columnHeaderDoubleClick,t.onColumnHeaderDoubleClick),wf(e,ou.columnHeaderOver,t.onColumnHeaderOver),wf(e,ou.columnHeaderOut,t.onColumnHeaderOut),wf(e,ou.columnHeaderEnter,t.onColumnHeaderEnter),wf(e,ou.columnHeaderLeave,t.onColumnHeaderLeave),wf(e,ou.columnOrderChange,t.onColumnOrderChange),wf(e,ou.cellClick,t.onCellClick),wf(e,ou.cellDoubleClick,t.onCellDoubleClick),wf(e,ou.cellKeyDown,t.onCellKeyDown),wf(e,ou.cellFocusOut,t.onCellFocusOut),wf(e,ou.rowDoubleClick,t.onRowDoubleClick),wf(e,ou.rowClick,t.onRowClick),wf(e,ou.componentError,t.onError),wf(e,ou.stateChange,t.onStateChange)}(e,t)},th={autoHeight:!1,autoPageSize:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,columnBuffer:3,rowBuffer:3,columnThreshold:3,rowThreshold:3,density:jd.Standard,disableExtendRowFullWidth:!1,disableColumnFilter:!1,disableColumnMenu:!1,disableColumnSelector:!1,disableDensitySelector:!1,disableMultipleColumnsFiltering:!1,disableMultipleSelection:!1,disableMultipleColumnsSorting:!1,disableSelectionOnClick:!1,disableVirtualization:!1,editMode:Ad.Cell,filterMode:Ud,headerHeight:56,hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,logger:console,logLevel:"error",pagination:!1,paginationMode:Ud,rowHeight:52,rowsPerPageOptions:[25,50,100],showCellRightBorder:!1,showColumnRightBorder:!1,sortingOrder:["asc","desc",null],sortingMode:Ud,throttleRowsMs:0,disableColumnReorder:!1,disableColumnResize:!1},nh=p.memo((function(e){var t=e.sortingOrder,n=vu(e,["sortingOrder"]),r=fu(),a="asc"===(0,l.Z)(t,1)[0]?r.components.ColumnSortedAscendingIcon:r.components.ColumnSortedDescendingIcon;return a?p.createElement(a,Object.assign({},n)):null})),rh=p.forwardRef((function(e,t){var n=e.message,r=(e.hasError,e.errorInfo,vu(e,["message","hasError","errorInfo"])),a=lu().current.getLocaleText("errorOverlayDefaultLabel");return p.createElement(Qd,Object.assign({ref:t},r),n||a)})),ah=p.forwardRef((function(e,t){var n=lu().current.getLocaleText("noResultsOverlayLabel");return p.createElement(Qd,Object.assign({ref:t},e),n)})),oh={BooleanCellTrueIcon:Os,BooleanCellFalseIcon:Fs,ColumnMenuIcon:Is,OpenFilterButtonIcon:xs,ColumnFilteredIcon:ks,ColumnSelectorIcon:ws,ColumnUnsortedIcon:nh,ColumnSortedAscendingIcon:vs,ColumnSortedDescendingIcon:gs,ColumnResizeIcon:Cs,DensityCompactIcon:Ds,DensityStandardIcon:Es,DensityComfortableIcon:Ss,ExportIcon:Rs,MoreActionsIcon:Zs,TreeDataCollapseIcon:ys,TreeDataExpandIcon:bs,GroupingCriteriaCollapseIcon:ys,GroupingCriteriaExpandIcon:bs},ih=Object.assign(Object.assign({},oh),{BaseCheckbox:qi,BaseTextField:La,BaseFormControl:gr,BaseSelect:Ra,BaseSwitch:So,BaseButton:Ki.Z,BaseTooltip:uu,BasePopper:bt,Cell:function(e){var t=e.align,n=e.children,r=e.colIndex,a=e.cellMode,o=e.field,i=e.formattedValue,u=e.hasFocus,s=e.height,l=e.isEditable,c=e.rowId,d=e.tabIndex,f=e.value,h=e.width,m=e.className,v=e.showRightBorder,b=(e.extendRowFullWidth,e.row,e.onClick),y=e.onDoubleClick,x=e.onMouseDown,k=e.onMouseUp,w=e.onKeyDown,C=e.onDragEnter,D=e.onDragOver,E=vu(e,["align","children","colIndex","cellMode","field","formattedValue","hasFocus","height","isEditable","rowId","tabIndex","value","width","className","showRightBorder","extendRowFullWidth","row","onClick","onDoubleClick","onMouseDown","onMouseUp","onKeyDown","onDragEnter","onDragOver"]),S=null==i?f:i,I=p.useRef(null),F=lu(),T=function(e){var t=e.align,n=e.showRightBorder,r=e.isEditable,a=e.classes,o={root:["cell","cell--text".concat((0,N.Z)(t)),r&&"cell--editable",n&&"withBorder"]};return(0,g.Z)(o,cu,a)}({align:t,showRightBorder:v,isEditable:l,classes:fu().classes}),R=p.useCallback((function(e){return function(t){var n=F.current.getCellParams(c,o||"");F.current.publishEvent(e,n,t),k&&k(t)}}),[F,o,k,c]),O=p.useCallback((function(e,t){return function(n){if(n.currentTarget.contains(n.target)&&F.current.getRow(c)){var r=F.current.getCellParams(c,o||"");F.current.publishEvent(e,r,n),t&&t(n)}}}),[F,o,c]),Z={minWidth:h,maxWidth:h,minHeight:s,maxHeight:s};return p.useLayoutEffect((function(){if(u&&a!==Rd.Edit){var e=(0,A.Z)(F.current.rootElementRef.current);if(I.current&&!I.current.contains(e.activeElement)){var t=I.current.querySelector('[tabindex="0"]')||I.current;if(void 0===Vd&&document.createElement("div").focus({get preventScroll(){return Vd=!0,!1}}),Vd)t.focus({preventScroll:!0});else{var n=F.current.getScrollPosition();t.focus(),F.current.scroll(n)}}}})),p.createElement("div",Object.assign({ref:I,className:(0,_.Z)(m,T.root),role:"cell","data-field":o,"data-colindex":r,"aria-colindex":r+1,style:Z,tabIndex:"view"!==a&&l?-1:d,onClick:O(ou.cellClick,b),onDoubleClick:O(ou.cellDoubleClick,y),onMouseDown:O(ou.cellMouseDown,x),onMouseUp:R(ou.cellMouseUp),onKeyDown:O(ou.cellKeyDown,w),onDragEnter:O(ou.cellDragEnter,C),onDragOver:O(ou.cellDragOver,D)},E),null!=n?n:null==S?void 0:S.toString())},ColumnMenu:Np,ErrorOverlay:rh,Footer:lf,Header:cf,Toolbar:null,PreferencesPanel:Yp,LoadingOverlay:df,NoResultsOverlay:ah,NoRowsOverlay:pf,Pagination:hf,FilterPanel:function(){var e,t=lu(),n=fu(),r=yu(t,Uu),o=yu(t,zu),i=p.useRef(null),u=p.useCallback((function(e){t.current.upsertFilterItem(e)}),[t]),s=p.useCallback((function(e){t.current.setFilterLinkOperator(e)}),[t]),l=p.useCallback((function(){var e=o.find((function(e){var t;return null===(t=e.filterOperators)||void 0===t?void 0:t.length}));return e?{columnField:e.field,operatorValue:e.filterOperators[0].value,id:Math.round(1e5*Math.random())}:null}),[o]),c=p.useMemo((function(){if(r.items.length)return r.items;var e=l();return e?[e]:[]}),[r.items,l]),d=c.length>1,f=p.useCallback((function(e){t.current.deleteFilterItem(e)}),[t]);return p.useEffect((function(){c.length>0&&i.current.focus()}),[c.length]),p.createElement(Bp,null,p.createElement(Rp,null,c.map((function(e,t){return p.createElement(Qp,{key:null==e.id?t:e.id,item:e,applyFilterChanges:u,deleteFilter:f,hasMultipleFilters:d,showMultiFilterOperators:t>0,multiFilterOperator:r.linkOperator,disableMultiFilterOperator:1!==t,applyMultiFilterOperatorChanges:s,focusElementRef:t===c.length-1?i:null})}))),!n.disableMultipleColumnsFiltering&&p.createElement(Zp,null,p.createElement(n.components.BaseButton,Object.assign({onClick:function(){var e=l();e&&t.current.setFilterModel(Object.assign(Object.assign({},r),{items:[].concat((0,a.Z)(c),[e])}))},startIcon:p.createElement(Ts,null),color:"primary"},null===(e=n.componentsProps)||void 0===e?void 0:e.baseButton),t.current.getLocaleText("filterPanelAddFilter"))))},ColumnsPanel:function(){var e,t,n,r=lu(),a=p.useRef(null),o=yu(r,Pu),i=yu(r,Lu),u=fu(),s=p.useState(""),c=(0,l.Z)(s,2),d=c[0],f=c[1],h=function(e){var t=e.classes;return(0,g.Z)({root:["columnsPanel"],columnsPanelRow:["columnsPanelRow"]},cu,t)}({classes:u.classes}),m=function(e){var t=e.target.name;r.current.setColumnVisibility(t,!1===i[t])},v=p.useCallback((function(e){r.current.updateColumns(o.map((function(t){return!1!==t.hideable?{field:t.field,hide:!e}:t})))}),[r,o]),b=p.useCallback((function(e){f(e.target.value)}),[]),y=p.useMemo((function(){return d?o.filter((function(e){return e.field.toLowerCase().indexOf(d.toLowerCase())>-1||e.headerName&&e.headerName.toLowerCase().indexOf(d.toLowerCase())>-1})):o}),[o,d]);return p.useEffect((function(){a.current.focus()}),[]),p.createElement(Bp,null,p.createElement(Pp,null,p.createElement(u.components.BaseTextField,Object.assign({label:r.current.getLocaleText("columnsPanelTextFieldLabel"),placeholder:r.current.getLocaleText("columnsPanelTextFieldPlaceholder"),inputRef:a,value:d,onChange:b,variant:"standard",fullWidth:!0},null===(e=u.componentsProps)||void 0===e?void 0:e.baseTextField))),p.createElement(Rp,null,p.createElement(Wp,{className:h.root},y.map((function(e){var t;return p.createElement(Hp,{className:h.columnsPanelRow,key:e.field},p.createElement(Ro,{control:p.createElement(u.components.BaseSwitch,Object.assign({disabled:!1===e.hideable,checked:!1!==i[e.field],onClick:m,name:e.field,color:"primary",size:"small"},null===(t=u.componentsProps)||void 0===t?void 0:t.baseSwitch)),label:e.headerName||e.field}),!u.disableColumnReorder&&jp&&p.createElement(Up,{draggable:!0,"aria-label":r.current.getLocaleText("columnsPanelDragIconLabel"),title:r.current.getLocaleText("columnsPanelDragIconLabel"),size:"small",disabled:!0},p.createElement(As,null)))})))),p.createElement(Zp,null,p.createElement(u.components.BaseButton,Object.assign({onClick:function(){return v(!1)},color:"primary"},null===(t=u.componentsProps)||void 0===t?void 0:t.baseButton),r.current.getLocaleText("columnsPanelHideAllButton")),p.createElement(u.components.BaseButton,Object.assign({onClick:function(){return v(!0)},color:"primary"},null===(n=u.componentsProps)||void 0===n?void 0:n.baseButton),r.current.getLocaleText("columnsPanelShowAllButton"))))},Panel:Xp,Row:function(e){for(var t,n,r,a,o=e.selected,i=e.rowId,u=(e.row,e.index),s=e.style,l=e.rowHeight,c=e.className,d=e.visibleColumns,f=e.renderedColumns,h=e.containerWidth,m=e.firstColumnToRender,v=(e.lastColumnToRender,e.cellFocus),b=e.cellTabIndex,y=e.editRowsState,x=e.onClick,k=e.onDoubleClick,w=e.onMouseEnter,C=e.onMouseLeave,D=vu(e,["selected","rowId","row","index","style","rowHeight","className","visibleColumns","renderedColumns","containerWidth","firstColumnToRender","lastColumnToRender","cellFocus","cellTabIndex","editRowsState","onClick","onDoubleClick","onMouseEnter","onMouseLeave"]),E=u+2,S=lu(),I=fu(),F=yu(S,Bu),T=null!==(t=S.current.getRootDimensions())&&void 0!==t?t:{hasScrollX:!1,hasScrollY:!1},N=T.hasScrollX,A=T.hasScrollY,R=function(e){var t=e.editable,n=e.editing,r=e.selected,a=e.classes;return(0,g.Z)({root:["row",r&&"selected",t&&"row--editable",n&&"row--editing"]},cu,a)}({selected:o,classes:I.classes,editing:S.current.getRowMode(i)===Od.Edit,editable:I.editMode===Ad.Row}),O=p.useCallback((function(e,t){return function(n){(1!==n.target.nodeType||n.currentTarget.contains(n.target))&&S.current.getRow(i)&&(S.current.publishEvent(e,S.current.getRowParams(i),n),t&&t(n))}}),[S,i]),Z=Object.assign({maxHeight:l,minHeight:l},s),M="function"==typeof I.getRowClassName&&I.getRowClassName(S.current.getRowParams(i)),P=[],L=0;L<f.length;L+=1){var B=f[L],z=m+L,j=z===d.length-1,V=j?!(j&&N&&!A)&&I.disableExtendRowFullWidth:I.showCellRightBorder,W=S.current.getCellParams(i,B.field),H=[];B.cellClassName&&H.push((0,_.Z)("function"==typeof B.cellClassName?B.cellClassName(W):B.cellClassName));var U=y[i]?y[i][B.field]:null,G=null;if(null==U&&B.renderCell&&(G=B.renderCell(Object.assign(Object.assign({},W),{api:S.current})),H.push((0,_.Z)(du["cell--withRenderer"],null===(n=I.classes)||void 0===n?void 0:n["cell--withRenderer"]))),null!=U&&B.renderEditCell){var q=Object.assign(Object.assign(Object.assign({},W),U),{api:S.current});G=B.renderEditCell(q),H.push((0,_.Z)(du["cell--editing"],null===(r=I.classes)||void 0===r?void 0:r["cell--editing"]))}I.getCellClassName&&H.push(I.getCellClassName(W));var K=null!==v&&v.id===i&&v.field===B.field,X=null!==b&&b.id===i&&b.field===B.field&&"view"===W.cellMode?0:-1;P.push(p.createElement(I.components.Cell,Object.assign({key:B.field,value:W.value,field:B.field,width:B.computedWidth,rowId:i,height:l,showRightBorder:V,formattedValue:W.formattedValue,align:B.align||"left",cellMode:W.cellMode,colIndex:z,isEditable:W.isEditable,hasFocus:K,tabIndex:X,className:(0,_.Z)(H)},null===(a=I.componentsProps)||void 0===a?void 0:a.cell),G))}var Y=h-F.totalWidth;return p.createElement("div",Object.assign({"data-id":i,"data-rowindex":u,role:"row",className:(0,_.Z)(M,R.root,c),"aria-rowindex":E,"aria-selected":o,style:Z,onClick:O(ou.rowClick,x),onDoubleClick:O(ou.rowDoubleClick,k),onMouseEnter:O(ou.rowMouseEnter,w),onMouseLeave:O(ou.rowMouseLeave,C)},D),P,Y>0&&p.createElement(mf,{width:Y,height:l}))}}),uh={apiRef:void 0,disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,disableMultipleSelection:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,disableColumnResize:!0,signature:"DataGrid"},sh=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:function(e,t){return t.virtualScroller}})({overflow:"auto","@media print":{overflow:"hidden"}}),lh=p.forwardRef((function(e,t){var n=e.className,r=vu(e,["className"]),a=function(e){var t=e.classes;return(0,g.Z)({root:["virtualScroller"]},cu,t)}({classes:fu().classes});return p.createElement(sh,Object.assign({ref:t,className:(0,_.Z)(a.root,n)},r))})),ch=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:function(e,t){return t.virtualScrollerContent}})({position:"relative"}),dh=p.forwardRef((function(e,t){var n=e.className,r=vu(e,["className"]),a=function(e){var t=e.classes;return(0,g.Z)({root:["virtualScrollerContent"]},cu,t)}({classes:fu().classes});return p.createElement(ch,Object.assign({ref:t,className:(0,_.Z)(a.root,n)},r))})),ph=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone",overridesResolver:function(e,t){return t.virtualScrollerRenderZone}})({position:"absolute"}),fh=p.forwardRef((function(e,t){var n=e.className,r=vu(e,["className"]),a=function(e){var t=e.classes;return(0,g.Z)({root:["virtualScrollerRenderZone"]},cu,t)}({classes:fu().classes});return p.createElement(ph,Object.assign({ref:t,className:(0,_.Z)(a.root,n)},r))}));function hh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(t.length<=0)return-1;if(n>=r)return n;var a=n+Math.floor((r-n)/2);return e<=t[a]?hh(e,t,n,a):hh(e,t,a+1,r)}var mh=p.forwardRef((function(e,t){var n=e.className,r=e.selectionLookup,a=e.disableVirtualization,o=vu(e,["className","selectionLookup","disableVirtualization"]),i=function(e){var t=lu(),n=fu(),r=yu(t,_u),a=e.ref,o=e.selectionLookup,i=e.disableVirtualization,u=e.onRenderZonePositioning,s=e.renderZoneMinColumnIndex,c=void 0===s?0:s,d=e.renderZoneMaxColumnIndex,f=void 0===d?r.length:d,h=yu(t,Bu),m=yu(t,us),v=yu(t,vd),g=yu(t,yd),b=yu(t,Sf),y=Gf(t,n),x=p.useRef(null),k=p.useRef(null),w=(0,I.Z)(a,k),C=p.useState(null),D=(0,l.Z)(C,2),E=D[0],S=D[1],F=p.useRef(E),T=p.useRef({top:0,left:0}),N=p.useState(null),A=(0,l.Z)(N,2),R=A[0],O=A[1],Z=p.useRef(h.totalWidth),M=p.useCallback((function(){if(i)return{firstRowIndex:0,lastRowIndex:y.rows.length,firstColumnIndex:0,lastColumnIndex:r.length};var e=T.current,a=e.top,o=e.left,u=n.autoHeight?y.rows.length:Math.floor(k.current.clientHeight/m),s=Math.floor(a/m),l=s+u,c=Bu(t.current.state).positions;return{firstRowIndex:s,lastRowIndex:l,firstColumnIndex:hh(o,c),lastColumnIndex:hh(o+R,c)}}),[t,R,n.autoHeight,i,m,y.rows.length,r.length]);p.useEffect((function(){i?x.current.style.transform="translate3d(0px, 0px, 0px)":(k.current.scrollLeft=0,k.current.scrollTop=0),O(k.current.clientWidth)}),[i]),p.useEffect((function(){if(null!=R){var e=M();F.current=e,S(e);var n=T.current,r={top:n.top,left:n.left,renderContext:e};t.current.publishEvent(ou.rowsScroll,r)}}),[t,M,R]);var P=p.useCallback((function(){k.current&&O(k.current.clientWidth)}),[]);xf(t,ou.resize,P);var L=function(e){var t=e.firstIndex,n=e.lastIndex,r=e.buffer,a=e.minFirstIndex,o=e.maxLastIndex;return[Lc(t-r,a,o),Lc(n+r,a,o)]},_=function(e){var r,a=L({firstIndex:e.firstRowIndex,lastIndex:e.lastRowIndex,minFirstIndex:0,maxLastIndex:null===(r=y.range)||void 0===r?void 0:r.lastRowIndex,buffer:n.rowBuffer}),o=(0,l.Z)(a,1)[0],i=L({firstIndex:e.firstColumnIndex,lastIndex:e.lastColumnIndex,minFirstIndex:c,maxLastIndex:f,buffer:n.columnBuffer}),s=(0,l.Z)(i,1)[0],d=o*m,p=Bu(t.current.state).positions[s];x.current.style.transform="translate3d(".concat(p,"px, ").concat(d,"px, 0px)"),"function"==typeof u&&u({top:d,left:p})},B=function(e){var r=e.currentTarget,a=r.scrollTop,o=r.scrollLeft;if(T.current.top=a,T.current.left=o,!(o<0||a<0)&&F.current){var u=i?F.current:M(),s=Math.abs(u.firstRowIndex-F.current.firstRowIndex),l=Math.abs(u.firstColumnIndex-F.current.firstColumnIndex),c=s>=n.rowThreshold||l>=n.columnThreshold||Z.current!==h.totalWidth;t.current.publishEvent(ou.rowsScroll,{top:a,left:o,renderContext:c?u:F.current}),c&&(S(u),F.current=u,Z.current=h.totalWidth,_(u))}},z=R&&h.totalWidth>R,j=p.useMemo((function(){var e={width:z?h.totalWidth:"auto",height:Math.max(y.rows.length*m,1)};return n.autoHeight&&0===y.rows.length&&(e.height=2*m),e}),[h.totalWidth,y.rows.length,z,n.autoHeight,m]);p.useEffect((function(){t.current.publishEvent(ou.virtualScrollerContentSizeChange)}),[t,j]),n.autoHeight&&0===y.rows.length&&(j.height=2*m);var V={};return z||(V.overflowX="hidden"),{renderContext:E,updateRenderZonePosition:_,getRows:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{renderContext:E},a=t.renderContext,u=t.minFirstColumn,s=void 0===u?c:u,d=t.maxLastColumn,h=void 0===d?f:d,x=t.availableSpace,k=void 0===x?R:x;if(!y.range||!a||null==k)return null;for(var w=i?0:n.rowBuffer,C=i?0:n.columnBuffer,D=L({firstIndex:a.firstRowIndex,lastIndex:a.lastRowIndex,minFirstIndex:0,maxLastIndex:y.rows.length,buffer:w}),S=(0,l.Z)(D,2),I=S[0],F=S[1],T=L({firstIndex:a.firstColumnIndex,lastIndex:a.lastColumnIndex,minFirstIndex:s,maxLastIndex:h,buffer:C}),N=(0,l.Z)(T,2),A=N[0],O=N[1],Z=y.rows.slice(I,F),M=r.slice(A,O),P=[],_=0;_<Z.length;_+=1){var B=Z[_],z=B.id,j=B.model;P.push(p.createElement(n.components.Row,Object.assign({key:z,row:j,rowId:z,rowHeight:m,cellFocus:v,cellTabIndex:g,editRowsState:b,renderedColumns:M,visibleColumns:r,firstColumnToRender:A,lastColumnToRender:O,selected:void 0!==o[z],index:y.range.firstRowIndex+a.firstRowIndex+_,containerWidth:k},null===(e=n.componentsProps)||void 0===e?void 0:e.row)))}return P},getRootProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,n=void 0===t?{}:t,r=vu(e,["style"]);return Object.assign({ref:w,onScroll:B,style:Object.assign(Object.assign({},n),V)},r)},getContentProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,n=void 0===t?{}:t;return{style:Object.assign(Object.assign({},n),j)}},getRenderZoneProps:function(){return{ref:x}}}}({ref:t,selectionLookup:r,disableVirtualization:a}),u=i.getRootProps,s=i.getContentProps,c=i.getRenderZoneProps,d=i.getRows;return p.createElement(lh,Object.assign({className:n},u(o)),p.createElement(dh,Object.assign({},s()),p.createElement(fh,Object.assign({},c()),d())))})),vh=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"ColumnHeaders",overridesResolver:function(e,t){return t.columnHeaders}})((function(e){var t=e.theme;return{position:"absolute",top:0,left:0,right:0,overflow:"hidden",display:"flex",alignItems:"center",borderBottom:"1px solid ".concat("light"===t.palette.mode?(0,y.$n)((0,y.Fq)(t.palette.divider,1),.88):(0,y._j)((0,y.Fq)(t.palette.divider,1),.68))}})),gh=p.forwardRef((function(e,t){e.innerRef;var n=e.className,r=vu(e,["innerRef","className"]),a=function(e){var t=e.classes;return(0,g.Z)({root:["columnHeaders"]},cu,t)}({classes:fu().classes});return p.createElement(vh,Object.assign({ref:t,className:(0,_.Z)(n,a.root)},r))})),bh=(0,b.ZP)("div",{name:"MuiDataGrid",slot:"columnHeadersInner",overridesResolver:function(e,t){return[(0,r.Z)({},"&.".concat(du.columnHeaderDropZone),t.columnHeaderDropZone),t.columnHeadersInner]}})((function(){var e;return e={display:"flex",alignItems:"center"},(0,r.Z)(e,"&.".concat(du.columnHeaderDropZone," .").concat(du.columnHeaderDraggableContainer),{cursor:"move"}),(0,r.Z)(e,"&.".concat(du["columnHeadersInner--scrollable"]," .").concat(du.columnHeader,":last-child"),{borderRight:"none"}),e})),yh=p.forwardRef((function(e,t){var n,r,a=e.isDragging,o=e.className,i=vu(e,["isDragging","className"]),u=lu(),s=fu(),l=function(e){var t=e.isDragging,n=e.hasScrollX,r=e.classes;return(0,g.Z)({root:["columnHeadersInner",t&&"columnHeaderDropZone",n&&"columnHeadersInner--scrollable"]},cu,r)}({isDragging:a,hasScrollX:null!==(r=null===(n=u.current.getRootDimensions())||void 0===n?void 0:n.hasScrollX)&&void 0!==r&&r,classes:s.classes});return p.createElement(bh,Object.assign({ref:t,className:(0,_.Z)(o,l.root)},i))})),xh=p.forwardRef((function(e,t){var n=e.innerRef,r=(e.className,vu(e,["innerRef","className"])),a=function(e){var t=e.innerRef,n=e.minColumnIndex,r=void 0===n?0:n,a=p.useState(""),o=(0,l.Z)(a,2),i=o[0],u=o[1],s=p.useState(""),c=(0,l.Z)(s,2),d=c[0],f=c[1],h=lu(),m=yu(h,_u),v=yu(h,Bu),g=yu(h,xd),b=yu(h,yd),y=yu(h,gd),x=yu(h,ss),k=yu(h,Ju),w=yu(h,Ru),C=yu(h,Ef),D=fu(),E=p.useRef(null),S=(0,I.Z)(t,E),F=p.useState(null),T=(0,l.Z)(F,2),N=T[0],A=T[1],R=p.useRef(N),O=p.useRef(0);p.useEffect((function(){h.current.columnHeadersContainerElementRef.current.scrollLeft=0}),[h]);var Z=p.useCallback((function(e){var t=Math.max(e.firstColumnIndex-D.columnBuffer,r),n=t>0?O.current-v.positions[t]:O.current;E.current.style.transform="translate3d(".concat(-n,"px, 0px, 0px)")}),[v.positions,r,D.columnBuffer]),M=p.useCallback((function(e){var t,n,r=e.left,a=e.renderContext,o=void 0===a?null:a;E.current&&(O.current===r&&(null===(t=R.current)||void 0===t?void 0:t.firstColumnIndex)===(null==o?void 0:o.firstColumnIndex)&&(null===(n=R.current)||void 0===n?void 0:n.lastColumnIndex)===(null==o?void 0:o.lastColumnIndex)||(O.current=r,o===R.current&&R.current||(A(o),R.current=o),o&&Z(o)))}),[Z]),P=p.useCallback((function(e){return f(e.field)}),[]),L=p.useCallback((function(){return f("")}),[]),_=p.useCallback((function(e){return u(e.field)}),[]),B=p.useCallback((function(){return u("")}),[]);xf(h,ou.columnResizeStart,P),xf(h,ou.columnResizeStop,L),xf(h,ou.columnHeaderDragStart,_),xf(h,ou.columnHeaderDragEnd,B),xf(h,ou.rowsScroll,M);var z={minHeight:x,maxHeight:x,lineHeight:"".concat(x,"px")};return{renderContext:N,getColumns:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e||{},a=n.renderContext,o=void 0===a?N:a,u=n.minFirstColumn,s=void 0===u?r:u,l=n.maxLastColumn,c=void 0===l?m.length:l;if(!o)return null;for(var f=[],h=Math.max(o.firstColumnIndex-D.columnBuffer,s),v=Math.min(o.lastColumnIndex+D.columnBuffer,c),E=m.slice(h,v),S=0;S<E.length;S+=1){var I=E[S],F=h+S,T=0===F,A=!(null===g&&null===b),R=null!==g&&g.field===I.field||T&&!A?0:-1,O=null!==y&&y.field===I.field,Z=C.open&&C.field===I.field;f.push(p.createElement(bp,Object.assign({key:S},w[I.field],{columnMenuOpen:Z,filterItemsCounter:k[I.field]&&k[I.field].length,headerHeight:x,isDragging:I.field===i,column:I,colIndex:F,isResizing:d===I.field,isLastColumn:F===f.length-1,extendRowFullWidth:!D.disableExtendRowFullWidth,hasFocus:O,tabIndex:R},t)))}return f},isDragging:!!i,updateInnerPosition:Z,getRootProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({style:z},e)},getInnerProps:function(){return{ref:S,"aria-rowindex":1,role:"row"}}}}({innerRef:n}),o=a.isDragging,i=a.getRootProps,u=a.getInnerProps,s=a.getColumns;return p.createElement(gh,Object.assign({ref:t},i(r)),p.createElement(Df,{scrollDirection:"left"}),p.createElement(yh,Object.assign({isDragging:o},u()),s()),p.createElement(Df,{scrollDirection:"right"}))})),kh=p.forwardRef((function(e,t){var n=function(e){if(e.pageSize>100)throw new Error("'props.pageSize' cannot exceed 100 in DataGrid.");var t=(0,x.Z)({props:e,name:"MuiDataGrid"}),n=p.useMemo((function(){return Object.assign(Object.assign({},Vp),t.localeText)}),[t.localeText]),r=p.useMemo((function(){var e=t.components;if(!e)return Object.assign({},ih);var n={};return Object.keys(ih).forEach((function(t){n[t]=void 0===e[t]?ih[t]:e[t]})),n}),[t.components]);return p.useMemo((function(){return Object.assign(Object.assign(Object.assign(Object.assign({},th),t),{localeText:n,components:r}),uh)}),[t,n,r])}(e),r=function(){var e=arguments.length<=0?void 0:arguments[0],t=p.useRef();return t.current||(t.current={unstable_eventManager:new Ff,state:{}}),p.useImperativeHandle(e,(function(){return t.current}),[t]),t}();return eh(r,n),p.createElement(Rf,{apiRef:r,props:n},p.createElement(Kd,{className:n.className,style:n.style,sx:n.sx,ref:t},p.createElement(ps,null,p.createElement(hs,null),p.createElement(ls,{ColumnHeadersComponent:xh,VirtualScrollerComponent:mh}),p.createElement(fs,null))))})),wh=p.memo(kh);kh.propTypes={"aria-label":h().string,"aria-labelledby":h().string,autoHeight:h().bool,autoPageSize:h().bool,checkboxSelection:h().bool,classes:h().object,columnBuffer:h().number,columns:(h().array.isRequired,function(){return null}),columnThreshold:h().number,columnTypes:h().object,columnVisibilityModel:h().object,components:h().object,componentsProps:h().object,density:h().oneOf(["comfortable","compact","standard"]),disableColumnFilter:h().bool,disableColumnMenu:h().bool,disableColumnSelector:h().bool,disableDensitySelector:h().bool,disableExtendRowFullWidth:h().bool,disableSelectionOnClick:h().bool,disableVirtualization:h().bool,editMode:h().oneOf(["cell","row"]),editRowsModel:h().object,error:h().any,filterMode:h().oneOf(["client","server"]),filterModel:(h().any,function(){return null}),getCellClassName:h().func,getRowClassName:h().func,getRowId:h().func,headerHeight:h().number,hideFooter:h().bool,hideFooterPagination:h().bool,hideFooterSelectedRowCount:h().bool,initialState:h().object,isCellEditable:h().func,isRowSelectable:h().func,loading:h().bool,localeText:h().object,logger:h().shape({debug:h().func.isRequired,error:h().func.isRequired,info:h().func.isRequired,warn:h().func.isRequired}),logLevel:h().oneOf(["debug","error","info","warn",!1]),nonce:h().string,onCellClick:h().func,onCellDoubleClick:h().func,onCellEditCommit:h().func,onCellEditStart:h().func,onCellEditStop:h().func,onCellFocusOut:h().func,onCellKeyDown:h().func,onColumnHeaderClick:h().func,onColumnHeaderDoubleClick:h().func,onColumnHeaderEnter:h().func,onColumnHeaderLeave:h().func,onColumnHeaderOut:h().func,onColumnHeaderOver:h().func,onColumnOrderChange:h().func,onColumnVisibilityChange:h().func,onColumnVisibilityModelChange:h().func,onEditCellPropsChange:h().func,onEditRowsModelChange:h().func,onError:h().func,onFilterModelChange:h().func,onPageChange:h().func,onPageSizeChange:h().func,onResize:h().func,onRowClick:h().func,onRowDoubleClick:h().func,onRowEditCommit:h().func,onRowEditStart:h().func,onRowEditStop:h().func,onSelectionModelChange:h().func,onSortModelChange:h().func,onStateChange:h().func,page:h().number,pageSize:(h().number,function(){return null}),pagination:function(e){return!1===e.pagination?new Error(["MUI: `<DataGrid pagination={false} />` is not a valid prop.","Infinite scrolling is not available in the MIT version.","","You need to upgrade to the DataGridPro component to disable the pagination."].join("\n")):null},paginationMode:h().oneOf(["client","server"]),rowBuffer:h().number,rowCount:h().number,rowHeight:h().number,rows:h().arrayOf(h().object).isRequired,rowsPerPageOptions:h().arrayOf(h().number),rowThreshold:h().number,scrollbarSize:h().number,selectionModel:(h().oneOfType([h().number,h().string,h().array]),function(){return null}),showCellRightBorder:h().bool,showColumnRightBorder:h().bool,sortingMode:h().oneOf(["client","server"]),sortingOrder:h().arrayOf(h().oneOf(["asc","desc"])),sortModel:h().arrayOf(h().shape({field:h().string.isRequired,sort:h().oneOf(["asc","desc"])})),sx:h().oneOfType([h().arrayOf(h().oneOfType([h().func,h().object,h().bool])),h().func,h().object])}},8598:function(e,t,n){var r=n(7401),a=n(3627),o=n(7320),i=n(7220),u=n(4972),s=n(2584),l=n(9638);l.alea=r,l.xor128=a,l.xorwow=o,l.xorshift7=i,l.xor4096=u,l.tychei=s,e.exports=l},7401:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n=function(){var e=4022871197;return function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)}}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function u(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function s(e,t){var n=new i(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.alea=s}(0,e=n.nmd(e),n.amdD)},2584:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function u(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function s(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.tychei=s}(0,e=n.nmd(e),n.amdD)},3627:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function u(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function s(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.xor128=s}(0,e=n.nmd(e),n.amdD)},4972:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,o=t.i;return t.w=r=r+1640531527|0,n=a[o+34&127],e=a[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[o]=n^e,t.i=o,n+(r^r>>>16)|0},function(e,t){var n,r,a,o,i,u=[],s=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,s=Math.max(s,t.length)),a=0,o=-32;o<s;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(i=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(i=i+1640531527|0,a=0==(n=u[127&o]^=r+i)?a+1:0);for(a>=128&&(u[127&(t&&t.length||0)]=-1),a=127,o=512;o>0;--o)r=u[a+34&127],n=u[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,u[a]=r^n;e.w=i,e.X=u,e.i=a}(t,e)}function u(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function s(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.X&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.xor4096=s}(0,e=n.nmd(e),n.amdD)},7220:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function u(e,t){return t.x=e.x.slice(),t.i=e.i,t}function s(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.x&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.xorshift7=s}(0,e=n.nmd(e),n.amdD)},7320:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function u(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function s(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.xorwow=s}(0,e=n.nmd(e),n.amdD)},9638:function(e,t,n){var r;!function(a,o){var i,u=this,s=256,l=o.pow(s,6),c=o.pow(2,52),d=2*c,p=255;function f(e,t,n){var r=[],p=g(v((t=1==t?{entropy:!0}:t||{}).entropy?[e,b(a)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(s):(e=new Uint8Array(s),(u.crypto||u.msCrypto).getRandomValues(e)),b(e)}catch(r){var t=u.navigator,n=t&&t.plugins;return[+new Date,u,n,u.screen,b(a)]}}():e,3),r),f=new h(r),y=function(){for(var e=f.g(6),t=l,n=0;e<c;)e=(e+n)*s,t*=s,n=f.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return y.int32=function(){return 0|f.g(4)},y.quick=function(){return f.g(4)/4294967296},y.double=y,g(b(f.S),a),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,f),e.state=function(){return m(f,{})}),n?(o.random=e,t):e})(y,p,"global"in t?t.global:this==o,t.state)}function h(e){var t,n=e.length,r=this,a=0,o=r.i=r.j=0,i=r.S=[];for(n||(e=[n++]);a<s;)i[a]=a++;for(a=0;a<s;a++)i[a]=i[o=p&o+e[a%n]+(t=i[a])],i[o]=t;(r.g=function(e){for(var t,n=0,a=r.i,o=r.j,i=r.S;e--;)t=i[a=p&a+1],n=n*s+i[p&(i[a]=i[o=p&o+t])+(i[o]=t)];return r.i=a,r.j=o,n})(s)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function v(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(v(e[n],t-1))}catch(o){}return r.length?r:"string"==a?e:e+"\0"}function g(e,t){for(var n,r=e+"",a=0;a<r.length;)t[p&a]=p&(n^=19*t[p&a])+r.charCodeAt(a++);return b(t)}function b(e){return String.fromCharCode.apply(0,e)}if(o.seedrandom=f,g(o.random(),a),e.exports){e.exports=f;try{i=n(914)}catch(y){}}else void 0===(r=function(){return f}.call(t,n,t,e))||(e.exports=r)}([],Math)},282:function(e,t,n){var r=n(5141),a=n(9619),o=n(6422),i=n(6304),u=n(3410),s=n(5463),l=n(5274);l.alea=r,l.xor128=a,l.xorwow=o,l.xorshift7=i,l.xor4096=u,l.tychei=s,e.exports=l},5141:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n=function(){var e=4022871197;return function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)}}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function u(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function s(e,t){var n=new i(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.alea=s}(0,e=n.nmd(e),n.amdD)},5463:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function u(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function s(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.tychei=s}(0,e=n.nmd(e),n.amdD)},9619:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function u(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function s(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.xor128=s}(0,e=n.nmd(e),n.amdD)},3410:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,o=t.i;return t.w=r=r+1640531527|0,n=a[o+34&127],e=a[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[o]=n^e,t.i=o,n+(r^r>>>16)|0},function(e,t){var n,r,a,o,i,u=[],s=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,s=Math.max(s,t.length)),a=0,o=-32;o<s;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(i=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(i=i+1640531527|0,a=0==(n=u[127&o]^=r+i)?a+1:0);for(a>=128&&(u[127&(t&&t.length||0)]=-1),a=127,o=512;o>0;--o)r=u[a+34&127],n=u[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,u[a]=r^n;e.w=i,e.X=u,e.i=a}(t,e)}function u(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function s(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.X&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.xor4096=s}(0,e=n.nmd(e),n.amdD)},6304:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function u(e,t){return t.x=e.x.slice(),t.i=e.i,t}function s(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.x&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.xorshift7=s}(0,e=n.nmd(e),n.amdD)},6422:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function u(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function s(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.xorwow=s}(0,e=n.nmd(e),n.amdD)},5274:function(e,t,n){var r;!function(a,o){var i,u=this,s=256,l=o.pow(s,6),c=o.pow(2,52),d=2*c,p=255;function f(e,t,n){var r=[],p=g(v((t=1==t?{entropy:!0}:t||{}).entropy?[e,b(a)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(s):(e=new Uint8Array(s),(u.crypto||u.msCrypto).getRandomValues(e)),b(e)}catch(r){var t=u.navigator,n=t&&t.plugins;return[+new Date,u,n,u.screen,b(a)]}}():e,3),r),f=new h(r),y=function(){for(var e=f.g(6),t=l,n=0;e<c;)e=(e+n)*s,t*=s,n=f.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return y.int32=function(){return 0|f.g(4)},y.quick=function(){return f.g(4)/4294967296},y.double=y,g(b(f.S),a),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,f),e.state=function(){return m(f,{})}),n?(o.random=e,t):e})(y,p,"global"in t?t.global:this==o,t.state)}function h(e){var t,n=e.length,r=this,a=0,o=r.i=r.j=0,i=r.S=[];for(n||(e=[n++]);a<s;)i[a]=a++;for(a=0;a<s;a++)i[a]=i[o=p&o+e[a%n]+(t=i[a])],i[o]=t;(r.g=function(e){for(var t,n=0,a=r.i,o=r.j,i=r.S;e--;)t=i[a=p&a+1],n=n*s+i[p&(i[a]=i[o=p&o+t])+(i[o]=t)];return r.i=a,r.j=o,n})(s)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function v(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(v(e[n],t-1))}catch(o){}return r.length?r:"string"==a?e:e+"\0"}function g(e,t){for(var n,r=e+"",a=0;a<r.length;)t[p&a]=p&(n^=19*t[p&a])+r.charCodeAt(a++);return b(t)}function b(e){return String.fromCharCode.apply(0,e)}if(o.seedrandom=f,g(o.random(),a),e.exports){e.exports=f;try{i=n(5778)}catch(y){}}else void 0===(r=function(){return f}.call(t,n,t,e))||(e.exports=r)}([],Math)},8182:function(e,t,n){"use strict";function r(e){var t,n,a="";if("string"===typeof e||"number"===typeof e)a+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function a(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}n.d(t,{Z:function(){return a}})},2110:function(e,t,n){"use strict";var r=n(8309),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?i:u[e.$$typeof]||a}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=i;var l=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var a=f(n);a&&a!==h&&e(t,a,r)}var i=c(n);d&&(i=i.concat(d(n)));for(var u=s(t),m=s(n),v=0;v<i.length;++v){var g=i[v];if(!o[g]&&(!r||!r[g])&&(!m||!m[g])&&(!u||!u[g])){var b=p(n,g);try{l(t,g,b)}catch(y){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case o:case u:case i:case f:return e;default:switch(e=e&&e.$$typeof){case l:case p:case v:case m:case s:return e;default:return t}}case a:return t}}}function w(e){return k(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=s,t.Element=r,t.ForwardRef=p,t.Fragment=o,t.Lazy=v,t.Memo=m,t.Portal=a,t.Profiler=u,t.StrictMode=i,t.Suspense=f,t.isAsyncMode=function(e){return w(e)||k(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return k(e)===l},t.isContextProvider=function(e){return k(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return k(e)===p},t.isFragment=function(e){return k(e)===o},t.isLazy=function(e){return k(e)===v},t.isMemo=function(e){return k(e)===m},t.isPortal=function(e){return k(e)===a},t.isProfiler=function(e){return k(e)===u},t.isStrictMode=function(e){return k(e)===i},t.isSuspense=function(e){return k(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===u||e===i||e===f||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===s||e.$$typeof===l||e.$$typeof===p||e.$$typeof===b||e.$$typeof===y||e.$$typeof===x||e.$$typeof===g)},t.typeOf=k},8309:function(e,t,n){"use strict";e.exports=n(746)},8987:function(e){e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(E){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var a={},o={};function i(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=o[e])?r:(n=s(e,(0|e)<0?-1:0,!0),i&&(o[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=a[e])?r:(n=s(e,e<0?-1:0,!1),i&&(a[e]=n),n)}function u(e,t){if(isNaN(e))return t?g:v;if(t){if(e<0)return g;if(e>=f)return w}else{if(e<=-h)return C;if(e+1>=h)return k}return e<0?u(-e,t).neg():s(e%p|0,e/p|0,t)}function s(e,t,r){return new n(e,t,r)}n.fromInt=i,n.fromNumber=u,n.fromBits=s;var l=Math.pow;function c(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return v;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return c(e.substring(1),t,n).neg();for(var a=u(l(n,8)),o=v,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),d=parseInt(e.substring(i,i+s),n);if(s<8){var p=u(l(n,s));o=o.mul(p).add(u(d))}else o=(o=o.mul(a)).add(u(d))}return o.unsigned=t,o}function d(e,t){return"number"===typeof e?u(e,t):"string"===typeof e?c(e,t):s(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=c,n.fromValue=d;var p=4294967296,f=p*p,h=f/2,m=i(1<<24),v=i(0);n.ZERO=v;var g=i(0,!0);n.UZERO=g;var b=i(1);n.ONE=b;var y=i(1,!0);n.UONE=y;var x=i(-1);n.NEG_ONE=x;var k=s(-1,2147483647,!1);n.MAX_VALUE=k;var w=s(-1,-1,!0);n.MAX_UNSIGNED_VALUE=w;var C=s(0,-2147483648,!1);n.MIN_VALUE=C;var D=n.prototype;D.toInt=function(){return this.unsigned?this.low>>>0:this.low},D.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},D.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(C)){var t=u(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var a=u(l(e,6),this.unsigned),o=this,i="";;){var s=o.div(a),c=(o.sub(s.mul(a)).toInt()>>>0).toString(e);if((o=s).isZero())return c+i;for(;c.length<6;)c="0"+c;i=""+c+i}},D.getHighBits=function(){return this.high},D.getHighBitsUnsigned=function(){return this.high>>>0},D.getLowBits=function(){return this.low},D.getLowBitsUnsigned=function(){return this.low>>>0},D.getNumBitsAbs=function(){if(this.isNegative())return this.eq(C)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},D.isZero=function(){return 0===this.high&&0===this.low},D.eqz=D.isZero,D.isNegative=function(){return!this.unsigned&&this.high<0},D.isPositive=function(){return this.unsigned||this.high>=0},D.isOdd=function(){return 1===(1&this.low)},D.isEven=function(){return 0===(1&this.low)},D.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},D.eq=D.equals,D.notEquals=function(e){return!this.eq(e)},D.neq=D.notEquals,D.ne=D.notEquals,D.lessThan=function(e){return this.comp(e)<0},D.lt=D.lessThan,D.lessThanOrEqual=function(e){return this.comp(e)<=0},D.lte=D.lessThanOrEqual,D.le=D.lessThanOrEqual,D.greaterThan=function(e){return this.comp(e)>0},D.gt=D.greaterThan,D.greaterThanOrEqual=function(e){return this.comp(e)>=0},D.gte=D.greaterThanOrEqual,D.ge=D.greaterThanOrEqual,D.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},D.comp=D.compare,D.negate=function(){return!this.unsigned&&this.eq(C)?C:this.not().add(b)},D.neg=D.negate,D.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,a=this.low>>>16,o=65535&this.low,i=e.high>>>16,u=65535&e.high,l=e.low>>>16,c=0,p=0,f=0,h=0;return f+=(h+=o+(65535&e.low))>>>16,p+=(f+=a+l)>>>16,c+=(p+=n+u)>>>16,c+=t+i,s((f&=65535)<<16|(h&=65535),(c&=65535)<<16|(p&=65535),this.unsigned)},D.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},D.sub=D.subtract,D.multiply=function(e){if(this.isZero())return v;if(r(e)||(e=d(e)),t)return s(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return v;if(this.eq(C))return e.isOdd()?C:v;if(e.eq(C))return this.isOdd()?C:v;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return u(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,a=65535&this.high,o=this.low>>>16,i=65535&this.low,l=e.high>>>16,c=65535&e.high,p=e.low>>>16,f=65535&e.low,h=0,g=0,b=0,y=0;return b+=(y+=i*f)>>>16,g+=(b+=o*f)>>>16,b&=65535,g+=(b+=i*p)>>>16,h+=(g+=a*f)>>>16,g&=65535,h+=(g+=o*p)>>>16,g&=65535,h+=(g+=i*c)>>>16,h+=n*f+a*p+o*c+i*l,s((b&=65535)<<16|(y&=65535),(h&=65535)<<16|(g&=65535),this.unsigned)},D.mul=D.multiply,D.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,a,o;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?s((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?g:v;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return y;o=g}else{if(this.eq(C))return e.eq(b)||e.eq(x)?C:e.eq(C)?b:(n=this.shr(1).div(e).shl(1)).eq(v)?e.isNegative()?b:x:(a=this.sub(e.mul(n)),o=n.add(a.div(e)));if(e.eq(C))return this.unsigned?g:v;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=v}for(a=this;a.gte(e);){n=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var i=Math.ceil(Math.log(n)/Math.LN2),c=i<=48?1:l(2,i-48),p=u(n),f=p.mul(e);f.isNegative()||f.gt(a);)f=(p=u(n-=c,this.unsigned)).mul(e);p.isZero()&&(p=b),o=o.add(p),a=a.sub(f)}return o},D.div=D.divide,D.modulo=function(e){return r(e)||(e=d(e)),t?s((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},D.mod=D.modulo,D.rem=D.modulo,D.not=function(){return s(~this.low,~this.high,this.unsigned)},D.and=function(e){return r(e)||(e=d(e)),s(this.low&e.low,this.high&e.high,this.unsigned)},D.or=function(e){return r(e)||(e=d(e)),s(this.low|e.low,this.high|e.high,this.unsigned)},D.xor=function(e){return r(e)||(e=d(e)),s(this.low^e.low,this.high^e.high,this.unsigned)},D.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?s(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):s(0,this.low<<e-32,this.unsigned)},D.shl=D.shiftLeft,D.shiftRight=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?s(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):s(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},D.shr=D.shiftRight,D.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?s(this.low>>>e|t<<32-e,t>>>e,this.unsigned):s(32===e?t:t>>>e-32,0,this.unsigned)},D.shru=D.shiftRightUnsigned,D.shr_u=D.shiftRightUnsigned,D.toSigned=function(){return this.unsigned?s(this.low,this.high,!1):this},D.toUnsigned=function(){return this.unsigned?this:s(this.low,this.high,!0)},D.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},D.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},D.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}()?Object.assign:function(e,o){for(var i,u,s=a(e),l=1;l<arguments.length;l++){for(var c in i=Object(arguments[l]))n.call(i,c)&&(s[c]=i[c]);if(t){u=t(i);for(var d=0;d<u.length;d++)r.call(i,u[d])&&(s[u[d]]=i[u[d]])}}return s}},888:function(e,t,n){"use strict";var r=n(9047);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),a=n(1725),o=n(5296);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(i(227));var u=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,h={},m={};function v(e,t,n,r,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function x(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0===a.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!f.call(m,e)||!f.call(h,e)&&(p.test(e)?m[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(b,y);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(b,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(b,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,C=60106,D=60107,E=60108,S=60114,I=60109,F=60110,T=60112,N=60113,A=60120,R=60115,O=60116,Z=60121,M=60128,P=60129,L=60130,_=60131;if("function"===typeof Symbol&&Symbol.for){var B=Symbol.for;w=B("react.element"),C=B("react.portal"),D=B("react.fragment"),E=B("react.strict_mode"),S=B("react.profiler"),I=B("react.provider"),F=B("react.context"),T=B("react.forward_ref"),N=B("react.suspense"),A=B("react.suspense_list"),R=B("react.memo"),O=B("react.lazy"),Z=B("react.block"),B("react.scope"),M=B("react.opaque.id"),P=B("react.debug_trace_mode"),L=B("react.offscreen"),_=B("react.legacy_hidden")}var z,j="function"===typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}function W(e){if(void 0===z)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var H=!1;function U(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var a=s.stack.split("\n"),o=r.stack.split("\n"),i=a.length-1,u=o.length-1;1<=i&&0<=u&&a[i]!==o[u];)u--;for(;1<=i&&0<=u;i--,u--)if(a[i]!==o[u]){if(1!==i||1!==u)do{if(i--,0>--u||a[i]!==o[u])return"\n"+a[i].replace(" at new "," at ")}while(1<=i&&0<=u);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?W(e):""}function G(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 22:return e=U(e.type._render,!1);case 1:return e=U(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case D:return"Fragment";case C:return"Portal";case S:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case F:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return q(e.type);case Z:return q(e._render);case O:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function K(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ae(e,t.type,n):t.hasOwnProperty("defaultValue")&&ae(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ae(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ie(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function le(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",pe="http://www.w3.org/2000/svg";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ve,ge=(ve=function(e,t){if(e.namespaceURI!==pe||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function be(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];function ke(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=ke(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(ye).forEach((function(e){xe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Ce=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function De(e,t){if(t){if(Ce[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Fe=null,Te=null;function Ne(e){if(e=ra(e)){if("function"!==typeof Ie)throw Error(i(280));var t=e.stateNode;t&&(t=oa(t),Ie(e.stateNode,e.type,t))}}function Ae(e){Fe?Te?Te.push(e):Te=[e]:Fe=e}function Re(){if(Fe){var e=Fe,t=Te;if(Te=Fe=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Oe(e,t){return e(t)}function Ze(e,t,n,r,a){return e(t,n,r,a)}function Me(){}var Pe=Oe,Le=!1,_e=!1;function Be(){null===Fe&&null===Te||(Me(),Re())}function ze(e,t){var n=e.stateNode;if(null===n)return null;var r=oa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var je=!1;if(d)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){je=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(ve){je=!1}function We(e,t,n,r,a,o,i,u,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var He=!1,Ue=null,Ge=!1,qe=null,Ke={onError:function(e){He=!0,Ue=e}};function Xe(e,t,n,r,a,o,i,u,s){He=!1,Ue=null,We.apply(Ke,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Qe(e){if(Ye(e)!==e)throw Error(i(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return Qe(a),e;if(o===r)return Qe(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var u=!1,s=a.child;s;){if(s===n){u=!0,n=a,r=o;break}if(s===r){u=!0,r=a,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=a;break}if(s===r){u=!0,r=o,n=a;break}s=s.sibling}if(!u)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,at,ot=!1,it=[],ut=null,st=null,lt=null,ct=new Map,dt=new Map,pt=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ht(e,t,n,r,a){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:a,targetContainers:[r]}}function mt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function vt(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e=ht(t,n,r,a,o),null!==t&&(null!==(t=ra(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function gt(e){var t=na(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void at(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ra(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){bt(e)&&n.delete(t)}function xt(){for(ot=!1;0<it.length;){var e=it[0];if(null!==e.blockedOn){null!==(e=ra(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&it.shift()}null!==ut&&bt(ut)&&(ut=null),null!==st&&bt(st)&&(st=null),null!==lt&&bt(lt)&&(lt=null),ct.forEach(yt),dt.forEach(yt)}function kt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,xt)))}function wt(e){function t(t){return kt(t,e)}if(0<it.length){kt(it[0],e);for(var n=1;n<it.length;n++){var r=it[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&kt(ut,e),null!==st&&kt(st,e),null!==lt&&kt(lt,e),ct.forEach(t),dt.forEach(t),n=0;n<pt.length;n++)(r=pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<pt.length&&null===(n=pt[0]).blockedOn;)gt(n),null===n.blockedOn&&pt.shift()}function Ct(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Dt={animationend:Ct("Animation","AnimationEnd"),animationiteration:Ct("Animation","AnimationIteration"),animationstart:Ct("Animation","AnimationStart"),transitionend:Ct("Transition","TransitionEnd")},Et={},St={};function It(e){if(Et[e])return Et[e];if(!Dt[e])return e;var t,n=Dt[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return Et[e]=n[t];return e}d&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete Dt.animationend.animation,delete Dt.animationiteration.animation,delete Dt.animationstart.animation),"TransitionEvent"in window||delete Dt.transitionend.transition);var Ft=It("animationend"),Tt=It("animationiteration"),Nt=It("animationstart"),At=It("transitionend"),Rt=new Map,Ot=new Map,Zt=["abort","abort",Ft,"animationEnd",Tt,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Mt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],a=e[n+1];a="on"+(a[0].toUpperCase()+a.slice(1)),Ot.set(r,t),Rt.set(r,a),l(a,[r])}}(0,o.unstable_now)();var Pt=8;function Lt(e){if(0!==(1&e))return Pt=15,1;if(0!==(2&e))return Pt=14,2;if(0!==(4&e))return Pt=13,4;var t=24&e;return 0!==t?(Pt=12,t):0!==(32&e)?(Pt=11,32):0!==(t=192&e)?(Pt=10,t):0!==(256&e)?(Pt=9,256):0!==(t=3584&e)?(Pt=8,t):0!==(4096&e)?(Pt=7,4096):0!==(t=4186112&e)?(Pt=6,t):0!==(t=62914560&e)?(Pt=5,t):67108864&e?(Pt=4,67108864):0!==(134217728&e)?(Pt=3,134217728):0!==(t=805306368&e)?(Pt=2,t):0!==(1073741824&e)?(Pt=1,1073741824):(Pt=8,e)}function _t(e,t){var n=e.pendingLanes;if(0===n)return Pt=0;var r=0,a=0,o=e.expiredLanes,i=e.suspendedLanes,u=e.pingedLanes;if(0!==o)r=o,a=Pt=15;else if(0!==(o=134217727&n)){var s=o&~i;0!==s?(r=Lt(s),a=Pt):0!==(u&=o)&&(r=Lt(u),a=Pt)}else 0!==(o=n&~i)?(r=Lt(o),a=Pt):0!==u&&(r=Lt(u),a=Pt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&i)){if(Lt(t),a<=Pt)return t;Pt=a}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-Ht(t)),r|=e[n],t&=~a;return r}function Bt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function zt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=jt(24&~t))?zt(10,t):e;case 10:return 0===(e=jt(192&~t))?zt(8,t):e;case 8:return 0===(e=jt(3584&~t))&&(0===(e=jt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=jt(805306368&~t))&&(t=268435456),t}throw Error(i(358,e))}function jt(e){return e&-e}function Vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ut(e)/Gt|0)|0},Ut=Math.log,Gt=Math.LN2;var qt=o.unstable_UserBlockingPriority,Kt=o.unstable_runWithPriority,Xt=!0;function Yt(e,t,n,r){Le||Me();var a=Qt,o=Le;Le=!0;try{Ze(a,e,t,n,r)}finally{(Le=o)||Be()}}function $t(e,t,n,r){Kt(qt,Qt.bind(null,e,t,n,r))}function Qt(e,t,n,r){var a;if(Xt)if((a=0===(4&t))&&0<it.length&&-1<ft.indexOf(e))e=ht(null,e,t,n,r),it.push(e);else{var o=Jt(e,t,n,r);if(null===o)a&&mt(e,r);else{if(a){if(-1<ft.indexOf(e))return e=ht(o,e,t,n,r),void it.push(e);if(function(e,t,n,r,a){switch(t){case"focusin":return ut=vt(ut,e,t,n,r,a),!0;case"dragenter":return st=vt(st,e,t,n,r,a),!0;case"mouseover":return lt=vt(lt,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return ct.set(o,vt(ct.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,dt.set(o,vt(dt.get(o)||null,e,t,n,r,a)),!0}return!1}(o,e,t,n,r))return;mt(e,r)}Mr(e,t,r,null,n)}}}function Jt(e,t,n,r){var a=Se(r);if(null!==(a=na(a))){var o=Ye(a);if(null===o)a=null;else{var i=o.tag;if(13===i){if(null!==(a=$e(o)))return a;a=null}else if(3===i){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Mr(e,t,r,a,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,a="value"in en?en.value:en.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return nn=a.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,a,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?on:un,this.isPropagationStopped=un,this}return a(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var ln,cn,dn,pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=sn(pn),hn=a({},pn,{view:0,detail:0}),mn=sn(hn),vn=a({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&"mousemove"===e.type?(ln=e.screenX-dn.screenX,cn=e.screenY-dn.screenY):cn=ln=0,dn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=sn(vn),bn=sn(a({},vn,{dataTransfer:0})),yn=sn(a({},hn,{relatedTarget:0})),xn=sn(a({},pn,{animationName:0,elapsedTime:0,pseudoElement:0})),kn=a({},pn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(kn),Cn=sn(a({},pn,{data:0})),Dn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Fn(){return In}var Tn=a({},hn,{key:function(e){if(e.key){var t=Dn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(Tn),An=sn(a({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=sn(a({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fn})),On=sn(a({},pn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Zn=a({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=sn(Zn),Pn=[9,13,27,32],Ln=d&&"CompositionEvent"in window,_n=null;d&&"documentMode"in document&&(_n=document.documentMode);var Bn=d&&"TextEvent"in window&&!_n,zn=d&&(!Ln||_n&&8<_n&&11>=_n),jn=String.fromCharCode(32),Vn=!1;function Wn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ae(r),0<(t=Lr(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xn=null,Yn=null;function $n(e){Tr(e,0)}function Qn(e){if($(aa(e)))return e}function Jn(e,t){if("change"===e)return t}var er=!1;if(d){var tr;if(d){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ar(){Xn&&(Xn.detachEvent("onpropertychange",or),Yn=Xn=null)}function or(e){if("value"===e.propertyName&&Qn(Yn)){var t=[];if(Kn(t,Yn,e,Se(e)),e=$n,Le)e(t);else{Le=!0;try{Oe(e,t)}finally{Le=!1,Be()}}}}function ir(e,t,n){"focusin"===e?(ar(),Yn=n,(Xn=t).attachEvent("onpropertychange",or)):"focusout"===e&&ar()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Yn)}function sr(e,t){if("click"===e)return Qn(t)}function lr(e,t){if("input"===e||"change"===e)return Qn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},dr=Object.prototype.hasOwnProperty;function pr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!dr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function fr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hr(e,t){var n,r=fr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fr(r)}}function mr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var br=d&&"documentMode"in document&&11>=document.documentMode,yr=null,xr=null,kr=null,wr=!1;function Cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==yr||yr!==Q(r)||("selectionStart"in(r=yr)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},kr&&pr(kr,r)||(kr=r,0<(r=Lr(xr,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Mt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Mt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Mt(Zt,2);for(var Dr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<Dr.length;Er++)Ot.set(Dr[Er],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,u,s,l){if(Xe.apply(this,arguments),He){if(!He)throw Error(i(198));var c=Ue;He=!1,Ue=null,Ge||(Ge=!0,qe=c)}}(r,t,void 0,e),e.currentTarget=null}function Tr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var u=r[i],s=u.instance,l=u.currentTarget;if(u=u.listener,s!==o&&a.isPropagationStopped())break e;Fr(a,u,l),o=s}else for(i=0;i<r.length;i++){if(s=(u=r[i]).instance,l=u.currentTarget,u=u.listener,s!==o&&a.isPropagationStopped())break e;Fr(a,u,l),o=s}}}if(Ge)throw e=qe,Ge=!1,qe=null,e}function Nr(e,t){var n=ia(t),r=e+"__bubble";n.has(r)||(Zr(t,e,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[Ar]||(e[Ar]=!0,u.forEach((function(t){Ir.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;a|=2,o=r}var i=ia(o),u=e+"__"+(t?"capture":"bubble");i.has(u)||(t&&(a|=4),Zr(o,e,a,t),i.add(u))}function Zr(e,t,n,r){var a=Ot.get(t);switch(void 0===a?2:a){case 0:a=Yt;break;case 1:a=$t;break;default:a=Qt}n=a.bind(null,t,n,e),a=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Mr(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var u=r.stateNode.containerInfo;if(u===a||8===u.nodeType&&u.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var s=i.tag;if((3===s||4===s)&&((s=i.stateNode.containerInfo)===a||8===s.nodeType&&s.parentNode===a))return;i=i.return}for(;null!==u;){if(null===(i=na(u)))return;if(5===(s=i.tag)||6===s){r=o=i;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(_e)return e(t,n);_e=!0;try{Pe(e,t,n)}finally{_e=!1,Be()}}((function(){var r=o,a=Se(n),i=[];e:{var u=Rt.get(e);if(void 0!==u){var s=fn,l=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":l="focus",s=yn;break;case"focusout":l="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=bn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Rn;break;case Ft:case Tt:case Nt:s=xn;break;case At:s=On;break;case"scroll":s=mn;break;case"wheel":s=Mn;break;case"copy":case"cut":case"paste":s=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=An}var c=0!==(4&t),d=!c&&"scroll"===e,p=c?null!==u?u+"Capture":null:u;c=[];for(var f,h=r;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&(null!=(m=ze(h,p))&&c.push(Pr(h,m,f)))),d)break;h=h.return}0<c.length&&(u=new s(u,l,null,n,a),i.push({event:u,listeners:c}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(l=n.relatedTarget||n.fromElement)||!na(l)&&!l[ea])&&(s||u)&&(u=a.window===a?a:(u=a.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(l=(l=n.relatedTarget||n.toElement)?na(l):null)&&(l!==(d=Ye(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(s=null,l=r),s!==l)){if(c=gn,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=An,m="onPointerLeave",p="onPointerEnter",h="pointer"),d=null==s?u:aa(s),f=null==l?u:aa(l),(u=new c(m,h+"leave",s,n,a)).target=d,u.relatedTarget=f,m=null,na(a)===r&&((c=new c(p,h+"enter",l,n,a)).target=f,c.relatedTarget=d,m=c),d=m,s&&l)e:{for(p=l,h=0,f=c=s;f;f=_r(f))h++;for(f=0,m=p;m;m=_r(m))f++;for(;0<h-f;)c=_r(c),h--;for(;0<f-h;)p=_r(p),f--;for(;h--;){if(c===p||null!==p&&c===p.alternate)break e;c=_r(c),p=_r(p)}c=null}else c=null;null!==s&&Br(i,u,s,c,!1),null!==l&&null!==d&&Br(i,d,l,c,!0)}if("select"===(s=(u=r?aa(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var v=Jn;else if(qn(u))if(er)v=lr;else{v=ur;var g=ir}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(v=sr);switch(v&&(v=v(e,r))?Kn(i,v,n,a):(g&&g(e,u,r),"focusout"===e&&(g=u._wrapperState)&&g.controlled&&"number"===u.type&&ae(u,"number",u.value)),g=r?aa(r):window,e){case"focusin":(qn(g)||"true"===g.contentEditable)&&(yr=g,xr=r,kr=null);break;case"focusout":kr=xr=yr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,Cr(i,n,a);break;case"selectionchange":if(br)break;case"keydown":case"keyup":Cr(i,n,a)}var b;if(Ln)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Un?Wn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(zn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==y?"onCompositionEnd"===y&&Un&&(b=rn()):(tn="value"in(en=a)?en.value:en.textContent,Un=!0)),0<(g=Lr(r,y)).length&&(y=new Cn(y,e,null,n,a),i.push({event:y,listeners:g}),b?y.data=b:null!==(b=Hn(n))&&(y.data=b))),(b=Bn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Vn=!0,jn);case"textInput":return(e=t.data)===jn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Ln&&Wn(e,t)?(e=rn(),nn=tn=en=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Lr(r,"onBeforeInput")).length&&(a=new Cn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=b))}Tr(i,t)}))}function Pr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=ze(e,n))&&r.unshift(Pr(e,o,a)),null!=(o=ze(e,t))&&r.push(Pr(e,o,a))),e=e.return}return r}function _r(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Br(e,t,n,r,a){for(var o=t._reactName,i=[];null!==n&&n!==r;){var u=n,s=u.alternate,l=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==l&&(u=l,a?null!=(s=ze(n,o))&&i.unshift(Pr(n,s,u)):a||null!=(s=ze(n,o))&&i.push(Pr(n,s,u))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}function zr(){}var jr=null,Vr=null;function Wr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ur="function"===typeof setTimeout?setTimeout:void 0,Gr="function"===typeof clearTimeout?clearTimeout:void 0;function qr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Xr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var $r=Math.random().toString(36).slice(2),Qr="__reactFiber$"+$r,Jr="__reactProps$"+$r,ea="__reactContainer$"+$r,ta="__reactEvents$"+$r;function na(e){var t=e[Qr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ea]||n[Qr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Xr(e);null!==e;){if(n=e[Qr])return n;e=Xr(e)}return t}n=(e=n).parentNode}return null}function ra(e){return!(e=e[Qr]||e[ea])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function aa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function oa(e){return e[Jr]||null}function ia(e){var t=e[ta];return void 0===t&&(t=e[ta]=new Set),t}var ua=[],sa=-1;function la(e){return{current:e}}function ca(e){0>sa||(e.current=ua[sa],ua[sa]=null,sa--)}function da(e,t){sa++,ua[sa]=e.current,e.current=t}var pa={},fa=la(pa),ha=la(!1),ma=pa;function va(e,t){var n=e.type.contextTypes;if(!n)return pa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ga(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ba(){ca(ha),ca(fa)}function ya(e,t,n){if(fa.current!==pa)throw Error(i(168));da(fa,t),da(ha,n)}function xa(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(i(108,q(t)||"Unknown",o));return a({},n,r)}function ka(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pa,ma=fa.current,da(fa,e),da(ha,ha.current),!0}function wa(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=xa(e,t,ma),r.__reactInternalMemoizedMergedChildContext=e,ca(ha),ca(fa),da(fa,e)):ca(ha),da(ha,n)}var Ca=null,Da=null,Ea=o.unstable_runWithPriority,Sa=o.unstable_scheduleCallback,Ia=o.unstable_cancelCallback,Fa=o.unstable_shouldYield,Ta=o.unstable_requestPaint,Na=o.unstable_now,Aa=o.unstable_getCurrentPriorityLevel,Ra=o.unstable_ImmediatePriority,Oa=o.unstable_UserBlockingPriority,Za=o.unstable_NormalPriority,Ma=o.unstable_LowPriority,Pa=o.unstable_IdlePriority,La={},_a=void 0!==Ta?Ta:function(){},Ba=null,za=null,ja=!1,Va=Na(),Wa=1e4>Va?Na:function(){return Na()-Va};function Ha(){switch(Aa()){case Ra:return 99;case Oa:return 98;case Za:return 97;case Ma:return 96;case Pa:return 95;default:throw Error(i(332))}}function Ua(e){switch(e){case 99:return Ra;case 98:return Oa;case 97:return Za;case 96:return Ma;case 95:return Pa;default:throw Error(i(332))}}function Ga(e,t){return e=Ua(e),Ea(e,t)}function qa(e,t,n){return e=Ua(e),Sa(e,t,n)}function Ka(){if(null!==za){var e=za;za=null,Ia(e)}Xa()}function Xa(){if(!ja&&null!==Ba){ja=!0;var e=0;try{var t=Ba;Ga(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ba=null}catch(n){throw null!==Ba&&(Ba=Ba.slice(e+1)),Sa(Ra,Ka),n}finally{ja=!1}}}var Ya=k.ReactCurrentBatchConfig;function $a(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Qa=la(null),Ja=null,eo=null,to=null;function no(){to=eo=Ja=null}function ro(e){var t=Qa.current;ca(Qa),e.type._context._currentValue=t}function ao(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Ja=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Li=!0),e.firstContext=null)}function io(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Ja)throw Error(i(308));eo=t,Ja.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var uo=!1;function so(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function po(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ho(e,t,n,r){var o=e.updateQueue;uo=!1;var i=o.firstBaseUpdate,u=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===u?i=c:u.next=c,u=l;var d=e.alternate;if(null!==d){var p=(d=d.updateQueue).lastBaseUpdate;p!==u&&(null===p?d.firstBaseUpdate=c:p.next=c,d.lastBaseUpdate=l)}}if(null!==i){for(p=o.baseState,u=0,d=c=l=null;;){s=i.lane;var f=i.eventTime;if((r&s)===s){null!==d&&(d=d.next={eventTime:f,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var h=e,m=i;switch(s=t,f=n,m.tag){case 1:if("function"===typeof(h=m.payload)){p=h.call(f,p,s);break e}p=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null===(s="function"===typeof(h=m.payload)?h.call(f,p,s):h)||void 0===s)break e;p=a({},p,s);break e;case 2:uo=!0}}null!==i.callback&&(e.flags|=32,null===(s=o.effects)?o.effects=[i]:s.push(i))}else f={eventTime:f,lane:s,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=f,l=p):d=d.next=f,u|=s;if(null===(i=i.next)){if(null===(s=o.shared.pending))break;i=s.next,s.next=null,o.lastBaseUpdate=s,o.shared.pending=null}}null===d&&(l=p),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,ju|=u,e.lanes=u,e.memoizedState=p}}function mo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var vo=(new r.Component).refs;function go(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var bo={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ps(),a=fs(e),o=co(r,a);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),po(e,o),hs(e,a,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ps(),a=fs(e),o=co(r,a);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),po(e,o),hs(e,a,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ps(),r=fs(e),a=co(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),po(e,a),hs(e,r,n)}};function yo(e,t,n,r,a,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!pr(n,r)||!pr(a,o))}function xo(e,t,n){var r=!1,a=pa,o=t.contextType;return"object"===typeof o&&null!==o?o=io(o):(a=ga(t)?ma:fa.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?va(e,a):pa),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=bo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function ko(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&bo.enqueueReplaceState(t,t.state,null)}function wo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=vo,so(e);var o=t.contextType;"object"===typeof o&&null!==o?a.context=io(o):(o=ga(t)?ma:fa.current,a.context=va(e,o)),ho(e,n,a,r),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&bo.enqueueReplaceState(a,a.state,null),ho(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4)}var Co=Array.isArray;function Do(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=r.refs;t===vo&&(t=r.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Eo(e,t){if("textarea"!==e.type)throw Error(i(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function So(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Gs(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ys(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=Do(e,t,n),r.return=e,r):((r=qs(n.type,n.key,n.props,null,e.mode,r)).ref=Do(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$s(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Ks(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ys(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=qs(t.type,t.key,t.props,null,e.mode,n)).ref=Do(e,null,t),n.return=e,n;case C:return(t=$s(t,e.mode,n)).return=e,t}if(Co(t)||V(t))return(t=Ks(t,e.mode,n,null)).return=e,t;Eo(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==a?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?n.type===D?d(e,t,n.props.children,r,a):l(e,t,n,r):null;case C:return n.key===a?c(e,t,n,r):null}if(Co(n)||V(n))return null!==a?null:d(e,t,n,r,null);Eo(e,n)}return null}function h(e,t,n,r,a){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return e=e.get(null===r.key?n:r.key)||null,r.type===D?d(t,e,r.props.children,a,r.key):l(t,e,r,a);case C:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a)}if(Co(r)||V(r))return d(t,e=e.get(n)||null,r,a,null);Eo(t,r)}return null}function m(a,i,u,s){for(var l=null,c=null,d=i,m=i=0,v=null;null!==d&&m<u.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=f(a,d,u[m],s);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(a,d),i=o(g,i,m),null===c?l=g:c.sibling=g,c=g,d=v}if(m===u.length)return n(a,d),l;if(null===d){for(;m<u.length;m++)null!==(d=p(a,u[m],s))&&(i=o(d,i,m),null===c?l=d:c.sibling=d,c=d);return l}for(d=r(a,d);m<u.length;m++)null!==(v=h(d,a,m,u[m],s))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),i=o(v,i,m),null===c?l=v:c.sibling=v,c=v);return e&&d.forEach((function(e){return t(a,e)})),l}function v(a,u,s,l){var c=V(s);if("function"!==typeof c)throw Error(i(150));if(null==(s=c.call(s)))throw Error(i(151));for(var d=c=null,m=u,v=u=0,g=null,b=s.next();null!==m&&!b.done;v++,b=s.next()){m.index>v?(g=m,m=null):g=m.sibling;var y=f(a,m,b.value,l);if(null===y){null===m&&(m=g);break}e&&m&&null===y.alternate&&t(a,m),u=o(y,u,v),null===d?c=y:d.sibling=y,d=y,m=g}if(b.done)return n(a,m),c;if(null===m){for(;!b.done;v++,b=s.next())null!==(b=p(a,b.value,l))&&(u=o(b,u,v),null===d?c=b:d.sibling=b,d=b);return c}for(m=r(a,m);!b.done;v++,b=s.next())null!==(b=h(m,a,v,b.value,l))&&(e&&null!==b.alternate&&m.delete(null===b.key?v:b.key),u=o(b,u,v),null===d?c=b:d.sibling=b,d=b);return e&&m.forEach((function(e){return t(a,e)})),c}return function(e,r,o,s){var l="object"===typeof o&&null!==o&&o.type===D&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case w:e:{for(c=o.key,l=r;null!==l;){if(l.key===c){if(7===l.tag){if(o.type===D){n(e,l.sibling),(r=a(l,o.props.children)).return=e,e=r;break e}}else if(l.elementType===o.type){n(e,l.sibling),(r=a(l,o.props)).ref=Do(e,l,o),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}o.type===D?((r=Ks(o.props.children,e.mode,s,o.key)).return=e,e=r):((s=qs(o.type,o.key,o.props,null,e.mode,s)).ref=Do(e,r,o),s.return=e,e=s)}return u(e);case C:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=a(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$s(o,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=a(r,o)).return=e,e=r):(n(e,r),(r=Ys(o,e.mode,s)).return=e,e=r),u(e);if(Co(o))return m(e,r,o,s);if(V(o))return v(e,r,o,s);if(c&&Eo(e,o),"undefined"===typeof o&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(i(152,q(e.type)||"Component"))}return n(e,r)}}var Io=So(!0),Fo=So(!1),To={},No=la(To),Ao=la(To),Ro=la(To);function Oo(e){if(e===To)throw Error(i(174));return e}function Zo(e,t){switch(da(Ro,t),da(Ao,e),da(No,To),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:he(null,"");break;default:t=he(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ca(No),da(No,t)}function Mo(){ca(No),ca(Ao),ca(Ro)}function Po(e){Oo(Ro.current);var t=Oo(No.current),n=he(t,e.type);t!==n&&(da(Ao,e),da(No,n))}function Lo(e){Ao.current===e&&(ca(No),ca(Ao))}var _o=la(0);function Bo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zo=null,jo=null,Vo=!1;function Wo(e,t){var n=Hs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ho(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Uo(e){if(Vo){var t=jo;if(t){var n=t;if(!Ho(e,t)){if(!(t=Kr(n.nextSibling))||!Ho(e,t))return e.flags=-1025&e.flags|2,Vo=!1,void(zo=e);Wo(zo,n)}zo=e,jo=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,Vo=!1,zo=e}}function Go(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;zo=e}function qo(e){if(e!==zo)return!1;if(!Vo)return Go(e),Vo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=jo;t;)Wo(e,t),t=Kr(t.nextSibling);if(Go(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){jo=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}jo=null}}else jo=zo?Kr(e.stateNode.nextSibling):null;return!0}function Ko(){jo=zo=null,Vo=!1}var Xo=[];function Yo(){for(var e=0;e<Xo.length;e++)Xo[e]._workInProgressVersionPrimary=null;Xo.length=0}var $o=k.ReactCurrentDispatcher,Qo=k.ReactCurrentBatchConfig,Jo=0,ei=null,ti=null,ni=null,ri=!1,ai=!1;function oi(){throw Error(i(321))}function ii(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function ui(e,t,n,r,a,o){if(Jo=o,ei=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$o.current=null===e||null===e.memoizedState?Oi:Zi,e=n(r,a),ai){o=0;do{if(ai=!1,!(25>o))throw Error(i(301));o+=1,ni=ti=null,t.updateQueue=null,$o.current=Mi,e=n(r,a)}while(ai)}if($o.current=Ri,t=null!==ti&&null!==ti.next,Jo=0,ni=ti=ei=null,ri=!1,t)throw Error(i(300));return e}function si(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ni?ei.memoizedState=ni=e:ni=ni.next=e,ni}function li(){if(null===ti){var e=ei.alternate;e=null!==e?e.memoizedState:null}else e=ti.next;var t=null===ni?ei.memoizedState:ni.next;if(null!==t)ni=t,ti=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ti=e).memoizedState,baseState:ti.baseState,baseQueue:ti.baseQueue,queue:ti.queue,next:null},null===ni?ei.memoizedState=ni=e:ni=ni.next=e}return ni}function ci(e,t){return"function"===typeof t?t(e):t}function di(e){var t=li(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ti,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var u=a.next;a.next=o.next,o.next=u}r.baseQueue=a=o,n.pending=null}if(null!==a){a=a.next,r=r.baseState;var s=u=o=null,l=a;do{var c=l.lane;if((Jo&c)===c)null!==s&&(s=s.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var d={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===s?(u=s=d,o=r):s=s.next=d,ei.lanes|=c,ju|=c}l=l.next}while(null!==l&&l!==a);null===s?o=r:s.next=u,cr(r,t.memoizedState)||(Li=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function pi(e){var t=li(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var u=a=a.next;do{o=e(o,u.action),u=u.next}while(u!==a);cr(o,t.memoizedState)||(Li=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function fi(e,t,n){var r=t._getVersion;r=r(t._source);var a=t._workInProgressVersionPrimary;if(null!==a?e=a===r:(e=e.mutableReadLanes,(e=(Jo&e)===e)&&(t._workInProgressVersionPrimary=r,Xo.push(t))),e)return n(t._source);throw Xo.push(t),Error(i(350))}function hi(e,t,n,r){var a=Ou;if(null===a)throw Error(i(349));var o=t._getVersion,u=o(t._source),s=$o.current,l=s.useState((function(){return fi(a,t,n)})),c=l[1],d=l[0];l=ni;var p=e.memoizedState,f=p.refs,h=f.getSnapshot,m=p.source;p=p.subscribe;var v=ei;return e.memoizedState={refs:f,source:t,subscribe:r},s.useEffect((function(){f.getSnapshot=n,f.setSnapshot=c;var e=o(t._source);if(!cr(u,e)){e=n(t._source),cr(d,e)||(c(e),e=fs(v),a.mutableReadLanes|=e&a.pendingLanes),e=a.mutableReadLanes,a.entangledLanes|=e;for(var r=a.entanglements,i=e;0<i;){var s=31-Ht(i),l=1<<s;r[s]|=e,i&=~l}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=fs(v);a.mutableReadLanes|=r&a.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),cr(h,n)&&cr(m,t)&&cr(p,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ci,lastRenderedState:d}).dispatch=c=Ai.bind(null,ei,e),l.queue=e,l.baseQueue=null,d=fi(a,t,n),l.memoizedState=l.baseState=d),d}function mi(e,t,n){return hi(li(),e,t,n)}function vi(e){var t=si();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ci,lastRenderedState:e}).dispatch=Ai.bind(null,ei,e),[t.memoizedState,e]}function gi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ei.updateQueue)?(t={lastEffect:null},ei.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function bi(e){return e={current:e},si().memoizedState=e}function yi(){return li().memoizedState}function xi(e,t,n,r){var a=si();ei.flags|=e,a.memoizedState=gi(1|t,n,void 0,void 0===r?null:r)}function ki(e,t,n,r){var a=li();r=void 0===r?null:r;var o=void 0;if(null!==ti){var i=ti.memoizedState;if(o=i.destroy,null!==r&&ii(r,i.deps))return void gi(t,n,o,r)}ei.flags|=e,a.memoizedState=gi(1|t,n,o,r)}function wi(e,t){return xi(516,4,e,t)}function Ci(e,t){return ki(516,4,e,t)}function Di(e,t){return ki(4,2,e,t)}function Ei(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Si(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ki(4,2,Ei.bind(null,t,e),n)}function Ii(){}function Fi(e,t){var n=li();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ii(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ti(e,t){var n=li();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ii(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ni(e,t){var n=Ha();Ga(98>n?98:n,(function(){e(!0)})),Ga(97<n?97:n,(function(){var n=Qo.transition;Qo.transition=1;try{e(!1),t()}finally{Qo.transition=n}}))}function Ai(e,t,n){var r=ps(),a=fs(e),o={lane:a,action:n,eagerReducer:null,eagerState:null,next:null},i=t.pending;if(null===i?o.next=o:(o.next=i.next,i.next=o),t.pending=o,i=e.alternate,e===ei||null!==i&&i===ei)ai=ri=!0;else{if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=i(u,n);if(o.eagerReducer=i,o.eagerState=s,cr(s,u))return}catch(l){}hs(e,a,r)}}var Ri={readContext:io,useCallback:oi,useContext:oi,useEffect:oi,useImperativeHandle:oi,useLayoutEffect:oi,useMemo:oi,useReducer:oi,useRef:oi,useState:oi,useDebugValue:oi,useDeferredValue:oi,useTransition:oi,useMutableSource:oi,useOpaqueIdentifier:oi,unstable_isNewReconciler:!1},Oi={readContext:io,useCallback:function(e,t){return si().memoizedState=[e,void 0===t?null:t],e},useContext:io,useEffect:wi,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,xi(4,2,Ei.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xi(4,2,e,t)},useMemo:function(e,t){var n=si();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=si();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ai.bind(null,ei,e),[r.memoizedState,e]},useRef:bi,useState:vi,useDebugValue:Ii,useDeferredValue:function(e){var t=vi(e),n=t[0],r=t[1];return wi((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=vi(!1),t=e[0];return bi(e=Ni.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=si();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},hi(r,e,t,n)},useOpaqueIdentifier:function(){if(Vo){var e=!1,t=function(e){return{$$typeof:M,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(i(355))})),n=vi(t)[1];return 0===(2&ei.mode)&&(ei.flags|=516,gi(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return vi(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Zi={readContext:io,useCallback:Fi,useContext:io,useEffect:Ci,useImperativeHandle:Si,useLayoutEffect:Di,useMemo:Ti,useReducer:di,useRef:yi,useState:function(){return di(ci)},useDebugValue:Ii,useDeferredValue:function(e){var t=di(ci),n=t[0],r=t[1];return Ci((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=di(ci)[0];return[yi().current,e]},useMutableSource:mi,useOpaqueIdentifier:function(){return di(ci)[0]},unstable_isNewReconciler:!1},Mi={readContext:io,useCallback:Fi,useContext:io,useEffect:Ci,useImperativeHandle:Si,useLayoutEffect:Di,useMemo:Ti,useReducer:pi,useRef:yi,useState:function(){return pi(ci)},useDebugValue:Ii,useDeferredValue:function(e){var t=pi(ci),n=t[0],r=t[1];return Ci((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=pi(ci)[0];return[yi().current,e]},useMutableSource:mi,useOpaqueIdentifier:function(){return pi(ci)[0]},unstable_isNewReconciler:!1},Pi=k.ReactCurrentOwner,Li=!1;function _i(e,t,n,r){t.child=null===e?Fo(t,null,n,r):Io(t,e.child,n,r)}function Bi(e,t,n,r,a){n=n.render;var o=t.ref;return oo(t,a),r=ui(e,t,n,r,o,a),null===e||Li?(t.flags|=1,_i(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,ou(e,t,a))}function zi(e,t,n,r,a,o){if(null===e){var i=n.type;return"function"!==typeof i||Us(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=qs(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,ji(e,t,i,r,a,o))}return i=e.child,0===(a&o)&&(a=i.memoizedProps,(n=null!==(n=n.compare)?n:pr)(a,r)&&e.ref===t.ref)?ou(e,t,o):(t.flags|=1,(e=Gs(i,r)).ref=t.ref,e.return=t,t.child=e)}function ji(e,t,n,r,a,o){if(null!==e&&pr(e.memoizedProps,r)&&e.ref===t.ref){if(Li=!1,0===(o&a))return t.lanes=e.lanes,ou(e,t,o);0!==(16384&e.flags)&&(Li=!0)}return Hi(e,t,n,r,o)}function Vi(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},ws(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},ws(t,e),null;t.memoizedState={baseLanes:0},ws(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ws(t,r);return _i(e,t,a,n),t.child}function Wi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Hi(e,t,n,r,a){var o=ga(n)?ma:fa.current;return o=va(t,o),oo(t,a),n=ui(e,t,n,r,o,a),null===e||Li?(t.flags|=1,_i(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,ou(e,t,a))}function Ui(e,t,n,r,a){if(ga(n)){var o=!0;ka(t)}else o=!1;if(oo(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),xo(t,n,r),wo(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,u=t.memoizedProps;i.props=u;var s=i.context,l=n.contextType;"object"===typeof l&&null!==l?l=io(l):l=va(t,l=ga(n)?ma:fa.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(u!==r||s!==l)&&ko(t,i,r,l),uo=!1;var p=t.memoizedState;i.state=p,ho(t,r,i,a),s=t.memoizedState,u!==r||p!==s||ha.current||uo?("function"===typeof c&&(go(t,n,c,r),s=t.memoizedState),(u=uo||yo(t,n,u,r,p,s,l))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4)):("function"===typeof i.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),i.props=r,i.state=s,i.context=l,r=u):("function"===typeof i.componentDidMount&&(t.flags|=4),r=!1)}else{i=t.stateNode,lo(e,t),u=t.memoizedProps,l=t.type===t.elementType?u:$a(t.type,u),i.props=l,d=t.pendingProps,p=i.context,"object"===typeof(s=n.contextType)&&null!==s?s=io(s):s=va(t,s=ga(n)?ma:fa.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(u!==d||p!==s)&&ko(t,i,r,s),uo=!1,p=t.memoizedState,i.state=p,ho(t,r,i,a);var h=t.memoizedState;u!==d||p!==h||ha.current||uo?("function"===typeof f&&(go(t,n,f,r),h=t.memoizedState),(l=uo||yo(t,n,l,r,p,h,s))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,s),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,s)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof i.componentDidUpdate||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=s,r=l):("function"!==typeof i.componentDidUpdate||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),r=!1)}return Gi(e,t,n,r,o,a)}function Gi(e,t,n,r,a,o){Wi(e,t);var i=0!==(64&t.flags);if(!r&&!i)return a&&wa(t,n,!1),ou(e,t,o);r=t.stateNode,Pi.current=t;var u=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=Io(t,e.child,null,o),t.child=Io(t,null,u,o)):_i(e,t,u,o),t.memoizedState=r.state,a&&wa(t,n,!0),t.child}function qi(e){var t=e.stateNode;t.pendingContext?ya(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ya(0,t.context,!1),Zo(e,t.containerInfo)}var Ki,Xi,Yi,$i={dehydrated:null,retryLane:0};function Qi(e,t,n){var r,a=t.pendingProps,o=_o.current,i=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(i=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),da(_o,1&o),null===e?(void 0!==a.fallback&&Uo(t),e=a.children,o=a.fallback,i?(e=Ji(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$i,e):"number"===typeof a.unstable_expectedLoadTime?(e=Ji(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$i,t.lanes=33554432,e):((n=Xs({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,i?(a=tu(e,t,a.children,a.fallback,n),i=t.child,o=e.child.memoizedState,i.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},i.childLanes=e.childLanes&~n,t.memoizedState=$i,a):(n=eu(e,t,a.children,n),t.memoizedState=null,n))}function Ji(e,t,n,r){var a=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&a)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Xs(t,a,0,null),n=Ks(n,a,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function eu(e,t,n,r){var a=e.child;return e=a.sibling,n=Gs(a,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,a){var o=t.mode,i=e.child;e=i.sibling;var u={mode:"hidden",children:n};return 0===(2&o)&&t.child!==i?((n=t.child).childLanes=0,n.pendingProps=u,null!==(i=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=i,i.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Gs(i,u),null!==e?r=Gs(e,r):(r=Ks(r,o,a,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ao(e.return,t)}function ru(e,t,n,r,a,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,lastEffect:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a,i.lastEffect=o)}function au(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(_i(e,t,r.children,n),0!==(2&(r=_o.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(da(_o,r),0===(2&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Bo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),ru(t,!1,a,n,o,t.lastEffect);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Bo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}ru(t,!0,n,null,o,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ou(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ju|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Gs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function iu(e,t){if(!Vo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return ga(t.type)&&ba(),null;case 3:return Mo(),ca(ha),ca(fa),Yo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(qo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Lo(t);var o=Oo(Ro.current);if(n=t.type,null!==e&&null!=t.stateNode)Xi(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(i(166));return null}if(e=Oo(No.current),qo(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Qr]=t,r[Jr]=u,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Nr(Sr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,u),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Nr("invalid",r);break;case"textarea":se(r,u),Nr("invalid",r)}for(var l in De(n,u),e=null,u)u.hasOwnProperty(l)&&(o=u[l],"children"===l?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):s.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&Nr("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),ce(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=zr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===o.nodeType?o:o.ownerDocument,e===de&&(e=fe(n)),e===de?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Qr]=t,e[Jr]=r,Ki(e,t),t.stateNode=e,l=Ee(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),o=r;break;case"iframe":case"object":case"embed":Nr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Sr.length;o++)Nr(Sr[o],e);o=r;break;case"source":Nr("error",e),o=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),o=r;break;case"details":Nr("toggle",e),o=r;break;case"input":ee(e,r),o=J(e,r),Nr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=a({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":se(e,r),o=ue(e,r),Nr("invalid",e);break;default:o=r}De(n,o);var c=o;for(u in c)if(c.hasOwnProperty(u)){var d=c[u];"style"===u?we(e,d):"dangerouslySetInnerHTML"===u?null!=(d=d?d.__html:void 0)&&ge(e,d):"children"===u?"string"===typeof d?("textarea"!==n||""!==d)&&be(e,d):"number"===typeof d&&be(e,""+d):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=d&&"onScroll"===u&&Nr("scroll",e):null!=d&&x(e,u,d,l))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?ie(e,!!r.multiple,u,!1):null!=r.defaultValue&&ie(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=zr)}Wr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yi(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));n=Oo(Ro.current),Oo(No.current),qo(t)?(r=t.stateNode,n=t.memoizedProps,r[Qr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Qr]=t,t.stateNode=r)}return null;case 13:return ca(_o),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&qo(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&_o.current)?0===_u&&(_u=3):(0!==_u&&3!==_u||(_u=4),null===Ou||0===(134217727&ju)&&0===(134217727&Vu)||bs(Ou,Mu))),(r||n)&&(t.flags|=4),null);case 4:return Mo(),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(ca(_o),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(l=r.rendering))if(u)iu(r,!1);else{if(0!==_u||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Bo(e))){for(t.flags|=64,iu(r,!1),null!==(u=l.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(l=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=l.childLanes,u.lanes=l.lanes,u.child=l.child,u.memoizedProps=l.memoizedProps,u.memoizedState=l.memoizedState,u.updateQueue=l.updateQueue,u.type=l.type,e=l.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return da(_o,1&_o.current|2),t.child}e=e.sibling}null!==r.tail&&Wa()>Gu&&(t.flags|=64,u=!0,iu(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Bo(l))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),iu(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Vo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Wa()-r.renderingStartTime>Gu&&1073741824!==n&&(t.flags|=64,u=!0,iu(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Wa(),n.sibling=null,t=_o.current,da(_o,u?1&t|2:1&t),n):null;case 23:case 24:return Cs(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(i(156,t.tag))}function su(e){switch(e.tag){case 1:ga(e.type)&&ba();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Mo(),ca(ha),ca(fa),Yo(),0!==(64&(t=e.flags)))throw Error(i(285));return e.flags=-4097&t|64,e;case 5:return Lo(e),null;case 13:return ca(_o),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ca(_o),null;case 4:return Mo(),null;case 10:return ro(e),null;case 23:case 24:return Cs(),null;default:return null}}function lu(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var a=n}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:a}}function cu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ki=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Xi=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Oo(No.current);var i,u=null;switch(n){case"input":o=J(e,o),r=J(e,r),u=[];break;case"option":o=oe(e,o),r=oe(e,r),u=[];break;case"select":o=a({},o,{value:void 0}),r=a({},r,{value:void 0}),u=[];break;case"textarea":o=ue(e,o),r=ue(e,r),u=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=zr)}for(d in De(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var l=o[d];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(s.hasOwnProperty(d)?u||(u=[]):(u=u||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(u||(u=[]),u.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(u=u||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(u=u||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(s.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Nr("scroll",e),u||l===c||(u=[])):"object"===typeof c&&null!==c&&c.$$typeof===M?c.toString():(u=u||[]).push(d,c))}n&&(u=u||[]).push("style",n);var d=u;(t.updateQueue=d)&&(t.flags|=4)}},Yi=function(e,t,n,r){n!==r&&(t.flags|=4)};var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=co(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yu||(Yu=!0,$u=r),cu(0,t)},n}function fu(e,t,n){(n=co(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return cu(0,t),r(a)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Qu?Qu=new Set([this]):Qu.add(this),cu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var hu="function"===typeof WeakSet?WeakSet:Set;function mu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){zs(e,n)}else t.current=null}function vu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:$a(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&qr(t.stateNode.containerInfo))}throw Error(i(163))}function gu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var a=e;r=a.next,0!==(4&(a=a.tag))&&0!==(1&a)&&(Ls(n,e),Ps(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:$a(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&mo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}mo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Wr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))))}throw Error(i(163))}function bu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var a=n.memoizedProps.style;a=void 0!==a&&null!==a&&a.hasOwnProperty("display")?a.display:null,r.style.display=ke("display",a)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function yu(e,t){if(Da&&"function"===typeof Da.onCommitFiberUnmount)try{Da.onCommitFiberUnmount(Ca,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,a=r.destroy;if(r=r.tag,void 0!==a)if(0!==(4&r))Ls(t,n);else{r=t;try{a()}catch(o){zs(r,o)}}n=n.next}while(n!==e)}break;case 1:if(mu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){zs(t,o)}break;case 5:mu(t);break;case 4:Eu(e,t)}}function xu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ku(e){return 5===e.tag||3===e.tag||4===e.tag}function wu(e){e:{for(var t=e.return;null!==t;){if(ku(t))break e;t=t.return}throw Error(i(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(i(161))}16&n.flags&&(be(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ku(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Cu(e,n,t):Du(e,n,t)}function Cu(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=zr));else if(4!==r&&null!==(e=e.child))for(Cu(e,t,n),e=e.sibling;null!==e;)Cu(e,t,n),e=e.sibling}function Du(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Du(e,t,n),e=e.sibling;null!==e;)Du(e,t,n),e=e.sibling}function Eu(e,t){for(var n,r,a=t,o=!1;;){if(!o){o=a.return;e:for(;;){if(null===o)throw Error(i(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===a.tag||6===a.tag){e:for(var u=e,s=a,l=s;;)if(yu(u,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===s)break e;for(;null===l.sibling;){if(null===l.return||l.return===s)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(u=n,s=a.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){n=a.stateNode.containerInfo,r=!0,a.child.return=a,a=a.child;continue}}else if(yu(e,a),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(o=!1)}a.sibling.return=a.return,a=a.sibling}}function Su(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var a=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,a),t=Ee(e,r),a=0;a<o.length;a+=2){var u=o[a],s=o[a+1];"style"===u?we(n,s):"dangerouslySetInnerHTML"===u?ge(n,s):"children"===u?be(n,s):x(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ie(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ie(n,!!r.multiple,r.defaultValue,!0):ie(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(i(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Uu=Wa(),bu(t.child,!0)),void Iu(t);case 19:return void Iu(t);case 23:case 24:return void bu(t,null!==t.memoizedState)}throw Error(i(163))}function Iu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new hu),t.forEach((function(t){var r=Vs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Fu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Tu=Math.ceil,Nu=k.ReactCurrentDispatcher,Au=k.ReactCurrentOwner,Ru=0,Ou=null,Zu=null,Mu=0,Pu=0,Lu=la(0),_u=0,Bu=null,zu=0,ju=0,Vu=0,Wu=0,Hu=null,Uu=0,Gu=1/0;function qu(){Gu=Wa()+500}var Ku,Xu=null,Yu=!1,$u=null,Qu=null,Ju=!1,es=null,ts=90,ns=[],rs=[],as=null,os=0,is=null,us=-1,ss=0,ls=0,cs=null,ds=!1;function ps(){return 0!==(48&Ru)?Wa():-1!==us?us:us=Wa()}function fs(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ha()?1:2;if(0===ss&&(ss=zu),0!==Ya.transition){0!==ls&&(ls=null!==Hu?Hu.pendingLanes:0),e=ss;var t=4186112&~ls;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ha(),0!==(4&Ru)&&98===e?e=zt(12,ss):e=zt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function hs(e,t,n){if(50<os)throw os=0,is=null,Error(i(185));if(null===(e=ms(e,t)))return null;Wt(e,t,n),e===Ou&&(Vu|=t,4===_u&&bs(e,Mu));var r=Ha();1===t?0!==(8&Ru)&&0===(48&Ru)?ys(e):(vs(e,n),0===Ru&&(qu(),Ka())):(0===(4&Ru)||98!==r&&99!==r||(null===as?as=new Set([e]):as.add(e)),vs(e,n)),Hu=e}function ms(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function vs(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Ht(u),l=1<<s,c=o[s];if(-1===c){if(0===(l&r)||0!==(l&a)){c=t,Lt(l);var d=Pt;o[s]=10<=d?c+250:6<=d?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);u&=~l}if(r=_t(e,e===Ou?Mu:0),t=Pt,0===r)null!==n&&(n!==La&&Ia(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==La&&Ia(n)}15===t?(n=ys.bind(null,e),null===Ba?(Ba=[n],za=Sa(Ra,Xa)):Ba.push(n),n=La):14===t?n=qa(99,ys.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(i(358,e))}}(t),n=qa(n,gs.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gs(e){if(us=-1,ls=ss=0,0!==(48&Ru))throw Error(i(327));var t=e.callbackNode;if(Ms()&&e.callbackNode!==t)return null;var n=_t(e,e===Ou?Mu:0);if(0===n)return null;var r=n,a=Ru;Ru|=16;var o=Ss();for(Ou===e&&Mu===r||(qu(),Ds(e,r));;)try{Ts();break}catch(s){Es(e,s)}if(no(),Nu.current=o,Ru=a,null!==Zu?r=0:(Ou=null,Mu=0,r=_u),0!==(zu&Vu))Ds(e,0);else if(0!==r){if(2===r&&(Ru|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(n=Bt(e))&&(r=Is(e,n))),1===r)throw t=Bu,Ds(e,0),bs(e,n),vs(e,Wa()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(i(345));case 2:case 5:Rs(e);break;case 3:if(bs(e,n),(62914560&n)===n&&10<(r=Uu+500-Wa())){if(0!==_t(e,0))break;if(((a=e.suspendedLanes)&n)!==n){ps(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ur(Rs.bind(null,e),r);break}Rs(e);break;case 4:if(bs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,a=-1;0<n;){var u=31-Ht(n);o=1<<u,(u=r[u])>a&&(a=u),n&=~o}if(n=a,10<(n=(120>(n=Wa()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Tu(n/1960))-n)){e.timeoutHandle=Ur(Rs.bind(null,e),n);break}Rs(e);break;default:throw Error(i(329))}}return vs(e,Wa()),e.callbackNode===t?gs.bind(null,e):null}function bs(e,t){for(t&=~Wu,t&=~Vu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function ys(e){if(0!==(48&Ru))throw Error(i(327));if(Ms(),e===Ou&&0!==(e.expiredLanes&Mu)){var t=Mu,n=Is(e,t);0!==(zu&Vu)&&(n=Is(e,t=_t(e,t)))}else n=Is(e,t=_t(e,0));if(0!==e.tag&&2===n&&(Ru|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(t=Bt(e))&&(n=Is(e,t))),1===n)throw n=Bu,Ds(e,0),bs(e,t),vs(e,Wa()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rs(e),vs(e,Wa()),null}function xs(e,t){var n=Ru;Ru|=1;try{return e(t)}finally{0===(Ru=n)&&(qu(),Ka())}}function ks(e,t){var n=Ru;Ru&=-2,Ru|=8;try{return e(t)}finally{0===(Ru=n)&&(qu(),Ka())}}function ws(e,t){da(Lu,Pu),Pu|=t,zu|=t}function Cs(){Pu=Lu.current,ca(Lu)}function Ds(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Gr(n)),null!==Zu)for(n=Zu.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ba();break;case 3:Mo(),ca(ha),ca(fa),Yo();break;case 5:Lo(r);break;case 4:Mo();break;case 13:case 19:ca(_o);break;case 10:ro(r);break;case 23:case 24:Cs()}n=n.return}Ou=e,Zu=Gs(e.current,null),Mu=Pu=zu=t,_u=0,Bu=null,Wu=Vu=ju=0}function Es(e,t){for(;;){var n=Zu;try{if(no(),$o.current=Ri,ri){for(var r=ei.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ri=!1}if(Jo=0,ni=ti=ei=null,ai=!1,Au.current=null,null===n||null===n.return){_u=1,Bu=t,Zu=null;break}e:{var o=e,i=n.return,u=n,s=t;if(t=Mu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var l=s;if(0===(2&u.mode)){var c=u.alternate;c?(u.updateQueue=c.updateQueue,u.memoizedState=c.memoizedState,u.lanes=c.lanes):(u.updateQueue=null,u.memoizedState=null)}var d=0!==(1&_o.current),p=i;do{var f;if(f=13===p.tag){var h=p.memoizedState;if(null!==h)f=null!==h.dehydrated;else{var m=p.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(f){var v=p.updateQueue;if(null===v){var g=new Set;g.add(l),p.updateQueue=g}else v.add(l);if(0===(2&p.mode)){if(p.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var b=co(-1,1);b.tag=2,po(u,b)}u.lanes|=1;break e}s=void 0,u=t;var y=o.pingCache;if(null===y?(y=o.pingCache=new du,s=new Set,y.set(l,s)):void 0===(s=y.get(l))&&(s=new Set,y.set(l,s)),!s.has(u)){s.add(u);var x=js.bind(null,o,l,u);l.then(x,x)}p.flags|=4096,p.lanes=t;break e}p=p.return}while(null!==p);s=Error((q(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==_u&&(_u=2),s=lu(s,u),p=i;do{switch(p.tag){case 3:o=s,p.flags|=4096,t&=-t,p.lanes|=t,fo(p,pu(0,o,t));break e;case 1:o=s;var k=p.type,w=p.stateNode;if(0===(64&p.flags)&&("function"===typeof k.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Qu||!Qu.has(w)))){p.flags|=4096,t&=-t,p.lanes|=t,fo(p,fu(p,o,t));break e}}p=p.return}while(null!==p)}As(n)}catch(C){t=C,Zu===n&&null!==n&&(Zu=n=n.return);continue}break}}function Ss(){var e=Nu.current;return Nu.current=Ri,null===e?Ri:e}function Is(e,t){var n=Ru;Ru|=16;var r=Ss();for(Ou===e&&Mu===t||Ds(e,t);;)try{Fs();break}catch(a){Es(e,a)}if(no(),Ru=n,Nu.current=r,null!==Zu)throw Error(i(261));return Ou=null,Mu=0,_u}function Fs(){for(;null!==Zu;)Ns(Zu)}function Ts(){for(;null!==Zu&&!Fa();)Ns(Zu)}function Ns(e){var t=Ku(e.alternate,e,Pu);e.memoizedProps=e.pendingProps,null===t?As(e):Zu=t,Au.current=null}function As(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Pu)))return void(Zu=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Pu)||0===(4&n.mode)){for(var r=0,a=n.child;null!==a;)r|=a.lanes|a.childLanes,a=a.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Zu=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Zu=t);Zu=t=e}while(null!==t);0===_u&&(_u=5)}function Rs(e){var t=Ha();return Ga(99,Os.bind(null,e,t)),null}function Os(e,t){do{Ms()}while(null!==es);if(0!==(48&Ru))throw Error(i(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null;var r=n.lanes|n.childLanes,a=r,o=e.pendingLanes&~a;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=a,e.mutableReadLanes&=a,e.entangledLanes&=a,a=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<o;){var l=31-Ht(o),c=1<<l;a[l]=0,u[l]=-1,s[l]=-1,o&=~c}if(null!==as&&0===(24&r)&&as.has(e)&&as.delete(e),e===Ou&&(Zu=Ou=null,Mu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(a=Ru,Ru|=32,Au.current=null,jr=Xt,gr(u=vr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(c=s.getSelection&&s.getSelection())&&0!==c.rangeCount){s=c.anchorNode,o=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{s.nodeType,l.nodeType}catch(S){s=null;break e}var d=0,p=-1,f=-1,h=0,m=0,v=u,g=null;t:for(;;){for(var b;v!==s||0!==o&&3!==v.nodeType||(p=d+o),v!==l||0!==c&&3!==v.nodeType||(f=d+c),3===v.nodeType&&(d+=v.nodeValue.length),null!==(b=v.firstChild);)g=v,v=b;for(;;){if(v===u)break t;if(g===s&&++h===o&&(p=d),g===l&&++m===c&&(f=d),null!==(b=v.nextSibling))break;g=(v=g).parentNode}v=b}s=-1===p||-1===f?null:{start:p,end:f}}else s=null;s=s||{start:0,end:0}}else s=null;Vr={focusedElem:u,selectionRange:s},Xt=!1,cs=null,ds=!1,Xu=r;do{try{Zs()}catch(S){if(null===Xu)throw Error(i(330));zs(Xu,S),Xu=Xu.nextEffect}}while(null!==Xu);cs=null,Xu=r;do{try{for(u=e;null!==Xu;){var y=Xu.flags;if(16&y&&be(Xu.stateNode,""),128&y){var x=Xu.alternate;if(null!==x){var k=x.ref;null!==k&&("function"===typeof k?k(null):k.current=null)}}switch(1038&y){case 2:wu(Xu),Xu.flags&=-3;break;case 6:wu(Xu),Xu.flags&=-3,Su(Xu.alternate,Xu);break;case 1024:Xu.flags&=-1025;break;case 1028:Xu.flags&=-1025,Su(Xu.alternate,Xu);break;case 4:Su(Xu.alternate,Xu);break;case 8:Eu(u,s=Xu);var w=s.alternate;xu(s),null!==w&&xu(w)}Xu=Xu.nextEffect}}catch(S){if(null===Xu)throw Error(i(330));zs(Xu,S),Xu=Xu.nextEffect}}while(null!==Xu);if(k=Vr,x=vr(),y=k.focusedElem,u=k.selectionRange,x!==y&&y&&y.ownerDocument&&mr(y.ownerDocument.documentElement,y)){null!==u&&gr(y)&&(x=u.start,void 0===(k=u.end)&&(k=x),"selectionStart"in y?(y.selectionStart=x,y.selectionEnd=Math.min(k,y.value.length)):(k=(x=y.ownerDocument||document)&&x.defaultView||window).getSelection&&(k=k.getSelection(),s=y.textContent.length,w=Math.min(u.start,s),u=void 0===u.end?w:Math.min(u.end,s),!k.extend&&w>u&&(s=u,u=w,w=s),s=hr(y,w),o=hr(y,u),s&&o&&(1!==k.rangeCount||k.anchorNode!==s.node||k.anchorOffset!==s.offset||k.focusNode!==o.node||k.focusOffset!==o.offset)&&((x=x.createRange()).setStart(s.node,s.offset),k.removeAllRanges(),w>u?(k.addRange(x),k.extend(o.node,o.offset)):(x.setEnd(o.node,o.offset),k.addRange(x))))),x=[];for(k=y;k=k.parentNode;)1===k.nodeType&&x.push({element:k,left:k.scrollLeft,top:k.scrollTop});for("function"===typeof y.focus&&y.focus(),y=0;y<x.length;y++)(k=x[y]).element.scrollLeft=k.left,k.element.scrollTop=k.top}Xt=!!jr,Vr=jr=null,e.current=n,Xu=r;do{try{for(y=e;null!==Xu;){var C=Xu.flags;if(36&C&&gu(y,Xu.alternate,Xu),128&C){x=void 0;var D=Xu.ref;if(null!==D){var E=Xu.stateNode;Xu.tag,x=E,"function"===typeof D?D(x):D.current=x}}Xu=Xu.nextEffect}}catch(S){if(null===Xu)throw Error(i(330));zs(Xu,S),Xu=Xu.nextEffect}}while(null!==Xu);Xu=null,_a(),Ru=a}else e.current=n;if(Ju)Ju=!1,es=e,ts=t;else for(Xu=r;null!==Xu;)t=Xu.nextEffect,Xu.nextEffect=null,8&Xu.flags&&((C=Xu).sibling=null,C.stateNode=null),Xu=t;if(0===(r=e.pendingLanes)&&(Qu=null),1===r?e===is?os++:(os=0,is=e):os=0,n=n.stateNode,Da&&"function"===typeof Da.onCommitFiberRoot)try{Da.onCommitFiberRoot(Ca,n,void 0,64===(64&n.current.flags))}catch(S){}if(vs(e,Wa()),Yu)throw Yu=!1,e=$u,$u=null,e;return 0!==(8&Ru)||Ka(),null}function Zs(){for(;null!==Xu;){var e=Xu.alternate;ds||null===cs||(0!==(8&Xu.flags)?et(Xu,cs)&&(ds=!0):13===Xu.tag&&Fu(e,Xu)&&et(Xu,cs)&&(ds=!0));var t=Xu.flags;0!==(256&t)&&vu(e,Xu),0===(512&t)||Ju||(Ju=!0,qa(97,(function(){return Ms(),null}))),Xu=Xu.nextEffect}}function Ms(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Ga(e,_s)}return!1}function Ps(e,t){ns.push(t,e),Ju||(Ju=!0,qa(97,(function(){return Ms(),null})))}function Ls(e,t){rs.push(t,e),Ju||(Ju=!0,qa(97,(function(){return Ms(),null})))}function _s(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Ru))throw Error(i(331));var t=Ru;Ru|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var a=n[r],o=n[r+1],u=a.destroy;if(a.destroy=void 0,"function"===typeof u)try{u()}catch(l){if(null===o)throw Error(i(330));zs(o,l)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){a=n[r],o=n[r+1];try{var s=a.create;a.destroy=s()}catch(l){if(null===o)throw Error(i(330));zs(o,l)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Ru=t,Ka(),!0}function Bs(e,t,n){po(e,t=pu(0,t=lu(n,t),1)),t=ps(),null!==(e=ms(e,1))&&(Wt(e,1,t),vs(e,t))}function zs(e,t){if(3===e.tag)Bs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Bs(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Qu||!Qu.has(r))){var a=fu(n,e=lu(t,e),1);if(po(n,a),a=ps(),null!==(n=ms(n,1)))Wt(n,1,a),vs(n,a);else if("function"===typeof r.componentDidCatch&&(null===Qu||!Qu.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function js(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ps(),e.pingedLanes|=e.suspendedLanes&n,Ou===e&&(Mu&n)===n&&(4===_u||3===_u&&(62914560&Mu)===Mu&&500>Wa()-Uu?Ds(e,0):Wu|=n),vs(e,t)}function Vs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ha()?1:2:(0===ss&&(ss=zu),0===(t=jt(62914560&~ss))&&(t=4194304))),n=ps(),null!==(e=ms(e,t))&&(Wt(e,t,n),vs(e,n))}function Ws(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hs(e,t,n,r){return new Ws(e,t,n,r)}function Us(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gs(e,t){var n=e.alternate;return null===n?((n=Hs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qs(e,t,n,r,a,o){var u=2;if(r=e,"function"===typeof e)Us(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case D:return Ks(n.children,a,o,t);case P:u=8,a|=16;break;case E:u=8,a|=1;break;case S:return(e=Hs(12,n,t,8|a)).elementType=S,e.type=S,e.lanes=o,e;case N:return(e=Hs(13,n,t,a)).type=N,e.elementType=N,e.lanes=o,e;case A:return(e=Hs(19,n,t,a)).elementType=A,e.lanes=o,e;case L:return Xs(n,a,o,t);case _:return(e=Hs(24,n,t,a)).elementType=_,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case F:u=9;break e;case T:u=11;break e;case R:u=14;break e;case O:u=16,r=null;break e;case Z:u=22;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Hs(u,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Ks(e,t,n,r){return(e=Hs(7,e,r,t)).lanes=n,e}function Xs(e,t,n,r){return(e=Hs(23,e,r,t)).elementType=L,e.lanes=n,e}function Ys(e,t,n){return(e=Hs(6,e,null,t)).lanes=n,e}function $s(e,t,n){return(t=Hs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qs(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function Js(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function el(e,t,n,r){var a=t.current,o=ps(),u=fs(a);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(i(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(ga(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(i(171))}if(1===n.tag){var l=n.type;if(ga(l)){n=xa(n,l,s);break e}}n=s}else n=pa;return null===t.context?t.context=n:t.pendingContext=n,(t=co(o,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),po(a,t),hs(a,u,o),u}function tl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rl(e,t){nl(e,t),(e=e.alternate)&&nl(e,t)}function al(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Qs(e,t,null!=n&&!0===n.hydrate),t=Hs(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,so(t),e[ea]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var a=(t=r[e])._getVersion;a=a(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,a]:n.mutableSourceEagerHydrationData.push(t,a)}this._internalRoot=n}function ol(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function il(e,t,n,r,a){var o=n._reactRootContainer;if(o){var i=o._internalRoot;if("function"===typeof a){var u=a;a=function(){var e=tl(i);u.call(e)}}el(t,i,e,a)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new al(e,0,t?{hydrate:!0}:void 0)}(n,r),i=o._internalRoot,"function"===typeof a){var s=a;a=function(){var e=tl(i);s.call(e)}}ks((function(){el(t,i,e,a)}))}return tl(i)}function ul(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ol(t))throw Error(i(200));return Js(e,t,null,n)}Ku=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||ha.current)Li=!0;else{if(0===(n&r)){switch(Li=!1,t.tag){case 3:qi(t),Ko();break;case 5:Po(t);break;case 1:ga(t.type)&&ka(t);break;case 4:Zo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var a=t.type._context;da(Qa,a._currentValue),a._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Qi(e,t,n):(da(_o,1&_o.current),null!==(t=ou(e,t,n))?t.sibling:null);da(_o,1&_o.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return au(e,t,n);t.flags|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),da(_o,_o.current),r)break;return null;case 23:case 24:return t.lanes=0,Vi(e,t,n)}return ou(e,t,n)}Li=0!==(16384&e.flags)}else Li=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=va(t,fa.current),oo(t,n),a=ui(null,t,r,e,a,n),t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,ga(r)){var o=!0;ka(t)}else o=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,so(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&go(t,r,u,e),a.updater=bo,t.stateNode=a,a._reactInternals=t,wo(t,r,e,n),t=Gi(null,t,r,!0,o,n)}else t.tag=0,_i(null,t,a,n),t=t.child;return t;case 16:a=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=(o=a._init)(a._payload),t.type=a,o=t.tag=function(e){if("function"===typeof e)return Us(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===R)return 14}return 2}(a),e=$a(a,e),o){case 0:t=Hi(null,t,a,e,n);break e;case 1:t=Ui(null,t,a,e,n);break e;case 11:t=Bi(null,t,a,e,n);break e;case 14:t=zi(null,t,a,$a(a.type,e),r,n);break e}throw Error(i(306,a,""))}return t;case 0:return r=t.type,a=t.pendingProps,Hi(e,t,r,a=t.elementType===r?a:$a(r,a),n);case 1:return r=t.type,a=t.pendingProps,Ui(e,t,r,a=t.elementType===r?a:$a(r,a),n);case 3:if(qi(t),r=t.updateQueue,null===e||null===r)throw Error(i(282));if(r=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,lo(e,t),ho(t,r,null,n),(r=t.memoizedState.element)===a)Ko(),t=ou(e,t,n);else{if((o=(a=t.stateNode).hydrate)&&(jo=Kr(t.stateNode.containerInfo.firstChild),zo=t,o=Vo=!0),o){if(null!=(e=a.mutableSourceEagerHydrationData))for(a=0;a<e.length;a+=2)(o=e[a])._workInProgressVersionPrimary=e[a+1],Xo.push(o);for(n=Fo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else _i(e,t,r,n),Ko();t=t.child}return t;case 5:return Po(t),null===e&&Uo(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,u=a.children,Hr(r,a)?u=null:null!==o&&Hr(r,o)&&(t.flags|=16),Wi(e,t),_i(e,t,u,n),t.child;case 6:return null===e&&Uo(t),null;case 13:return Qi(e,t,n);case 4:return Zo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Io(t,null,r,n):_i(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Bi(e,t,r,a=t.elementType===r?a:$a(r,a),n);case 7:return _i(e,t,t.pendingProps,n),t.child;case 8:case 12:return _i(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,a=t.pendingProps,u=t.memoizedProps,o=a.value;var s=t.type._context;if(da(Qa,s._currentValue),s._currentValue=o,null!==u)if(s=u.value,0===(o=cr(s,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,o):1073741823))){if(u.children===a.children&&!ha.current){t=ou(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){u=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===s.tag&&((c=co(-1,n&-n)).tag=2,po(s,c)),s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),ao(s.return,n),l.lanes|=n;break}c=c.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}_i(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(a=io(a,o.unstable_observedBits)),t.flags|=1,_i(e,t,r,n),t.child;case 14:return o=$a(a=t.type,t.pendingProps),zi(e,t,a,o=$a(a.type,o),r,n);case 15:return ji(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:$a(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,ga(r)?(e=!0,ka(t)):e=!1,oo(t,n),xo(t,r,a),wo(t,r,a,n),Gi(null,t,r,!0,e,n);case 19:return au(e,t,n);case 23:case 24:return Vi(e,t,n)}throw Error(i(156,t.tag))},al.prototype.render=function(e){el(e,this._internalRoot,null,null)},al.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;el(null,e,null,(function(){t[ea]=null}))},tt=function(e){13===e.tag&&(hs(e,4,ps()),rl(e,4))},nt=function(e){13===e.tag&&(hs(e,67108864,ps()),rl(e,67108864))},rt=function(e){if(13===e.tag){var t=ps(),n=fs(e);hs(e,n,t),rl(e,n)}},at=function(e,t){return t()},Ie=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=oa(r);if(!a)throw Error(i(90));$(r),ne(r,a)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&ie(e,!!n.multiple,t,!1)}},Oe=xs,Ze=function(e,t,n,r,a){var o=Ru;Ru|=4;try{return Ga(98,e.bind(null,t,n,r,a))}finally{0===(Ru=o)&&(qu(),Ka())}},Me=function(){0===(49&Ru)&&(function(){if(null!==as){var e=as;as=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,vs(e,Wa())}))}Ka()}(),Ms())},Pe=function(e,t){var n=Ru;Ru|=2;try{return e(t)}finally{0===(Ru=n)&&(qu(),Ka())}};var sl={Events:[ra,aa,oa,Ae,Re,Ms,{current:!1}]},ll={findFiberByHostInstance:na,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cl={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dl.isDisabled&&dl.supportsFiber)try{Ca=dl.inject(cl),Da=dl}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl,t.createPortal=ul,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw Error(i(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ru;if(0!==(48&n))return e(t);Ru|=1;try{if(e)return Ga(99,e.bind(null,t))}finally{Ru=n,Ka()}},t.hydrate=function(e,t,n){if(!ol(t))throw Error(i(200));return il(null,e,t,!0,n)},t.render=function(e,t,n){if(!ol(t))throw Error(i(200));return il(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ol(e))throw Error(i(40));return!!e._reactRootContainer&&(ks((function(){il(null,null,e,!1,(function(){e._reactRootContainer=null,e[ea]=null}))})),!0)},t.unstable_batchedUpdates=xs,t.unstable_createPortal=function(e,t){return ul(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ol(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return il(e,t,n,!1,r)},t.version="17.0.2"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1372:function(e,t){"use strict";var n=60103,r=60106,a=60107,o=60108,i=60114,u=60109,s=60110,l=60112,c=60113,d=60120,p=60115,f=60116,h=60121,m=60122,v=60117,g=60129,b=60131;if("function"===typeof Symbol&&Symbol.for){var y=Symbol.for;n=y("react.element"),r=y("react.portal"),a=y("react.fragment"),o=y("react.strict_mode"),i=y("react.profiler"),u=y("react.provider"),s=y("react.context"),l=y("react.forward_ref"),c=y("react.suspense"),d=y("react.suspense_list"),p=y("react.memo"),f=y("react.lazy"),h=y("react.block"),m=y("react.server.block"),v=y("react.fundamental"),g=y("react.debug_trace_mode"),b=y("react.legacy_hidden")}function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case a:case i:case o:case c:case d:return e;default:switch(e=e&&e.$$typeof){case s:case l:case f:case p:case u:return e;default:return t}}case r:return t}}}},7441:function(e,t,n){"use strict";n(1372)},3381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},3813:function(e,t,n){var r=n(3381);e.exports=f,e.exports.parse=o,e.exports.compile=function(e,t){return u(o(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=p;var a=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,i=0,u="",c=t&&t.delimiter||"/";null!=(n=a.exec(e));){var d=n[0],p=n[1],f=n.index;if(u+=e.slice(i,f),i=f+d.length,p)u+=p[1];else{var h=e[i],m=n[2],v=n[3],g=n[4],b=n[5],y=n[6],x=n[7];u&&(r.push(u),u="");var k=null!=m&&null!=h&&h!==m,w="+"===y||"*"===y,C="?"===y||"*"===y,D=n[2]||c,E=g||b;r.push({name:v||o++,prefix:m||"",delimiter:D,optional:C,repeat:w,partial:k,asterisk:!!x,pattern:E?l(E):x?".*":"[^"+s(D)+"]+?"})}}return i<e.length&&(u+=e.substr(i)),u&&r.push(u),r}function i(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),a=0;a<e.length;a++)"object"===typeof e[a]&&(n[a]=new RegExp("^(?:"+e[a].pattern+")$",d(t)));return function(t,a){for(var o="",u=t||{},s=(a||{}).pretty?i:encodeURIComponent,l=0;l<e.length;l++){var c=e[l];if("string"!==typeof c){var d,p=u[c.name];if(null==p){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(p)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var f=0;f<p.length;f++){if(d=s(p[f]),!n[l].test(d))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(d)+"`");o+=(0===f?c.prefix:c.delimiter)+d}}else{if(d=c.asterisk?encodeURI(p).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(p),!n[l].test(d))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+d+'"');o+=c.prefix+d}}else o+=c}return o}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function p(e,t,n){r(t)||(n=t||n,t=[]);for(var a=(n=n||{}).strict,o=!1!==n.end,i="",u=0;u<e.length;u++){var l=e[u];if("string"===typeof l)i+=s(l);else{var p=s(l.prefix),f="(?:"+l.pattern+")";t.push(l),l.repeat&&(f+="(?:"+p+f+")*"),i+=f=l.optional?l.partial?p+"("+f+")?":"(?:"+p+"("+f+"))?":p+"("+f+")"}}var h=s(n.delimiter||"/"),m=i.slice(-h.length)===h;return a||(i=(m?i.slice(0,-h.length):i)+"(?:"+h+"(?=$))?"),i+=o?"$":a&&m?"":"(?="+h+"|$)",c(new RegExp("^"+i,d(n)),t)}function f(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],a=0;a<e.length;a++)r.push(f(e[a],t,n).source);return c(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return p(o(e,n),t,n)}(e,t,n)}},9195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case o:case u:case i:case f:return e;default:switch(e=e&&e.$$typeof){case l:case p:case v:case m:case s:return e;default:return t}}case a:return t}}}function w(e){return k(e)===d}},8228:function(e,t,n){"use strict";n(9195)},8875:function(e,t,n){"use strict";n.d(t,{ZP:function(){return v}});var r=n(3366),a=n(4578),o=n(2791),i=n(4164),u=!1,s=n(5545),l="unmounted",c="exited",d="entering",p="entered",f="exiting",h=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var a,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(a=c,r.appearStatus=d):a=p:a=t.unmountOnExit||t.mountOnEnter?l:c,r.state={status:a},r.nextCallback=null,r}(0,a.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:c}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==d&&n!==p&&(t=d):n!==d&&n!==p||(t=f)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===d?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===c&&this.setState({status:l})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[i.findDOMNode(this),r],o=a[0],s=a[1],l=this.getTimeouts(),c=r?l.appear:l.enter;!e&&!n||u?this.safeSetState({status:p},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:d},(function(){t.props.onEntering(o,s),t.onTransitionEnd(c,(function(){t.safeSetState({status:p},(function(){t.props.onEntered(o,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:i.findDOMNode(this);t&&!u?(this.props.onExit(r),this.safeSetState({status:f},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:c},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:c},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=a[0],u=a[1];this.props.addEndListener(o,u)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,n=t.children,a=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,r.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.createElement(s.Z.Provider,{value:null},"function"===typeof n?n(e,a):o.cloneElement(o.Children.only(n),a))},t}(o.Component);function m(){}h.contextType=s.Z,h.propTypes={},h.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:m,onEntering:m,onEntered:m,onExit:m,onExiting:m,onExited:m},h.UNMOUNTED=l,h.EXITED=c,h.ENTERING=d,h.ENTERED=p,h.EXITING=f;var v=h},5545:function(e,t,n){"use strict";var r=n(2791);t.Z=r.createContext(null)},6374:function(e,t,n){"use strict";n(1725);var r=n(2791),a=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;a=o("react.element"),t.Fragment=o("react.fragment")}var i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:l,ref:c,props:o,_owner:i.current}}t.jsx=l,t.jsxs=l},9117:function(e,t,n){"use strict";var r=n(1725),a=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var i=60109,u=60110,s=60112;t.Suspense=60113;var l=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;a=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),i=d("react.provider"),u=d("react.context"),s=d("react.forward_ref"),t.Suspense=d("react.suspense"),l=d("react.memo"),c=d("react.lazy")}var p="function"===typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var y=b.prototype=new g;y.constructor=b,r(y,v.prototype),y.isPureReactComponent=!0;var x={current:null},k=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,o={},i=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(i=""+t.key),t)k.call(t,r)&&!w.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:a,type:e,key:i,ref:u,props:o,_owner:x.current}}function D(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var E=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,n,r,i){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case a:case o:s=!0}}if(s)return i=i(s=e),e=""===r?"."+S(s,0):r,Array.isArray(i)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),I(i,t,n,"",(function(e){return e}))):null!=i&&(D(i)&&(i=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(E,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=r+S(u=e[l],l);s+=I(u,t,n,c,i)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(u=e.next()).done;)s+=I(u=u.value,t,n,c=r+S(u,l++),i);else if("object"===u)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function F(e,t,n){if(null==e)return e;var r=[],a=0;return I(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function T(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function A(){var e=N.current;if(null===e)throw Error(f(321));return e}var R={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:F,forEach:function(e,t,n){F(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return F(e,(function(){t++})),t},toArray:function(e){return F(e,(function(e){return e}))||[]},only:function(e){if(!D(e))throw Error(f(143));return e}},t.Component=v,t.PureComponent=b,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(f(267,e));var o=r({},e.props),i=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=x.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!w.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];o.children=l}return{$$typeof:a,type:e.type,key:i,ref:u,props:o,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=D,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return A().useCallback(e,t)},t.useContext=function(e,t){return A().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return A().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return A().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return A().useLayoutEffect(e,t)},t.useMemo=function(e,t){return A().useMemo(e,t)},t.useReducer=function(e,t,n){return A().useReducer(e,t,n)},t.useRef=function(e){return A().useRef(e)},t.useState=function(e){return A().useState(e)},t.version="17.0.2"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(A){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,o=Object.create(a.prototype),i=new F(r||[]);return o._invoke=function(e,t,n){var r=d;return function(a,o){if(r===f)throw new Error("Generator is already running");if(r===h){if("throw"===a)throw o;return N()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var u=E(i,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var s=c(e,t,n);if("normal"===s.type){if(r=n.done?h:p,s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=h,n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=l;var d="suspendedStart",p="suspendedYield",f="executing",h="completed",m={};function v(){}function g(){}function b(){}var y={};s(y,o,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(T([])));k&&k!==n&&r.call(k,o)&&(y=k);var w=b.prototype=v.prototype=Object.create(y);function C(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function D(e,t){function n(a,o,i,u){var s=c(e[a],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"===typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,u)}),(function(e){n("throw",e,i,u)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,u)}))}u(s.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var a=c(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function F(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:N}}function N(){return{value:t,done:!0}}return g.prototype=b,s(w,"constructor",b),s(b,"constructor",g),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},C(D.prototype),s(D.prototype,i,(function(){return this})),e.AsyncIterator=D,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new D(l(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(w),s(w,u,"Generator"),s(w,o,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,F.prototype={constructor:F,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return u.type="throw",u.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;I(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},6813:function(e,t){"use strict";var n,r,a,o;if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,c=null,d=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(d,0))},r=function(e,t){c=setTimeout(e,t)},a=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,f=window.clearTimeout;if("undefined"!==typeof console){var h=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,v=null,g=-1,b=5,y=0;t.unstable_shouldYield=function(){return t.unstable_now()>=y},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,k=x.port2;x.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();y=e+b;try{v(!0,e)?k.postMessage(null):(m=!1,v=null)}catch(n){throw k.postMessage(null),n}}else m=!1},n=function(e){v=e,m||(m=!0,k.postMessage(null))},r=function(e,n){g=p((function(){e(t.unstable_now())}),n)},a=function(){f(g),g=-1}}function w(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,a=e[r];if(!(void 0!==a&&0<E(a,t)))break e;e[r]=t,e[n]=a,n=r}}function C(e){return void 0===(e=e[0])?null:e}function D(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length;r<a;){var o=2*(r+1)-1,i=e[o],u=o+1,s=e[u];if(void 0!==i&&0>E(i,n))void 0!==s&&0>E(s,i)?(e[r]=s,e[u]=n,r=u):(e[r]=i,e[o]=n,r=o);else{if(!(void 0!==s&&0>E(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],I=[],F=1,T=null,N=3,A=!1,R=!1,O=!1;function Z(e){for(var t=C(I);null!==t;){if(null===t.callback)D(I);else{if(!(t.startTime<=e))break;D(I),t.sortIndex=t.expirationTime,w(S,t)}t=C(I)}}function M(e){if(O=!1,Z(e),!R)if(null!==C(S))R=!0,n(P);else{var t=C(I);null!==t&&r(M,t.startTime-e)}}function P(e,n){R=!1,O&&(O=!1,a()),A=!0;var o=N;try{for(Z(n),T=C(S);null!==T&&(!(T.expirationTime>n)||e&&!t.unstable_shouldYield());){var i=T.callback;if("function"===typeof i){T.callback=null,N=T.priorityLevel;var u=i(T.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?T.callback=u:T===C(S)&&D(S),Z(n)}else D(S);T=C(S)}if(null!==T)var s=!0;else{var l=C(I);null!==l&&r(M,l.startTime-n),s=!1}return s}finally{T=null,N=o,A=!1}}var L=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||A||(R=!0,n(P))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return C(S)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=L,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,o,i){var u=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?u+i:u:i=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:F++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>u?(e.sortIndex=i,w(I,e),null===C(S)&&e===C(I)&&(O?a():O=!0,r(M,i-u))):(e.sortIndex=s,w(S,e),R||A||(R=!0,n(P))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},6699:function(e,t,n){var r=n(2501),a=n(9112),o=n(2132),i=n(890),u=n(4113),s=n(1350),l=n(3411);l.alea=r,l.xor128=a,l.xorwow=o,l.xorshift7=i,l.xor4096=u,l.tychei=s,e.exports=l},2501:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n=function(){var e=4022871197;return function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)}}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function u(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function s(e,t){var n=new i(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.alea=s}(0,e=n.nmd(e),n.amdD)},1350:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function u(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function s(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.tychei=s}(0,e=n.nmd(e),n.amdD)},9112:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function u(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function s(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.xor128=s}(0,e=n.nmd(e),n.amdD)},4113:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,o=t.i;return t.w=r=r+1640531527|0,n=a[o+34&127],e=a[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[o]=n^e,t.i=o,n+(r^r>>>16)|0},function(e,t){var n,r,a,o,i,u=[],s=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,s=Math.max(s,t.length)),a=0,o=-32;o<s;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(i=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(i=i+1640531527|0,a=0==(n=u[127&o]^=r+i)?a+1:0);for(a>=128&&(u[127&(t&&t.length||0)]=-1),a=127,o=512;o>0;--o)r=u[a+34&127],n=u[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,u[a]=r^n;e.w=i,e.X=u,e.i=a}(t,e)}function u(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function s(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.X&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.xor4096=s}(0,e=n.nmd(e),n.amdD)},890:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function u(e,t){return t.x=e.x.slice(),t.i=e.i,t}function s(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.x&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.xorshift7=s}(0,e=n.nmd(e),n.amdD)},2132:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function u(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function s(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.xorwow=s}(0,e=n.nmd(e),n.amdD)},3411:function(e,t,n){var r;!function(a,o){var i,u=(0,eval)("this"),s=256,l=o.pow(s,6),c=o.pow(2,52),d=2*c,p=255;function f(e,t,n){var r=[],p=g(v((t=1==t?{entropy:!0}:t||{}).entropy?[e,b(a)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(s):(e=new Uint8Array(s),(u.crypto||u.msCrypto).getRandomValues(e)),b(e)}catch(r){var t=u.navigator,n=t&&t.plugins;return[+new Date,u,n,u.screen,b(a)]}}():e,3),r),f=new h(r),y=function(){for(var e=f.g(6),t=l,n=0;e<c;)e=(e+n)*s,t*=s,n=f.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return y.int32=function(){return 0|f.g(4)},y.quick=function(){return f.g(4)/4294967296},y.double=y,g(b(f.S),a),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,f),e.state=function(){return m(f,{})}),n?(o.random=e,t):e})(y,p,"global"in t?t.global:this==o,t.state)}function h(e){var t,n=e.length,r=this,a=0,o=r.i=r.j=0,i=r.S=[];for(n||(e=[n++]);a<s;)i[a]=a++;for(a=0;a<s;a++)i[a]=i[o=p&o+e[a%n]+(t=i[a])],i[o]=t;(r.g=function(e){for(var t,n=0,a=r.i,o=r.j,i=r.S;e--;)t=i[a=p&a+1],n=n*s+i[p&(i[a]=i[o=p&o+t])+(i[o]=t)];return r.i=a,r.j=o,n})(s)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function v(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(v(e[n],t-1))}catch(o){}return r.length?r:"string"==a?e:e+"\0"}function g(e,t){for(var n,r=e+"",a=0;a<r.length;)t[p&a]=p&(n^=19*t[p&a])+r.charCodeAt(a++);return b(t)}function b(e){return String.fromCharCode.apply(0,e)}if(o.seedrandom=f,g(o.random(),a),e.exports){e.exports=f;try{i=n(5042)}catch(y){}}else void 0===(r=function(){return f}.call(t,n,t,e))||(e.exports=r)}([],Math)},914:function(){},5410:function(){},8628:function(){},5778:function(){},1601:function(){},7792:function(){},4977:function(){},5042:function(){},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return a}})},3668:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(1120),a=n(8814);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var i=n(7326);function u(e,t){if(t&&("object"===o(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}function s(e){var t=(0,a.Z)();return function(){var n,a=(0,r.Z)(e);if(t){var o=(0,r.Z)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return u(this,n)}}},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},7462:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9611);function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},4578:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9611);function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},8814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}n.d(t,{Z:function(){return r}})},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(3878);var a=n(181),o=n(5267);function i(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(s){u=!0,a=s}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(e,t)||(0,a.Z)(e,t)||(0,o.Z)()}},168:function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{Z:function(){return r}})},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);var a=n(9199),o=n(181);function i(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,a.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(907);function a(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){"use strict";var e={};n.r(e),n.d(e,{browserFiles:function(){return Vs},browserHTTPRequest:function(){return el},concatenateArrayBuffers:function(){return Lu},copyModel:function(){return Is},decodeWeights:function(){return Au},encodeWeights:function(){return Tu},fromMemory:function(){return al},getLoadHandlers:function(){return Ku},getModelArtifactsForJSON:function(){return zu},getModelArtifactsInfoForJSON:function(){return Vu},getSaveHandlers:function(){return qu},http:function(){return Js},isHTTPScheme:function(){return $s},listModels:function(){return Cs},loadWeights:function(){return Gs},moveModel:function(){return Ts},registerLoadRouter:function(){return Gu},registerSaveRouter:function(){return Uu},removeModel:function(){return Es},weightsLoaderFactory:function(){return Ks},withSaveHandler:function(){return ol}});var t={};n.r(t),n.d(t,{conv2d:function(){return qf},depthwiseConv2d:function(){return Yf},matMul:function(){return $f}});var r={};n.r(r),n.d(r,{json:function(){return _C}});var a={};n.r(a),n.d(a,{json:function(){return BC}});var o={};n.r(o),n.d(o,{json:function(){return zC}});var i={};n.r(i),n.d(i,{json:function(){return jC}});var u={};n.r(u),n.d(u,{json:function(){return VC}});var s={};n.r(s),n.d(s,{json:function(){return WC}});var l={};n.r(l),n.d(l,{json:function(){return HC}});var c={};n.r(c),n.d(c,{json:function(){return UC}});var d={};n.r(d),n.d(d,{json:function(){return GC}});var p={};n.r(p),n.d(p,{json:function(){return qC}});var f={};n.r(f),n.d(f,{json:function(){return KC}});var h={};n.r(h),n.d(h,{json:function(){return XC}});var m={};n.r(m),n.d(m,{json:function(){return YC}});var v={};n.r(v),n.d(v,{json:function(){return $C}});var g={};n.r(g),n.d(g,{json:function(){return QC}});var b={};n.r(b),n.d(b,{json:function(){return JC}});var y={};n.r(y),n.d(y,{json:function(){return eD}});var x={};n.r(x),n.d(x,{json:function(){return tD}});var k={};n.r(k),n.d(k,{json:function(){return nD}});var w={};n.r(w),n.d(w,{OP_SCOPE_SUFFIX:function(){return Cu},abs:function(){return Ol},acos:function(){return Zl},acosh:function(){return Ml},add:function(){return Pl},addN:function(){return Ll},all:function(){return _l},any:function(){return Bl},argMax:function(){return zl},argMin:function(){return jl},asin:function(){return Vl},asinh:function(){return Wl},atan:function(){return Hl},atan2:function(){return Ul},atanh:function(){return Gl},avgPool:function(){return cc},avgPool3d:function(){return dc},basicLSTMCell:function(){return bc},batchNorm:function(){return xc},batchNorm2d:function(){return kc},batchNorm3d:function(){return wc},batchNorm4d:function(){return Cc},batchToSpaceND:function(){return yc},bincount:function(){return Dc},booleanMaskAsync:function(){return Sf},broadcastArgs:function(){return Ec},broadcastTo:function(){return Sc},buffer:function(){return Ms},cast:function(){return Ps},ceil:function(){return Ic},clipByValue:function(){return Fc},clone:function(){return Ls},complex:function(){return Eu},concat:function(){return pc},concat1d:function(){return Tc},concat2d:function(){return Nc},concat3d:function(){return Ac},concat4d:function(){return Rc},conv1d:function(){return Zc},conv2d:function(){return Oc},conv2dTranspose:function(){return Pc},conv3d:function(){return Lc},conv3dTranspose:function(){return Bc},cos:function(){return zc},cosh:function(){return jc},cosineWindow:function(){return Bf},cumsum:function(){return Vc},denseBincount:function(){return Wc},depthToSpace:function(){return Hc},depthwiseConv2d:function(){return Uc},diag:function(){return Gc},dilation2d:function(){return qc},div:function(){return Xc},divNoNan:function(){return Jc},dot:function(){return ed},dropout:function(){return Lf},einsum:function(){return td},elu:function(){return nd},enclosingPowerOfTwo:function(){return _f},equal:function(){return Yc},erf:function(){return rd},exp:function(){return ad},expandDims:function(){return od},expm1:function(){return id},eye:function(){return sd},fft:function(){return Qp},fill:function(){return ld},floor:function(){return cd},floorDiv:function(){return Kc},fused:function(){return t},gather:function(){return dd},gatherND:function(){return Pf},greater:function(){return pd},greaterEqual:function(){return fd},ifft:function(){return Jp},imag:function(){return hd},image:function(){return om},inTopKAsync:function(){return jf},irfft:function(){return ef},isFinite:function(){return md},isInf:function(){return vd},isNaN:function(){return gd},leakyRelu:function(){return bd},less:function(){return yd},lessEqual:function(){return xd},linalg:function(){return im},linspace:function(){return kd},localResponseNormalization:function(){return wd},log:function(){return Cd},log1p:function(){return Dd},logSigmoid:function(){return Id},logSoftmax:function(){return Ad},logSumExp:function(){return Bd},logicalAnd:function(){return zd},logicalNot:function(){return jd},logicalOr:function(){return Vd},logicalXor:function(){return Wd},losses:function(){return um},matMul:function(){return fc},max:function(){return Fd},maxPool:function(){return Hd},maxPool3d:function(){return Ud},maxPoolWithArgmax:function(){return Gd},maximum:function(){return qd},mean:function(){return Kd},meshgrid:function(){return $d},min:function(){return Qd},minimum:function(){return Jd},mirrorPad:function(){return ep},mod:function(){return tp},moments:function(){return rp},movingAverage:function(){return Nf},mul:function(){return hc},multiRNNCell:function(){return ap},multinomial:function(){return op},neg:function(){return Ed},norm:function(){return Tf},notEqual:function(){return ip},oneHot:function(){return up},ones:function(){return Yd},onesLike:function(){return sp},op:function(){return Du},outerProduct:function(){return lp},pad:function(){return cp},pad1d:function(){return dp},pad2d:function(){return pp},pad3d:function(){return fp},pad4d:function(){return hp},pool:function(){return vp},pow:function(){return gp},prelu:function(){return bp},print:function(){return _s},prod:function(){return yp},rand:function(){return xp},randomGamma:function(){return Ep},randomNormal:function(){return Sp},randomUniform:function(){return Ip},range:function(){return Fp},real:function(){return Tp},reciprocal:function(){return Np},relu:function(){return Ap},relu6:function(){return Rp},reshape:function(){return lc},reverse:function(){return Op},reverse1d:function(){return Zp},reverse2d:function(){return Mp},reverse3d:function(){return Pp},reverse4d:function(){return Lp},rfft:function(){return nf},round:function(){return _p},rsqrt:function(){return Bp},scalar:function(){return Al},scatterND:function(){return Of},selu:function(){return zp},separableConv2d:function(){return jp},setdiff1dAsync:function(){return Wp},sigmoid:function(){return mc},sign:function(){return Hp},signal:function(){return am},sin:function(){return Up},sinh:function(){return Gp},slice:function(){return vc},slice1d:function(){return qp},slice2d:function(){return Kp},slice3d:function(){return Xp},slice4d:function(){return Yp},softmax:function(){return $p},softplus:function(){return Sd},spaceToBatchND:function(){return mp},sparse:function(){return sm},sparseToDense:function(){return Mf},spectral:function(){return rm},split:function(){return tf},sqrt:function(){return rf},square:function(){return np},squaredDifference:function(){return af},squeeze:function(){return of},stack:function(){return uf},step:function(){return sf},stridedSlice:function(){return lf},string:function(){return lm},sub:function(){return Td},sum:function(){return Nd},tan:function(){return cf},tanh:function(){return gc},tensor:function(){return Iu},tensor1d:function(){return df},tensor2d:function(){return pf},tensor3d:function(){return ll},tensor4d:function(){return ff},tensor5d:function(){return hf},tensor6d:function(){return mf},tile:function(){return ud},topk:function(){return vf},transpose:function(){return If},truncatedNormal:function(){return gf},unique:function(){return bf},unsortedSegmentSum:function(){return yf},unstack:function(){return xf},variable:function(){return kf},where:function(){return $c},whereAsync:function(){return Df},zeros:function(){return Xd},zerosLike:function(){return Qc}});var C=n(2791),D=n(4164),E=n(4578),S=n(7462);function I(e){return"/"===e.charAt(0)}function F(e,t){for(var n=t,r=n+1,a=e.length;r<a;n+=1,r+=1)e[n]=e[r];e.pop()}var T=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],o=e&&I(e),i=t&&I(t),u=o||i;if(e&&I(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var s=a[a.length-1];n="."===s||".."===s||""===s}else n=!1;for(var l=0,c=a.length;c>=0;c--){var d=a[c];"."===d?F(a,c):".."===d?(F(a,c),l++):l&&(F(a,c),l--)}if(!u)for(;l--;l)a.unshift("..");!u||""===a[0]||a[0]&&I(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p},N="Invariant failed";function A(e,t){if(!e)throw new Error(N)}function R(e){return"/"===e.charAt(0)?e:"/"+e}function O(e){return"/"===e.charAt(0)?e.substr(1):e}function Z(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function M(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function P(e){var t=e.pathname,n=e.search,r=e.hash,a=t||"/";return n&&"?"!==n&&(a+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(a+="#"===r.charAt(0)?r:"#"+r),a}function L(e,t,n,r){var a;"string"===typeof e?(a=function(e){var t=e||"/",n="",r="",a=t.indexOf("#");-1!==a&&(r=t.substr(a),t=t.substr(0,a));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),a.state=t):(void 0===(a=(0,S.Z)({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return n&&(a.key=n),r?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=T(a.pathname,r.pathname)):a.pathname=r.pathname:a.pathname||(a.pathname="/"),a}function _(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,a){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,a):a(!0):a(!1!==o)}else a(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var B=!("undefined"===typeof window||!window.document||!window.document.createElement);function z(e,t){t(window.confirm(e))}var j="popstate",V="hashchange";function W(){try{return window.history.state||{}}catch(e){return{}}}function H(e){void 0===e&&{},B||A(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,o=a.forceRefresh,i=void 0!==o&&o,u=a.getUserConfirmation,s=void 0===u?z:u,l=a.keyLength,c=void 0===l?6:l,d=e.basename?M(R(e.basename)):"";function p(e){var t=e||{},n=t.key,r=t.state,a=window.location,o=a.pathname+a.search+a.hash;return d&&Z(o,d),L(o,r,n)}function f(){return Math.random().toString(36).substr(2,c)}var h=_();function m(e){(0,S.Z)(F,e),F.length=t.length,h.notifyListeners(F.location,F.action)}function v(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||y(p(e.state))}function g(){y(p(W()))}var b=!1;function y(e){if(b)!1,m();else{h.confirmTransitionTo(e,"POP",s,(function(t){t?m({action:"POP",location:e}):function(e){var t=F.location,n=k.indexOf(t.key);-1===n&&0;var r=k.indexOf(e.key);-1===r&&0;var a=n-r;a&&(!0,C(a))}(e)}))}}var x=p(W()),k=[x.key];function w(e){return d+P(e)}function C(e){t.go(e)}var D=0;function E(e){1===(D+=e)&&1===e?(window.addEventListener(j,v),r&&window.addEventListener(V,g)):0===D&&(window.removeEventListener(j,v),r&&window.removeEventListener(V,g))}var I=!1;var F={length:t.length,action:"POP",location:x,createHref:w,push:function(e,r){var a="PUSH",o=L(e,r,f(),F.location);h.confirmTransitionTo(o,a,s,(function(e){if(e){var r=w(o),u=o.key,s=o.state;if(n)if(t.pushState({key:u,state:s},null,r),i)window.location.href=r;else{var l=k.indexOf(F.location.key),c=k.slice(0,l+1);c.push(o.key),c,m({action:a,location:o})}else window.location.href=r}}))},replace:function(e,r){var a="REPLACE",o=L(e,r,f(),F.location);h.confirmTransitionTo(o,a,s,(function(e){if(e){var r=w(o),u=o.key,s=o.state;if(n)if(t.replaceState({key:u,state:s},null,r),i)window.location.replace(r);else{var l=k.indexOf(F.location.key);-1!==l&&(k[l]=o.key),m({action:a,location:o})}else window.location.replace(r)}}))},go:C,goBack:function(){C(-1)},goForward:function(){C(1)},block:function(e){void 0===e&&!1;var t=h.setPrompt(e);return I||(E(1),!0),function(){return I&&(!1,E(-1)),t()}},listen:function(e){var t=h.appendListener(e);return E(1),function(){E(-1),t()}}};return F}var U="hashchange",G={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+O(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:O,decodePath:R},slash:{encodePath:R,decodePath:R}};function q(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function K(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function X(e){window.location.replace(q(window.location.href)+"#"+e)}function Y(e){void 0===e&&(e={}),B||A(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,a=void 0===r?z:r,o=n.hashType,i=void 0===o?"slash":o,u=e.basename?M(R(e.basename)):"",s=G[i],l=s.encodePath,c=s.decodePath;function d(){var e=c(K());return u&&(e=Z(e,u)),L(e)}var p=_();function f(e){(0,S.Z)(E,e),E.length=t.length,p.notifyListeners(E.location,E.action)}var h=!1,m=null;function v(){var e,t,n=K(),r=l(n);if(n!==r)X(r);else{var o=d(),i=E.location;if(!h&&(t=o,(e=i).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(m===P(o))return;m=null,function(e){if(h)h=!1,f();else{var t="POP";p.confirmTransitionTo(e,t,a,(function(n){n?f({action:t,location:e}):function(e){var t=E.location,n=x.lastIndexOf(P(t));-1===n&&(n=0);var r=x.lastIndexOf(P(e));-1===r&&(r=0);var a=n-r;a&&(h=!0,k(a))}(e)}))}}(o)}}var g=K(),b=l(g);g!==b&&X(b);var y=d(),x=[P(y)];function k(e){t.go(e)}var w=0;function C(e){1===(w+=e)&&1===e?window.addEventListener(U,v):0===w&&window.removeEventListener(U,v)}var D=!1;var E={length:t.length,action:"POP",location:y,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=q(window.location.href)),n+"#"+l(u+P(e))},push:function(e,t){var n="PUSH",r=L(e,void 0,void 0,E.location);p.confirmTransitionTo(r,n,a,(function(e){if(e){var t=P(r),a=l(u+t);if(K()!==a){m=t,function(e){window.location.hash=e}(a);var o=x.lastIndexOf(P(E.location)),i=x.slice(0,o+1);i.push(t),x=i,f({action:n,location:r})}else f()}}))},replace:function(e,t){var n="REPLACE",r=L(e,void 0,void 0,E.location);p.confirmTransitionTo(r,n,a,(function(e){if(e){var t=P(r),a=l(u+t);K()!==a&&(m=t,X(a));var o=x.indexOf(P(E.location));-1!==o&&(x[o]=t),f({action:n,location:r})}}))},go:k,goBack:function(){k(-1)},goForward:function(){k(1)},block:function(e){void 0===e&&(e=!1);var t=p.setPrompt(e);return D||(C(1),D=!0),function(){return D&&(D=!1,C(-1)),t()}},listen:function(e){var t=p.appendListener(e);return C(1),function(){C(-1),t()}}};return E}function $(e,t,n){return Math.min(Math.max(e,t),n)}function Q(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,a=void 0===r?["/"]:r,o=t.initialIndex,i=void 0===o?0:o,u=t.keyLength,s=void 0===u?6:u,l=_();function c(e){(0,S.Z)(v,e),v.length=v.entries.length,l.notifyListeners(v.location,v.action)}function d(){return Math.random().toString(36).substr(2,s)}var p=$(i,0,a.length-1),f=a.map((function(e){return L(e,void 0,"string"===typeof e?d():e.key||d())})),h=P;function m(e){var t=$(v.index+e,0,v.entries.length-1),r=v.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?c({action:"POP",location:r,index:t}):c()}))}var v={length:f.length,action:"POP",location:f[p],index:p,entries:f,createHref:h,push:function(e,t){var r="PUSH",a=L(e,t,d(),v.location);l.confirmTransitionTo(a,r,n,(function(e){if(e){var t=v.index+1,n=v.entries.slice(0);n.length>t?n.splice(t,n.length-t,a):n.push(a),c({action:r,location:a,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",a=L(e,t,d(),v.location);l.confirmTransitionTo(a,r,n,(function(e){e&&(v.entries[v.index]=a,c({action:r,location:a}))}))},go:m,goBack:function(){m(-1)},goForward:function(){m(1)},canGo:function(e){var t=v.index+e;return t>=0&&t<v.entries.length},block:function(e){return void 0===e&&!1,l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return v}var J=n(2007),ee=n.n(J),te=1073741823,ne="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function re(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var ae=C.createContext||function(e,t){var n,r,a="__create-react-context-"+function(){var e="__global_unique_id__";return ne[e]=(ne[e]||0)+1}()+"__",o=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=re(t.props.value),t}(0,E.Z)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,a=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,a)?(n="function"===typeof t?t(r,a):te,0!==(n|=0)&&this.emitter.set(e.value,n)):n=0}},r.render=function(){return this.props.children},n}(C.Component);o.childContextTypes=((n={})[a]=ee().object.isRequired,n);var i=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}(0,E.Z)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?te:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?te:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(C.Component);return i.contextTypes=((r={})[a]=ee().object,r),{Provider:o,Consumer:i}},oe=ae,ie=n(3813),ue=n.n(ie),se=(n(8228),n(3366)),le=(n(2110),function(e){var t=oe();return t.displayName=e,t}),ce=le("Router-History"),de=le("Router"),pe=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}(0,E.Z)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return C.createElement(de.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},C.createElement(ce.Provider,{children:this.props.children||null,value:this.props.history}))},t}(C.Component);C.Component;C.Component;var fe={},he=0;function me(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,a=n.exact,o=void 0!==a&&a,i=n.strict,u=void 0!==i&&i,s=n.sensitive,l=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=fe[n]||(fe[n]={});if(r[e])return r[e];var a=[],o={regexp:ue()(e,a,t),keys:a};return he<1e4&&(r[e]=o,he++),o}(n,{end:o,strict:u,sensitive:l}),a=r.regexp,i=r.keys,s=a.exec(e);if(!s)return null;var c=s[0],d=s.slice(1),p=e===c;return o&&!p?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:p,params:i.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}C.Component;function ve(e){return"/"===e.charAt(0)?e:"/"+e}function ge(e,t){if(!e)return t;var n=ve(e);return 0!==t.pathname.indexOf(n)?t:(0,S.Z)({},t,{pathname:t.pathname.substr(n.length)})}function be(e){return"string"===typeof e?e:P(e)}function ye(e){return function(){A(!1)}}function xe(){}C.Component;C.Component;C.useContext;C.Component;var ke=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).history=Y(t.props),t}return(0,E.Z)(t,e),t.prototype.render=function(){return C.createElement(pe,{history:this.history,children:this.props.children})},t}(C.Component);var we=function(e,t){return"function"===typeof e?e(t):e},Ce=function(e,t){return"string"===typeof e?L(e,null,null,t):e},De=function(e){return e},Ee=C.forwardRef;"undefined"===typeof Ee&&(Ee=De);var Se=Ee((function(e,t){var n=e.innerRef,r=e.navigate,a=e.onClick,o=(0,se.Z)(e,["innerRef","navigate","onClick"]),i=o.target,u=(0,S.Z)({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||i&&"_self"!==i||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return u.ref=De!==Ee&&t||n,C.createElement("a",u)}));var Ie=Ee((function(e,t){var n=e.component,r=void 0===n?Se:n,a=e.replace,o=e.to,i=e.innerRef,u=(0,se.Z)(e,["component","replace","to","innerRef"]);return C.createElement(de.Consumer,null,(function(e){e||A(!1);var n=e.history,s=Ce(we(o,e.location),e.location),l=s?n.createHref(s):"",c=(0,S.Z)({},u,{href:l,navigate:function(){var t=we(o,e.location),r=P(e.location)===P(Ce(t));(a||r?n.replace:n.push)(t)}});return De!==Ee?c.ref=t||i:c.innerRef=i,C.createElement(r,c)}))})),Fe=function(e){return e},Te=C.forwardRef;"undefined"===typeof Te&&(Te=Fe);Te((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,a=e.activeClassName,o=void 0===a?"active":a,i=e.activeStyle,u=e.className,s=e.exact,l=e.isActive,c=e.location,d=e.sensitive,p=e.strict,f=e.style,h=e.to,m=e.innerRef,v=(0,se.Z)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return C.createElement(de.Consumer,null,(function(e){e||A(!1);var n=c||e.location,a=Ce(we(h,n),n),g=a.pathname,b=g&&g.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),y=b?me(n.pathname,{path:b,exact:s,sensitive:d,strict:p}):null,x=!!(l?l(y,n):y),k="function"===typeof u?u(x):u,w="function"===typeof f?f(x):f;x&&(k=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(k,o),w=(0,S.Z)({},w,i));var D=(0,S.Z)({"aria-current":x&&r||null,className:k,style:w,to:a},v);return Fe!==Te?D.ref=t||m:D.innerRef=m,C.createElement(Ie,D)}))}));var Ne=n(8182),Ae=n(594),Re=n(104),Oe=n(8519),Ze=n(418),Me=n(184),Pe=["className","component"];var Le,_e=n(7125),Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=e.defaultClassName,r=void 0===n?"MuiBox-root":n,a=e.generateClassName,o=(0,Ae.ZP)("div")(Re.Z),i=C.forwardRef((function(e,n){var i=(0,Ze.Z)(t),u=(0,Oe.Z)(e),s=u.className,l=u.component,c=void 0===l?"div":l,d=(0,se.Z)(u,Pe);return(0,Me.jsx)(o,(0,S.Z)({as:c,ref:n,className:(0,Ne.Z)(s,a?a(r):r),theme:i},d))}));return i}({defaultTheme:(0,n(1979).Z)(),defaultClassName:"MuiBox-root",generateClassName:_e.Z.generate}),ze=Be,je=n(9439),Ve=n(4942),We=(n(7441),n(767)),He=n(7630),Ue=n(1046),Ge=n(3967),qe=n(3199);function Ke(){if(Le)return Le;var e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),Le="reverse",e.scrollLeft>0?Le="default":(e.scrollLeft=1,0===e.scrollLeft&&(Le="negative")),document.body.removeChild(e),Le}function Xe(e,t){var n=e.scrollLeft;if("rtl"!==t)return n;switch(Ke()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function Ye(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function $e(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},o=r.ease,i=void 0===o?Ye:o,u=r.duration,s=void 0===u?300:u,l=null,c=t[e],d=!1,p=function(){d=!0},f=function r(o){if(d)a(new Error("Animation cancelled"));else{null===l&&(l=o);var u=Math.min(1,(o-l)/s);t[e]=i(u)*(n-c)+c,u>=1?requestAnimationFrame((function(){a(null)})):requestAnimationFrame(r)}};return c===n?(a(new Error("Element already at target position")),p):(requestAnimationFrame(f),p)}var Qe=n(7602),Je=["onChange"],et={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};var tt=n(7883),nt=n(1883),rt=n(3701),at=n(5159),ot=n(208);function it(e){return(0,at.Z)("MuiTabScrollButton",e)}var ut,st,lt=(0,ot.Z)("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),ct=["className","direction","orientation","disabled"],dt=(0,He.ZP)(rt.Z,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.orientation&&t[n.orientation]]}})((function(e){var t=e.ownerState;return(0,S.Z)((0,Ve.Z)({width:40,flexShrink:0,opacity:.8},"&.".concat(lt.disabled),{opacity:0}),"vertical"===t.orientation&&{width:"100%",height:40,"& svg":{transform:"rotate(".concat(t.isRtl?-90:90,"deg)")}})})),pt=C.forwardRef((function(e,t){var n=(0,Ue.Z)({props:e,name:"MuiTabScrollButton"}),r=n.className,a=n.direction,o=(0,se.Z)(n,ct),i="rtl"===(0,Ge.Z)().direction,u=(0,S.Z)({isRtl:i},n),s=function(e){var t=e.classes,n={root:["root",e.orientation,e.disabled&&"disabled"]};return(0,We.Z)(n,it,t)}(u);return(0,Me.jsx)(dt,(0,S.Z)({component:"div",className:(0,Ne.Z)(s.root,r),ref:t,role:null,ownerState:u,tabIndex:null},o,{children:"left"===a?ut||(ut=(0,Me.jsx)(tt.Z,{fontSize:"small"})):st||(st=(0,Me.jsx)(nt.Z,{fontSize:"small"}))}))})),ft=n(9683);function ht(e){return(0,at.Z)("MuiTabs",e)}var mt=(0,ot.Z)("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),vt=n(8301),gt=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],bt=function(e,t){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild},yt=function(e,t){return e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild},xt=function(e,t,n){for(var r=!1,a=n(e,t);a;){if(a===e.firstChild){if(r)return;r=!0}var o=a.disabled||"true"===a.getAttribute("aria-disabled");if(a.hasAttribute("tabindex")&&!o)return void a.focus();a=n(e,a)}},kt=(0,He.ZP)("div",{name:"MuiTabs",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,Ve.Z)({},"& .".concat(mt.scrollButtons),t.scrollButtons),(0,Ve.Z)({},"& .".concat(mt.scrollButtons),n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile),t.root,n.vertical&&t.vertical]}})((function(e){var t=e.ownerState,n=e.theme;return(0,S.Z)({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&(0,Ve.Z)({},"& .".concat(mt.scrollButtons),(0,Ve.Z)({},n.breakpoints.down("sm"),{display:"none"})))})),wt=(0,He.ZP)("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:function(e,t){var n=e.ownerState;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})((function(e){var t=e.ownerState;return(0,S.Z)({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})})),Ct=(0,He.ZP)("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:function(e,t){var n=e.ownerState;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})((function(e){var t=e.ownerState;return(0,S.Z)({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})})),Dt=(0,He.ZP)("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:function(e,t){return t.indicator}})((function(e){var t=e.ownerState,n=e.theme;return(0,S.Z)({position:"absolute",height:2,bottom:0,width:"100%",transition:n.transitions.create()},"primary"===t.indicatorColor&&{backgroundColor:n.palette.primary.main},"secondary"===t.indicatorColor&&{backgroundColor:n.palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})})),Et=(0,He.ZP)((function(e){var t=e.onChange,n=(0,se.Z)(e,Je),r=C.useRef(),a=C.useRef(null),o=function(){r.current=a.current.offsetHeight-a.current.clientHeight};return C.useEffect((function(){var e=(0,qe.Z)((function(){var e=r.current;o(),e!==r.current&&t(r.current)})),n=(0,Qe.Z)(a.current);return n.addEventListener("resize",e),function(){e.clear(),n.removeEventListener("resize",e)}}),[t]),C.useEffect((function(){o(),t(r.current)}),[t]),(0,Me.jsx)("div",(0,S.Z)({style:et,ref:a},n))}),{name:"MuiTabs",slot:"ScrollbarSize"})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),St={},It=C.forwardRef((function(e,t){var n=(0,Ue.Z)({props:e,name:"MuiTabs"}),r=(0,Ge.Z)(),a="rtl"===r.direction,o=n["aria-label"],i=n["aria-labelledby"],u=n.action,s=n.centered,l=void 0!==s&&s,c=n.children,d=n.className,p=n.component,f=void 0===p?"div":p,h=n.allowScrollButtonsMobile,m=void 0!==h&&h,v=n.indicatorColor,g=void 0===v?"primary":v,b=n.onChange,y=n.orientation,x=void 0===y?"horizontal":y,k=n.ScrollButtonComponent,w=void 0===k?pt:k,D=n.scrollButtons,E=void 0===D?"auto":D,I=n.selectionFollowsFocus,F=n.TabIndicatorProps,T=void 0===F?{}:F,N=n.TabScrollButtonProps,A=void 0===N?{}:N,R=n.textColor,O=void 0===R?"primary":R,Z=n.value,M=n.variant,P=void 0===M?"standard":M,L=n.visibleScrollbar,_=void 0!==L&&L,B=(0,se.Z)(n,gt),z="scrollable"===P,j="vertical"===x,V=j?"scrollTop":"scrollLeft",W=j?"top":"left",H=j?"bottom":"right",U=j?"clientHeight":"clientWidth",G=j?"height":"width",q=(0,S.Z)({},n,{component:f,allowScrollButtonsMobile:m,indicatorColor:g,orientation:x,vertical:j,scrollButtons:E,textColor:O,variant:P,visibleScrollbar:_,fixed:!z,hideScrollbar:z&&!_,scrollableX:z&&!j,scrollableY:z&&j,centered:l&&!z,scrollButtonsHideMobile:!m}),K=function(e){var t=e.vertical,n=e.fixed,r=e.hideScrollbar,a=e.scrollableX,o=e.scrollableY,i=e.centered,u=e.scrollButtonsHideMobile,s=e.classes,l={root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",a&&"scrollableX",o&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",i&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",u&&"scrollButtonsHideMobile"],scrollableX:[a&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]};return(0,We.Z)(l,ht,s)}(q);var X=C.useState(!1),Y=(0,je.Z)(X,2),$=Y[0],Q=Y[1],J=C.useState(St),ee=(0,je.Z)(J,2),te=ee[0],ne=ee[1],re=C.useState({start:!1,end:!1}),ae=(0,je.Z)(re,2),oe=ae[0],ie=ae[1],ue=C.useState({overflow:"hidden",scrollbarWidth:0}),le=(0,je.Z)(ue,2),ce=le[0],de=le[1],pe=new Map,fe=C.useRef(null),he=C.useRef(null),me=function(){var e,t,n=fe.current;if(n){var a=n.getBoundingClientRect();e={clientWidth:n.clientWidth,scrollLeft:n.scrollLeft,scrollTop:n.scrollTop,scrollLeftNormalized:Xe(n,r.direction),scrollWidth:n.scrollWidth,top:a.top,bottom:a.bottom,left:a.left,right:a.right}}if(n&&!1!==Z){var o=he.current.children;if(o.length>0){var i=o[pe.get(Z)];0,t=i?i.getBoundingClientRect():null}}return{tabsMeta:e,tabMeta:t}},ve=(0,ft.Z)((function(){var e,t,n=me(),r=n.tabsMeta,o=n.tabMeta,i=0;if(j)t="top",o&&r&&(i=o.top-r.top+r.scrollTop);else if(t=a?"right":"left",o&&r){var u=a?r.scrollLeftNormalized+r.clientWidth-r.scrollWidth:r.scrollLeft;i=(a?-1:1)*(o[t]-r[t]+u)}var s=(e={},(0,Ve.Z)(e,t,i),(0,Ve.Z)(e,G,o?o[G]:0),e);if(isNaN(te[t])||isNaN(te[G]))ne(s);else{var l=Math.abs(te[t]-s[t]),c=Math.abs(te[G]-s[G]);(l>=1||c>=1)&&ne(s)}})),ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.animation,a=void 0===n||n;a?$e(V,fe.current,e,{duration:r.transitions.duration.standard}):fe.current[V]=e},be=function(e){var t=fe.current[V];j?t+=e:(t+=e*(a?-1:1),t*=a&&"reverse"===Ke()?-1:1),ge(t)},ye=function(){for(var e=fe.current[U],t=0,n=Array.from(he.current.children),r=0;r<n.length;r+=1){var a=n[r];if(t+a[U]>e)break;t+=a[U]}return t},xe=function(){be(-1*ye())},ke=function(){be(ye())},we=C.useCallback((function(e){de({overflow:null,scrollbarWidth:e})}),[]),Ce=(0,ft.Z)((function(e){var t=me(),n=t.tabsMeta,r=t.tabMeta;if(r&&n)if(r[W]<n[W]){var a=n[V]+(r[W]-n[W]);ge(a,{animation:e})}else if(r[H]>n[H]){var o=n[V]+(r[H]-n[H]);ge(o,{animation:e})}})),De=(0,ft.Z)((function(){if(z&&!1!==E){var e,t,n=fe.current,o=n.scrollTop,i=n.scrollHeight,u=n.clientHeight,s=n.scrollWidth,l=n.clientWidth;if(j)e=o>1,t=o<i-u-1;else{var c=Xe(fe.current,r.direction);e=a?c<s-l-1:c>1,t=a?c>1:c<s-l-1}e===oe.start&&t===oe.end||ie({start:e,end:t})}}));C.useEffect((function(){var e,t=(0,qe.Z)((function(){ve(),De()})),n=(0,Qe.Z)(fe.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t),Array.from(he.current.children).forEach((function(t){e.observe(t)}))),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}}),[ve,De]);var Ee=C.useMemo((function(){return(0,qe.Z)((function(){De()}))}),[De]);C.useEffect((function(){return function(){Ee.clear()}}),[Ee]),C.useEffect((function(){Q(!0)}),[]),C.useEffect((function(){ve(),De()})),C.useEffect((function(){Ce(St!==te)}),[Ce,te]),C.useImperativeHandle(u,(function(){return{updateIndicator:ve,updateScrollButtons:De}}),[ve,De]);var Se=(0,Me.jsx)(Dt,(0,S.Z)({},T,{className:(0,Ne.Z)(K.indicator,T.className),ownerState:q,style:(0,S.Z)({},te,T.style)})),Ie=0,Fe=C.Children.map(c,(function(e){if(!C.isValidElement(e))return null;var t=void 0===e.props.value?Ie:e.props.value;pe.set(t,Ie);var n=t===Z;return Ie+=1,C.cloneElement(e,(0,S.Z)({fullWidth:"fullWidth"===P,indicator:n&&!$&&Se,selected:n,selectionFollowsFocus:I,onChange:b,textColor:O,value:t},1!==Ie||!1!==Z||e.props.tabIndex?{}:{tabIndex:0}))})),Te=function(){var e={};e.scrollbarSizeListener=z?(0,Me.jsx)(Et,{onChange:we,className:(0,Ne.Z)(K.scrollableX,K.hideScrollbar)}):null;var t=oe.start||oe.end,n=z&&("auto"===E&&t||!0===E);return e.scrollButtonStart=n?(0,Me.jsx)(w,(0,S.Z)({orientation:x,direction:a?"right":"left",onClick:xe,disabled:!oe.start},A,{className:(0,Ne.Z)(K.scrollButtons,A.className)})):null,e.scrollButtonEnd=n?(0,Me.jsx)(w,(0,S.Z)({orientation:x,direction:a?"left":"right",onClick:ke,disabled:!oe.end},A,{className:(0,Ne.Z)(K.scrollButtons,A.className)})):null,e}();return(0,Me.jsxs)(kt,(0,S.Z)({className:(0,Ne.Z)(K.root,d),ownerState:q,ref:t,as:f},B,{children:[Te.scrollButtonStart,Te.scrollbarSizeListener,(0,Me.jsxs)(wt,{className:K.scroller,ownerState:q,style:(0,Ve.Z)({overflow:ce.overflow},j?"margin".concat(a?"Left":"Right"):"marginBottom",_?void 0:-ce.scrollbarWidth),ref:fe,onScroll:Ee,children:[(0,Me.jsx)(Ct,{"aria-label":o,"aria-labelledby":i,"aria-orientation":"vertical"===x?"vertical":null,className:K.flexContainer,ownerState:q,onKeyDown:function(e){var t=he.current,n=(0,vt.Z)(t).activeElement;if("tab"===n.getAttribute("role")){var r="horizontal"===x?"ArrowLeft":"ArrowUp",o="horizontal"===x?"ArrowRight":"ArrowDown";switch("horizontal"===x&&a&&(r="ArrowRight",o="ArrowLeft"),e.key){case r:e.preventDefault(),xt(t,n,yt);break;case o:e.preventDefault(),xt(t,n,bt);break;case"Home":e.preventDefault(),xt(t,null,bt);break;case"End":e.preventDefault(),xt(t,null,yt)}}},ref:he,role:"tablist",children:Fe}),$&&Se]}),Te.scrollButtonEnd]}))})),Ft=It,Tt=n(4036);function Nt(e){return(0,at.Z)("MuiTab",e)}var At,Rt,Ot=(0,ot.Z)("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),Zt=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],Mt=(0,He.ZP)(rt.Z,{name:"MuiTab",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.label&&n.icon&&t.labelIcon,t["textColor".concat((0,Tt.Z)(n.textColor))],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped]}})((function(e){var t,n,r,a=e.theme,o=e.ownerState;return(0,S.Z)({},a.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},o.label&&{flexDirection:"top"===o.iconPosition||"bottom"===o.iconPosition?"column":"row"},{lineHeight:1.25},o.icon&&o.label&&(0,Ve.Z)({minHeight:72,paddingTop:9,paddingBottom:9},"& > .".concat(Ot.iconWrapper),(0,S.Z)({},"top"===o.iconPosition&&{marginBottom:6},"bottom"===o.iconPosition&&{marginTop:6},"start"===o.iconPosition&&{marginRight:a.spacing(1)},"end"===o.iconPosition&&{marginLeft:a.spacing(1)})),"inherit"===o.textColor&&(t={color:"inherit",opacity:.6},(0,Ve.Z)(t,"&.".concat(Ot.selected),{opacity:1}),(0,Ve.Z)(t,"&.".concat(Ot.disabled),{opacity:a.palette.action.disabledOpacity}),t),"primary"===o.textColor&&(n={color:a.palette.text.secondary},(0,Ve.Z)(n,"&.".concat(Ot.selected),{color:a.palette.primary.main}),(0,Ve.Z)(n,"&.".concat(Ot.disabled),{color:a.palette.text.disabled}),n),"secondary"===o.textColor&&(r={color:a.palette.text.secondary},(0,Ve.Z)(r,"&.".concat(Ot.selected),{color:a.palette.secondary.main}),(0,Ve.Z)(r,"&.".concat(Ot.disabled),{color:a.palette.text.disabled}),r),o.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},o.wrapped&&{fontSize:a.typography.pxToRem(12)})})),Pt=C.forwardRef((function(e,t){var n=(0,Ue.Z)({props:e,name:"MuiTab"}),r=n.className,a=n.disabled,o=void 0!==a&&a,i=n.disableFocusRipple,u=void 0!==i&&i,s=n.fullWidth,l=n.icon,c=n.iconPosition,d=void 0===c?"top":c,p=n.indicator,f=n.label,h=n.onChange,m=n.onClick,v=n.onFocus,g=n.selected,b=n.selectionFollowsFocus,y=n.textColor,x=void 0===y?"inherit":y,k=n.value,w=n.wrapped,D=void 0!==w&&w,E=(0,se.Z)(n,Zt),I=(0,S.Z)({},n,{disabled:o,disableFocusRipple:u,selected:g,icon:!!l,iconPosition:d,label:!!f,fullWidth:s,textColor:x,wrapped:D}),F=function(e){var t=e.classes,n=e.textColor,r=e.fullWidth,a=e.wrapped,o=e.icon,i=e.label,u=e.selected,s=e.disabled,l={root:["root",o&&i&&"labelIcon","textColor".concat((0,Tt.Z)(n)),r&&"fullWidth",a&&"wrapped",u&&"selected",s&&"disabled"],iconWrapper:["iconWrapper"]};return(0,We.Z)(l,Nt,t)}(I),T=l&&f&&C.isValidElement(l)?C.cloneElement(l,{className:(0,Ne.Z)(F.iconWrapper,l.props.className)}):l;return(0,Me.jsxs)(Mt,(0,S.Z)({focusRipple:!u,className:(0,Ne.Z)(F.root,r),ref:t,role:"tab","aria-selected":g,disabled:o,onClick:function(e){!g&&h&&h(e,k),m&&m(e)},onFocus:function(e){b&&!g&&h&&h(e,k),v&&v(e)},ownerState:I,tabIndex:g?0:-1},E,{children:["top"===d||"start"===d?(0,Me.jsxs)(C.Fragment,{children:[T,f]}):(0,Me.jsxs)(C.Fragment,{children:[f,T]}),p]}))}));function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){(0,Ve.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.Label="Label",e.Report="Report"}(At||(At={})),function(e){e.ChangeTab="ChangeTab",e.ModelLoaded="ModelLoaded",e.ReportCreated="ReportCreated"}(Rt||(Rt={}));var Bt=function(e,t){switch(t.type){case Rt.ChangeTab:return _t(_t({},e),{},{currentTab:t.tab});case Rt.ReportCreated:return _t(_t({},e),{},{report:t.report});default:throw new Error("Unexpected action type: ".concat(t))}},zt={isSupported:!!window.showDirectoryPicker,currentTab:At.Label,report:void 0,dispatch:function(){}},jt=(0,C.createContext)(zt),Vt=function(){return(0,C.useContext)(jt)},Wt=function(e){var t=e.children,n=(0,C.useReducer)(Bt,zt),r=(0,je.Z)(n,2),a=r[0],o=r[1];return(0,Me.jsx)(jt.Provider,{value:_t(_t({},a),{},{dispatch:o}),children:t})};function Ht(e,t,n,r,a,o,i){try{var u=e[o](i),s=u.value}catch(l){return void n(l)}u.done?t(s):Promise.resolve(s).then(r,a)}function Ut(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ht(o,r,a,i,u,"next",e)}function u(e){Ht(o,r,a,i,u,"throw",e)}i(void 0)}))}}var Gt=n(7757),qt=n.n(Gt),Kt=n(6151),Xt=n(181);function Yt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,Xt.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw o}}}}var $t=n(3433),Qt=n(5671),Jt=n(3144),en=function(){function e(t,n){(0,Qt.Z)(this,e),this.backend=t,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}return(0,Jt.Z)(e,[{key:"get",value:function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}},{key:"set",value:function(e,t){this.dataIdsCount++,this.data.set(e,t)}},{key:"has",value:function(e){return this.data.has(e)}},{key:"delete",value:function(e){return this.dataIdsCount--,this.data.delete(e)}},{key:"numDataIds",value:function(){return this.dataIdsCount}}]),e}(),tn=function(){function e(){(0,Qt.Z)(this,e)}return(0,Jt.Z)(e,[{key:"refCount",value:function(e){return nn("refCount")}},{key:"incRef",value:function(e){return nn("incRef")}},{key:"timerAvailable",value:function(){return!0}},{key:"time",value:function(e){return nn("time")}},{key:"read",value:function(e){return nn("read")}},{key:"readSync",value:function(e){return nn("readSync")}},{key:"readToGPU",value:function(e,t){return nn("readToGPU")}},{key:"numDataIds",value:function(){return nn("numDataIds")}},{key:"disposeData",value:function(e,t){return nn("disposeData")}},{key:"write",value:function(e,t,n){return nn("write")}},{key:"move",value:function(e,t,n,r,a){return nn("move")}},{key:"memory",value:function(){return nn("memory")}},{key:"floatPrecision",value:function(){return nn("floatPrecision")}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"dispose",value:function(){return nn("dispose")}}]),e}();function nn(e){throw new Error("'".concat(e,"' not yet implemented or not found in the registry. ")+"This kernel may not be supported by the tfjs backend you have chosen")}function rn(e){for(var t=e.length,n=0;t>0;)n=Math.random()*t|0,un(e,--t,n)}function an(e,t,n){return Math.max(e,Math.min(t,n))}function on(e){return e%2===0?e:e+1}function un(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function sn(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function ln(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function cn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";ln(hn(e,t),(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}))}function dn(e){ln(null!=e,(function(){return"The input to the tensor constructor must be a non-null value."}))}function pn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),Array.isArray(e)||En(e)&&!n)for(var r=0;r<e.length;++r)pn(e[r],t,n);else t.push(e);return t}function fn(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function hn(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function mn(e){return e%1===0}function vn(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function gn(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function bn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return 0},n=arguments.length>2?arguments[2]:void 0;return new Promise((function(r,a){var o=0;!function i(){if(e())r();else{o++;var u=t(o);null!=n&&o>=n?a():setTimeout(i,u)}}()}))}function yn(e,t){for(var n=1,r=-1,a=0;a<e.length;++a)if(e[a]>=0)n*=e[a];else if(-1===e[a]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. "+"Found -1 at dim ".concat(r," and dim ").concat(a));r=a}else if(e[a]<0)throw Error("Shapes can not be < 0. Found ".concat(e[a]," at dim ").concat(a));if(-1===r){if(t>0&&t!==n)throw Error("Size(".concat(t,") must match the product of shape ").concat(e));return e}if(0===n)throw Error("Cannot infer the missing size in [".concat(e,"] when ")+"there are 0 elements");if(t%n!==0)throw Error("The implicit shape can't be a fractional number. "+"Got ".concat(t," / ").concat(n));var o=e.slice();return o[r]=t/n,o}function xn(e,t){var n=t.length;return ln((e=null==e?t.map((function(e,t){return t})):[].concat(e)).every((function(e){return e>=-n&&e<n})),(function(){return"All values in axis param must be in range [-".concat(n,", ").concat(n,") but ")+"got axis ".concat(e)})),ln(e.every((function(e){return mn(e)})),(function(){return"All values in axis param must be integers but "+"got axis ".concat(e)})),e.map((function(e){return e<0?n+e:e}))}function kn(e,t){for(var n=[],r=[],a=null!=t&&Array.isArray(t)&&0===t.length,o=null==t||a?null:xn(t,e).sort(),i=0,u=0;u<e.length;++u){if(null!=o){if(o[i]===u&&1!==e[u])throw new Error("Can't squeeze axis ".concat(u," since its dim '").concat(e[u],"' is not 1"));(null==o[i]||o[i]>u)&&1===e[u]&&(n.push(e[u]),r.push(u)),o[i]<=u&&i++}1!==e[u]&&(n.push(e[u]),r.push(u))}return{newShape:n,keptDims:r}}function wn(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type ".concat(e));n=new Uint8Array(t)}return n}function Cn(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type ".concat(e));n=new Array(t)}return n}function Dn(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function En(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}function Sn(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype ".concat(e))}function In(e){return"string"===typeof e||e instanceof String}function Fn(e){return"number"===typeof e}function Tn(e){return Array.isArray(e)?Tn(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":Fn(e)?"float32":In(e)?"string":"boolean"===typeof e?"bool":"float32"}function Nn(e){return!!(e&&e.constructor&&e.call&&e.apply)}function An(e,t){for(var n=t;n<e;++n)if(e%n===0)return n;return e}function Rn(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function On(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=new Array;if(1===t.length)for(var o=t[0]*(r?2:1),i=0;i<o;i++)a[i]=n[e+i];else for(var u=t[0],s=t.slice(1),l=s.reduce((function(e,t){return e*t}))*(r?2:1),c=0;c<u;c++)a[c]=On(e+c*l,s,n,r);return a}function Zn(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];var r=e.reduce((function(e,t){return e*t}))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error("[".concat(e,"] does not match the input size ").concat(t.length).concat(n?" for a complex tensor":"","."));return On(0,e,t,n)}function Mn(e,t){for(var n=Pn(e,t),r=0;r<n.length;r++)n[r]=1;return n}function Pn(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type ".concat(t))}function Ln(e,t){var n=e.reduce((function(e,t){return e*t}),1);if(null==t||"float32"===t)return Zn(e,new Float32Array(n));if("int32"===t)return Zn(e,new Int32Array(n));if("bool"===t)return Zn(e,new Uint8Array(n));throw new Error("Unknown data type ".concat(t))}function _n(e){e.forEach((function(t){ln(Number.isInteger(t)&&t>=0,(function(){return"Tensor must have a shape comprised of positive integers but got "+"shape [".concat(e,"].")}))}))}function Bn(e,t,n){if(0===t)return 0;if(1===t)return e[0];for(var r=e[e.length-1],a=0;a<e.length-1;++a)r+=n[a]*e[a];return r}function zn(e,t,n){if(0===t)return[];if(1===t)return[e];for(var r=new Array(t),a=0;a<r.length-1;++a)r[a]=Math.floor(e/n[a]),e-=r[a]*n[a];return r[r.length-1]=e,r}function jn(e){return e&&e.then&&"function"===typeof e.then}var Vn="tfjsflags",Wn=function(){function e(t){(0,Qt.Z)(this,e),this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=Hn,this.populateURLFlags()}return(0,Jt.Z)(e,[{key:"setPlatform",value:function(e,t){null!=this.platform&&(Gn().getBool("IS_TEST")||Gn().getBool("PROD")||console.warn("Platform ".concat(this.platformName," has already been set. ")+"Overwriting the platform with ".concat(t,"."))),this.platformName=e,this.platform=t}},{key:"registerFlag",value:function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){var r=this.urlFlags[e];Gn().getBool("IS_TEST")||Gn().getBool("PROD")||console.warn("Setting feature override from URL ".concat(e,": ").concat(r,".")),this.set(e,r)}}},{key:"getAsync",value:function(){var e=Ut(qt().mark((function e(t){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in this.flags)){e.next=2;break}return e.abrupt("return",this.flags[t]);case 2:return e.next=4,this.evaluateFlag(t);case 4:return this.flags[t]=e.sent,e.abrupt("return",this.flags[t]);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(e){if(e in this.flags)return this.flags[e];var t=this.evaluateFlag(e);if(jn(t))throw new Error("Flag ".concat(e," cannot be synchronously evaluated. ")+"Please use getAsync() instead.");return this.flags[e]=t,this.flags[e]}},{key:"getNumber",value:function(e){return this.get(e)}},{key:"getBool",value:function(e){return this.get(e)}},{key:"getFlags",value:function(){return this.flags}},{key:"features",get:function(){return this.flags}},{key:"set",value:function(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag ".concat(e," as it has not been registered."));this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}},{key:"evaluateFlag",value:function(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '".concat(e,"': no evaluation function found."));return this.flagRegistry[e].evaluationFn()}},{key:"setFlags",value:function(e){this.flags=Object.assign({},e)}},{key:"reset",value:function(){this.flags={},this.urlFlags={},this.populateURLFlags()}},{key:"populateURLFlags",value:function(){var e=this;if("undefined"!==typeof this.global&&"undefined"!==typeof this.global.location&&"undefined"!==typeof this.global.location.search){var t=this.getQueryParams(this.global.location.search);if(Vn in t)t.tfjsflags.split(",").forEach((function(t){var n=t.split(":"),r=(0,je.Z)(n,2),a=r[0],o=r[1];e.urlFlags[a]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if("".concat(+t)===t)return+t;throw new Error("Could not parse value flag value ".concat(t," for flag ").concat(e,"."))}(a,o)}))}}}]),e}();function Hn(e){var t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return Un(t,r[0],r[1]),r.join("=")})),t}function Un(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}function Gn(){return Kn}var qn,Kn=null;function Xn(){if(null==qn){var e;if("undefined"!==typeof window)e=window;else if("undefined"!==typeof n.g)e=n.g;else if("undefined"!==typeof process)e=process;else{if("undefined"===typeof self)throw new Error("Could not find a global object");e=self}qn=e}return qn}function Yn(e,t){var n=function(){var e=Xn();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);var r=t();return n.set(e,r),n.get(e)}var $n="Abs",Qn="Acos",Jn="Acosh",er="Add",tr="AddN",nr="All",rr="Any",ar="ArgMax",or="ArgMin",ir="Asin",ur="Asinh",sr="Atan",lr="Atanh",cr="Atan2",dr="AvgPool",pr="AvgPoolGrad",fr="AvgPool3D",hr="AvgPool3DGrad",mr="BatchMatMul",vr="BatchToSpaceND",gr="Bincount",br="BroadcastArgs",yr="Cast",xr="Ceil",kr="ClipByValue",wr="Complex",Cr="ComplexAbs",Dr="Concat",Er="Conv2D",Sr="Conv2DBackpropFilter",Ir="Conv2DBackpropInput",Fr="Conv3D",Tr="Conv3DBackpropFilterV2",Nr="Conv3DBackpropInputV2",Ar="Cos",Rr="Cosh",Or="Cumsum",Zr="CropAndResize",Mr="DenseBincount",Pr="DepthToSpace",Lr="DepthwiseConv2dNative",_r="DepthwiseConv2dNativeBackpropFilter",Br="DepthwiseConv2dNativeBackpropInput",zr="Diag",jr="Dilation2D",Vr="Dilation2DBackpropInput",Wr="Dilation2DBackpropFilter",Hr="RealDiv",Ur="Einsum",Gr="Elu",qr="EluGrad",Kr="Erf",Xr="Equal",Yr="Exp",$r="ExpandDims",Qr="Expm1",Jr="FFT",ea="Fill",ta="FlipLeftRight",na="Floor",ra="FloorDiv",aa="FusedBatchNorm",oa="GatherV2",ia="GatherNd",ua="Greater",sa="GreaterEqual",la="Identity",ca="IFFT",da="Imag",pa="IsFinite",fa="IsInf",ha="IsNan",ma="LeakyRelu",va="Less",ga="LessEqual",ba="LinSpace",ya="Log",xa="Log1p",ka="LogicalAnd",wa="LogicalNot",Ca="LogicalOr",Da="LRN",Ea="LRNGrad",Sa="Max",Ia="Maximum",Fa="MaxPool",Ta="MaxPoolGrad",Na="MaxPool3D",Aa="MaxPool3DGrad",Ra="MaxPoolWithArgmax",Oa="Mean",Za="Min",Ma="Minimum",Pa="MirrorPad",La="Mod",_a="Multinomial",Ba="Multiply",za="Neg",ja="NotEqual",Va="NonMaxSuppressionV3",Wa="NonMaxSuppressionV4",Ha="NonMaxSuppressionV5",Ua="OnesLike",Ga="OneHot",qa="Pack",Ka="PadV2",Xa="Pow",Ya="Prelu",$a="Prod",Qa="Range",Ja="Real",eo="Reciprocal",to="Relu",no="Reshape",ro="ResizeNearestNeighbor",ao="ResizeNearestNeighborGrad",oo="ResizeBilinear",io="ResizeBilinearGrad",uo="Relu6",so="Reverse",lo="Round",co="Rsqrt",po="ScatterNd",fo="Select",ho="Selu",mo="Slice",vo="Sin",go="Sinh",bo="Sign",yo="Sigmoid",xo="Softplus",ko="Sqrt",wo="Sum",Co="SpaceToBatchND",Do="SplitV",Eo="Softmax",So="SparseFillEmptyRows",Io="SparseReshape",Fo="SparseSegmentMean",To="SparseSegmentSum",No="SparseToDense",Ao="SquaredDifference",Ro="Square",Oo="StridedSlice",Zo="StringNGrams",Mo="StringSplit",Po="StringToHashBucketFast",Lo="Sub",_o="Tan",Bo="Tanh",zo="Tile",jo="TopK",Vo="Transform",Wo="Transpose",Ho="Unique",Uo="Unpack",Go="UnsortedSegmentSum",qo="ZerosLike",Ko="Step",Xo="FromPixels",Yo="RotateWithOffset",$o="_FusedMatMul",Qo="FusedConv2D",Jo="FusedDepthwiseConv2D";function ei(){var e;Gn().getBool("IS_TEST")||Gn().getBool("PROD")||(e=console).warn.apply(e,arguments)}var ti=Yn("kernelRegistry",(function(){return new Map})),ni=Yn("gradRegistry",(function(){return new Map}));function ri(e,t){var n=si(e,t);return ti.get(n)}function ai(e){return ni.get(e)}function oi(e){for(var t=ti.entries(),n=[];;){var r=t.next(),a=r.done,o=r.value;if(a)break;var i=(0,je.Z)(o,2),u=i[0],s=i[1],l=u.split("_");(0,je.Z)(l,1)[0]===e&&n.push(s)}return n}function ii(e){var t=e.kernelName,n=e.backendName,r=si(t,n);ti.has(r)&&ei("The kernel '".concat(t,"' for backend ")+"'".concat(n,"' is already registered")),ti.set(r,e)}function ui(e){var t=e.kernelName;ni.has(t)&&Gn().getBool("DEBUG")&&ei("Overriding the gradient for '".concat(t,"'")),ni.set(t,e)}function si(e,t){return"".concat(t,"_").concat(e)}var li=n(8987),ci=n.n(li)()||li;function di(e){return ci.fromString(e,!0,16)}var pi=di("c3a5c85c97cb3127"),fi=di("b492b66fbe98f273"),hi=di("9ae16a3b2f90404f");function mi(e){return e.xor(e.shru(47))}function vi(e,t,n){var r=e.slice(t,t+n);return ci.fromBytes(Array.from(r),!0,!0)}function gi(e,t){return vi(e,t,8)}function bi(e,t){return vi(e,t,4)}function yi(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function xi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:di("9ddfea08eb382d69"),r=e.xor(t).mul(n);r=r.xor(r.shru(47));var a=t.xor(r).mul(n);return a=(a=a.xor(a.shru(47))).mul(n)}function ki(e,t,n,r){return function(e,t,n,r,a,o){a=a.add(e),o=yi(o.add(a).add(r),21);var i=a;return a=(a=a.add(t)).add(n),o=o.add(yi(a,44)),[a.add(r),o.add(i)]}(gi(e,t),gi(e,t+8),gi(e,t+16),gi(e,t+24),n,r)}function wi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(t>=8){var n=hi.add(2*t),r=gi(e,0).add(hi),a=gi(e,t-8),o=yi(a,37).mul(n).add(r),i=yi(r,25).add(a).mul(n);return xi(o,i,n)}if(t>=4){var u=hi.add(2*t),s=bi(e,0);return xi(s.shl(3).add(t),bi(e,t-4),u)}if(t>0){var l=e[0],c=e[t>>1],d=e[t-1],p=l+(c<<8),f=t+(d<<2);return mi(hi.mul(p).xor(pi.mul(f))).mul(hi)}return hi}function Ci(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=hi.add(2*t),r=gi(e,0).mul(fi),a=gi(e,8),o=gi(e,t-8).mul(n),i=gi(e,t-16).mul(hi);return xi(yi(r.add(a),43).add(yi(o,30)).add(i),r.add(yi(a.add(hi),18)).add(o),n)}function Di(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=hi.add(2*t),r=gi(e,0).mul(hi),a=gi(e,8),o=gi(e,t-8).mul(n),i=gi(e,t-16).mul(hi),u=yi(r.add(a),43).add(yi(o,30)).add(i),s=xi(u,r.add(yi(a.add(hi),18)).add(o),n),l=gi(e,16).mul(n),c=gi(e,24),d=u.add(gi(e,t-32)).mul(n),p=s.add(gi(e,t-24)).mul(n);return xi(yi(l.add(c),43).add(yi(d,30)).add(p),l.add(yi(c.add(r),18)).add(d),n)}function Ei(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=ci.fromNumber(81,!0);if(t<=32)return t<=16?wi(e,t):Ci(e,t);if(t<=64)return Di(e,t);var r=n,a=n.mul(fi).add(113),o=mi(a.mul(hi).add(113)).mul(hi),i=[ci.UZERO,ci.UZERO],u=[ci.UZERO,ci.UZERO];r=r.mul(hi).add(gi(e,0));var s=0,l=64*(t-1>>6),c=l+(t-1&63)-63;do{r=yi(r.add(a).add(i[0]).add(gi(e,s+8)),37).mul(fi),a=yi(a.add(i[1]).add(gi(e,s+48)),42).mul(fi),r=r.xor(u[1]),a=a.add(i[0]).add(gi(e,s+40)),o=yi(o.add(u[0]),33).mul(fi),i=ki(e,s,i[1].mul(fi),r.add(u[0])),u=ki(e,s+32,o.add(u[1]),a.add(gi(e,s+16)));var d=[r,o];o=d[0],r=d[1],s+=64}while(s!==l);var p=fi.add(o.and(255).shl(1));s=c,u[0]=u[0].add(t-1&63),i[0]=i[0].add(u[0]),u[0]=u[0].add(i[0]),r=yi(r.add(a).add(i[0]).add(gi(e,s+8)),37).mul(p),a=yi(a.add(i[1]).add(gi(e,s+48)),42).mul(p),r=r.xor(u[1].mul(9)),a=a.add(i[0].mul(9).add(gi(e,s+40))),o=yi(o.add(u[0]),33).mul(p),i=ki(e,s,i[1].mul(p),r.add(u[0])),u=ki(e,s+32,o.add(u[1]),a.add(gi(e,s+16)));var f=[r,o];return o=f[0],r=f[1],xi(xi(i[0],u[0],p).add(mi(a).mul(pi)).add(o),xi(i[1],u[1],p).add(r),p)}function Si(e,t){return"string"===t?Ti(e):Ii([e],t)}function Ii(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=pn(e)),Gn().getBool("DEBUG")&&function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type ".concat(t," being uploaded contains ").concat(r,"."))}}(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var n=new Uint8Array(e.length),r=0;r<n.length;++r)0!==Math.round(e[r])&&(n[r]=1);return n}throw new Error("Unknown data type ".concat(t))}function Fi(){return Gn().platform.now()}function Ti(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",Gn().platform.encode(e,t)}function Ni(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",Gn().platform.decode(e,t)}var Ai=function(){function e(t,n){(0,Qt.Z)(this,e),this.backendTimer=t,this.logger=n,null==n&&(this.logger=new Ri)}return(0,Jt.Z)(e,[{key:"profileKernel",value:function(e,t,n){var r,a,o=function(){r=n()},i=Fi();if(this.backendTimer.timerAvailable())a=this.backendTimer.time(o);else{o();var u,s=Yt(r);try{for(s.s();!(u=s.n()).done;){u.value.dataSync()}}catch(d){s.e(d)}finally{s.f()}a=Promise.resolve({kernelMs:Fi()-i})}if(Gn().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(var l=function(t){var n=r[t];n.data().then((function(t){!function(e,t,n){if("float32"!==t)return!1;for(var r=0;r<e.length;r++){var a=e[r];if(isNaN(a)||!isFinite(a))return console.warn("Found ".concat(a," in the result of '").concat(n,"'")),!0}}(t,n.dtype,e)}))},c=0;c<r.length;c++)l(c);return{kernelName:e,outputs:r,inputs:t,timeMs:a.then((function(e){return e.kernelMs})),extraInfo:a.then((function(e){return null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""}))}}},{key:"logKernelProfile",value:function(e){var t=this,n=e.kernelName,r=e.outputs,a=e.timeMs,o=e.inputs,i=e.extraInfo;r.forEach((function(e){Promise.all([e.data(),a,i]).then((function(r){t.logger.logKernelProfile(n,e,r[0],r[1],o,r[2])}))}))}}]),e}();var Ri=function(){function e(){(0,Qt.Z)(this,e)}return(0,Jt.Z)(e,[{key:"logKernelProfile",value:function(e,t,n,r,a,o){var i="number"===typeof r?gn("".concat(r,"ms"),9):r.error,u=gn(e,25),s=t.rank,l=t.size,c=gn(t.shape.toString(),14),d="";for(var p in a){var f=a[p];if(null!=f){var h=f.shape||t.shape,m=h.length;d+="".concat(p,": ").concat(m,"D ").concat(m>0?h:""," ")}}console.log("%c".concat(u,"\t%c").concat(i,"\t%c").concat(s,"D ").concat(c,"\t%c").concat(l,"\t%c").concat(d,"\t%c").concat(o),"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}]),e}();function Oi(e,t,n){for(var r={},a={},o=0;o<t.length;o++)r[t[o].id]=!0;for(var i=0;i<e.length;i++){var u=e[i],s=u.inputs;for(var l in s){for(var c=s[l],d=!1,p=0;p<t.length;p++)if(r[c.id]){u.outputs.forEach((function(e){return r[e.id]=!0})),d=!0,a[u.id]=!0;break}if(d)break}}var f={};f[n.id]=!0;for(var h={},m=e.length-1;m>=0;m--)for(var v=e[m],g=v.inputs,b=0;b<v.outputs.length;b++)if(f[v.outputs[b].id]){for(var y in g)f[g[y].id]=!0,h[v.id]=!0;break}for(var x=[],k=0;k<e.length;k++){var w=e[k];if(a[w.id]&&h[w.id]){var C={};for(var D in w.inputs){var E=w.inputs[D];r[E.id]&&(C[D]=E)}var S=Object.assign({},w);S.inputs=C,S.outputs=w.outputs,x.push(S)}}return x}function Zi(e,t,n,r){for(var a=function(a){var o=t[a],i=[];if(o.outputs.forEach((function(t){var n=e[t.id];null!=n?i.push(n):i.push(null)})),null==o.gradient)throw new Error("Cannot compute gradient: gradient function not found "+"for ".concat(o.kernelName,"."));var u=o.gradient(i),s=function(t){if(!(t in u))throw new Error("Cannot backprop through input ".concat(t,". ")+"Available gradients found: ".concat(Object.keys(u),"."));var a=n((function(){return u[t]()}));if("float32"!==a.dtype)throw new Error("Error in gradient for op ".concat(o.kernelName,". The gradient of input ")+"".concat(t," must have 'float32' dtype, but has '").concat(a.dtype,"'"));var i=o.inputs[t];if(!hn(a.shape,i.shape))throw new Error("Error in gradient for op ".concat(o.kernelName,". The gradient of input ")+"'".concat(t,"' has shape '").concat(a.shape,"', which does not match ")+"the shape of the input '".concat(i.shape,"'"));if(null==e[i.id])e[i.id]=a;else{var s=e[i.id];e[i.id]=r(s,a),s.dispose()}};for(var l in o.inputs)s(l)},o=t.length-1;o>=0;o--)a(o)}var Mi=n(136),Pi=n(3668);function Li(e,t,n,r){var a=Rn(t),o=function(e,t,n,r){var a=fn(t),o=r[r.length-1],i=new Array(o).fill(0),u=t.length,s="complex64"===n?ji(e):e;if(u>1)for(var l=0;l<a/o;l++)for(var c=l*o,d=0;d<o;d++)i[d]=Math.max(i[d],_i(s[c+d],0,n).length);return i}(e,t,n,a),i=t.length,u=zi(e,t,n,a,o),s=["Tensor"];return r&&(s.push("  dtype: ".concat(n)),s.push("  rank: ".concat(i)),s.push("  shape: [".concat(t,"]")),s.push("  values:")),s.push(u.map((function(e){return"    "+e})).join("\n")),s.join("\n")}function _i(e,t,n){return gn(Array.isArray(e)?"".concat(parseFloat(e[0].toFixed(7))," + ")+"".concat(parseFloat(e[1].toFixed(7)),"j"):In(e)?"'".concat(e,"'"):"bool"===n?Bi(e):parseFloat(e.toFixed(7)).toString(),t)}function Bi(e){return 0===e?"false":"true"}function zi(e,t,n,r,a){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],i="complex64"===n?2:1,u=t[0],s=t.length;if(0===s){if("complex64"===n){var l=ji(e);return[_i(l[0],0,n)]}return"bool"===n?[Bi(e[0])]:[e[0].toString()]}if(1===s){if(u>20){var c=3*i,d=Array.from(e.slice(0,c)),p=Array.from(e.slice((u-3)*i,u*i));return"complex64"===n&&(d=ji(d),p=ji(p)),["["+d.map((function(e,t){return _i(e,a[t],n)})).join(", ")+", ..., "+p.map((function(e,t){return _i(e,a[u-3+t],n)})).join(", ")+"]"]}var f="complex64"===n?ji(e):Array.from(e);return["["+f.map((function(e,t){return _i(e,a[t],n)})).join(", ")+"]"]}var h=t.slice(1),m=r.slice(1),v=r[0]*i,g=[];if(u>20){for(var b=0;b<3;b++){var y=b*v,x=y+v;g.push.apply(g,(0,$t.Z)(zi(e.slice(y,x),h,n,m,a,!1)))}g.push("...");for(var k=u-3;k<u;k++){var w=k*v,C=w+v;g.push.apply(g,(0,$t.Z)(zi(e.slice(w,C),h,n,m,a,k===u-1)))}}else for(var D=0;D<u;D++){var E=D*v,S=E+v;g.push.apply(g,(0,$t.Z)(zi(e.slice(E,S),h,n,m,a,D===u-1)))}var I=2===s?",":"";g[0]="["+g[0]+I;for(var F=1;F<g.length-1;F++)g[F]=" "+g[F]+I;for(var T=",\n",N=2;N<s;N++)T+="\n";return g[g.length-1]=" "+g[g.length-1]+"]"+(o?"":T),g}function ji(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var Vi=function(){function e(t,n,r){var a=this;if((0,Qt.Z)(this,e),this.dtype=n,this.shape=t.slice(),this.size=fn(t),null!=r){var o=r.length;ln(o===this.size,(function(){return"Length of values '".concat(o,"' does not match the size ")+"inferred by the shape '".concat(a.size,"'.")}))}if("complex64"===n)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||Cn(n,this.size),this.strides=Rn(t)}return(0,Jt.Z)(e,[{key:"set",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];0===r.length&&(r=[0]),ln(r.length===this.rank,(function(){return"The number of provided coordinates (".concat(r.length,") must ")+"match the rank (".concat(t.rank,")")}));var o=this.locToIndex(r);this.values[o]=e}},{key:"get",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&(t=[0]);for(var r=0,a=0,o=t;a<o.length;a++){var i=o[a];if(i<0||i>=this.shape[r]){var u="Requested out of range element at ".concat(t,". ")+"  Buffer shape=".concat(this.shape);throw new Error(u)}r++}for(var s=t[t.length-1],l=0;l<t.length-1;++l)s+=this.strides[l]*t[l];return this.values[s]}},{key:"locToIndex",value:function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}},{key:"indexToLoc",value:function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}},{key:"rank",get:function(){return this.shape.length}},{key:"toTensor",value:function(){return Wi().makeTensor(this.values,this.shape,this.dtype)}}]),e}(),Wi=null,Hi=null;var Ui=function(){function e(t,n,r,a){(0,Qt.Z)(this,e),this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=n||"float32",this.size=fn(t),this.strides=Rn(t),this.dataId=r,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}return(0,Jt.Z)(e,[{key:"rank",get:function(){return this.shape.length}},{key:"buffer",value:function(){var e=Ut(qt().mark((function e(){var t;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data();case 2:return t=e.sent,e.abrupt("return",Hi.buffer(this.shape,this.dtype,t));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bufferSync",value:function(){return Hi.buffer(this.shape,this.dtype,this.dataSync())}},{key:"array",value:function(){var e=Ut(qt().mark((function e(){var t;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data();case 2:return t=e.sent,e.abrupt("return",Zn(this.shape,t,"complex64"===this.dtype));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"arraySync",value:function(){return Zn(this.shape,this.dataSync(),"complex64"===this.dtype)}},{key:"data",value:function(){var e=Ut(qt().mark((function e(){var t,n;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.throwIfDisposed(),t=Wi().read(this.dataId),"string"!==this.dtype){e.next=13;break}return e.next=5,t;case 5:return n=e.sent,e.prev=6,e.abrupt("return",n.map((function(e){return Ni(e)})));case 10:throw e.prev=10,e.t0=e.catch(6),new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().");case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,this,[[6,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"dataToGPU",value:function(e){return this.throwIfDisposed(),Wi().readToGPU(this.dataId,e)}},{key:"dataSync",value:function(){this.throwIfDisposed();var e=Wi().readSync(this.dataId);if("string"===this.dtype)try{return e.map((function(e){return Ni(e)}))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}},{key:"bytes",value:function(){var e=Ut(qt().mark((function e(){var t;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.throwIfDisposed(),e.next=3,Wi().read(this.dataId);case 3:if(t=e.sent,"string"!==this.dtype){e.next=8;break}return e.abrupt("return",t);case 8:return e.abrupt("return",new Uint8Array(t.buffer));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dispose",value:function(){this.isDisposed||(Wi().disposeTensor(this),this.isDisposedInternal=!0)}},{key:"isDisposed",get:function(){return this.isDisposedInternal}},{key:"throwIfDisposed",value:function(){if(this.isDisposed)throw new Error("Tensor is disposed.")}},{key:"print",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Hi.print(this,e)}},{key:"clone",value:function(){return this.throwIfDisposed(),Hi.clone(this)}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.dataSync();return Li(t,this.shape,this.dtype,e)}},{key:"cast",value:function(e){return this.throwIfDisposed(),Hi.cast(this,e)}},{key:"variable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),Wi().makeVariable(this,e,t,n)}}]),e}();function Gi(){return Yn("Tensor",(function(){return Ui}))}Object.defineProperty(Ui,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}}),Gi();var qi,Ki,Xi,Yi,$i,Qi=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e,r,a,o){var i;return(0,Qt.Z)(this,n),(i=t.call(this,e.shape,e.dtype,e.dataId,o)).trainable=r,i.name=a,i}return(0,Jt.Z)(n,[{key:"assign",value:function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value (".concat(e.dtype,") and ")+"previous value (".concat(this.dtype,") must match"));if(!hn(e.shape,this.shape))throw new Error("shape of the new value (".concat(e.shape,") and ")+"previous value (".concat(this.shape,") must match"));Wi().disposeTensor(this),this.dataId=e.dataId,Wi().incRef(this,null)}},{key:"dispose",value:function(){Wi().disposeVariable(this),this.isDisposedInternal=!0}}]),n}(Ui);Object.defineProperty(Qi,Symbol.hasInstance,{value:function(e){return e instanceof Ui&&null!=e.assign&&e.assign instanceof Function}}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(qi||(qi={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(Ki||(Ki={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(Xi||(Xi={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(Yi||(Yi={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}($i||($i={}));var Ji={float32:Yi,int32:Ki,bool:Xi,complex64:$i};function eu(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast ".concat(e," with ").concat(t))}return Ji[e][t]}function tu(e){return eu(e,"int32")}function nu(e,t){if(e.dtype===t.dtype)return[e,t];var n=eu(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function ru(e,t){ln(e.dtype===t.dtype,(function(){return"The dtypes of the first(".concat(e.dtype,") and")+" second(".concat(t.dtype,") input must match")}))}function au(e,t){return t.some((function(t){return t.id===e.id}))}function ou(e){var t=[];return iu(e,t,new Set),t}function iu(e,t,n){if(null!=e)if(e instanceof Ui)t.push(e);else if(r=e,Array.isArray(r)||"object"===typeof r){var r,a=e;for(var o in a){var i=a[o];n.has(i)||(n.add(i),iu(i,t,n))}}}function uu(e){return null!=e.kernelName}var su=function(){function e(){(0,Qt.Z)(this,e),this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((function(e){return e.name}))))}}}return(0,Jt.Z)(e,[{key:"dispose",value:function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()}}]),e}(),lu=function(){function e(t){(0,Qt.Z)(this,e),this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new su}return(0,Jt.Z)(e,[{key:"ready",value:function(){var e=Ut(qt().mark((function e(){var t,n,r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.pendingBackendInit){e.next=2;break}return e.abrupt("return",this.pendingBackendInit.then((function(){})));case 2:if(null==this.backendInstance){e.next=4;break}return e.abrupt("return");case 4:t=this.getSortedBackends(),n=0;case 6:if(!(n<t.length)){e.next=18;break}return r=t[n],e.next=10,this.initializeBackend(r).success;case 10:if(!e.sent){e.next=15;break}return e.next=14,this.setBackend(r);case 14:return e.abrupt("return");case 15:n++,e.next=6;break;case 18:throw new Error("Could not initialize any backends, all backend initializations failed.");case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"backend",get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '".concat(this.backendName,"' has not yet been initialized. Make ")+"sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '".concat(t,"' has not yet been ")+"initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance}},{key:"backendNames",value:function(){return Object.keys(this.registryFactory)}},{key:"findBackend",value:function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]}},{key:"findBackendFactory",value:function(e){return e in this.registryFactory?this.registryFactory[e].factory:null}},{key:"registerBackend",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(ei("".concat(e," backend was already registered. ")+"Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}},{key:"setBackend",value:function(){var e=Ut(qt().mark((function e(t){var n,r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.registryFactory[t]){e.next=2;break}throw new Error("Backend name '".concat(t,"' not found in registry"));case 2:if(this.backendName=t,null!=this.registry[t]){e.next=16;break}if(this.backendInstance=null,n=this.initializeBackend(t),r=n.success,!n.asyncInit){e.next=12;break}return e.next=9,r;case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=r;case 13:if(e.t0){e.next=16;break}return e.abrupt("return",!1);case 16:return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new Ai(this.backendInstance),e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setupRegisteredKernels",value:function(){var e=this;oi(this.backendName).forEach((function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)}))}},{key:"disposeRegisteredKernels",value:function(e){var t=this;oi(e).forEach((function(n){null!=n.disposeFunc&&n.disposeFunc(t.registry[e])}))}},{key:"initializeBackend",value:function(e){var t=this,n=this.registryFactory[e];if(null==n)throw new Error("Cannot initialize backend ".concat(e,", no registration found."));try{var r=n.factory();if(!r||r instanceof tn||"function"!==typeof r.then)return this.registry[e]=r,{success:!0,asyncInit:!1};var a=++this.pendingBackendInitId,o=r.then((function(n){return!(a<t.pendingBackendInitId)&&(t.registry[e]=n,t.pendingBackendInit=null,!0)})).catch((function(n){return a<t.pendingBackendInitId||(t.pendingBackendInit=null,ei("Initialization of backend ".concat(e," failed")),ei(n.stack||n.message)),!1}));return this.pendingBackendInit=o,{success:o,asyncInit:!0}}catch(i){return ei("Initialization of backend ".concat(e," failed")),ei(i.stack||i.message),{success:!1,asyncInit:!1}}}},{key:"removeBackend",value:function(e){if(!(e in this.registryFactory))throw new Error("".concat(e," backend not found in registry"));this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}},{key:"getSortedBackends",value:function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority}))}},{key:"initializeBackendsAndReturnBest",value:function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],r=this.initializeBackend(n),a=r.success,o=r.asyncInit;if(o||a)return{name:n,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")}},{key:"moveData",value:function(e,t){var n=this.state.tensorInfo.get(t),r=n.backend,a=this.readSync(t),o=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,a,n.shape,n.dtype,o),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}},{key:"tidy",value:function(e,t){var n,r=this,a=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=e}return this.scopedRun((function(){return r.startScope(a)}),(function(){return r.endScope(n)}),(function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n}))}},{key:"scopedRun",value:function(e,t,n){e();try{var r=n();return t(),r}catch(a){throw t(),a}}},{key:"nextTensorId",value:function(){return e.nextTensorId++}},{key:"nextVariableId",value:function(){return e.nextVariableId++}},{key:"clone",value:function(e){var t=fu.runKernel(la,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(function(e){return{x:function(){var t={x:e},n={dtype:"float32"};return fu.runKernel(yr,t,n)}}}),[],{}),t}},{key:"runKernel",value:function(e,t,n){if(null==this.backendName&&this.backend,!(null!=ri(e,this.backendName)))throw new Error("Kernel '".concat(e,"' not registered for backend '").concat(this.backendName,"'"));return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}},{key:"shouldCheckForMemLeaks",value:function(){return this.ENV.getBool("IS_TEST")}},{key:"checkKernelForMemLeak",value:function(e,t,n){var r=this.backend.numDataIds(),a=0;n.forEach((function(e){a+="complex64"===e.dtype?3:1}));var o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],i=r-t-a-o;if(i>0)throw new Error("Backend '".concat(this.backendName,"' has an internal memory leak ")+"(".concat(i," data ids) after running '").concat(e,"'"))}},{key:"runKernelFunc",value:function(e){var t,n,r,a=this,o=[],i=this.isTapeOn(),u=this.state.numBytes,s=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;var l=uu(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(uu(e)){var c=e.kernelName,d=e.inputs,p=e.attrs;null==this.backendName&&this.backend;var f=ri(c,this.backendName);ln(null!=f,(function(){return"Cannot find registered kernel '".concat(c,"' for backend '").concat(a.backendName,"'")})),n=function(){var e=a.backend.numDataIds();r=f.kernelFunc({inputs:d,attrs:p,backend:a.backend});var t=Array.isArray(r)?r:[r];a.shouldCheckForMemLeaks()&&a.checkKernelForMemLeak(c,e,t);var n=t.map((function(e){if(null!=e.rank)return e;var t=e.dataId,n=e.shape,r=e.dtype;return a.makeTensorFromDataId(t,n,r)}));if(i){var u=a.getTensorsForGradient(c,d,n);o=a.saveTensorsForBackwardMode(u)}return n}}else{var h=e.forwardFunc,m=function(e){i&&(o=e.map((function(e){return a.keep(a.clone(e))})))};n=function(){var e=a.backend.numDataIds();r=a.tidy((function(){return h(a.backend,m)}));var t=Array.isArray(r)?r:[r];return a.shouldCheckForMemLeaks()&&a.checkKernelForMemLeak(l,e,t),t}}var v,g=e.inputs,b=e.attrs,y=uu(e)?null:e.backwardsFunc;return this.scopedRun((function(){return a.state.kernelDepth++}),(function(){return a.state.kernelDepth--}),(function(){a.ENV.getBool("DEBUG")||a.state.profiling?(v=a.profiler.profileKernel(l,g,(function(){return n()})),a.ENV.getBool("DEBUG")&&a.profiler.logKernelProfile(v),t=v.outputs):t=n()})),i&&this.addTapeNode(l,g,t,y,o,b),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-u,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-s,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(g).map((function(e){return null!=g[e]?g[e].shape:null})),outputShapes:t.map((function(e){return e.shape})),kernelTimeMs:v.timeMs,extraInfo:v.extraInfo}),Array.isArray(r)?t:t[0]}},{key:"saveTensorsForBackwardMode",value:function(e){var t=this;return e.map((function(e){return t.keep(t.clone(e))}))}},{key:"getTensorsForGradient",value:function(e,t,n){var r=ai(e);if(null!=r){var a,o=r.inputsToSave||[],i=r.outputsToSave||[];r.saveAllInputs?(ln(Array.isArray(t),(function(){return"saveAllInputs is true, expected inputs to be an array."})),a=Object.keys(t).map((function(e){return t[e]}))):a=o.map((function(e){return t[e]}));var u=n.filter((function(e,t){return i[t]}));return a.concat(u)}return[]}},{key:"makeTensor",value:function(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var a=e;"string"===n&&In(e[0])&&(a=e.map((function(e){return Ti(e)})));var o=r.write(a,t,n),i=new Ui(t,n,o,this.nextTensorId());if(this.trackTensor(i,r),"string"===n){var u=this.state.tensorInfo.get(o),s=function(e){if(null==e)return 0;var t=0;return e.forEach((function(e){return t+=e.length})),t}(a);this.state.numBytes+=s-u.bytes,u.bytes=s}return i}},{key:"makeTensorFromDataId",value:function(e,t,n,r){var a=new Ui(t,n=n||"float32",e,this.nextTensorId());return this.trackTensor(a,r),a}},{key:"makeVariable",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));var a=new Qi(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[a.name])throw new Error("Variable with name ".concat(a.name," was already registered"));return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a}},{key:"trackTensor",value:function(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;var n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*Sn(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof Qi||this.track(e)}},{key:"incRef",value:function(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}},{key:"removeDataId",value:function(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}},{key:"disposeTensor",value:function(e){if(this.state.tensorInfo.has(e.dataId)){var t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){var n=e.size*Sn(e.dtype);this.state.numBytes-=n}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}}},{key:"disposeVariables",value:function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}}},{key:"disposeVariable",value:function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}},{key:"memory",value:function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}},{key:"profile",value:function(){var e=Ut(qt().mark((function e(t){var n,r,a,o,i;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.profiling=!0,n=this.state.numBytes,r=this.state.numTensors,this.state.activeProfile.kernels=[],e.next=6,t();case 6:this.state.activeProfile.result=e.sent,this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,(0,$t.Z)(this.state.activeProfile.kernels.map((function(e){return e.totalBytesSnapshot})))),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r,a=Yt(this.state.activeProfile.kernels),e.prev=12,a.s();case 14:if((o=a.n()).done){e.next=24;break}return i=o.value,e.next=18,i.kernelTimeMs;case 18:return i.kernelTimeMs=e.sent,e.next=21,i.extraInfo;case 21:i.extraInfo=e.sent;case 22:e.next=14;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(12),a.e(e.t0);case 29:return e.prev=29,a.f(),e.finish(29);case 32:return e.abrupt("return",this.state.activeProfile);case 33:case"end":return e.stop()}}),e,this,[[12,26,29,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isTapeOn",value:function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}},{key:"addTapeNode",value:function(e,t,n,r,a,o){var i=this,u={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:a},s=ai(e);null!=s&&(r=s.gradFunc),null!=r&&(u.gradient=function(e){return e=e.map((function(e,t){if(null==e){var r=n[t],a=Pn(r.size,r.dtype);return i.makeTensor(a,r.shape,r.dtype)}return e})),r(e.length>1?e:e[0],a,o)}),this.state.activeTape.push(u)}},{key:"keep",value:function(e){return e.kept=!0,e}},{key:"startTape",value:function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}},{key:"endTape",value:function(){this.state.gradientDepth--}},{key:"startScope",value:function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}},{key:"endScope",value:function(e){for(var t=this,n=ou(e),r=new Set(n.map((function(e){return e.id}))),a=0;a<this.state.activeScope.track.length;a++){var o=this.state.activeScope.track[a];o.kept||r.has(o.id)||o.dispose()}var i=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((function(e){e.kept||e.scopeId!==i.id||t.track(e)}))}},{key:"gradients",value:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(ln(t.length>0,(function(){return"gradients() received an empty list of xs."})),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '".concat(n.dtype,"'"));var o=this.scopedRun((function(){return r.startTape()}),(function(){return r.endTape()}),(function(){return r.tidy("forward",e)}));ln(o instanceof Ui,(function(){return"The result y returned by f() must be a tensor."}));var i=Oi(this.state.activeTape,t,o);if(!a&&0===i.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var e={};e[o.id]=null==n?cu(o.shape):n,Zi(e,i,(function(e){return r.tidy(e)}),hu);var a=t.map((function(t){return e[t.id]}));return 0===r.state.gradientDepth&&(r.state.activeTape.forEach((function(e){var t,n=Yt(e.saved);try{for(n.s();!(t=n.n()).done;){t.value.dispose()}}catch(r){n.e(r)}finally{n.f()}})),r.state.activeTape=null),{value:o,grads:a}}))}},{key:"customGrad",value:function(e){var t=this;return ln(Nn(e),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var o;ln(r.every((function(e){return e instanceof Ui})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var i={};r.forEach((function(e,t){i[t]=e}));var u=function(t,n){return ln((o=e.apply(void 0,[].concat(r,[n]))).value instanceof Ui,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),ln(Nn(o.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),o.value},s=function(e,t){var n=o.gradFunc(e,t),a=Array.isArray(n)?n:[n];ln(a.length===r.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),ln(a.every((function(e){return e instanceof Ui})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var i={};return a.forEach((function(e,t){i[t]=function(){return e}})),i};return t.runKernelFunc({forwardFunc:u,backwardsFunc:s,inputs:i})}}},{key:"readSync",value:function(e){return this.state.tensorInfo.get(e).backend.readSync(e)}},{key:"read",value:function(e){return this.state.tensorInfo.get(e).backend.read(e)}},{key:"readToGPU",value:function(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}},{key:"time",value:function(){var e=Ut(qt().mark((function e(t){var n,r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fi(),e.next=3,this.backend.time(t);case 3:return(r=e.sent).wallMs=Fi()-n,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"track",value:function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}},{key:"registeredVariables",get:function(){return this.state.registeredVariables}},{key:"reset",value:function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new su,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}]),e}();function cu(e){var t=Mn(fn(e),"float32");return fu.makeTensor(t,e,"float32")}function du(){var e=Xn();if(null==e._tfengine){var t=new Wn(e);e._tfengine=new lu(t)}return function(e){Kn=e}(e._tfengine.ENV),Wi=function(){return e._tfengine},e._tfengine}lu.nextTensorId=0,lu.nextVariableId=0;var pu,fu=du();function hu(e,t){var n={a:e,b:t};return fu.runKernel(er,n)}function mu(e){if(void 0!==pu)return pu;if(e||"undefined"!==typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;var t=e.userAgent||e.vendor||("undefined"!==typeof window?window.opera:"");if(!t){var n=e;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function vu(){return"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope}var gu=Gn();function bu(e,t){var n=e;if(En(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||En(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&Gn().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&yu(e,r,[]),r}function yu(e,t,n){if(n=n||[],Array.isArray(e)||En(e)){ln(t.length>0,(function(){return"Element arr[".concat(n.join("]["),"] should be a primitive, ")+"but is an array of ".concat(e.length," elements")})),ln(e.length===t[0],(function(){return"Element arr[".concat(n.join("]["),"] should have ").concat(t[0]," ")+"elements, but has ".concat(e.length," elements")}));for(var r=t.slice(1),a=0;a<e.length;++a)yu(e[a],r,n.concat(a))}else ln(0===t.length,(function(){return"Element arr[".concat(n.join("]["),"] is a primitive, ")+"but should be an array/TypedArray of ".concat(t[0]," elements")}))}function xu(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error("Argument '".concat(n,"' passed to '").concat(r,"' must ")+"be ".concat(e," tensor, but got ").concat(t," tensor"))}}function ku(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof Ui)return xu(r,e.dtype,t,n),e;var a=Tn(e);if("string"!==a&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),xu(r,a,t,n),null==e||!En(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){var o=null==e?"null":e.constructor.name;throw new Error("Argument '".concat(t,"' passed to '").concat(n,"' must be a ")+"Tensor or TensorLike, but got '".concat(o,"'"))}var i=bu(e,a);En(e)||Array.isArray(e)||(e=[e]);var u=!0,s="string"!==a?Ii(e,a):pn(e,[],u);return fu.makeTensor(s,i,a)}function wu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw new Error("Argument ".concat(t," passed to ").concat(n," must be a ")+"`Tensor[]` or `TensorLike[]`");var a=e;return a.map((function(e,a){return ku(e,"".concat(t,"[").concat(a,"]"),n,r)}))}gu.registerFlag("DEBUG",(function(){return!1}),(function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),gu.registerFlag("IS_BROWSER",(function(){return vu()})),gu.registerFlag("IS_NODE",(function(){return"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node})),gu.registerFlag("IS_CHROME",(function(){return"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),gu.registerFlag("PROD",(function(){return!1})),gu.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return gu.getBool("DEBUG")})),gu.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),gu.registerFlag("IS_TEST",(function(){return!1})),gu.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(function(){return!0})),gu.registerFlag("WRAP_TO_IMAGEBITMAP",(function(){return!1}));var Cu="__op";function Du(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+"".concat(t.length," keys."));var n=t[0],r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=Cu;var a=function(){fu.startScope(n);try{var e=r.apply(void 0,arguments);return jn(e)&&console.error("Cannot return a Promise inside of tidy."),fu.endScope(e),e}catch(t){throw fu.endScope(null),t}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}var Eu=Du({complex_:function(e,t){var n=ku(e,"real","complex"),r=ku(t,"imag","complex");cn(n.shape,r.shape,"real and imag shapes, ".concat(n.shape," and ").concat(r.shape,", ")+"must match in call to tf.complex().");var a={real:n,imag:r};return fu.runKernel(wr,a)}});function Su(e,t,n,r){if(null==r&&(r=Tn(e)),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!En(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){_n(t);var a=fn(t),o=fn(n);ln(a===o,(function(){return"Based on the provided shape, [".concat(t,"], the tensor should have ")+"".concat(a," values but has ").concat(o)}));for(var i=0;i<n.length;++i){var u=n[i],s=i!==n.length-1||u!==fn(t.slice(i));ln(n[i]===t[i]||!s,(function(){return"Error creating a new Tensor. Inferred shape "+"(".concat(n,") does not match the provided ")+"shape (".concat(t,"). ")}))}}return En(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?Ii(e,r):pn(e,[],!0),fu.makeTensor(e,t,r)}function Iu(e,t,n){return Su(e,t,bu(e,n),n)}var Fu={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};function Tu(e,t){return Nu.apply(this,arguments)}function Nu(){return Nu=Ut(qt().mark((function e(t,n){var r,a,o,i,u,s;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=[],a=[],o=Array.isArray(t)?t.map((function(e){return e.name})):Object.keys(t),i=function(e){var i=o[e],u=Array.isArray(t)?t[e].tensor:t[i];if("float32"!==u.dtype&&"int32"!==u.dtype&&"bool"!==u.dtype&&"string"!==u.dtype&&"complex64"!==u.dtype)throw new Error("Unsupported dtype in weight '".concat(i,"': ").concat(u.dtype));var s={name:i,shape:u.shape,dtype:u.dtype};if("string"===u.dtype){var l=new Promise(function(){var e=Ut(qt().mark((function e(t){var n,r,a,o,i,s,l;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.bytes();case 2:for(n=e.sent,r=n.reduce((function(e,t){return e+t.length}),0)+4*n.length,a=new Uint8Array(r),o=0,i=0;i<n.length;i++)s=n[i],l=new Uint8Array(new Uint32Array([s.length]).buffer),a.set(l,o),o+=4,a.set(s,o),o+=s.length;t(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());a.push(l)}else a.push(u.data());null!=n&&(s.group=n),r.push(s)},u=0;u<o.length;++u)i(u);return e.next=7,Promise.all(a);case 7:return s=e.sent,e.abrupt("return",{data:Ru(s),specs:r});case 9:case"end":return e.stop()}}),e)}))),Nu.apply(this,arguments)}function Au(e,t){var n,r,a={},o=0,i=Yt(t);try{for(i.s();!(r=i.n()).done;){var u=r.value,s=u.name,l=u.dtype,c=u.shape,d=fn(c),p=void 0;if("quantization"in u){var f=u.quantization;if("uint8"===f.dtype||"uint16"===f.dtype){if(!("min"in f)||!("scale"in f))throw new Error("Weight ".concat(u.name," with quantization ").concat(f.dtype," ")+"doesn't have corresponding metadata min and scale.")}else{if("float16"!==f.dtype)throw new Error("Weight ".concat(u.name," has unknown ")+"quantization dtype ".concat(f.dtype,". ")+"Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");if("float32"!==l)throw new Error("Weight ".concat(u.name," is quantized with ").concat(f.dtype," ")+"which only supports weights of type float32 not ".concat(l,"."))}var h=Fu[f.dtype],m=e.slice(o,o+d*h),v="uint8"===f.dtype?new Uint8Array(m):new Uint16Array(m);if("float32"===l)if("uint8"===f.dtype||"uint16"===f.dtype){p=new Float32Array(v.length);for(var g=0;g<v.length;g++){var b=v[g];p[g]=b*f.scale+f.min}}else{if("float16"!==f.dtype)throw new Error("Unsupported quantization type ".concat(f.dtype," ")+"for weight type float32.");void 0===n&&(n=Wu()),p=n(v)}else{if("int32"!==l)throw new Error("Unsupported dtype in weight '".concat(s,"': ").concat(l));if("uint8"!==f.dtype&&"uint16"!==f.dtype)throw new Error("Unsupported quantization type ".concat(f.dtype," ")+"for weight type int32.");p=new Int32Array(v.length);for(var y=0;y<v.length;y++){var x=v[y];p[y]=Math.round(x*f.scale+f.min)}}o+=d*h}else if("string"===l){var k=fn(u.shape);p=[];for(var w=0;w<k;w++){var C=new Uint32Array(e.slice(o,o+4))[0];o+=4;var D=new Uint8Array(e.slice(o,o+C));p.push(D),o+=C}}else{var E=Fu[l],S=e.slice(o,o+d*E);if("float32"===l)p=new Float32Array(S);else if("int32"===l)p=new Int32Array(S);else if("bool"===l)p=new Uint8Array(S);else{if("complex64"!==l)throw new Error("Unsupported dtype in weight '".concat(s,"': ").concat(l));p=new Float32Array(S);for(var I=new Float32Array(p.length/2),F=new Float32Array(p.length/2),T=0;T<I.length;T++)I[T]=p[2*T],F[T]=p[2*T+1];var N=Iu(I,c,"float32"),A=Iu(F,c,"float32");a[s]=Eu(N,A),N.dispose(),A.dispose()}o+=d*E}"complex64"!==l&&(a[s]=Iu(p,c,l))}}catch(R){i.e(R)}finally{i.f()}return a}function Ru(e){if(null===e)throw new Error("Invalid input value: ".concat(JSON.stringify(e)));var t=0,n=[];e.forEach((function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: ".concat(e.constructor.name))}));var r=new Uint8Array(t),a=0;return n.forEach((function(e){r.set(new Uint8Array(e.buffer),a),a+=e.byteLength})),r.buffer}var Ou="undefined"!==typeof Buffer&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function Zu(e){return Ou?Buffer.byteLength(e):new Blob([e]).size}function Mu(e){if(Ou)return Buffer.from(e).toString("base64");for(var t=new Uint8Array(e),n="",r=0,a=t.length;r<a;r++)n+=String.fromCharCode(t[r]);return btoa(n)}function Pu(e){if(Ou){var t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}for(var n=atob(e),r=new Uint8Array(n.length),a=0;a<n.length;++a)r.set([n.charCodeAt(a)],a);return r.buffer}function Lu(e){if(1===e.length)return e[0];var t=0;e.forEach((function(e){t+=e.byteLength}));var n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function _u(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function Bu(e,t){var n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function zu(e,t){return ju.apply(this,arguments)}function ju(){return ju=Ut(qt().mark((function e(t,n){var r,a,o,i,u;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy},null!=t.trainingConfig&&(r.trainingConfig=t.trainingConfig),null==t.weightsManifest){e.next=11;break}return e.next=5,n(t.weightsManifest);case 5:a=e.sent,o=(0,je.Z)(a,2),i=o[0],u=o[1],r.weightSpecs=i,r.weightData=u;case 11:return null!=t.signature&&(r.signature=t.signature),null!=t.userDefinedMetadata&&(r.userDefinedMetadata=t.userDefinedMetadata),null!=t.modelInitializer&&(r.modelInitializer=t.modelInitializer),e.abrupt("return",r);case 15:case"end":return e.stop()}}),e)}))),ju.apply(this,arguments)}function Vu(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:Zu(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:Zu(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}function Wu(){var e=function(){var e=function(e){for(var t=e<<13,n=0;0===(8388608&t);)n-=8388608,t<<=1;return(t&=-8388609)|n+947912704},t=new Uint32Array(2048);t[0]=0;for(var n=1;n<1024;n++)t[n]=e(n);for(var r=1024;r<2048;r++)t[r]=939524096+(r-1024<<13);return t}(),t=function(){var e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(var t=1;t<31;t++)e[t]=t<<23;for(var n=33;n<63;n++)e[n]=2147483648+(n-32<<23);return e}(),n=function(){for(var e=new Uint32Array(64),t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return function(r){for(var a=new ArrayBuffer(4*r.length),o=new Uint32Array(a),i=0;i<r.length;i++){var u=r[i],s=e[n[u>>10]+(1023&u)]+t[u>>10];o[i]=s}return new Float32Array(a)}}var Hu=function(){function e(){(0,Qt.Z)(this,e),this.saveRouters=[],this.loadRouters=[]}return(0,Jt.Z)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerSaveRouter",value:function(t){e.getInstance().saveRouters.push(t)}},{key:"registerLoadRouter",value:function(t){e.getInstance().loadRouters.push(t)}},{key:"getSaveHandlers",value:function(t){return e.getHandlers(t,"save")}},{key:"getLoadHandlers",value:function(t,n){return e.getHandlers(t,"load",n)}},{key:"getHandlers",value:function(t,n,r){var a=[];return("load"===n?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach((function(e){var n=e(t,r);null!==n&&a.push(n)})),a}}]),e}(),Uu=function(e){return Hu.registerSaveRouter(e)},Gu=function(e){return Hu.registerLoadRouter(e)},qu=function(e){return Hu.getSaveHandlers(e)},Ku=function(e,t){return Hu.getLoadHandlers(e,t)},Xu="tensorflowjs",Yu="models_store",$u="model_info_store";function Qu(){if(!Gn().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function Ju(e){var t=e.result;t.createObjectStore(Yu,{keyPath:"modelPath"}),t.createObjectStore($u,{keyPath:"modelPath"})}var es=function(){function e(t){if((0,Qt.Z)(this,e),this.indexedDB=Qu(),null==t||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return(0,Jt.Z)(e,[{key:"save",value:function(){var e=Ut(qt().mark((function e(t){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=2;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 2:return e.abrupt("return",this.databaseAction(this.modelPath,t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=Ut(qt().mark((function e(){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.databaseAction(this.modelPath));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"databaseAction",value:function(e,t){var n=this;return new Promise((function(e,r){var a=n.indexedDB.open(Xu,1);a.onupgradeneeded=function(){return Ju(a)},a.onsuccess=function(){var o=a.result;if(null==t){var i=o.transaction(Yu,"readonly"),u=i.objectStore(Yu).get(n.modelPath);u.onsuccess=function(){if(null==u.result)return o.close(),r(new Error("Cannot find model with path '".concat(n.modelPath,"' ")+"in IndexedDB."));e(u.result.modelArtifacts)},u.onerror=function(e){return o.close(),r(u.error)},i.oncomplete=function(){return o.close()}}else{var s,l=Vu(t),c=o.transaction($u,"readwrite"),d=c.objectStore($u),p=d.put({modelPath:n.modelPath,modelArtifactsInfo:l});p.onsuccess=function(){var a=(s=o.transaction(Yu,"readwrite")).objectStore(Yu).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:l});a.onsuccess=function(){return e({modelArtifactsInfo:l})},a.onerror=function(e){var t=(d=c.objectStore($u)).delete(n.modelPath);t.onsuccess=function(){return o.close(),r(a.error)},t.onerror=function(e){return o.close(),r(a.error)}}},p.onerror=function(e){return o.close(),r(p.error)},c.oncomplete=function(){null==s?o.close():s.oncomplete=function(){return o.close()}}}},a.onerror=function(e){return r(a.error)}}))}}]),e}();es.URL_SCHEME="indexeddb://";var ts=function(e){return Gn().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(es.URL_SCHEME)?(t=e.slice(es.URL_SCHEME.length),new es(t)):null;var t};function ns(e){return e.startsWith(es.URL_SCHEME)?e.slice(es.URL_SCHEME.length):e}Hu.registerSaveRouter(ts),Hu.registerLoadRouter(ts);var rs=function(){function e(){(0,Qt.Z)(this,e),this.indexedDB=Qu()}return(0,Jt.Z)(e,[{key:"listModels",value:function(){var e=Ut(qt().mark((function e(){var t=this;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=t.indexedDB.open(Xu,1);r.onupgradeneeded=function(){return Ju(r)},r.onsuccess=function(){var t=r.result,a=t.transaction($u,"readonly"),o=a.objectStore($u).getAll();o.onsuccess=function(){var t,n={},r=Yt(o.result);try{for(r.s();!(t=r.n()).done;){var a=t.value;n[a.modelPath]=a.modelArtifactsInfo}}catch(i){r.e(i)}finally{r.f()}e(n)},o.onerror=function(e){return t.close(),n(o.error)},a.oncomplete=function(){return t.close()}},r.onerror=function(e){return n(r.error)}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=Ut(qt().mark((function e(t){var n=this;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ns(t),e.abrupt("return",new Promise((function(e,r){var a=n.indexedDB.open(Xu,1);a.onupgradeneeded=function(){return Ju(a)},a.onsuccess=function(){var n,o=a.result,i=o.transaction($u,"readwrite"),u=i.objectStore($u),s=u.get(t);s.onsuccess=function(){if(null==s.result)return o.close(),r(new Error("Cannot find model with path '".concat(t,"' ")+"in IndexedDB."));var a=u.delete(t),i=function(){var a=(n=o.transaction(Yu,"readwrite")).objectStore(Yu).delete(t);a.onsuccess=function(){return e(s.result.modelArtifactsInfo)},a.onerror=function(e){return r(s.error)}};a.onsuccess=i,a.onerror=function(e){return i(),o.close(),r(s.error)}},s.onerror=function(e){return o.close(),r(s.error)},i.oncomplete=function(){null==n?o.close():n.oncomplete=function(){return o.close()}}},a.onerror=function(e){return r(a.error)}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),as="/",os="tensorflowjs_models",is="info",us="model_topology",ss="weight_specs",ls="weight_data",cs="model_metadata";function ds(e){return{info:[os,e,is].join(as),topology:[os,e,us].join(as),weightSpecs:[os,e,ss].join(as),weightData:[os,e,ls].join(as),modelMetadata:[os,e,cs].join(as)}}function ps(e){for(var t=0,n=Object.values(e);t<n.length;t++){var r=n[t];window.localStorage.removeItem(r)}}function fs(e){var t=e.split(as);if(t.length<3)throw new Error("Invalid key format: ".concat(e));return t.slice(1,t.length-1).join(as)}function hs(e){return e.startsWith(ms.URL_SCHEME)?e.slice(ms.URL_SCHEME.length):e}var ms=function(){function e(t){if((0,Qt.Z)(this,e),!Gn().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==t||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=ds(this.modelPath)}return(0,Jt.Z)(e,[{key:"save",value:function(){var e=Ut(qt().mark((function e(t){var n,r,a,o;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=4;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 4:return n=JSON.stringify(t.modelTopology),r=JSON.stringify(t.weightSpecs),a=Vu(t),e.prev=7,this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,Mu(t.weightData)),o={format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,signature:null!=t.signature?t.signature:void 0,userDefinedMetadata:null!=t.userDefinedMetadata?t.userDefinedMetadata:void 0,modelInitializer:null!=t.modelInitializer?t.modelInitializer:void 0,trainingConfig:null!=t.trainingConfig?t.trainingConfig:void 0},this.LS.setItem(this.keys.modelMetadata,JSON.stringify(o)),e.abrupt("return",{modelArtifactsInfo:a});case 17:throw e.prev=17,e.t0=e.catch(7),ps(this.keys),new Error("Failed to save model '".concat(this.modelPath,"' to local storage: ")+"size quota being exceeded is a possible cause of this failure: "+"modelTopologyBytes=".concat(a.modelTopologyBytes,", ")+"weightSpecsBytes=".concat(a.weightSpecsBytes,", ")+"weightDataBytes=".concat(a.weightDataBytes,"."));case 21:case"end":return e.stop()}}),e,this,[[7,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=Ut(qt().mark((function e(){var t,n,r,a,o,i,u;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=JSON.parse(this.LS.getItem(this.keys.info)))){e.next=3;break}throw new Error("In local storage, there is no model with name '".concat(this.modelPath,"'"));case 3:if("JSON"===t.modelTopologyType){e.next=5;break}throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");case 5:if(n={},null!=(r=JSON.parse(this.LS.getItem(this.keys.topology)))){e.next=9;break}throw new Error("In local storage, the topology of model '".concat(this.modelPath,"' ")+"is missing.");case 9:if(n.modelTopology=r,null!=(a=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))){e.next=13;break}throw new Error("In local storage, the weight specs of model '".concat(this.modelPath,"' ")+"are missing.");case 13:if(n.weightSpecs=a,null!=(o=this.LS.getItem(this.keys.modelMetadata))&&(i=JSON.parse(o),n.format=i.format,n.generatedBy=i.generatedBy,n.convertedBy=i.convertedBy,null!=i.signature&&(n.signature=i.signature),null!=i.userDefinedMetadata&&(n.userDefinedMetadata=i.userDefinedMetadata),null!=i.modelInitializer&&(n.modelInitializer=i.modelInitializer),null!=i.trainingConfig&&(n.trainingConfig=i.trainingConfig)),null!=(u=this.LS.getItem(this.keys.weightData))){e.next=19;break}throw new Error("In local storage, the binary weight values of model "+"'".concat(this.modelPath,"' are missing."));case 19:return n.weightData=Pu(u),e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();ms.URL_SCHEME="localstorage://";var vs=function(e){return Gn().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(ms.URL_SCHEME)?(t=e.slice(ms.URL_SCHEME.length),new ms(t)):null;var t};Hu.registerSaveRouter(vs),Hu.registerLoadRouter(vs);var gs=function(){function e(){(0,Qt.Z)(this,e),ln(Gn().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),ln("undefined"===typeof window||"undefined"!==typeof window.localStorage,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return(0,Jt.Z)(e,[{key:"listModels",value:function(){var e=Ut(qt().mark((function e(){var t,n,r,a,o,i;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t={},n=os+as,r=as+is,a=0;a<this.LS.length;++a)(o=this.LS.key(a)).startsWith(n)&&o.endsWith(r)&&(i=fs(o),t[i]=JSON.parse(this.LS.getItem(o)));return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=Ut(qt().mark((function e(t){var n,r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=hs(t),n=ds(t),null!=this.LS.getItem(n.info)){e.next=4;break}throw new Error("Cannot find model at path '".concat(t,"'"));case 4:return r=JSON.parse(this.LS.getItem(n.info)),ps(n),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),bs="://",ys=function(){function e(){(0,Qt.Z)(this,e),this.managers={}}return(0,Jt.Z)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerManager",value:function(t,n){ln(null!=t,(function(){return"scheme must not be undefined or null."})),t.endsWith(bs)&&(t=t.slice(0,t.indexOf(bs))),ln(t.length>0,(function(){return"scheme must not be an empty string."}));var r=e.getInstance();ln(null==r.managers[t],(function(){return"A model store manager is already registered for scheme '".concat(t,"'.")})),r.managers[t]=n}},{key:"getManager",value:function(e){var t=this.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '".concat(e,"'"));return t}},{key:"getSchemes",value:function(){return Object.keys(this.getInstance().managers)}}]),e}();function xs(e){if(-1===e.indexOf(bs))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+"".concat(ys.getSchemes().join(",")));return{scheme:e.split(bs)[0],path:e.split(bs)[1]}}function ks(e,t){return ws.apply(this,arguments)}function ws(){return ws=Ut(qt().mark((function e(t,n){var r,a,o,i,u,s,l,c,d,p,f=arguments;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>2&&void 0!==f[2]&&f[2],ln(t!==n,(function(){return"Old path and new path are the same: '".concat(t,"'")})),ln((a=Hu.getLoadHandlers(t)).length>0,(function(){return"Copying failed because no load handler is found for source URL ".concat(t,".")})),ln(a.length<2,(function(){return"Copying failed because more than one (".concat(a.length,") ")+"load handlers for source URL ".concat(t,".")})),o=a[0],ln((i=Hu.getSaveHandlers(n)).length>0,(function(){return"Copying failed because no save handler is found for destination "+"URL ".concat(n,".")})),ln(i.length<2,(function(){return"Copying failed because more than one (".concat(a.length,") ")+"save handlers for destination URL ".concat(n,".")})),u=i[0],s=xs(t).scheme,l=xs(t).path,c=s===xs(t).scheme,e.next=15,o.load();case 15:if(d=e.sent,!r||!c){e.next=19;break}return e.next=19,ys.getManager(s).removeModel(l);case 19:return e.next=21,u.save(d);case 21:if(p=e.sent,!r||c){e.next=25;break}return e.next=25,ys.getManager(s).removeModel(l);case 25:return e.abrupt("return",p.modelArtifactsInfo);case 26:case"end":return e.stop()}}),e)}))),ws.apply(this,arguments)}function Cs(){return Ds.apply(this,arguments)}function Ds(){return(Ds=Ut(qt().mark((function e(){var t,n,r,a,o,i,u;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=ys.getSchemes(),n={},r=Yt(t),e.prev=3,r.s();case 5:if((a=r.n()).done){e.next=13;break}return o=a.value,e.next=9,ys.getManager(o).listModels();case 9:for(u in i=e.sent)n[o+bs+u]=i[u];case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",n);case 22:case"end":return e.stop()}}),e,null,[[3,15,18,21]])})))).apply(this,arguments)}function Es(e){return Ss.apply(this,arguments)}function Ss(){return(Ss=Ut(qt().mark((function e(t){var n,r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xs(t),r=ys.getManager(n.scheme),e.abrupt("return",r.removeModel(n.path));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Is(e,t){return Fs.apply(this,arguments)}function Fs(){return(Fs=Ut(qt().mark((function e(t,n){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1,e.abrupt("return",ks(t,n,false));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ts(e,t){return Ns.apply(this,arguments)}function Ns(){return(Ns=Ut(qt().mark((function e(t,n){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0,e.abrupt("return",ks(t,n,true));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var As=function(){function e(){(0,Qt.Z)(this,e)}return(0,Jt.Z)(e,[{key:"fetch",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return fetch(e,t)}))},{key:"now",value:function(){return performance.now()}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got ".concat(t));return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return new TextDecoder(t).decode(e)}}]),e}();if(Gn().get("IS_BROWSER")){Gn().setPlatform("browser",new As);try{ys.registerManager(ms.URL_SCHEME,new gs)}catch(xV){}try{ys.registerManager(es.URL_SCHEME,new rs)}catch(xV){}}var Rs,Os=function(){return n(5410)};var Zs=function(){function e(){(0,Qt.Z)(this,e),this.util=n(8628),this.textEncoder=new this.util.TextEncoder}return(0,Jt.Z)(e,[{key:"fetch",value:function(e,t){return null!=Gn().global.fetch?Gn().global.fetch(e,t):(null==Rs&&(Rs=Os()),Rs(e,t))}},{key:"now",value:function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got ".concat(t));return this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}}]),e}();function Ms(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return t=t||"float32",_n(e),new Vi(e,t,n)}Gn().get("IS_NODE")&&Gn().setPlatform("node",new Zs);var Ps=Du({cast_:function(e,t){var n=ku(e,"x","cast");if(!function(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}(t))throw new Error("Failed to cast to unknown dtype ".concat(t));if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var r={x:n},a={dtype:t};return fu.runKernel(yr,r,a)}});var Ls=Du({clone_:function(e){var t={x:ku(e,"x","clone","string_or_numeric")};return fu.runKernel(la,t)}});function _s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}du(),Hi={buffer:Ms,cast:Ps,clone:Ls,print:_s};function Bs(e){return new Promise((function(e){return setTimeout(e)})).then(e)}var zs=function(){function e(t){if((0,Qt.Z)(this,e),!Gn().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t="model"),this.modelJsonFileName=t+".json",this.weightDataFileName=t+".weights.bin"}return(0,Jt.Z)(e,[{key:"save",value:function(){var e=Ut(qt().mark((function e(t){var n,r,a,o,i,u;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof document){e.next=2;break}throw new Error("Browser downloads are not supported in this environment since `document` is not present");case 2:if(n=window.URL.createObjectURL(new Blob([t.weightData],{type:"application/octet-stream"})),!(t.modelTopology instanceof ArrayBuffer)){e.next=7;break}throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 7:return r=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],a=Bu(t,r),o=window.URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"})),(i=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor).download=this.modelJsonFileName,i.href=o,e.next=15,Bs((function(){return i.dispatchEvent(new MouseEvent("click"))}));case 15:if(null==t.weightData){e.next=21;break}return(u=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,u.href=n,e.next=21,Bs((function(){return u.dispatchEvent(new MouseEvent("click"))}));case 21:return e.abrupt("return",{modelArtifactsInfo:Vu(t)});case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();zs.URL_SCHEME="downloads://";var js=function(){function e(t){if((0,Qt.Z)(this,e),null==t||t.length<1)throw new Error("When calling browserFiles, at least 1 file is required, "+"but received ".concat(t));this.jsonFile=t[0],this.weightsFiles=t.slice(1)}return(0,Jt.Z)(e,[{key:"load",value:function(){var e=Ut(qt().mark((function e(){var t=this;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.onload=function(r){var a=JSON.parse(r.target.result),o=a.modelTopology;if(null!=o)if(null!=a.weightsManifest)if(0!==t.weightsFiles.length){var i=zu(a,(function(e){return t.loadWeights(e)}));e(i)}else e({modelTopology:o});else n(new Error("weightManifest field is missing from file ".concat(t.jsonFile.name)));else n(new Error("modelTopology field is missing from file ".concat(t.jsonFile.name)))},r.onerror=function(e){return n("Failed to read model topology and weights manifest JSON "+"from file '".concat(t.jsonFile.name,"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only.")},r.readAsText(t.jsonFile)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"loadWeights",value:function(e){var t,n=this,r=[],a=[],o=Yt(e);try{for(o.s();!(t=o.n()).done;){var i=t.value;r.push.apply(r,(0,$t.Z)(i.weights)),a.push.apply(a,(0,$t.Z)(i.paths))}}catch(xV){o.e(xV)}finally{o.f()}var u=this.checkManifestAndWeightFiles(e),s=a.map((function(e){return n.loadWeightsFile(e,u[e])}));return Promise.all(s).then((function(e){return[r,Lu(e)]}))}},{key:"loadWeightsFile",value:function(e,t){return new Promise((function(n,r){var a=new FileReader;a.onload=function(e){var t=e.target.result;n(t)},a.onerror=function(t){return r("Failed to weights data from file of path '".concat(e,"'."))},a.readAsArrayBuffer(t)}))}},{key:"checkManifestAndWeightFiles",value:function(e){var t,n=this,r=[],a=this.weightsFiles.map((function(e){return _u(e.name)})),o={},i=Yt(e);try{for(i.s();!(t=i.n()).done;){t.value.paths.forEach((function(e){var t=_u(e);if(-1!==r.indexOf(t))throw new Error("Duplicate file basename found in weights manifest: "+"'".concat(t,"'"));if(r.push(t),-1===a.indexOf(t))throw new Error("Weight file with basename '".concat(t,"' is not provided."));o[e]=n.weightsFiles[a.indexOf(t)]}))}}catch(xV){i.e(xV)}finally{i.f()}if(r.length!==this.weightsFiles.length)throw new Error("Mismatch in the number of files in weights manifest "+"(".concat(r.length,") and the number of weight files provided ")+"(".concat(this.weightsFiles.length,")."));return o}}]),e}();function Vs(e){return new js(e)}function Ws(e,t,n,r){!function(e){ln(null!=e&&Array.isArray(e)&&e.length>0,(function(){return"promises must be a none empty array"}))}(e),function(e,t){ln(e>=0&&e<=1,(function(){return"Progress fraction must be in range [0, 1], but "+"got startFraction ".concat(e)})),ln(t>=0&&t<=1,(function(){return"Progress fraction must be in range [0, 1], but "+"got endFraction ".concat(t)})),ln(t>=e,(function(){return"startFraction must be no more than endFraction, but "+"got startFraction ".concat(e," and endFraction ")+"".concat(t)}))}(n=null==n?0:n,r=null==r?1:r);var a=0;return Promise.all(e.map((function(o){return o.then((function(o){var i=n+ ++a/e.length*(r-n);return t(i),o})),o})))}function Hs(e,t){return Us.apply(this,arguments)}function Us(){return(Us=Ut(qt().mark((function e(t,n){var r,a,o,i,u,s,l,c,d;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n&&(n={}),r=null==n.fetchFunc?Gn().platform.fetch:n.fetchFunc,a=t.map((function(e){return r(e,n.requestInit,{isBinary:!0})})),o=0,i=.5,null!=n.onProgress){e.next=11;break}return e.next=8,Promise.all(a);case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,Ws(a,n.onProgress,o,i);case 13:e.t0=e.sent;case 14:if(u=e.t0,s=u.map((function(e){return e.arrayBuffer()})),l=.5,c=1,null!=n.onProgress){e.next=24;break}return e.next=21,Promise.all(s);case 21:e.t1=e.sent,e.next=27;break;case 24:return e.next=26,Ws(s,n.onProgress,l,c);case 26:e.t1=e.sent;case 27:return d=e.t1,e.abrupt("return",d);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gs(e){return qs.apply(this,arguments)}function qs(){return qs=Ut(qt().mark((function e(t){var n,r,a,o,i=arguments;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"",r=i.length>2?i[2]:void 0,a=i.length>3?i[3]:void 0,o=Ks((function(e){return Hs(e,{requestInit:a})})),e.abrupt("return",o(t,n,r));case 6:case"end":return e.stop()}}),e)}))),qs.apply(this,arguments)}function Ks(e){return function(){var t=Ut(qt().mark((function t(n){var r,a,o,i,u,s,l,c,d,p,f,h,m=arguments;return qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=m.length>1&&void 0!==m[1]?m[1]:"",a=m.length>2?m[2]:void 0,o=n.map((function(){return!1})),i={},u=null!=a?a.map((function(){return!1})):[],s=[],n.forEach((function(e,t){var n=0;e.weights.forEach((function(e){var r="quantization"in e?e.quantization.dtype:e.dtype,l=Fu[r]*fn(e.shape),c=function(){o[t]=!0,null==i[t]&&(i[t]=[]),i[t].push({manifestEntry:e,groupOffset:n,sizeBytes:l})};null!=a?a.forEach((function(t,n){t===e.name&&(c(),u[n]=!0)})):c(),s.push(e.name),n+=l}))})),u.every((function(e){return e}))){t.next=10;break}throw l=a.filter((function(e,t){return!u[t]})),new Error("Could not find weights in manifest with names: "+"".concat(l.join(", "),". \n")+"Manifest JSON has weights with names: "+"".concat(s.join(", "),"."));case 10:return c=o.reduce((function(e,t,n){return t&&e.push(n),e}),[]),d=[],c.forEach((function(e){n[e].paths.forEach((function(e){var t=r+(r.endsWith("/")?"":"/")+e;d.push(t)}))})),t.next=15,e(d);case 15:return p=t.sent,f={},h=0,c.forEach((function(e){for(var t=n[e].paths.length,r=0,a=0;a<t;a++)r+=p[h+a].byteLength;for(var o=new ArrayBuffer(r),u=new Uint8Array(o),s=0,l=0;l<t;l++){var c=new Uint8Array(p[h+l]);u.set(c,s),s+=c.byteLength}i[e].forEach((function(e){var t=Au(o.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(var n in t)f[n]=t[n]})),h+=t})),t.abrupt("return",f);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}Hu.registerSaveRouter((function(e){return Gn().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(zs.URL_SCHEME)?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new zs(e)}(e.slice(zs.URL_SCHEME.length)):null}));var Xs=function(){function e(t,n){if((0,Qt.Z)(this,e),this.DEFAULT_METHOD="POST",null==n&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,this.weightUrlConverter=n.weightUrlConverter,null!=n.fetchFunc?(ln("function"===typeof n.fetchFunc,(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=n.fetchFunc):this.fetch=Gn().platform.fetch,ln(null!=t&&t.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(t)&&ln(2===t.length,(function(){return"URL paths for http must have a length of 2, "+"(actual length is ".concat(t.length,").")})),this.path=t,null!=n.requestInit&&null!=n.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}return(0,Jt.Z)(e,[{key:"save",value:function(){var e=Ut(qt().mark((function e(t){var n,r,a,o;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=2;break}throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");case 2:return(n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,r=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],a=Bu(t,r),n.body.append("model.json",new Blob([JSON.stringify(a)],{type:"application/json"}),"model.json"),null!=t.weightData&&n.body.append("model.weights.bin",new Blob([t.weightData],{type:"application/octet-stream"}),"model.weights.bin"),e.next=10,this.fetch(this.path,n);case 10:if(!(o=e.sent).ok){e.next=15;break}return e.abrupt("return",{modelArtifactsInfo:Vu(t),responses:[o]});case 15:throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+"".concat(o.status,"."));case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=Ut(qt().mark((function e(){var t,n,r,a,o,i=this;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch(this.path,this.requestInit);case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Request to ".concat(this.path," failed with status code ")+"".concat(t.status,". Please verify this URL points to ")+"the model JSON of the model to load.");case 5:return e.prev=5,e.next=8,t.json();case 8:n=e.sent,e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(5),r="Failed to parse model JSON of response from ".concat(this.path,"."),this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r);case 16:if(a=n.modelTopology,o=n.weightsManifest,null!=a||null!=o){e.next=20;break}throw new Error("The JSON from HTTP path ".concat(this.path," contains neither model ")+"topology or manifest for weights.");case 20:return e.abrupt("return",zu(n,(function(e){return i.loadWeights(e)})));case 21:case"end":return e.stop()}}),e,this,[[5,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadWeights",value:function(){var e=Ut(qt().mark((function e(t){var n,r,a,o,i,u,s,l,c,d,p,f,h,m,v,g,b,y,x;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Array.isArray(this.path)?this.path[1]:this.path,r=Ys(n),a=(0,je.Z)(r,2),o=a[0],i=a[1],u=this.weightPathPrefix||o,s=[],l=Yt(t);try{for(l.s();!(c=l.n()).done;)d=c.value,s.push.apply(s,(0,$t.Z)(d.weights))}catch(xV){l.e(xV)}finally{l.f()}p=[],f=[],h=Yt(t);try{for(h.s();!(m=h.n()).done;){v=m.value,g=Yt(v.paths);try{for(g.s();!(b=g.n()).done;)y=b.value,null!=this.weightUrlConverter?f.push(this.weightUrlConverter(y)):p.push(u+y+i)}catch(xV){g.e(xV)}finally{g.f()}}}catch(xV){h.e(xV)}finally{h.f()}if(!this.weightUrlConverter){e.next=19;break}return e.t0=p.push,e.t1=p,e.t2=$t.Z,e.next=16,Promise.all(f);case 16:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4);case 19:return e.next=21,Hs(p,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});case 21:return x=e.sent,e.abrupt("return",[s,Lu(x)]);case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ys(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}function $s(e){return null!=e.match(Xs.URL_SCHEME_REGEX)}Xs.URL_SCHEME_REGEX=/^https?:\/\//;var Qs=function(e,t){if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;return(Array.isArray(e)?e.every((function(e){return $s(e)})):$s(e))?Js(e,t):null};function Js(e,t){return new Xs(e,t)}function el(e,t){return Js(e,t)}Hu.registerSaveRouter(Qs),Hu.registerLoadRouter(Qs);var tl,nl=function(){function e(t){(0,Qt.Z)(this,e),this.modelArtifacts=t}return(0,Jt.Z)(e,[{key:"load",value:function(){var e=Ut(qt().mark((function e(){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.modelArtifacts);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),rl=function(){function e(t){(0,Qt.Z)(this,e),this.saveHandler=t}return(0,Jt.Z)(e,[{key:"save",value:function(){var e=Ut(qt().mark((function e(t){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.saveHandler(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function al(e,t,n,r){if(1===arguments.length){var a=null!=e.modelTopology||null!=e.weightSpecs;return a?new nl(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new nl({modelTopology:e}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new nl({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r})}function ol(e){return new rl(e)}function il(e,t){for(var n=e.length,r=[],a=0;a<n;a++){var o=n-1-a,i=e[o]||1;(t[t.length-1-a]||1)>1&&1===i&&r.unshift(o)}return r}function ul(e,t){for(var n=[],r=0;r<t.length;r++){var a=e[e.length-r-1],o=t.length-r-1,i=t[o];(null==a||1===a&&i>1)&&n.unshift(o)}return n}function sl(e,t){for(var n=[],r=Math.max(e.length,t.length),a=0;a<r;a++){var o=e[e.length-a-1];null==o&&(o=1);var i=t[t.length-a-1];if(null==i&&(i=1),1===o)n.unshift(i);else if(1===i)n.unshift(o);else{if(o!==i){var u="Operands could not be broadcast together with shapes "+"".concat(e," and ").concat(t,".");throw Error(u)}n.unshift(o)}}return n}function ll(e,t,n){if(dn(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var r=bu(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Su(e,t,r,n)}function cl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,a=!1,o=!1,i=!1,u=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!==typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement)a=!0;else if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement)o=!0;else if(null!=e.getContext)i=!0;else{if(!("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, "+"but was ".concat(e.constructor.name));u=!0}if(a){var s=2;if(a&&e.readyState<s)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.")}var l=ri(Xo,fu.backendName);if(null!=l){var c={pixels:e},d={numChannels:t};return fu.runKernel(Xo,c,d)}var p,f,h=a?[e.videoWidth,e.videoHeight]:[e.width,e.height],m=(0,je.Z)(h,2),v=m[0],g=m[1];if(i)p=e.getContext("2d").getImageData(0,0,v,g).data;else if(r||n)p=e.data;else if(o||a||u){if(null==tl)if("undefined"===typeof document){if("undefined"===typeof OffscreenCanvas||"undefined"===typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");tl=new OffscreenCanvas(1,1).getContext("2d")}else tl=document.createElement("canvas").getContext("2d");tl.canvas.width=v,tl.canvas.height=g,tl.drawImage(e,0,0,v,g),p=tl.getImageData(0,0,v,g).data}if(4===t)f=new Int32Array(p);else{var b=v*g;f=new Int32Array(b*t);for(var y=0;y<b;y++)for(var x=0;x<t;++x)f[y*t+x]=p[4*y+x]}var k=[g,v,t];return ll(f,k,"int32")}function dl(e){return"undefined"!==typeof window&&"undefined"!==typeof ImageBitmap&&window.hasOwnProperty("createImageBitmap")&&!(e instanceof ImageBitmap)&&function(e){return null!=e&&0!==e.width&&0!==e.height}(e)&&!function(e){return null!=e&&e.data instanceof Uint8Array}(e)}function pl(e){return fl.apply(this,arguments)}function fl(){return fl=Ut(qt().mark((function e(t){var n,r,a,o=arguments;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:3,r=null,!Gn().getBool("WRAP_TO_IMAGEBITMAP")||!dl(t)){e.next=15;break}return e.prev=3,e.next=6,createImageBitmap(t,{premultiplyAlpha:"none"});case 6:a=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),a=null;case 12:r=null!=a&&a.width===t.width&&a.height===t.height?a:t,e.next=16;break;case 15:r=t;case 16:return e.abrupt("return",cl(r,n));case 17:case"end":return e.stop()}}),e,null,[[3,9]])}))),fl.apply(this,arguments)}Du({fromPixels_:cl});function hl(e,t,n){var r=e.shape.length;ln(r===t.length,(function(){return"Error in slice".concat(r,"D: Length of begin ").concat(t," must ")+"match the rank of the array (".concat(r,").")})),ln(r===n.length,(function(){return"Error in slice".concat(r,"D: Length of size ").concat(n," must ")+"match the rank of the array (".concat(r,").")}));for(var a=function(a){ln(t[a]+n[a]<=e.shape[a],(function(){return"Error in slice".concat(r,"D: begin[").concat(a,"] + size[").concat(a,"] ")+"(".concat(t[a]+n[a],") would overflow input.shape[").concat(a,"] (").concat(e.shape[a],")")}))},o=0;o<r;++o)a(o)}function ml(e,t,n){for(var r=[],a=0;a<e.length;a++)r[a]=Math.ceil((t[a]-e[a])/n[a]);return r}function vl(e,t,n){for(var r=n.length,a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(var o=r+1;o<n.length;o++)if(t[o]>0||n[o]!==e[o])return!1;return!0}function gl(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function bl(e,t,n){var r,a,o=e.shape.length;return(r="number"===typeof t?[t].concat((0,$t.Z)(new Array(o-1).fill(0))):t.length<o?t.concat(new Array(o-t.length).fill(0)):t.slice()).forEach((function(e){ln(-1!==e,(function(){return"slice() does not support negative begin indexing."}))})),a=(a=null==n?new Array(o).fill(-1):"number"===typeof n?[n].concat((0,$t.Z)(new Array(o-1).fill(-1))):n.length<o?n.concat(new Array(o-n.length).fill(-1)):n).map((function(t,n){return t>=0?t:(ln(-1===t,(function(){return"Negative size values should be exactly -1 but got "+"".concat(t," for the slice() size at index ").concat(n,".")})),e.shape[n]-r[n])})),[r,a]}function yl(e,t,n,r,a,o,i,u,s){var l;if(null==r?(l=new Array(t.length)).fill(1):l=r,null!=i&&0!==(i&i-1))throw new Error("Multiple ellipses in slice is not allowed.");for(var c=!1,d={dims:l.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:l.slice(),beginMask:a,endMask:o,ellipsisMask:i,newAxisMask:u,shrinkAxisMask:s},p=0;p<d.dims;p++)c&&0!==(1<<p&u)&&d.numAddAxisAfterEllipsis++,1<<p&i&&(c=!0);c||(d.ellipsisMask|=1<<d.dims,d.dims++);var f={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;var n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(var r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask)for(var a=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);n<a;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r;else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(-2),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error("Index out of range using input dim ".concat(n,"; input ")+"has only ".concat(t.dims," dims, ").concat(t.begin.length,"."));null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(-1),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(d,f);for(var h=!0,m=!0,v=!0,g=[],b=[],y=0;y<e.length;++y){if(0===f.strides[y])throw Error("strides[".concat(y,"] must be non-zero"));var x=!!(f.shrinkAxisMask&1<<y),k=e[y];if(-1!==k){var w=[f.beginMask&1<<y,f.endMask&1<<y],C=[f.strides[y]>0?0:-1,f.strides[y]>0?k:k-1];if(x&&f.strides[y]<=0)throw Error("only stride 1 allowed on non-range indexing.");v=v&&1===f.strides[y];var D=!!(f.beginMask&1<<y&&f.endMask&1<<y);if(f.beginValid&&f.endValid){if(x){var E=f.begin[y]<0?k+f.begin[y]:f.begin[y];if(f.begin[y]=E,f.end[y]=f.begin[y]+1,E<0||E>=k)throw Error("slice index ".concat(f.begin[y]," of dimension ").concat(y," out of bounds."))}else f.begin[y]=xl(f.begin[y],0,f.strides[y],k,w,C),f.end[y]=xl(f.end[y],1,f.strides[y],k,w,C);var S=1===f.strides[y]&&0===f.begin[y]&&f.end[y]===k;h=h&&S,m=m&&(0===y&&1===f.strides[y]||S)}else h=h&&1===f.strides[y]&&D,m=m&&(0===y&&1===f.strides[y]||D);var I=void 0,F=!1;if(f.beginValid&&f.endValid?(I=f.end[y]-f.begin[y],F=!0):x?(I=1,F=!0):D&&k>=0&&(I=f.strides[y]<0?-k:k,F=!0),F){var T=void 0;T=0===I||I<0!==f.strides[y]<0?0:Math.trunc(I/f.strides[y])+(I%f.strides[y]!==0?1:0),g.push(T)}else g.push(-1)}else g.push(x?1:-1)}for(var N=0;N<f.finalShapeGatherIndices.length;++N){var A=f.finalShapeGatherIndices[N];A>=0?b.push(g[A]):-2===A&&b.push(1)}var R=b.filter((function(e,t){return-2!==f.finalShapeGatherIndices[t]}));return{finalShapeSparse:R,finalShape:b,isIdentity:h,sliceDim0:m,isSimpleSlice:v,begin:f.begin,end:f.end,strides:f.strides}}function xl(e,t,n,r,a,o){if(a[t])return n>0?o[t]:o[t+1&1];var i=e<0?r+e:e;return i<o[0]?o[0]:i>o[1]?o[1]:i}var kl=function(){function e(){(0,Qt.Z)(this,e)}return(0,Jt.Z)(e,[{key:"getClassName",value:function(){return this.constructor.className}}],[{key:"fromConfig",value:function(e,t){return new e(t)}}]),e}(),wl=function(){function e(){(0,Qt.Z)(this,e),this.classNameMap={}}return(0,Jt.Z)(e,null,[{key:"getMap",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"register",value:function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]}}]),e}();function Cl(e){ln(null!=e.className,(function(){return"Class being registered does not have the static className property defined."})),ln("string"===typeof e.className,(function(){return"className is required to be a string, but got type "+typeof e.className})),ln(e.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),wl.register(e)}function Dl(){return fu}function El(){return fu.memory()}function Sl(e,t){return fu.tidy(e,t)}function Il(e){ou(e).forEach((function(e){return e.dispose()}))}function Fl(e){return fu.keep(e)}function Tl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return fu.registerBackend(e,t,n)}function Nl(e){return fu.customGrad(e)}function Al(e,t){if((En(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&En(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Su(e,[],[],t)}var Rl=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.apply(this,arguments)}return(0,Jt.Z)(n,[{key:"minimize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this.computeGradients(e,n),a=r.value,o=r.grads;if(null!=n){var i=n.map((function(e){return{name:e.name,tensor:o[e.name]}}));this.applyGradients(i)}else this.applyGradients(o);return Il(o),t?a:(a.dispose(),null)}},{key:"iterations",get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}},{key:"incrementIterations",value:function(){this.iterations_=this.iterations+1}},{key:"computeGradients",value:function(e,t){return function(e,t){ln(Nn(e),(function(){return"The f passed in variableGrads(f) must be a function"})),ln(null==t||Array.isArray(t)&&t.every((function(e){return e instanceof Qi})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var n=null!=t;if(!n)for(var r in t=[],fu.registeredVariables)t.push(fu.registeredVariables[r]);var a=n?t.filter((function(e){return!e.trainable})):null,o=t.length;t=t.filter((function(e){return e.trainable})),ln(t.length>0,(function(){return"variableGrads() expects at least one of the input variables to "+"be trainable, but none of the ".concat(o," variables is ")+"trainable."}));var i=fu.gradients(e,t,null,!0),u=i.value,s=i.grads;ln(s.some((function(e){return null!=e})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),ln(0===u.rank,(function(){return"The f passed in variableGrads(f) must return a scalar, but it "+"returned a rank-".concat(u.rank," tensor")}));var l={};return t.forEach((function(e,t){null!=s[t]&&(l[e.name]=s[t])})),null!=a&&a.forEach((function(e){return l[e.name]=null})),{value:u,grads:l}}(e,t)}},{key:"dispose",value:function(){null!=this.iterations_&&Il(this.iterations_)}},{key:"saveIterations",value:function(){var e=Ut(qt().mark((function e(){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==this.iterations_&&(this.iterations_=0),e.abrupt("return",{name:"iter",tensor:Al(this.iterations_,"int32")});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getWeights",value:function(){var e=Ut(qt().mark((function e(){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getWeights() is not implemented for this optimizer yet.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Ut(qt().mark((function e(t){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setWeights() is not implemented for this optimizer class "+"".concat(this.getClassName()));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"extractIterations",value:function(){var e=Ut(qt().mark((function e(t){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t[0].tensor.data();case 2:return this.iterations_=e.sent[0],e.abrupt("return",t.slice(1));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(kl);Object.defineProperty(Rl,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}});var Ol=Du({abs_:function(e){var t=ku(e,"x","abs");if("complex64"===t.dtype){var n={x:t};return fu.runKernel(Cr,n)}var r={x:t};return fu.runKernel($n,r)}});var Zl=Du({acos_:function(e){var t={x:ku(e,"x","acos")};return fu.runKernel(Qn,t)}});var Ml=Du({acosh_:function(e){var t={x:ku(e,"x","acosh")};return fu.runKernel(Jn,t)}});var Pl=Du({add_:function(e,t){var n=ku(e,"a","add"),r=ku(t,"b","add"),a=nu(n,r),o=(0,je.Z)(a,2),i={a:n=o[0],b:r=o[1]};return fu.runKernel(er,i)}});var Ll=Du({addN_:function(e){ln(Array.isArray(e),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),ln(e.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+"".concat(e.length)}));var t=e.map((function(e,t){return ku(e,"tensors".concat(t),"addN")})),n=t[0];t.forEach((function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((function(e){if(!hn(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var r=t;return fu.runKernel(tr,r)}});var _l=Du({all_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ku(e,"x","all","bool"),a={x:r},o={axis:t,keepDims:n};return fu.runKernel(nr,a,o)}});var Bl=Du({any_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ku(e,"x","any","bool"),a={x:r},o={axis:t,keepDims:n};return fu.runKernel(rr,a,o)}});var zl=Du({argMax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=ku(e,"x","argMax"),r={x:n},a={axis:t};return fu.runKernel(ar,r,a)}});var jl=Du({argMin_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=ku(e,"x","argMin"),r={x:n},a={axis:t};return fu.runKernel(or,r,a)}});var Vl=Du({asin_:function(e){var t={x:ku(e,"x","asin")};return fu.runKernel(ir,t)}});var Wl=Du({asinh_:function(e){var t={x:ku(e,"x","asinh")};return fu.runKernel(ur,t)}});var Hl=Du({atan_:function(e){var t={x:ku(e,"x","atan")};return fu.runKernel(sr,t)}});var Ul=Du({atan2_:function(e,t){var n=ku(e,"a","atan2"),r=ku(t,"b","atan2"),a=nu(n,r),o=(0,je.Z)(a,2),i={a:n=o[0],b:r=o[1]};return fu.runKernel(cr,i)}});var Gl=Du({atanh_:function(e){var t={x:ku(e,"x","atanh")};return fu.runKernel(lr,t)}});function ql(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5?arguments[5]:void 0,i=e[3],u=[].concat((0,$t.Z)(t),[i]),s=uc(a);return Yl(e,u,n,o,r,null,null,s)}function Kl(e,t,n,r,a,o){var i,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",s=Jl(t),l=(0,je.Z)(s,2),c=l[0],d=l[1];if("channelsLast"===u)i=[c,d,e[3],e[3]];else{if("channelsFirst"!==u)throw new Error("Unknown dataFormat ".concat(u));i=[c,d,e[1],e[1]]}return Yl(e,i,n,r,a,o,!1,u)}function Xl(e,t,n,r,a,o){var i,u,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC",l=ec(t),c=(0,je.Z)(l,3),d=c[0],p=c[1],f=c[2];if("NDHWC"===s)u="channelsLast",i=[d,p,f,e[4],e[4]];else{if("NCDHW"!==s)throw new Error("Unknown dataFormat ".concat(s));u="channelsFirst",i=[d,p,f,e[1],e[1]]}return $l(e,i,n,r,a,!1,u,o)}function Yl(e,t,n,r,a,o){var i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",s=-1,l=-1,c=-1,d=-1;if("channelsLast"===u){var p=(0,je.Z)(e,4);s=p[0],l=p[1],c=p[2],d=p[3]}else{if("channelsFirst"!==u)throw new Error("Unknown dataFormat ".concat(u));var f=(0,je.Z)(e,4);s=f[0],d=f[1],l=f[2],c=f[3]}var h,m=(0,je.Z)(t,4),v=m[0],g=m[1],b=m[3],y=Jl(n),x=(0,je.Z)(y,2),k=x[0],w=x[1],C=Jl(r),D=(0,je.Z)(C,2),E=D[0],S=D[1],I=tc(v,E),F=tc(g,S),T=nc(a,l,c,k,w,I,F,o,u),N=T.padInfo,A=T.outHeight,R=T.outWidth,O=i?b*d:b;return"channelsFirst"===u?h=[s,O,A,R]:"channelsLast"===u&&(h=[s,A,R,O]),{batchSize:s,dataFormat:u,inHeight:l,inWidth:c,inChannels:d,outHeight:A,outWidth:R,outChannels:O,padInfo:N,strideHeight:k,strideWidth:w,filterHeight:v,filterWidth:g,effectiveFilterHeight:I,effectiveFilterWidth:F,dilationHeight:E,dilationWidth:S,inShape:e,outShape:h,filterShape:t}}function $l(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",u=arguments.length>7?arguments[7]:void 0,s=-1,l=-1,c=-1,d=-1,p=-1;if("channelsLast"===i){var f=(0,je.Z)(e,5);s=f[0],l=f[1],c=f[2],d=f[3],p=f[4]}else{if("channelsFirst"!==i)throw new Error("Unknown dataFormat ".concat(i));var h=(0,je.Z)(e,5);s=h[0],p=h[1],l=h[2],c=h[3],d=h[4]}var m,v=(0,je.Z)(t,5),g=v[0],b=v[1],y=v[2],x=v[4],k=ec(n),w=(0,je.Z)(k,3),C=w[0],D=w[1],E=w[2],S=ec(r),I=(0,je.Z)(S,3),F=I[0],T=I[1],N=I[2],A=tc(g,F),R=tc(b,T),O=tc(y,N),Z=rc(a,l,c,d,C,D,E,A,R,O,u),M=Z.padInfo,P=Z.outDepth,L=Z.outHeight,_=Z.outWidth,B=o?x*p:x;return"channelsFirst"===i?m=[s,B,P,L,_]:"channelsLast"===i&&(m=[s,P,L,_,B]),{batchSize:s,dataFormat:i,inDepth:l,inHeight:c,inWidth:d,inChannels:p,outDepth:P,outHeight:L,outWidth:_,outChannels:B,padInfo:M,strideDepth:C,strideHeight:D,strideWidth:E,filterDepth:g,filterHeight:b,filterWidth:y,effectiveFilterDepth:A,effectiveFilterHeight:R,effectiveFilterWidth:O,dilationDepth:F,dilationHeight:T,dilationWidth:N,inShape:e,outShape:m,filterShape:t}}function Ql(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=tc(t,r);return Math.floor((e[0]*(n-1)-n+a)/2)}function Jl(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function ec(e){return"number"===typeof e?[e,e,e]:e}function tc(e,t){return t<=1?e:e+(e-1)*(t-1)}function nc(e,t,n,r,a,o,i,u,s){var l,c,d;if("number"===typeof e){l={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var p=function(e,t,n,r,a){null==r&&(r=Ql(e,t,n));var o=e[0],i=e[1];return[ac((o-t+2*r)/n+1,a),ac((i-t+2*r)/n+1,a)]}([t,n],o,r,e,u);c=p[0],d=p[1]}else if("same"===e){c=Math.ceil(t/r),d=Math.ceil(n/a);var f=Math.max(0,(c-1)*r+o-t),h=Math.max(0,(d-1)*a+i-n),m=Math.floor(f/2),v=f-m,g=Math.floor(h/2);l={top:m,bottom:v,left:g,right:h-g,type:"SAME"}}else if("valid"===e)l={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-o+1)/r),d=Math.ceil((n-i+1)/a);else{if("object"!==typeof e)throw Error("Unknown padding parameter: ".concat(e));var b="channelsLast"===s?e[1][0]:e[2][0],y="channelsLast"===s?e[1][1]:e[2][1],x="channelsLast"===s?e[2][0]:e[3][0],k="channelsLast"===s?e[2][1]:e[3][1];l={top:b,bottom:y,left:x,right:k,type:0===b&&0===y&&0===x&&0===k?"VALID":"EXPLICIT"},c=ac((t-o+b+y)/r+1,u),d=ac((n-i+x+k)/a+1,u)}return{padInfo:l,outHeight:c,outWidth:d}}function rc(e,t,n,r,a,o,i,u,s,l,c){var d,p,f,h;if("number"===typeof e){d={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};var m=function(e,t,n,r,a,o){null==a&&(a=Ql(e,t,r));var i=e[0],u=e[1],s=e[2];return[ac((i-t+2*a)/r+1,o),ac((u-t+2*a)/r+1,o),ac((s-t+2*a)/r+1,o),n]}([t,n,r,1],u,1,a,e,c);p=m[0],f=m[1],h=m[2]}else if("same"===e){var v=((p=Math.ceil(t/a))-1)*a+u-t,g=((f=Math.ceil(n/o))-1)*o+s-n,b=((h=Math.ceil(r/i))-1)*i+l-r,y=Math.floor(v/2),x=v-y,k=Math.floor(g/2),w=g-k,C=Math.floor(b/2);d={top:k,bottom:w,left:C,right:b-C,front:y,back:x,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: ".concat(e));d={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},p=Math.ceil((t-u+1)/a),f=Math.ceil((n-s+1)/o),h=Math.ceil((r-l+1)/i)}return{padInfo:d,outDepth:p,outHeight:f,outWidth:h}}function ac(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode ".concat(t))}}function oc(e){var t=Jl(e),n=(0,je.Z)(t,3),r=n[0],a=n[1],o=n[2];return 1===r&&1===a&&1===o}function ic(e,t){return oc(e)||oc(t)}function uc(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat ".concat(e))}function sc(e,t,n){if(null!=n){if("string"===typeof t)throw Error("Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,"."));if("number"===typeof t)ln(mn(t),(function(){return"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")}));else{if("object"!==typeof t)throw Error("Error in ".concat(e,": Unknown padding parameter: ").concat(t));t.forEach((function(t){t.forEach((function(t){ln(mn(t),(function(){return"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")}))}))}))}}}var lc=Du({reshape_:function(e,t){var n={x:ku(e,"x","reshape","string_or_numeric")},r={shape:t};return fu.runKernel(no,n,r)}});var cc=Du({avgPool_:function(e,t,n,r,a){var o=ku(e,"x","avgPool","float32");ln(ic(n,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")}));var i=o,u=!1;3===o.rank&&(u=!0,i=lc(o,[1,o.shape[0],o.shape[1],o.shape[2]])),ln(4===i.rank,(function(){return"Error in avgPool: x must be rank 4 but got rank ".concat(i.rank,".")})),sc("avgPool",r,a);var s={x:i},l={filterSize:t,strides:n,pad:r,dimRoundingMode:a},c=fu.runKernel(dr,s,l);return c=Ps(c,o.dtype),u?lc(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});var dc=Du({avgPool3d_:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",i=ku(e,"x","avgPool3d","float32"),u=i,s=!1;4===i.rank&&(s=!0,u=lc(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),ln(5===u.rank,(function(){return"Error in avgPool3d: x must be rank 5 but got rank ".concat(u.rank,".")})),ln("NDHWC"===o,(function(){return"Error in avgPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(o)})),sc("avgPool3d",r,a);var l={x:u},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:o},d=fu.runKernel(fr,l,c);return d=Ps(d,u.dtype),s?lc(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});var pc=Du({concat_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;ln(e.length>=1,(function(){return"Pass at least one tensor to concat"}));var n=wu(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((function(e){if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype ".concat(e.dtype,". "))})),1===n.length)return Ls(n[0]);var r=n,a={axis:t};return fu.runKernel(Dr,r,a)}});var fc=Du({matMul_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=ku(e,"a","matMul"),o=ku(t,"b","matMul"),i=nu(a,o),u=(0,je.Z)(i,2),s={a:a=u[0],b:o=u[1]},l={transposeA:n,transposeB:r};return fu.runKernel(mr,s,l)}});var hc=Du({mul_:function(e,t){var n=ku(e,"a","mul"),r=ku(t,"b","mul"),a=nu(n,r),o=(0,je.Z)(a,2),i={a:n=o[0],b:r=o[1]};return fu.runKernel(Ba,i)}});var mc=Du({sigmoid_:function(e){var t={x:ku(e,"x","sigmoid","float32")};return fu.runKernel(yo,t)}});var vc=Du({slice_:function(e,t,n){var r=ku(e,"x","slice","string_or_numeric");if(0===r.rank)throw new Error("Slicing scalar is not possible");var a={x:r},o={begin:t,size:n};return fu.runKernel(mo,a,o)}});var gc=Du({tanh_:function(e){var t={x:ku(e,"x","tanh","float32")};return fu.runKernel(Bo,t)}});var bc=Du({basicLSTMCell_:function(e,t,n,r,a,o){var i=ku(e,"forgetBias","basicLSTMCell"),u=ku(t,"lstmKernel","basicLSTMCell"),s=ku(n,"lstmBias","basicLSTMCell"),l=ku(r,"data","basicLSTMCell"),c=ku(a,"c","basicLSTMCell"),d=ku(o,"h","basicLSTMCell"),p=pc([l,d],1),f=fc(p,u),h=Pl(f,s),m=h.shape[0],v=h.shape[1]/4,g=[m,v],b=vc(h,[0,0],g),y=vc(h,[0,v],g),x=vc(h,[0,2*v],g),k=vc(h,[0,3*v],g),w=Pl(hc(mc(b),gc(y)),hc(c,mc(Pl(i,x))));return[w,hc(gc(w),mc(k))]}});var yc=Du({batchToSpaceND_:function(e,t,n){var r=ku(e,"x","batchToSpaceND"),a=t.reduce((function(e,t){return e*t}));ln(r.rank>=1+t.length,(function(){return"input rank is ".concat(r.rank," but should be > than blockShape.length ").concat(t.length)})),ln(n.length===t.length,(function(){return"crops.length is ".concat(n.length," but should be equal to blockShape.length  ").concat(t.length)})),ln(r.shape[0]%a===0,(function(){return"input tensor batch is ".concat(r.shape[0]," but is not divisible by the product of ")+"the elements of blockShape ".concat(t.join(" * ")," === ").concat(a)}));var o={x:r},i={blockShape:t,crops:n};return fu.runKernel(vr,o,i)}});var xc=Du({batchNorm_:function(e,t,n,r,a,o){null==o&&(o=.001);var i,u,s=ku(e,"x","batchNorm"),l=ku(t,"mean","batchNorm"),c=ku(n,"variance","batchNorm");null!=a&&(i=ku(a,"scale","batchNorm")),null!=r&&(u=ku(r,"offset","batchNorm")),ln(l.rank===c.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),ln(null==u||l.rank===u.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),ln(null==i||l.rank===i.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var d=function(e){return 0===e.rank||1===e.rank?lc(e,[1,1,1,e.size]):2===e.rank?lc(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?lc(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e}(s),p={x:d,scale:i,offset:u,mean:l,variance:c},f={varianceEpsilon:o},h=fu.runKernel(aa,p,f);return lc(h,s.shape)}});var kc=Du({batchNorm2d_:function(e,t,n,r,a,o){var i,u,s=ku(e,"x","batchNorm"),l=ku(t,"mean","batchNorm"),c=ku(n,"variance","batchNorm");return null!=a&&(i=ku(a,"scale","batchNorm")),null!=r&&(u=ku(r,"offset","batchNorm")),ln(2===s.rank,(function(){return"Error in batchNorm2D: x must be rank 2 but got rank "+"".concat(s.rank,".")})),ln(2===l.rank||1===l.rank,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+"got rank ".concat(l.rank,".")})),ln(2===c.rank||1===c.rank,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 "+"but got rank ".concat(c.rank,".")})),null!=i&&ln(2===i.rank||1===i.rank,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 "+"but got rank ".concat(i.rank,".")})),null!=u&&ln(2===u.rank||1===u.rank,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 "+"but got rank ".concat(u.rank,".")})),xc(s,l,c,u,i,o)}});var wc=Du({batchNorm3d_:function(e,t,n,r,a,o){var i,u,s=ku(e,"x","batchNorm"),l=ku(t,"mean","batchNorm"),c=ku(n,"variance","batchNorm");return null!=a&&(i=ku(a,"scale","batchNorm")),null!=r&&(u=ku(r,"offset","batchNorm")),ln(3===s.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+"".concat(s.rank,".")})),ln(3===l.rank||1===l.rank,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+"got rank ".concat(l.rank,".")})),ln(3===c.rank||1===c.rank,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 "+"but got rank ".concat(c.rank,".")})),null!=i&&ln(3===i.rank||1===i.rank,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 "+"but got rank ".concat(i.rank,".")})),null!=u&&ln(3===u.rank||1===u.rank,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 "+"but got rank ".concat(u.rank,".")})),xc(s,l,c,u,i,o)}});var Cc=Du({batchNorm4d_:function(e,t,n,r,a,o){var i,u,s=ku(e,"x","batchNorm"),l=ku(t,"mean","batchNorm"),c=ku(n,"variance","batchNorm");return null!=a&&(i=ku(a,"scale","batchNorm")),null!=r&&(u=ku(r,"offset","batchNorm")),ln(4===s.rank,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+"".concat(s.rank,".")})),ln(4===l.rank||1===l.rank,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+"got rank ".concat(l.rank,".")})),ln(4===c.rank||1===c.rank,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 "+"but got rank ".concat(c.rank,".")})),null!=i&&ln(4===i.rank||1===i.rank,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 "+"but got rank ".concat(i.rank,".")})),null!=u&&ln(4===u.rank||1===u.rank,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 "+"but got rank ".concat(u.rank,".")})),xc(s,l,c,u,i,o)}});var Dc=Du({bincount_:function(e,t,n){var r=ku(e,"x","bincount"),a=ku(t,"weights","bincount");ln("int32"===r.dtype,(function(){return"Error in bincount: input "+"dtype must be int32, but got ".concat(r.dtype)})),ln(n>=0,(function(){return"size must be non-negative, but got ".concat(n,".")})),ln(a.size===r.size||0===a.size,(function(){return"Error in bincount: weights must have the same size as input or"+"0-length, but got input shape: ".concat(r.shape,", weights shape: ")+"".concat(a.shape,".")}));var o={x:r,weights:a},i={size:n};return fu.runKernel(gr,o,i)}});var Ec=Du({broadcastArgs_:function(e,t){var n=ku(e,"s0","broadcastArgs","int32"),r=ku(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error("broadcastArgs(): first input must be a vector (rank=1). "+"Has rank ".concat(n.rank));if(1!==r.rank)throw new Error("broadcastArgs(): second input must be a vector (rank=1). "+"Has rank ".concat(r.rank));var a={s0:n,s1:r};return fu.runKernel(br,a)}});var Sc=Du({broadcastTo_:function(e,t){var n=ku(e,"broadcastTo","x"),r=n.shape;if(t.some((function(e){return!(e>0)||e%1!==0})))throw new Error("broadcastTo(): Invalid broadcast shape [".concat(t,"]."));if(t.length<n.rank)throw new Error("broadcastTo(): shape.length=".concat(t.length," < input.rank=").concat(n.rank,"."));if(t.length>n.rank){for(var a=n.shape.slice();a.length<t.length;)a.unshift(1);n=lc(n,a)}for(var o=n.shape,i=Array.from(t),u=t.length-1;u>=0;u--)if(o[u]===t[u])i[u]=1;else if(1!==n.shape[u])throw new Error("broadcastTo(): [".concat(r,"] cannot be broadcast to [").concat(t,"]."));var s=i.map((function(e,t){return e>1?t:-1})).filter((function(e){return e>=0}));if(0===s.length)return Ls(n);var l={x:n},c={reps:i};return fu.runKernel(zo,l,c)}});var Ic=Du({ceil_:function(e){var t={x:ku(e,"x","ceil","float32")};return fu.runKernel(xr,t)}});var Fc=Du({clipByValue_:function(e,t,n){var r=ku(e,"x","clipByValue");ln(t<=n,(function(){return"Error in clip: min (".concat(t,") must be ")+"less than or equal to max (".concat(n,").")}));var a={x:r},o={clipValueMin:t,clipValueMax:n};return fu.runKernel(kr,a,o)}});var Tc=Du({concat1d_:function(e){return pc(e,0)}});var Nc=Du({concat2d_:function(e,t){return pc(e,t)}});var Ac=Du({concat3d_:function(e,t){return pc(e,t)}});var Rc=Du({concat4d_:function(e,t){return pc(e,t)}});var Oc=Du({conv2d_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6?arguments[6]:void 0,u=ku(e,"x","conv2d","float32"),s=ku(t,"filter","conv2d","float32"),l=u,c=!1;3===u.rank&&(c=!0,l=lc(u,[1,u.shape[0],u.shape[1],u.shape[2]])),ln(4===l.rank,(function(){return"Error in conv2d: input must be rank 4, but got rank ".concat(l.rank,".")})),ln(4===s.rank,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+"".concat(s.rank,".")})),sc("conv2d",r,i);var d="NHWC"===a?l.shape[3]:l.shape[1];ln(d===s.shape[2],(function(){return"Error in conv2d: depth of input (".concat(d,") must match ")+"input depth for filter ".concat(s.shape[2],".")})),ln(ic(n,o),(function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(o,"'")}));var p={x:l,filter:s},f={strides:n,pad:r,dataFormat:a,dilations:o,dimRoundingMode:i},h=fu.runKernel(Er,p,f);return c?lc(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});var Zc=Du({conv1d_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,i=arguments.length>6?arguments[6]:void 0,u=ku(e,"x","conv1d"),s=ku(t,"filter","conv1d"),l=u,c=!1;2===u.rank&&(c=!0,l=lc(u,[1,u.shape[0],u.shape[1]])),ln(3===l.rank,(function(){return"Error in conv1d: input must be rank 3, but got rank ".concat(l.rank,".")})),ln(3===s.rank,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+"".concat(s.rank,".")})),sc("conv1d",r,i),ln(l.shape[2]===s.shape[1],(function(){return"Error in conv1d: depth of input (".concat(l.shape[2],") must match ")+"input depth for filter ".concat(s.shape[1],".")})),ln(ic(n,o),(function(){return"Error in conv1D: Either stride or dilation must be 1. "+"Got stride ".concat(n," and dilation '").concat(o,"'")})),ln("NWC"===a,(function(){return"Error in conv1d: got dataFormat of ".concat(a," but only NWC is currently supported.")}));var d=lc(s,[1,s.shape[0],s.shape[1],s.shape[2]]),p=lc(l,[l.shape[0],1,l.shape[1],l.shape[2]]),f=[1,n],h=[1,o],m="NHWC",v=Oc(p,d,f,r,m,h,i);return lc(v,c?[v.shape[2],v.shape[3]]:[v.shape[0],v.shape[2],v.shape[3]])}});var Mc=Du({conv2DBackpropInput_:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",i=arguments.length>6?arguments[6]:void 0;ln(e.length===t.rank,(function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")}));var u=e,s=t,l=!1;3===t.rank&&(l=!0,s=lc(t,[1,t.shape[0],t.shape[1],t.shape[2]]),u=[1,e[0],e[1],e[2]]),ln(4===u.length,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+"".concat(u.length,".")})),ln(4===s.rank,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got "+"rank ".concat(s.rank)})),ln(4===n.rank,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got "+"rank ".concat(n.rank)}));var c="NHWC"===o?u[3]:u[1],d="NHWC"===o?s.shape[3]:s.shape[1];ln(c===n.shape[2],(function(){return"Error in conv2dDerInput: depth of input (".concat(c,") must ")+"match input depth for filter ".concat(n.shape[2],".")})),ln(d===n.shape[3],(function(){return"Error in conv2dDerInput: depth of output (".concat(d,") must ")+"match output depth for filter ".concat(n.shape[3],".")})),sc("conv2dDerInput",a,i);var p={dy:s,filter:n},f={strides:r,pad:a,dataFormat:o,dimRoundingMode:i,inputShape:u},h=fu.runKernel(Ir,p,f);return l?lc(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});var Pc=Du({conv2dTranspose_:function(e,t,n,r,a,o){var i=ku(e,"x","conv2dTranspose"),u=ku(t,"filter","conv2dTranspose");return Mc(n,i,u,r,a,"NHWC",o)}});var Lc=Du({conv3d_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1],i=ku(e,"x","conv3d"),u=ku(t,"filter","conv3d"),s=i,l=!1;4===i.rank&&(l=!0,s=lc(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),ln(5===s.rank,(function(){return"Error in conv3d: input must be rank 5, but got rank ".concat(s.rank,".")})),ln(5===u.rank,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+"".concat(u.rank,".")})),ln(s.shape[4]===u.shape[3],(function(){return"Error in conv3d: depth of input (".concat(s.shape[4],") must match ")+"input depth for filter ".concat(u.shape[3],".")})),ln(ic(n,o),(function(){return"Error in conv3D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(o,"'")})),ln("NDHWC"===a,(function(){return"Error in conv3d: got dataFormat of ".concat(a," but only NDHWC is currently supported.")}));var c={x:s,filter:u},d={strides:n,pad:r,dataFormat:a,dilations:o},p=fu.runKernel(Fr,c,d);return l?lc(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});var _c=Du({conv3DBackpropInput_:function(e,t,n,r,a){ln(e.length===t.rank,(function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")}));var o=e,i=t,u=!1;4===t.rank&&(u=!0,i=lc(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),o=[1,e[0],e[1],e[2],e[3]]);var s=o[4],l=i.shape[4];ln(5===o.length,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+"".concat(o.length,".")})),ln(5===i.rank,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got "+"rank ".concat(i.rank)})),ln(5===n.rank,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got "+"rank ".concat(n.rank)})),ln(s===n.shape[3],(function(){return"Error in conv3dDerInput: depth of input (".concat(s,") must ")+"match input depth for filter ".concat(n.shape[3],".")})),ln(l===n.shape[4],(function(){return"Error in conv3dDerInput: depth of output (".concat(l,") must ")+"match output depth for filter ".concat(n.shape[4],".")}));var c={dy:i,filter:n},d={pad:a,strides:r,inputShape:o},p=fu.runKernel(Nr,c,d);return u?lc(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});var Bc=Du({conv3dTranspose_:function(e,t,n,r,a){var o=ku(e,"x","conv3dTranspose"),i=ku(t,"filter","conv3dTranspose");return _c(n,o,i,r,a)}});var zc=Du({cos_:function(e){var t={x:ku(e,"x","cos","float32")};return fu.runKernel(Ar,t)}});var jc=Du({cosh_:function(e){var t={x:ku(e,"x","cosh","float32")};return fu.runKernel(Rr,t)}});var Vc=Du({cumsum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=ku(e,"x","cumsum"),o={x:a},i={axis:t,exclusive:n,reverse:r};return fu.runKernel(Or,o,i)}});var Wc=Du({denseBincount_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=ku(e,"x","denseBincount"),o=ku(t,"weights","denseBincount");ln("int32"===a.dtype,(function(){return"Error in denseBincount: input "+"dtype must be int32, but got ".concat(a.dtype)})),ln(a.rank<=2,(function(){return"Error in denseBincount: input must be at most rank 2, but got "+"rank ".concat(a.rank,".")})),ln(n>=0,(function(){return"size must be non-negative, but got ".concat(n,".")})),ln(o.size===a.size||0===o.size,(function(){return"Error in denseBincount: weights must have the same shape as x or "+"0-length, but got x shape: ".concat(a.shape,", weights shape: ")+"".concat(o.shape,".")}));var i={x:a,weights:o},u={size:n,binaryOutput:r};return fu.runKernel(Mr,i,u)}});var Hc=Du({depthToSpace_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC",r=ku(e,"x","depthToSpace","float32"),a="NHWC"===n?r.shape[1]:r.shape[2],o="NHWC"===n?r.shape[2]:r.shape[3],i="NHWC"===n?r.shape[3]:r.shape[1];ln(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: ".concat(t)})),ln(a*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(a," and ").concat(t,"  for depthToSpace with input shape\n    ").concat(r.shape)})),ln(o*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(o," and ").concat(t," for depthToSpace with input shape\n        ").concat(r.shape)})),ln(i%(t*t)===0,(function(){return"Dimension size must be evenly divisible by ".concat(t*t," but is ").concat(i," for depthToSpace with input shape ").concat(r.shape)}));var u={x:r},s={blockSize:t,dataFormat:n};return fu.runKernel(Pr,u,s)}});var Uc=Du({depthwiseConv2d_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6?arguments[6]:void 0,u=ku(e,"x","depthwiseConv2d","float32"),s=ku(t,"filter","depthwiseConv2d","float32"),l=u,c=!1;3===u.rank&&(c=!0,l=lc(u,[1,u.shape[0],u.shape[1],u.shape[2]])),ln(4===l.rank,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(l.rank,".")})),ln(4===s.rank,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+"".concat(s.rank,".")})),ln(l.shape[3]===s.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels "+"(".concat(l.shape[3],") must match the inChannels dimension in ")+"filter ".concat(s.shape[2],".")})),sc("depthwiseConv2d",r,i);var d={x:l,filter:s},p={strides:n,pad:r,dataFormat:a,dilations:o,dimRoundingMode:i},f=fu.runKernel(Lr,d,p);return c?lc(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});var Gc=Du({diag_:function(e){var t={x:ku(e,"x","diag")};return fu.runKernel(zr,t)}});var qc=Du({dilation2d_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",i=ku(e,"x","dilation2d"),u=ku(t,"filter","dilation2d");ln(3===i.rank||4===i.rank,(function(){return"Error in dilation2d: input must be rank 3 or 4, but got rank "+"".concat(i.rank,".")})),ln(3===u.rank,(function(){return"Error in dilation2d: filter must be rank 3, but got rank "+"".concat(u.rank,".")})),ln("NHWC"===o,(function(){return"Error in dilation2d: Only NHWC is currently supported, "+"but got dataFormat of ".concat(o)}));var s=i,l=!1;3===i.rank&&(s=lc(i,[1,i.shape[0],i.shape[1],i.shape[2]]),l=!0);var c={x:s,filter:u},d={strides:n,pad:r,dilations:a},p=fu.runKernel(jr,c,d);return l?lc(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});var Kc=Du({floorDiv_:function(e,t){var n=ku(e,"a","floorDiv"),r=ku(t,"b","floorDiv"),a=nu(n,r),o=(0,je.Z)(a,2),i={a:n=o[0],b:r=o[1]};return fu.runKernel(ra,i)}});var Xc=Du({div_:function(e,t){var n=ku(e,"a","div"),r=ku(t,"b","div"),a=nu(n,r),o=(0,je.Z)(a,2);if(n=o[0],r=o[1],"int32"===n.dtype&&"int32"===r.dtype)return Kc(n,r);var i={a:n,b:r};return fu.runKernel(Hr,i,{})}});var Yc=Du({equal_:function(e,t){var n=ku(e,"a","equal","string_or_numeric"),r=ku(t,"b","equal","string_or_numeric"),a=nu(n,r),o=(0,je.Z)(a,2);n=o[0],r=o[1],sl(n.shape,r.shape);var i={a:n,b:r};return fu.runKernel(Xr,i)}});var $c=Du({where_:function(e,t,n){var r=ku(t,"a","where"),a=ku(n,"b","where"),o=ku(e,"condition","where","bool"),i=sl(sl(o.shape,r.shape),a.shape),u={condition:Sc(o,i),t:Sc(r,i),e:Sc(a,i)};return fu.runKernel(fo,u)}});var Qc=Du({zerosLike_:function(e){var t={x:ku(e,"x","zerosLike")};return fu.runKernel(qo,t)}});var Jc=Du({divNoNan_:function(e,t){var n=ku(e,"a","div"),r=ku(t,"b","div"),a=nu(n,r),o=(0,je.Z)(a,2);n=o[0],r=o[1];var i=Xc(n,r),u=Qc(i),s=Yc(r,u);return $c(s,u,i)}});var ed=Du({dot_:function(e,t){var n=ku(e,"t1","dot"),r=ku(t,"t2","dot");ln((1===n.rank||2===n.rank)&&(1===r.rank||2===r.rank),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")}));var a=1===n.rank?n.size:n.shape[1],o=1===r.rank?r.size:r.shape[0];if(ln(a===o,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+"".concat(a," and ").concat(o,".")})),1===n.rank&&1===r.rank){var i=lc(n,[1,-1]),u=lc(r,[-1,1]),s=fc(i,u);return lc(s,[])}if(1===n.rank&&2===r.rank){var l=lc(n,[1,-1]),c=lc(r,[r.shape[0],r.shape[1]]),d=fc(l,c);return lc(d,[d.size])}if(2===n.rank&&1===r.rank){var p=lc(r,[-1,1]),f=fc(n,p);return lc(f,[f.size])}var h=lc(r,[r.shape[0],r.shape[1]]);return fc(n,h)}});var td=Du({einsum_:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n.map((function(e,t){return ku(e,"tensors".concat(t),"einsum")})),o={equation:e};return fu.runKernel(Ur,a,o)}});var nd=Du({elu_:function(e){var t={x:ku(e,"x","elu","float32")};return fu.runKernel(Gr,t)}});var rd=Du({erf_:function(e){var t=ku(e,"x","erf");ln("int32"===t.dtype||"float32"===t.dtype,(function(){return"Input dtype must be `int32` or `float32`."})),"int32"===t.dtype&&(t=Ps(t,"float32"));var n={x:t};return fu.runKernel(Kr,n)}});var ad=Du({exp_:function(e){var t={x:ku(e,"x","exp")};return fu.runKernel(Yr,t)}});var od=Du({expandDims_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=ku(e,"x","expandDims","string_or_numeric");ln(t<=n.rank,(function(){return"Axis must be <= rank of the tensor"}));var r={input:n},a={dim:t};return fu.runKernel($r,r,a)}});var id=Du({expm1_:function(e){var t={x:ku(e,"x","expm1")};return fu.runKernel(Qr,t)}});var ud=Du({tile_:function(e,t){var n=ku(e,"x","tile","string_or_numeric");ln(n.rank===t.length,(function(){return"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of reps ".concat(t,".")}));var r={x:n},a={reps:t};return fu.runKernel(zo,r,a)}});var sd=Du({eye_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";null==t&&(t=e);for(var a=Ms([e,t],r),o=e<=t?e:t,i=0;i<o;++i)a.set(1,i,i);var u=lc(a.toTensor(),[e,t]);if(null==n)return u;if(1===n.length)return ud(od(u,0),[n[0],1,1]);if(2===n.length)return ud(od(od(u,0),0),[n[0],n[1],1,1]);if(3===n.length)return ud(od(od(od(u,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+"batchShapes, but received ".concat(n.length,"D."))}});function ld(e,t,n){var r={shape:e,value:t,dtype:n};return fu.runKernel(ea,{},r)}var cd=Du({floor_:function(e){var t={x:ku(e,"x","floor","float32")};return fu.runKernel(na,t)}});var dd=Du({gather_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=ku(e,"x","gather"),o=ku(t,"indices","gather","int32"),i={x:a,indices:o},u={axis:n,batchDims:r};return fu.runKernel(oa,i,u)}});var pd=Du({greater_:function(e,t){var n=ku(e,"a","greater","string_or_numeric"),r=ku(t,"b","greater","string_or_numeric"),a=nu(n,r),o=(0,je.Z)(a,2);n=o[0],r=o[1],sl(n.shape,r.shape);var i={a:n,b:r};return fu.runKernel(ua,i)}});var fd=Du({greaterEqual_:function(e,t){var n=ku(e,"a","greaterEqual","string_or_numeric"),r=ku(t,"b","greaterEqual","string_or_numeric"),a=nu(n,r),o=(0,je.Z)(a,2);n=o[0],r=o[1],sl(n.shape,r.shape);var i={a:n,b:r};return fu.runKernel(sa,i)}});var hd=Du({imag_:function(e){var t={input:ku(e,"input","imag")};return fu.runKernel(da,t)}});var md=Du({isFinite_:function(e){var t={x:ku(e,"x","isFinite")};return fu.runKernel(pa,t)}});var vd=Du({isInf_:function(e){var t={x:ku(e,"x","isInf")};return fu.runKernel(fa,t)}});var gd=Du({isNaN_:function(e){var t={x:ku(e,"x","isNaN")};return fu.runKernel(ha,t)}});var bd=Du({leakyRelu_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,n=ku(e,"x","leakyRelu"),r={x:n},a={alpha:t};return fu.runKernel(ma,r,a)}});var yd=Du({less_:function(e,t){var n=ku(e,"a","less","string_or_numeric"),r=ku(t,"b","less","string_or_numeric"),a=nu(n,r),o=(0,je.Z)(a,2);n=o[0],r=o[1],sl(n.shape,r.shape);var i={a:n,b:r};return fu.runKernel(va,i)}});var xd=Du({lessEqual_:function(e,t){var n=ku(e,"a","lessEqual","string_or_numeric"),r=ku(t,"b","lessEqual","string_or_numeric"),a=nu(n,r),o=(0,je.Z)(a,2);n=o[0],r=o[1],sl(n.shape,r.shape);var i={a:n,b:r};return fu.runKernel(ga,i)}});function kd(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");var r={start:e,stop:t,num:n};return fu.runKernel(ba,{},r)}var wd=Du({localResponseNormalization_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,o=ku(e,"x","localResponseNormalization");ln(4===o.rank||3===o.rank,(function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ".concat(o.rank,".")})),ln(mn(t),(function(){return"Error in localResponseNormalization: depthRadius must be an "+"integer but got depthRadius ".concat(t,".")}));var i=o,u=!1;3===o.rank&&(u=!0,i=lc(o,[1,o.shape[0],o.shape[1],o.shape[2]]));var s={x:i},l={depthRadius:t,bias:n,alpha:r,beta:a},c=fu.runKernel(Da,s,l);return u?lc(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});var Cd=Du({log_:function(e){var t={x:ku(e,"x","log","float32")};return fu.runKernel(ya,t)}});var Dd=Du({log1p_:function(e){var t={x:ku(e,"x","log1p")};return fu.runKernel(xa,t)}});var Ed=Du({neg_:function(e){var t={x:ku(e,"x","neg")};return fu.runKernel(za,t)}});var Sd=Du({softplus_:function(e){var t={x:ku(e,"x","softplus")};return fu.runKernel(xo,t)}});var Id=Du({logSigmoid_:function(e){var t=ku(e,"x","logSigmoid"),n=Nl((function(e){return{value:Ed(Sd(Ed(e))),gradFunc:function(t){return hc(t,mc(Ed(e)))}}}));return n(t)}});var Fd=Du({max_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ku(e,"x","max"),a={x:r},o={reductionIndices:t,keepDims:n};return fu.runKernel(Sa,a,o)}});var Td=Du({sub_:function(e,t){var n=ku(e,"a","sub"),r=ku(t,"b","sub"),a=nu(n,r),o=(0,je.Z)(a,2),i={a:n=o[0],b:r=o[1]};return fu.runKernel(Lo,i)}});var Nd=Du({sum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ku(e,"x","sum");"bool"===r.dtype&&(r=Ps(r,"int32"));var a={x:r},o={axis:t,keepDims:n};return fu.runKernel(wo,a,o)}});var Ad=Du({logSoftmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=ku(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and axis was ").concat(t));var r=Nl((function(e,n){var r=Fd(e,t,!0),a=Td(e,r),o=Td(Ps(a,"float32"),Cd(Nd(ad(a),t,!0)));n([o]);return{value:o,gradFunc:function(e,n){var r=(0,je.Z)(n,1)[0],a=ad(r);return Td(e,hc(Nd(e,t,!0),a))}}}));return r(n)}});function Rd(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function Od(e,t){for(var n=[],r=e.length,a=0;a<r;a++)-1===t.indexOf(a)&&n.push(e[a]);var o=t.map((function(t){return e[t]}));return[n,o]}function Zd(e,t){return function(e,t,n){for(var r=e.length+t.length,a=[],o=0,i=0,u=0;u<r;u++)-1===n.indexOf(u)?a.push(e[o++]):a.push(t[i++]);return a}(e,t.map((function(e){return 1})),t)}function Md(e,t,n){ln(Rd(t,n),(function(){return"".concat(e," supports only inner-most axes for now. ")+"Got axes ".concat(t," and rank-").concat(n," input.")}))}function Pd(e,t){if(Rd(e,t))return null;for(var n=[],r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((function(e){return n.push(e)})),n}function Ld(e){return e.map((function(e,t){return[t,e]})).sort((function(e,t){return e[1]-t[1]})).map((function(e){return e[0]}))}function _d(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}var Bd=Du({logSumExp_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ku(e,"x","logSumExp"),a=xn(t,r.shape),o=Fd(r,a,!0),i=Td(r,o),u=ad(i),s=Nd(u,a),l=Cd(s),c=Pl(lc(o,l.shape),l);if(n){var d=Zd(c.shape,a);return lc(c,d)}return c}});var zd=Du({logicalAnd_:function(e,t){var n=ku(e,"a","logicalAnd","bool"),r=ku(t,"b","logicalAnd","bool");sl(n.shape,r.shape);var a={a:n,b:r};return fu.runKernel(ka,a)}});var jd=Du({logicalNot_:function(e){var t={x:ku(e,"x","logicalNot","bool")};return fu.runKernel(wa,t)}});var Vd=Du({logicalOr_:function(e,t){var n=ku(e,"a","logicalOr","bool"),r=ku(t,"b","logicalOr","bool");sl(n.shape,r.shape);var a={a:n,b:r};return fu.runKernel(Ca,a)}});var Wd=Du({logicalXor_:function(e,t){var n=ku(e,"a","logicalXor","bool"),r=ku(t,"b","logicalXor","bool");return sl(n.shape,r.shape),zd(Vd(e,t),jd(zd(e,t)))}});var Hd=Du({maxPool_:function(e,t,n,r,a){var o=ku(e,"x","maxPool"),i=o,u=!1;3===o.rank&&(u=!0,i=lc(o,[1,o.shape[0],o.shape[1],o.shape[2]])),ln(4===i.rank,(function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(i.rank,".")})),ln(ic(n,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")})),sc("maxPool",r,a);var s={x:i},l={filterSize:t,strides:n,pad:r,dimRoundingMode:a},c=fu.runKernel(Fa,s,l);return u?lc(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});var Ud=Du({maxPool3d_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",i=ku(e,"x","maxPool3d"),u=i,s=!1;4===i.rank&&(s=!0,u=lc(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),ln(5===u.rank,(function(){return"Error in maxPool3d: x must be rank 5 but got rank ".concat(u.rank,".")})),ln("NDHWC"===o,(function(){return"Error in maxPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(o)})),sc("maxPool3d",r,a);var l={x:u},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:o},d=fu.runKernel(Na,l,c);return s?lc(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});var Gd=Du({maxPoolWithArgmax_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=ku(e,"x","maxPoolWithArgmax"),i={x:o},u={filterSize:t,strides:n,pad:r,includeBatchInIndex:a},s=fu.runKernel(Ra,i,u);return{result:s[0],indexes:s[1]}}});var qd=Du({maximum_:function(e,t){var n=ku(e,"a","maximum"),r=ku(t,"b","maximum"),a=nu(n,r),o=(0,je.Z)(a,2);n=o[0],r=o[1],"bool"===n.dtype&&(n=Ps(n,"int32"),r=Ps(r,"int32")),sl(n.shape,r.shape);var i={a:n,b:r};return fu.runKernel(Ia,i)}});var Kd=Du({mean_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ku(e,"x","mean"),a={x:r},o={axis:t,keepDims:n};return fu.runKernel(Oa,a,o)}});function Xd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===t){var n=Xd(e,"float32"),r=Xd(e,"float32");return Eu(n,r)}var a=Pn(fn(e),t);return fu.makeTensor(a,e,t)}function Yd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===t){var n=Yd(e,"float32"),r=Xd(e,"float32");return Eu(n,r)}var a=Mn(fn(e),t);return fu.makeTensor(a,e,t)}function $d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.indexing,a=void 0===r?"xy":r;if("xy"!==a&&"ij"!==a)throw new TypeError("".concat(a," is not a valid third argument to meshgrid"));if(void 0===e)return[];var o=ku(e,"x","meshgrid",e instanceof Ui?e.dtype:"float32");if(void 0===t)return[o];var i=ku(t,"y","meshgrid",t instanceof Ui?t.dtype:"float32"),u=fn(o.shape),s=fn(i.shape);return"xy"===a?(o=lc(o,[1,-1]),i=lc(i,[-1,1]),[fc(Yd([s,1],o.dtype),o),fc(i,Yd([1,u],i.dtype))]):(o=lc(o,[-1,1]),i=lc(i,[1,-1]),[fc(o,Yd([1,s],o.dtype)),fc(Yd([u,1],i.dtype),i)])}var Qd=Du({min_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ku(e,"x","min"),a={x:r},o={axis:t,keepDims:n};return fu.runKernel(Za,a,o)}});var Jd=Du({minimum_:function(e,t){var n=ku(e,"a","minimum"),r=ku(t,"b","minimum"),a=nu(n,r),o=(0,je.Z)(a,2);n=o[0],r=o[1],"bool"===n.dtype&&(n=Ps(n,"int32"),r=Ps(r,"int32")),sl(n.shape,r.shape);var i={a:n,b:r};return fu.runKernel(Ma,i)}});var ep=Du({mirrorPad_:function(e,t,n){ln("reflect"===n||"symmetric"===n,(function(){return"Invalid mode. Mode must be either reflect or symmetric. "+"Got ".concat(n,".")}));var r=ku(e,"x","mirrorPad");if(0===r.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");ln(t.length===r.rank,(function(){return"Padding doesn't match input. Must be ".concat(r.rank,". ")+"Got ".concat(t.length,".")}));for(var a="reflect"===n?1:0,o=function(e){ln(2===t[e].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),ln(t[e][0]>=0&&t[e][0]<=r.shape[e]-a&&t[e][1]>=0&&t[e][1]<=r.shape[e]-a,(function(){return"Padding in dimension ".concat(e," cannot be greater than or equal ")+"to ".concat(r.shape[e]-a," or less than 0 for input of ")+"shape ".concat(r.shape)}))},i=0;i<r.rank;i++)o(i);var u={paddings:t,mode:n},s={x:r};return fu.runKernel(Pa,s,u)}});var tp=Du({mod_:function(e,t){var n=ku(e,"a","mod"),r=ku(t,"b","mod"),a=nu(n,r),o=(0,je.Z)(a,2),i={a:n=o[0],b:r=o[1]};return fu.runKernel(La,i)}});var np=Du({square_:function(e){var t=ku(e,"x","square");return fu.runKernel("Square",{x:t},{})}});var rp=Du({moments_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=xn(t,(e=ku(e,"x","moments")).shape),a=Kd(e,r,n),o=a.shape;n||(o=Zd(a.shape,r));var i=np(Td(Ps(e,"float32"),lc(a,o))),u=Kd(i,r,n);return{mean:a,variance:u}}});var ap=Du({multiRNNCell_:function(e,t,n,r){for(var a=ku(t,"data","multiRNNCell"),o=wu(n,"c","multiRNNCell"),i=wu(r,"h","multiRNNCell"),u=a,s=[],l=0;l<e.length;l++){var c=e[l](u,o[l],i[l]);s.push(c[0]),s.push(c[1]),u=c[1]}for(var d=[],p=[],f=0;f<s.length;f+=2)d.push(s[f]),p.push(s[f+1]);return[d,p]}});var op=Du({multinomial_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=ku(e,"logits","multinomial"),o=a.size,i=a.rank;if(o<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+"".concat(o,"."));if(i>2)throw new Error("Rank of probabilities must be 1 or 2, but is ".concat(i));n=n||Math.random();var u=1===i?lc(a,[1,-1]):a,s={logits:u},l={numSamples:t,seed:n,normalized:r},c=fu.runKernel(_a,s,l);return 1===i?lc(c,[c.size]):c}});var ip=Du({notEqual_:function(e,t){var n=ku(e,"a","notEqual","string_or_numeric"),r=ku(t,"b","notEqual","string_or_numeric"),a=nu(n,r),o=(0,je.Z)(a,2);n=o[0],r=o[1],sl(n.shape,r.shape);var i={a:n,b:r};return fu.runKernel(ja,i)}});var up=Du({oneHot_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t<2)throw new Error("Error in oneHot: depth must be >=2, but it is ".concat(t));var a=ku(e,"indices","oneHot","int32"),o={indices:a},i={depth:t,onValue:n,offValue:r};return fu.runKernel(Ga,o,i)}});var sp=Du({onesLike_:function(e){var t={x:ku(e,"x","onesLike")};return fu.runKernel(Ua,t)}});var lp=Du({outerProduct_:function(e,t){var n=ku(e,"v1","outerProduct"),r=ku(t,"v2","outerProduct");ln(1===n.rank&&1===r.rank,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")}));var a=lc(n,[-1,1]),o=lc(r,[1,-1]);return fc(a,o)}});var cp=Du({pad_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=ku(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var a={paddings:t,constantValue:n},o={x:r};return fu.runKernel(Ka,o,a)}});var dp=Du({pad1d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return ln(2===t.length,(function(){return"Invalid number of paddings. Must be length of 2."})),cp(e,[t],n)}});var pp=Du({pad2d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return ln(2===t.length&&2===t[0].length&&2===t[1].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),cp(e,t,n)}});var fp=Du({pad3d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return ln(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),cp(e,t,n)}});var hp=Du({pad4d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return ln(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),cp(e,t,n)}});var mp=Du({spaceToBatchND_:function(e,t,n){var r=ku(e,"x","spaceToBatchND");ln(r.rank>=1+t.length,(function(){return"input rank ".concat(r.rank," should be > than [blockShape] ").concat(t.length)})),ln(n.length===t.length,(function(){return"paddings.shape[0] ".concat(n.length," must be equal to [blockShape] ").concat(t.length)})),ln(r.shape.reduce((function(e,r,a){return a>0&&a<=t.length?e&&(r+n[a-1][0]+n[a-1][1])%t[a-1]===0:e}),!0),(function(){return"input spatial dimensions ".concat(r.shape.slice(1)," with paddings ").concat(n.toString()," must be divisible by blockShapes ").concat(t.toString())}));var a={x:r},o={blockShape:t,paddings:n};return fu.runKernel(Co,a,o)}});var vp=Du({pool_:function(e,t,n,r,a,o,i){null==a&&(a=[1,1]),null==o&&(o=1),0===r&&(r="valid");var u=ku(e,"x","maxPool"),s=u,l=!1;3===u.rank&&(l=!0,s=lc(u,[1,u.shape[0],u.shape[1],u.shape[2]])),ln(ic(o,a),(function(){return"Error in pool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(a,"'")}));var c,d=Kl(s.shape,t,o,a,r),p=[d.dilationHeight,d.dilationWidth];c="same"===r?function(e,t){var n=e.map((function(e,n){return e+(e-1)*(t[n]-1)})).map((function(e){return e-1})),r=n.map((function(e){return Math.floor(e/2)})),a=n.map((function(e,t){return e-r[t]}));return n.map((function(e,t){return[r[t],a[t]]}))}([d.filterHeight,d.filterWidth],p):[[0,0],[0,0]];var f=1===p[0]&&1===p[1],h=function(e,t,n){var r=n.map((function(e){return e[0]})),a=n.map((function(e){return e[1]})),o=e.concat(r,a),i=t.map((function(e,t){return(e-o[t]%e)%e})),u=a.map((function(e,t){return e+i[t]})),s=t.map((function(e,t){return[r[t],u[t]]})),l=t.map((function(e,t){return[0,i[t]]}));return[s,l]}([d.inHeight,d.inWidth],p,c),m=(0,je.Z)(h,2),v=m[0],g=m[1],b=f?r:"valid",y=f?s:mp(s,p,v),x=("avg"===n?function(){return cc(y,t,o,b,i)}:function(){return Hd(y,t,o,b,i)})(),k=f?x:yc(x,p,g);return l?lc(k,[k.shape[1],k.shape[2],k.shape[3]]):k}});var gp=Du({pow_:function(e,t){var n=ku(e,"base","pow"),r=ku(t,"exp","pow"),a=nu(n,r),o=(0,je.Z)(a,2),i={a:n=o[0],b:r=o[1]};return fu.runKernel(Xa,i)}});var bp=Du({prelu_:function(e,t){var n={x:ku(e,"x","prelu"),alpha:ku(t,"alpha","prelu")};return fu.runKernel(Ya,n)}});var yp=Du({prod_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ku(e,"x","prod");"bool"===r.dtype&&(r=Ps(r,"int32"));var a={x:r},o={axis:t,keepDims:n};return fu.runKernel($a,a,o)}});var xp=Du({rand_:function(e,t,n){var r=fn(e),a=null;if(null==n||"float32"===n)a=new Float32Array(r);else if("int32"===n)a=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type ".concat(n));a=new Uint8Array(r)}for(var o=0;o<r;o++)a[o]=t();return fu.makeTensor(a,e,n)}}),kp=n(282),wp=function(){function e(t,n,r,a,o){(0,Qt.Z)(this,e),this.mean=t,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var i=o||Math.random();this.random=kp.alea(i.toString())}return(0,Jt.Z)(e,[{key:"nextValue",value:function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var a=void 0,o=void 0,i=void 0;do{i=(a=2*this.random()-1)*a+(o=2*this.random()-1)*o}while(i>=1||0===i);var u=Math.sqrt(-2*Math.log(i)/i);t=this.mean+this.stdDev*a*u,n=this.mean+this.stdDev*o*u,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)}},{key:"convertValue",value:function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}},{key:"isValidTruncated",value:function(e){return e<=this.upper&&e>=this.lower}}]),e}(),Cp=function(){function e(t,n,r,a){(0,Qt.Z)(this,e),this.alpha=t,this.beta=1/n,this.dtype=r;var o=a||Math.random();this.randu=kp.alea(o.toString()),this.randn=new wp(0,1,r,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}return(0,Jt.Z)(e,[{key:"nextValue",value:function(){for(var e,t,n,r,a,o;;){do{r=this.randn.nextValue(),o=1+this.c*r}while(o<=0);if(o*=o*o,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-o+Math.log(o)),(a=this.randu())<t||Math.log(a)<n)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)}},{key:"convertValue",value:function(e){return"float32"===this.dtype?e:Math.round(e)}}]),e}(),Dp=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if((0,Qt.Z)(this,e),this.canReturnFloat=function(){return null==t.dtype||"float32"===t.dtype},this.min=n,this.range=r-n,this.dtype=a,null==o&&(o=Math.random()),"number"===typeof o&&(o=o.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between ".concat(n," - ").concat(r," <= 1 and dtype is not float"));this.random=kp.alea(o)}return(0,Jt.Z)(e,[{key:"convertValue",value:function(e){return this.canReturnFloat()?e:Math.round(e)}},{key:"nextValue",value:function(){return this.convertValue(this.min+this.range*this.random())}}]),e}();var Ep=Du({randomGamma_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;if(null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type ".concat(r));for(var o=new Cp(t,n,r,a),i=Ms(e,r),u=0;u<i.values.length;u++)i.values[u]=o.nextValue();return i.toTensor()}});var Sp=Du({randomNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(null!=r&&"bool"===r)throw new Error("Unsupported data type ".concat(r));for(var o=new wp(t,n,r,!1,a),i=Ms(e,r),u=0;u<i.values.length;u++)i.values[u]=o.nextValue();return i.toTensor()}});var Ip=Du({randomUniform_:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0,o=Ms(e,r),i=new Dp(t,n,null,a),u=0;u<o.values.length;u++)o.values[u]=i.nextValue();return o.toTensor()}});function Fp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");var a={start:e,stop:t,step:n,dtype:r};return fu.runKernel(Qa,{},a)}var Tp=Du({real_:function(e){var t={input:ku(e,"input","real")};return fu.runKernel(Ja,t)}});var Np=Du({reciprocal_:function(e){var t={x:ku(e,"x","reciprocal")};return fu.runKernel(eo,t)}});var Ap=Du({relu_:function(e){var t={x:ku(e,"x","relu")};return fu.runKernel(to,t)}});var Rp=Du({relu6_:function(e){var t={x:ku(e,"x","relu6")};return fu.runKernel(uo,t)}});var Op=Du({reverse_:function(e,t){var n={x:ku(e,"x","reverse")},r={dims:t};return fu.runKernel(so,n,r)}});var Zp=Du({reverse1d_:function(e){var t=ku(e,"x","reverse");return ln(1===t.rank,(function(){return"Error in reverse1D: x must be rank 1 but got rank ".concat(t.rank,".")})),Op(t,0)}});var Mp=Du({reverse2d_:function(e,t){var n=ku(e,"x","reverse");return ln(2===n.rank,(function(){return"Error in reverse2D: x must be rank 2 but got rank ".concat(n.rank,".")})),Op(n,t)}});var Pp=Du({reverse3d_:function(e,t){var n=ku(e,"x","reverse");return ln(3===n.rank,(function(){return"Error in reverse3D: x must be rank 3 but got rank ".concat(n.rank,".")})),Op(n,t)}});var Lp=Du({reverse4d_:function(e,t){var n=ku(e,"x","reverse");return ln(4===n.rank,(function(){return"Error in reverse4D: x must be rank 4 but got rank ".concat(n.rank,".")})),Op(n,t)}});var _p=Du({round_:function(e){var t={x:ku(e,"x","round")};return fu.runKernel(lo,t)}});var Bp=Du({rsqrt_:function(e){var t={x:ku(e,"x","rsqrt","float32")};return fu.runKernel(co,t)}});var zp=Du({selu_:function(e){var t={x:ku(e,"x","selu")};return fu.runKernel(ho,t)}});var jp=Du({separableConv2d_:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC",u=ku(e,"x","separableConv2d"),s=ku(t,"depthwiseFilter","separableConv2d"),l=ku(n,"pointwiseFilter","separableConv2d"),c=u,d=!1;if(3===u.rank&&(d=!0,c=lc(u,[1,u.shape[0],u.shape[1],u.shape[2]])),"NCHW"===i)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");ln(4===c.rank,(function(){return"Error in separableConv2d: input must be rank 4, but got "+"rank ".concat(c.rank,".")})),ln(4===s.rank,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but "+"got rank ".concat(s.rank,".")})),ln(4===l.rank,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but "+"got rank ".concat(s.rank,".")})),ln(1===l.shape[0],(function(){return"Error in separableConv2d: the first dimension of pointwise filter "+" must be 1, but got ".concat(l.shape[0],".")})),ln(1===l.shape[1],(function(){return"Error in separableConv2d: the second dimension of pointwise "+"filter must be 1, but got ".concat(l.shape[1],".")}));var p=s.shape[2],f=s.shape[3];ln(l.shape[2]===p*f,(function(){return"Error in separableConv2d: the third dimension of pointwise filter "+"must be ".concat(p*f,", ")+"but got ".concat(l.shape[2],".")}));var h=Uc(c,s,r,a,i,o),m=1,v=Oc(h,l,m,"valid",i);return d?lc(v,[v.shape[1],v.shape[2],v.shape[3]]):v}});function Vp(){return Vp=Ut(qt().mark((function e(t,n){var r,a,o,i,u,s,l,c,d,p,f;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ku(t,"x","setdiff1d"),a=ku(n,"y","setdiff1d"),ln(r.dtype===a.dtype,(function(){return"x and y should have the same dtype, but got x (".concat(r.dtype,") and y (").concat(a.dtype,").")})),ln(1===r.rank,(function(){return"x should be 1D tensor, but got x (".concat(r.shape,").")})),ln(1===a.rank,(function(){return"y should be 1D tensor, but got y (".concat(a.shape,").")})),e.next=7,r.data();case 7:return o=e.sent,e.next=10,a.data();case 10:for(i=e.sent,u=new Set(i),s=0,l=0;l<o.length;l++)u.has(o[l])||s++;for(c=new Vi([s],r.dtype),d=new Vi([s],"int32"),p=0,f=0;p<o.length;p++)u.has(o[p])||(c.values[f]=o[p],d.values[f]=p,f++);return e.abrupt("return",[c.toTensor(),d.toTensor()]);case 18:case"end":return e.stop()}}),e)}))),Vp.apply(this,arguments)}var Wp=function(e,t){return Vp.apply(this,arguments)};var Hp=Du({sign_:function(e){var t={x:ku(e,"x","sign")};return fu.runKernel(bo,t)}});var Up=Du({sin_:function(e){var t={x:ku(e,"x","sin","float32")};return fu.runKernel(vo,t)}});var Gp=Du({sinh_:function(e){var t={x:ku(e,"x","sinh")};return fu.runKernel(go,t)}});var qp=Du({slice1d_:function(e,t,n){var r=ku(e,"x","slice1d");return ln(1===r.rank,(function(){return"slice1d expects a rank-1 tensor, but got a rank-".concat(r.rank," tensor")})),vc(r,[t],[n])}});var Kp=Du({slice2d_:function(e,t,n){var r=ku(e,"x","slice2d");return ln(2===r.rank,(function(){return"slice2d expects a rank-2 tensor, but got a rank-".concat(r.rank," tensor")})),vc(r,t,n)}});var Xp=Du({slice3d_:function(e,t,n){var r=ku(e,"x","slice3d");return ln(3===r.rank,(function(){return"slice3d expects a rank-3 tensor, but got a rank-".concat(r.rank," tensor")})),vc(r,t,n)}});var Yp=Du({slice4d_:function(e,t,n){var r=ku(e,"x","slice4d");return ln(4===r.rank,(function(){return"slice4d expects a rank-4 tensor, but got a rank-".concat(r.rank," tensor")})),vc(r,t,n)}});var $p=Du({softmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=ku(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and dim was ").concat(t));var r={logits:n},a={dim:t};return fu.runKernel(Eo,r,a)}});var Qp=Du({fft_:function(e){ln("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.fft() must be complex64 "+"but got ".concat(e.dtype,".")}));var t={input:e};return fu.runKernel(Jr,t)}});var Jp=Du({ifft_:function(e){ln("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.ifft() must be complex64 "+"but got ".concat(e.dtype,".")}));var t={input:e};return fu.runKernel(ca,t)}});var ef=Du({irfft_:function(e){var t,n=e.shape[e.shape.length-1],r=e.size/n;if(n<=2){var a=lc(e,[r,n]);t=Jp(a)}else{var o=[r,2*(n-1)],i=lc(Tp(e),[r,n]),u=lc(hd(e),[r,n]),s=Op(vc(i,[0,1],[r,n-2]),1),l=hc(Op(vc(u,[0,1],[r,n-2]),1),Al(-1)),c=pc([i,s],1),d=pc([u,l],1),p=lc(Eu(c,d),[o[0],o[1]]);t=Jp(p)}if(t=Tp(t),3===e.rank&&0!==e.shape[0]){var f=t,h=e.shape[0];t=lc(t,[h,t.shape[0]/h,t.shape[1]]),f.dispose()}return t}});var tf=Du({split_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=ku(e,"x","split"),a={x:r},o={numOrSizeSplits:t,axis:n};return fu.runKernel(Do,a,o)}});var nf=Du({rfft_:function(e,t){ln("float32"===e.dtype,(function(){return"The dtype for rfft() must be real value but got ".concat(e.dtype)}));var n,r=e.shape[e.shape.length-1],a=e.size/r;if(null!=t&&t<r){var o=e.shape.map((function(e){return 0})),i=e.shape.map((function(e){return e}));i[e.shape.length-1]=t,n=vc(e,o,i),r=t}else if(null!=t&&t>r){var u=e.shape.map((function(e){return e}));u[e.shape.length-1]=t-r,n=pc([e,Xd(u)],e.shape.length-1),r=t}else n=e;var s=Qc(n),l=lc(Eu(n,s),[a,r]),c=Qp(l),d=Math.floor(r/2)+1,p=Tp(c),f=hd(c),h=tf(p,[d,r-d],p.shape.length-1),m=tf(f,[d,r-d],f.shape.length-1),v=n.shape.slice();return v[n.shape.length-1]=d,lc(Eu(h[0],m[0]),v)}});var rf=Du({sqrt_:function(e){var t={x:ku(e,"x","sqrt","float32")};return fu.runKernel(ko,t)}});var af=Du({squaredDifference_:function(e,t){var n=ku(e,"a","squaredDifference"),r=ku(t,"b","squaredDifference"),a=nu(n,r),o=(0,je.Z)(a,2);n=o[0],r=o[1],sl(n.shape,r.shape);var i={a:n,b:r};return fu.runKernel(Ao,i,{})}});var of=Du({squeeze_:function(e,t){var n=ku(e,"x","squeeze");return lc(n,kn(n.shape,t).newShape)}});var uf=Du({stack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=wu(e,"tensors","stack","string_or_numeric");ln(n.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),n.length>0&&ln(t<=n[0].rank,(function(){return"Axis must be <= rank of the tensor"}));var r=n,a={axis:t};return fu.runKernel(qa,r,a)}});var sf=Du({step_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=ku(e,"x","step"),r={x:n},a={alpha:t};return fu.runKernel(Ko,r,a)}});var lf=Du({stridedSlice_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,l=ku(e,"x","stridedSlice","string_or_numeric"),c={x:l},d={begin:t,end:n,strides:r,beginMask:a,endMask:o,ellipsisMask:i,newAxisMask:u,shrinkAxisMask:s};return fu.runKernel(Oo,c,d)}});var cf=Du({tan_:function(e){var t={x:ku(e,"x","tan","float32")};return fu.runKernel(_o,t)}});function df(e,t){dn(e);var n=bu(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Su(e,null,n,t)}function pf(e,t,n){if(dn(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=bu(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Su(e,t,r,n)}function ff(e,t,n){if(dn(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=bu(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Su(e,t,r,n)}function hf(e,t,n){if(dn(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=bu(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Su(e,t,r,n)}function mf(e,t,n){if(dn(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=bu(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return Su(e,t=t||r,r,n)}var vf=Du({topk_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=ku(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var a=r.shape[r.shape.length-1];if(t<0)throw new Error("'k' passed to topk() must be >= 0 but got ".concat(t));if(t>a)throw new Error("'k' passed to topk() must be <= the last dimension (".concat(a,") ")+"but got ".concat(t));var o={x:r},i={k:t,sorted:n},u=fu.runKernel(jo,o,i),s=(0,je.Z)(u,2),l=s[0],c=s[1];return{values:l,indices:c}}});var gf=Du({truncatedNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");for(var o=new wp(t,n,r,!0,a),i=Ms(e,r),u=0;u<i.values.length;u++)i.values[u]=o.nextValue();return i.toTensor()}});var bf=Du({unique_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=ku(e,"x","unique","string_or_numeric");ln(n.rank>0,(function(){return"The input tensor must be at least 1D"}));var r={x:n},a={axis:t},o=fu.runKernel(Ho,r,a),i=(0,je.Z)(o,2),u=i[0],s=i[1];return{values:u,indices:s}}});var yf=Du({unsortedSegmentSum_:function(e,t,n){var r=ku(e,"x","unsortedSegmentSum"),a=ku(t,"segmentIds","unsortedSegmentSum","int32");ln(mn(n),(function(){return"numSegments must be of dtype int"}));var o={x:r,segmentIds:a},i={numSegments:n};return fu.runKernel(Go,o,i)}});var xf=Du({unstack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=ku(e,"x","unstack","string_or_numeric");ln(t>=-n.shape.length&&t<n.shape.length,(function(){return"Axis = ".concat(t," is not in [-").concat(n.shape.length,", ").concat(n.shape.length,")")}));var r={value:n},a={axis:t};return fu.runKernel(Uo,r,a)}});function kf(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return fu.makeVariable(e,t,n,r)}function wf(e,t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(r);for(var a=Ms(e,"int32"),o=Ms([n.length,e.length],"int32"),i=0;i<n.length;i++){var u=a.indexToLoc(n[i]),s=i*e.length;o.values.set(u,s)}return o.toTensor()}function Cf(){return(Cf=Ut(qt().mark((function e(t){var n,r,a;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ku(t,"condition","whereAsync","bool"),e.next=3,n.data();case 3:return r=e.sent,a=wf(n.shape,r),t!==n&&n.dispose(),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Df=function(e){return Cf.apply(this,arguments)};function Ef(){return(Ef=Ut(qt().mark((function e(t,n,r){var a,o,i,u,s,l,c,d,p,f,h,m,v;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=ku(t,"tensor","boolMask"),o=ku(n,"mask","boolMask","bool"),i=null==r?0:r,u=o.rank,s=a.shape,ln(u>0,(function(){return"mask cannot be scalar"})),cn(s.slice(i,i+u),o.shape,"mask's shape must match the first K dimensions of tensor's shape,"),l=1,c=i;c<i+u;c++)l*=s[c];return d=s.slice(0,i).concat([l],s.slice(i+u)),p=lc(a,d),f=lc(o,[-1]),e.next=14,Df(f);case 14:return h=e.sent,m=of(h,[1]),v=dd(p,m,i),t!==a&&a.dispose(),n!==o&&o.dispose(),m.dispose(),p.dispose(),f.dispose(),h.dispose(),e.abrupt("return",v);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sf=function(e,t,n){return Ef.apply(this,arguments)};var If=Du({transpose_:function(e,t){var n=ku(e,"x","transpose");if(null==t&&(t=n.shape.map((function(e,t){return t})).reverse()),ln(n.rank===t.length,(function(){return"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of perm ".concat(t,".")})),t.forEach((function(e){ln(e>=0&&e<n.rank,(function(){return"All entries in 'perm' must be between 0 and ".concat(n.rank-1)+" but got ".concat(t)}))})),n.rank<=1)return n.clone();var r={x:n},a={perm:t};return fu.runKernel(Wo,r,a)}});function Ff(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===e.rank)return Ol(e);if(1!==e.rank&&null===n)return Ff(lc(e,[-1]),t,n);if(1===e.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===t)return Nd(Ol(e),n);if(t===1/0)return Fd(Ol(e),n);if(t===-1/0)return Qd(Ol(e),n);if("euclidean"===t||2===t)return rf(Nd(gp(Ol(e),Al(2,"int32")),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}if(Array.isArray(n)&&2===n.length){if(1===t)return Fd(Nd(Ol(e),n[0]),n[1]-1);if(t===1/0)return Fd(Nd(Ol(e),n[1]),n[0]);if(t===-1/0)return Qd(Nd(Ol(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return rf(Nd(np(e),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}throw new Error("Error in norm: invalid axis: ".concat(n))}var Tf=Du({norm_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Ff(e=ku(e,"x","norm"),t,n),o=a.shape;if(r){var i=xn(n,e.shape);o=Zd(a.shape,i)}return lc(a,o)}});var Nf=Du({movingAverage_:function(e,t,n,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=ku(e,"v","movingAverage"),i=ku(t,"x","movingAverage"),u=ku(n,"decay","movingAverage");ru(o,i),ln(hn(o.shape,i.shape),(function(){return"Shape mismatch in v and x"}));var s=Al(1),l=Td(s,u),c=hc(Td(i,o),l);if(a){ln(null!=r,(function(){return"When using zeroDebias: true, step is required."}));var d=ku(r,"step","movingAverage");c=Xc(c,Td(s,gp(u,d)))}return Pl(o,c)}});function Af(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(t.rank,"."));if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+" but the rank was ".concat(e.rank,"."));if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: ".concat(t.dtype));if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: ".concat(n));if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: ".concat(t.shape));if(0===e.size)throw new Error("Updates specified for empty output. updates shape: ".concat(e.shape))}!function(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,o="Must have updates.shape = indices.shape[:batchDim] + "+"shape[sliceDim:], got updates.shape: ".concat(n.shape)+", indices.shape: ".concat(t.shape,", shape: ").concat(e)+", sliceDim: ".concat(r,", and batchDim: ").concat(a,".");if(n.rank<a)throw new Error(o+" update.rank < ".concat(a,". "));if(e.length<r+(n.rank-a))throw new Error(o+" Output shape length < ".concat(r+(n.rank-a)));if(n.rank!==a+e.length-r)throw new Error(o+" update.rank != ".concat(a+e.length-r));for(var i=0;i<a;++i)if(n.shape[i]!==t.shape[i])throw new Error(o+" updates.shape[".concat(i,"] (").concat(n.shape[i],") != indices.shape[").concat(i,"] (").concat(t.shape[i],")."));for(var u=0;u<n.rank-a;++u)if(n.shape[u+a]!==e[u+r])throw new Error(o+" updates.shape[".concat(u+a,"] (").concat(n.shape[u+a],") != shape[").concat(u+a,"] (").concat(e[u+a],")"))}(n,t,e)}function Rf(e,t,n){for(var r=t.shape.length,a=r>1?t.shape[r-1]:1,o=n.length,i=1,u=a;u<o;++u)i*=n[u];var s=a<1?1:a;return{sliceRank:a,numUpdates:fn(t.shape)/s,sliceSize:i,strides:[].concat((0,$t.Z)(Rn(n.slice(0,a))),[1]),outputSize:fn(n)}}var Of=Du({scatterND_:function(e,t,n){var r=ku(e,"indices","scatterND","int32"),a=ku(t,"updates","scatterND");Af(a,r,n);var o={indices:r,updates:a},i={shape:n};return fu.runKernel(po,o,i)}});function Zf(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+" but the dtype was ".concat(e.dtype,"."));if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+" but got shape ".concat(e.shape,"."));var a=e.rank>0?e.shape[0]:1,o=e.rank>1?e.shape[1]:1;if(n.length!==o)throw new Error("outputShape has incorrect number of elements:,"+" ".concat(n.length,", should be: ").concat(o,"."));var i=t.size;if(0!==t.rank&&(1!==t.rank||i!==a))throw new Error("sparseValues has incorrect shape "+"".concat(t.shape,", should be [] or [").concat(a,"]"));if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}var Mf=Du({sparseToDense_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=ku(e,"sparseIndices","sparseToDense","int32"),o=ku(t,"sparseValues","sparseToDense"),i=ku(r,"defaultValue","sparseToDense",o.dtype);Zf(a,o,n,i);var u={sparseIndices:a,sparseValues:o,defaultValue:i},s={outputShape:n};return fu.runKernel(No,u,s)}});var Pf=Du({gatherND_:function(e,t){var n=ku(t,"indices","gatherND","int32"),r={params:ku(e,"x","gatherND","string_or_numeric"),indices:n};return fu.runKernel(ia,r)}});var Lf=Du({dropout_:function(e,t,n,r){var a=ku(e,"x","dropout");if(ln("float32"===a.dtype,(function(){return"x has to be a floating point tensor since it's going to be "+"scaled, but got a ".concat(a.dtype," tensor instead.")})),ln(t>=0&&t<1,(function(){return"rate must be a float in the range [0, 1), but got ".concat(t,".")})),0===t)return e instanceof Ui?a.clone():a;var o=function(e,t){if(null==t)return e.shape.slice();if(hn(e.shape,t))return t;if(e.shape.length===t.length){for(var n=[],r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(a,n),i=1-t,u=Xc(cd(Pl(Ip(o,0,1,"float32",r),i)),i);return hc(a,u)}});function _f(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function Bf(e,t,n){for(var r=1-e%2,a=new Float32Array(e),o=0;o<e;++o){var i=2*Math.PI*o/(e+r-1);a[o]=t-n*Math.cos(i)}return df(a,"float32")}function zf(){return zf=Ut(qt().mark((function e(t,n){var r,a,o,i,u,s,l,c,d,p,f,h,m,v,g,b=arguments;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=b.length>2&&void 0!==b[2]?b[2]:1,a=ku(t,"predictions","inTopK"),o=ku(n,"targets","inTopK"),ln(a.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, "+"but got ".concat(a.rank)})),ln(a.rank-1===o.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+"".concat(a.rank," and targets rank ").concat(o.rank)})),cn(a.shape.slice(0,a.shape.length-1),o.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),i=a.shape[a.shape.length-1],ln(r>0&&r<=i,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last "+"dimension (".concat(i,"), but got ").concat(r)})),e.next=10,a.data();case 10:return u=e.sent,e.next=13,o.data();case 13:s=e.sent,l=u.length/i,c=i,d=wn("bool",l),p=0;case 17:if(!(p<l)){e.next=35;break}for(f=p*c,h=u.subarray(f,f+c),m=[],v=0;v<h.length;v++)m.push({value:h[v],index:v});m.sort((function(e,t){return t.value-e.value})),d[p]=0,g=0;case 25:if(!(g<r)){e.next=32;break}if(m[g].index!==s[p]){e.next=29;break}return d[p]=1,e.abrupt("break",32);case 29:g++,e.next=25;break;case 32:p++,e.next=17;break;case 35:return t!==a&&a.dispose(),n!==o&&o.dispose(),e.abrupt("return",Iu(d,o.shape,"bool"));case 38:case"end":return e.stop()}}),e)}))),zf.apply(this,arguments)}var jf=function(e,t){return zf.apply(this,arguments)};var Vf=Du({conv2DBackpropFilter_:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",i=arguments.length>6?arguments[6]:void 0,u=e;3===e.rank&&(u=lc(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var s=t;3===s.rank&&(s=lc(t,[1,t.shape[0],t.shape[1],t.shape[2]])),ln(4===u.rank,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+"".concat(u.shape,".")})),ln(4===s.rank,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+"".concat(s.shape,".")})),ln(4===n.length,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+"".concat(n,".")}));var l="NHWC"===o?u.shape[3]:u.shape[1],c="NHWC"===o?s.shape[3]:s.shape[1];ln(l===n[2],(function(){return"Error in conv2dDerFilter: depth of input ".concat(l,") must ")+"match input depth in filter (".concat(n[2],".")})),ln(c===n[3],(function(){return"Error in conv2dDerFilter: depth of dy (".concat(c,") must ")+"match output depth for filter (".concat(n[3],").")})),sc("conv2dDerFilter",a,i);var d={x:u,dy:s},p={strides:r,pad:a,dataFormat:o,dimRoundingMode:i,filterShape:n};return fu.runKernel(Sr,d,p)}});function Wf(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return hc(e,sf(t));throw new Error("Cannot compute gradient for fused activation ".concat(n,"."))}function Hf(e,t){var n=t,r=ul(e.shape,t.shape);return r.length>0&&(n=Nd(n,r)),lc(n,e.shape)}function Uf(e,t,n,r){if("linear"===t)return e;if("relu"===t)return Ap(e);if("elu"===t)return nd(e);if("relu6"===t)return Rp(e);if("prelu"===t)return bp(e,n);if("leakyrelu"===t)return bd(e,r);if("sigmoid"===t)return mc(e);throw new Error("Unknown fused activation ".concat(t,"."))}var Gf=function(e,t){return!(e>0)||"linear"===t};var qf=Du({fusedConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,a=e.pad,o=e.dataFormat,i=void 0===o?"NHWC":o,u=e.dilations,s=void 0===u?[1,1]:u,l=e.dimRoundingMode,c=e.bias,d=e.activation,p=void 0===d?"linear":d,f=e.preluActivationWeights,h=e.leakyreluAlpha;if(p=p||"linear",!1===Gf(fu.state.gradientDepth,p)){var m=Oc(t,n,r,a,i,s,l);return null!=c&&(m=Pl(m,c)),Uf(m,p,f,h)}var v=ku(t,"x","conv2d","float32"),g=ku(n,"filter","conv2d","float32"),b=v,y=!1;3===v.rank&&(y=!0,b=lc(v,[1,v.shape[0],v.shape[1],v.shape[2]])),ln(4===b.rank,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+"".concat(b.rank,".")})),ln(4===g.rank,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+"".concat(g.rank,".")})),sc("fused conv2d",a,l),ln(b.shape[3]===g.shape[2],(function(){return"Error in conv2d: depth of input (".concat(b.shape[3],") must match ")+"input depth for filter ".concat(g.shape[2],".")})),ln(ic(r,s),(function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(s,"'")})),ln("NHWC"===i,(function(){return"Error in conv2d: got dataFormat of ".concat(i," but only NHWC is currently supported.")}));var x,k,w=Yl(b.shape,g.shape,r,s,a,l);if(null!=c){var C=nu(x=ku(c,"bias","fused conv2d"),v);x=(0,je.Z)(C,1)[0],sl(w.outShape,x.shape)}null!=f&&(k=ku(f,"prelu weights","fused conv2d"));var D=function(e,t){var n=(0,je.Z)(t,4),o=n[0],i=n[1],u=n[2],l=n[3],c=Wf(e,u,p);ln(oc(s),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(s,"'")}));var d=[Mc(i.shape,c,o,r,a),Vf(i,c,o.shape,r,a)];if(null!=l){var f=Hf(l,c);d.push(f)}return d},E={x:b,filter:g,bias:x,preluActivationWeights:k},S={strides:r,pad:a,dataFormat:i,dilations:s,dimRoundingMode:l,activation:p,leakyreluAlpha:h};if(null==c){var I=Nl((function(e,t,n){var r=fu.runKernel(Qo,E,S);return n([t,e,r]),y&&(r=lc(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:D}}));return I(b,g)}var F=Nl((function(e,t,n,r){var a=fu.runKernel(Qo,E,S);return r([t,e,a,n]),y&&(a=lc(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:D}}));return F(b,g,x)}});var Kf=Du({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6?arguments[6]:void 0,u=e;3===e.rank&&(u=lc(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var s=t;3===s.rank&&(s=lc(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var l={x:u,dy:s},c={strides:r,pad:a,dimRoundingMode:i,dilations:o,filterShape:n};return fu.runKernel(_r,l,c)}});var Xf=Du({depthwiseConv2dNativeBackpropInput_:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6?arguments[6]:void 0,u=t,s=!1;3===t.rank&&(s=!0,u=lc(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var l={dy:u,filter:n},c={strides:r,pad:a,dimRoundingMode:i,dilations:o,inputShape:e},d=fu.runKernel(Br,l,c);return s?lc(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});var Yf=Du({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,a=e.pad,o=e.dataFormat,i=void 0===o?"NHWC":o,u=e.dilations,s=void 0===u?[1,1]:u,l=e.dimRoundingMode,c=e.bias,d=e.activation,p=void 0===d?"linear":d,f=e.preluActivationWeights,h=e.leakyreluAlpha;if(!1===Gf(fu.state.gradientDepth,p)){var m=Uc(t,n,r,a,i,s,l);return null!=c&&(m=Pl(m,c)),Uf(m,p,f,h)}var v=ku(t,"x","depthwiseConv2d","float32"),g=ku(n,"filter","depthwiseConv2d","float32"),b=v,y=!1;3===v.rank&&(y=!0,b=lc(v,[1,v.shape[0],v.shape[1],v.shape[2]])),ln(4===b.rank,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(b.rank,".")})),ln(4===g.rank,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, "+"but got rank ".concat(g.rank,".")})),ln(b.shape[3]===g.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels "+"(".concat(b.shape[3],") must match the inChannels dimension in ")+"filter ".concat(g.shape[2],".")})),null==s&&(s=[1,1]),ln(ic(r,s),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must "+"be 1. Got strides ".concat(r," and dilations '").concat(s,"'")})),sc("fused depthwiseConv2d",a,l);var x,k,w=Yl(b.shape,g.shape,r,s,a,l,!0);if(null!=c){var C=nu(x=ku(c,"bias","fused conv2d"),v),D=(0,je.Z)(C,1);x=D[0],sl(w.outShape,x.shape)}null!=f&&(k=ku(f,"prelu weights","fused depthwiseConv2d"));var E=function(e,t){ln(oc(s),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(s,"'")}));var n=(0,je.Z)(t,4),o=n[0],i=n[1],u=n[2],c=n[3],d=Wf(e,u,p),f=Xf(i.shape,d,o,r,a,s,l),h=Kf(i,d,o.shape,r,a,s,l);return null!=c?[f,h,Hf(x,d)]:[f,h]},S={x:b,filter:g,bias:x,preluActivationWeights:k},I={strides:r,pad:a,dataFormat:i,dilations:s,dimRoundingMode:l,activation:p,leakyreluAlpha:h};if(null==c){var F=Nl((function(e,t,n){var r=fu.runKernel(Jo,S,I);return n([t,e,r]),y&&(r=lc(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:E}}));return F(b,g)}var T=Nl((function(e,t,n,r){var a=fu.runKernel(Jo,S,I);return r([t,e,a,n]),y&&(a=lc(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:E}}));return T(b,g,x)}});var $f=Du({fusedMatMul_:function(e){var t=e.a,n=e.b,r=e.transposeA,a=void 0!==r&&r,o=e.transposeB,i=void 0!==o&&o,u=e.bias,s=e.activation,l=void 0===s?"linear":s,c=e.preluActivationWeights,d=e.leakyreluAlpha;if(!1===Gf(fu.state.gradientDepth,l)){var p=fc(t,n,a,i);return null!=u&&(p=Pl(p,u)),Uf(p,l,c,d)}var f=ku(t,"a","fused matMul"),h=ku(n,"b","fused matMul"),m=nu(f,h),v=(0,je.Z)(m,2);f=v[0],h=v[1];var g=a?f.shape[f.rank-2]:f.shape[f.rank-1],b=i?h.shape[h.rank-1]:h.shape[h.rank-2],y=a?f.shape[f.rank-1]:f.shape[f.rank-2],x=i?h.shape[h.rank-2]:h.shape[h.rank-1],k=f.shape.slice(0,-2),w=h.shape.slice(0,-2),C=fn(k),D=fn(w);ln(g===b,(function(){return"Error in fused matMul: inner shapes (".concat(g,") and (")+"".concat(b,") of Tensors with shapes ").concat(f.shape," and ")+"".concat(h.shape," and transposeA=").concat(a)+" and transposeB=".concat(i," must match.")}));var E,S,I=sl(f.shape.slice(0,-2),h.shape.slice(0,-2)).concat([y,x]),F=lc(f,a?[C,g,y]:[C,y,g]),T=lc(h,i?[D,x,b]:[D,b,x]);if(null!=u){var N=nu(E=ku(u,"bias","fused matMul"),f);E=(0,je.Z)(N,1)[0],sl(I,E.shape)}null!=c&&(S=ku(c,"prelu weights","fused matMul"));var A=function(e,t){var n,r,o=(0,je.Z)(t,4),s=o[0],c=o[1],d=o[2],p=o[3],f=Wf(lc(e,d.shape),d,l);return a||i?!a&&i?(n=fc(f,c,!1,!1),r=fc(f,s,!0,!1)):a&&!i?(n=fc(c,f,!1,!0),r=fc(s,f,!1,!1)):(n=fc(c,f,!0,!0),r=fc(f,s,!0,!0)):(n=fc(f,c,!1,!0),r=fc(s,f,!0,!1)),null!=u?[n,r,Hf(p,f)]:[n,r]},R={a:F,b:T,bias:E,preluActivationWeights:S},O={transposeA:a,transposeB:i,activation:l,leakyreluAlpha:d};if(null==u){var Z=Nl((function(e,t,n){var r=fu.runKernel($o,R,O);return n([e,t,r]),{value:lc(r,I),gradFunc:A}}));return Z(F,T)}var M=Nl((function(e,t,n,r){var a=fu.runKernel($o,R,O);return r([e,t,a,n]),{value:lc(a,I),gradFunc:A}}));return M(F,T,E)}});var Qf=Du({hammingWindow_:function(e){return Bf(e,.54,.46)}});var Jf=Du({hannWindow_:function(e){return Bf(e,.5,.5)}});var eh=Du({frame_:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=0,i=[];o+t<=e.size;)i.push(vc(e,o,t)),o+=n;if(r)for(;o<e.size;){var u=o+t-e.size,s=pc([vc(e,o,t-u),ld([u],a)]);i.push(s),o+=n}return 0===i.length?pf([],[0,t]):lc(pc(i),[i.length,t])}});var th=Du({stft_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Jf;null==r&&(r=_f(t));var o=eh(e,t,n),i=hc(o,a(t));return nf(i,r)}});var nh=Du({cropAndResize_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=ku(e,"image","cropAndResize"),u=ku(t,"boxes","cropAndResize","float32"),s=ku(n,"boxInd","cropAndResize","int32"),l=u.shape[0];ln(4===i.rank,(function(){return"Error in cropAndResize: image must be rank 4,"+"but got rank ".concat(i.rank,".")})),ln(2===u.rank&&4===u.shape[1],(function(){return"Error in cropAndResize: boxes must be have size [".concat(l,",4] ")+"but had shape ".concat(u.shape,".")})),ln(1===s.rank&&s.shape[0]===l,(function(){return"Error in cropAndResize: boxInd must be have size [".concat(l,"] ")+"but had shape ".concat(u.shape,".")})),ln(2===r.length,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got "+"length ".concat(r.length,".")})),ln(r[0]>=1&&r[1]>=1,(function(){return"cropSize must be atleast [1,1], but was ".concat(r)})),ln("bilinear"===a||"nearest"===a,(function(){return"method must be bilinear or nearest, but was ".concat(a)}));var c={image:i,boxes:u,boxInd:s},d={method:a,extrapolationValue:o,cropSize:r},p=fu.runKernel(Zr,c,d);return p}});var rh=Du({flipLeftRight_:function(e){var t=ku(e,"image","flipLeftRight","float32");ln(4===t.rank,(function(){return"Error in flipLeftRight: image must be rank 4,"+"but got rank ".concat(t.rank,".")}));var n={image:t};return fu.runKernel(ta,n,{})}});var ah=Du({grayscaleToRGB_:function(e){var t=ku(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];ln(t.rank>=2,(function(){return"Error in grayscaleToRGB: images must be at least rank 2, "+"but got rank ".concat(t.rank,".")})),ln(1===r,(function(){return"Error in grayscaleToRGB: last dimension of a grayscale image "+"should be size 1, but got size ".concat(r,".")}));var a=new Array(t.rank);return a.fill(1,0,n),a[n]=3,ud(t,a)}});var oh=Du({rotateWithOffset_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=ku(e,"image","rotateWithOffset","float32");ln(4===a.rank,(function(){return"Error in rotateWithOffset: image must be rank 4,"+"but got rank ".concat(a.rank,".")}));var o={image:a},i={radians:t,fillValue:n,center:r},u=fu.runKernel(Yo,o,i);return u}});function ih(e,t,n,r,a,o){null==r&&(r=.5),null==a&&(a=Number.NEGATIVE_INFINITY),null==o&&(o=0);var i=e.shape[0];return n=Math.min(n,i),ln(0<=r&&r<=1,(function(){return"iouThreshold must be in [0, 1], but was '".concat(r,"'")})),ln(2===e.rank,(function(){return"boxes must be a 2D tensor, but was of rank '".concat(e.rank,"'")})),ln(4===e.shape[1],(function(){return"boxes must have 4 columns, but 2nd dimension was ".concat(e.shape[1])})),ln(1===t.rank,(function(){return"scores must be a 1D tensor"})),ln(t.shape[0]===i,(function(){return"scores has incompatible shape with boxes. Expected ".concat(i,", ")+"but was ".concat(t.shape[0])})),ln(0<=o&&o<=1,(function(){return"softNmsSigma must be in [0, 1], but was '".concat(o,"'")})),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:o}}var uh=Du({nonMaxSuppression_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=ku(e,"boxes","nonMaxSuppression","float32"),i=ku(t,"scores","nonMaxSuppression","float32"),u=ih(o,i,n,r,a),s={maxOutputSize:n=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:a=u.scoreThreshold};return fu.runKernel(Va,{boxes:o,scores:i},s)}});function sh(e,t,n){var r=function(e,t,n){return function(e,t,n){var r=0,a=e.length,o=0,i=!1;for(;r<a;){var u=n(t,e[o=r+(a-r>>>1)]);u>0?r=o+1:(a=o,i=!u)}return i?r:-r-1}(e,t,n||lh)}(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function lh(e,t){return e>t?1:e<t?-1:0}function ch(e,t,n,r,a){return fh(e,t,n,r,a,0)}function dh(e,t,n,r,a,o){return fh(e,t,n,r,a,0,!1,o,!0)}function ph(e,t,n,r,a,o){return fh(e,t,n,r,a,o,!0)}function fh(e,t,n,r,a,o){for(var i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],l=[],c=0;c<t.length;c++)t[c]>a&&l.push({score:t[c],boxIndex:c,suppressBeginIndex:0});l.sort(vh);for(var d=o>0?-.5/o:0,p=[],f=[];p.length<n&&l.length>0;){var h=l.pop(),m=h.score,v=h.boxIndex,g=h.suppressBeginIndex;if(m<a)break;for(var b=!1,y=p.length-1;y>=g;--y){var x=hh(e,v,p[y]);if(x>=r){b=!0;break}if(h.score=h.score*mh(r,d,x),h.score<=a)break}h.suppressBeginIndex=p.length,b||(h.score===m?(p.push(v),f.push(h.score)):h.score>a&&sh(l,h,vh))}var k=p.length,w=n-k;u&&w>0&&(p.push.apply(p,(0,$t.Z)(new Array(w).fill(0))),f.push.apply(f,(0,$t.Z)(new Array(w).fill(0))));var C={selectedIndices:p};return i&&(C.selectedScores=f),s&&(C.validOutputs=k),C}function hh(e,t,n){var r=e.subarray(4*t,4*t+4),a=e.subarray(4*n,4*n+4),o=Math.min(r[0],r[2]),i=Math.min(r[1],r[3]),u=Math.max(r[0],r[2]),s=Math.max(r[1],r[3]),l=Math.min(a[0],a[2]),c=Math.min(a[1],a[3]),d=Math.max(a[0],a[2]),p=Math.max(a[1],a[3]),f=(u-o)*(s-i),h=(d-l)*(p-c);if(f<=0||h<=0)return 0;var m=Math.max(o,l),v=Math.max(i,c),g=Math.min(u,d),b=Math.min(s,p),y=Math.max(g-m,0)*Math.max(b-v,0);return y/(f+h-y)}function mh(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function vh(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}function gh(){return gh=Ut(qt().mark((function e(t,n,r){var a,o,i,u,s,l,c,d,p,f,h=arguments;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>3&&void 0!==h[3]?h[3]:.5,o=h.length>4&&void 0!==h[4]?h[4]:Number.NEGATIVE_INFINITY,i=ku(t,"boxes","nonMaxSuppressionAsync"),u=ku(n,"scores","nonMaxSuppressionAsync"),s=ih(i,u,r,a,o),r=s.maxOutputSize,a=s.iouThreshold,o=s.scoreThreshold,e.next=10,Promise.all([i.data(),u.data()]);case 10:return l=e.sent,c=l[0],d=l[1],p=ch(c,d,r,a,o),f=p.selectedIndices,i!==t&&i.dispose(),u!==n&&u.dispose(),e.abrupt("return",df(f,"int32"));case 17:case"end":return e.stop()}}),e)}))),gh.apply(this,arguments)}var bh=function(e,t,n){return gh.apply(this,arguments)};var yh=Du({nonMaxSuppressionWithScore_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=ku(e,"boxes","nonMaxSuppression"),u=ku(t,"scores","nonMaxSuppression"),s=ih(i,u,n,r,a,o),l={boxes:i,scores:u},c={maxOutputSize:n=s.maxOutputSize,iouThreshold:r=s.iouThreshold,scoreThreshold:a=s.scoreThreshold,softNmsSigma:o=s.softNmsSigma},d=fu.runKernel(Ha,l,c);return{selectedIndices:d[0],selectedScores:d[1]}}});function xh(){return xh=Ut(qt().mark((function e(t,n,r){var a,o,i,u,s,l,c,d,p,f,h,m,v=arguments;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=v.length>3&&void 0!==v[3]?v[3]:.5,o=v.length>4&&void 0!==v[4]?v[4]:Number.NEGATIVE_INFINITY,i=v.length>5&&void 0!==v[5]?v[5]:0,u=ku(t,"boxes","nonMaxSuppressionAsync"),s=ku(n,"scores","nonMaxSuppressionAsync"),l=ih(u,s,r,a,o,i),r=l.maxOutputSize,a=l.iouThreshold,o=l.scoreThreshold,i=l.softNmsSigma,e.next=12,Promise.all([u.data(),s.data()]);case 12:return c=e.sent,d=c[0],p=c[1],f=ph(d,p,r,a,o,i),h=f.selectedIndices,m=f.selectedScores,u!==t&&u.dispose(),s!==n&&s.dispose(),e.abrupt("return",{selectedIndices:df(h,"int32"),selectedScores:df(m)});case 19:case"end":return e.stop()}}),e)}))),xh.apply(this,arguments)}var kh=function(e,t,n){return xh.apply(this,arguments)};var wh=Du({nonMaxSuppressionPadded_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=ku(e,"boxes","nonMaxSuppression"),u=ku(t,"scores","nonMaxSuppression"),s=ih(i,u,n,r,a,null),l=s.maxOutputSize,c=s.iouThreshold,d=s.scoreThreshold,p={boxes:i,scores:u},f={maxOutputSize:l,iouThreshold:c,scoreThreshold:d,padToMaxOutputSize:o},h=fu.runKernel(Wa,p,f);return{selectedIndices:h[0],validOutputs:h[1]}}});function Ch(){return Ch=Ut(qt().mark((function e(t,n,r){var a,o,i,u,s,l,c,d,p,f,h,m,v,g,b,y,x=arguments;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=x.length>3&&void 0!==x[3]?x[3]:.5,o=x.length>4&&void 0!==x[4]?x[4]:Number.NEGATIVE_INFINITY,i=x.length>5&&void 0!==x[5]&&x[5],u=ku(t,"boxes","nonMaxSuppressionAsync"),s=ku(n,"scores","nonMaxSuppressionAsync"),l=ih(u,s,r,a,o,null),c=l.maxOutputSize,d=l.iouThreshold,p=l.scoreThreshold,e.next=11,Promise.all([u.data(),s.data()]);case 11:return f=e.sent,h=(0,je.Z)(f,2),m=h[0],v=h[1],g=dh(m,v,c,d,p,i),b=g.selectedIndices,y=g.validOutputs,u!==t&&u.dispose(),s!==n&&s.dispose(),e.abrupt("return",{selectedIndices:df(b,"int32"),validOutputs:Al(y,"int32")});case 19:case"end":return e.stop()}}),e)}))),Ch.apply(this,arguments)}var Dh=function(e,t,n){return Ch.apply(this,arguments)},Eh=n(3878),Sh=n(9199),Ih=n(5267);function Fh(e){return(0,Eh.Z)(e)||(0,Sh.Z)(e)||(0,Xt.Z)(e)||(0,Ih.Z)()}var Th=Du({resizeBilinear_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=ku(e,"images","resizeBilinear");ln(3===a.rank||4===a.rank,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got "+"rank ".concat(a.rank,".")})),ln(2===t.length,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+"".concat(t,".")})),ln(!1===r||!1===n,(function(){return"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."}));var o=a,i=!1;3===a.rank&&(i=!0,o=lc(a,[1,a.shape[0],a.shape[1],a.shape[2]])),Fh(t);var u={images:o},s={alignCorners:n,halfPixelCenters:r,size:t},l=fu.runKernel(oo,u,s);return i?lc(l,[l.shape[1],l.shape[2],l.shape[3]]):l}});var Nh=Du({resizeNearestNeighbor_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=ku(e,"images","resizeNearestNeighbor");ln(3===a.rank||4===a.rank,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+"rank ".concat(a.rank,".")})),ln(2===t.length,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+"".concat(t,".")})),ln("float32"===a.dtype||"int32"===a.dtype,(function(){return"`images` must have `int32` or `float32` as dtype"})),ln(!1===r||!1===n,(function(){return"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."}));var o=a,i=!1;3===a.rank&&(i=!0,o=lc(a,[1,a.shape[0],a.shape[1],a.shape[2]])),Fh(t);var u={images:o},s={alignCorners:n,halfPixelCenters:r,size:t},l=fu.runKernel(ro,u,s);return i?lc(l,[l.shape[1],l.shape[2],l.shape[3]]):l}});function Ah(e,t){for(var n,r,a,o,i,u,s=df([-1]),l=df([0]),c=df([0]),d=0;d<e.size-1;d++){n=vc(e,0,d+1),r=vc(e,d+1),i=Xc(Nd(n),t),u=Xc(Nd(r),t);var p=Nd(hc(n,Fp(0,n.size)));a=Xc(p,Nd(n));var f=ld(r.shape,n.size),h=Pl(Fp(0,r.size),f),m=hc(r,h);o=Xc(Nd(m),Nd(r));var v=Td(a,o),g=Td(a,o),b=hc(i,u);c=hc(hc(b,v),g);var y=pd(c,l);l=$c(y,c,l),s=$c(y,df([d]),s)}return s}var Rh=Du({threshold_:function(e){var t,n,r,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=ku(e,"image","threshold"),l=.2989,c=.587,d=.114,p=s.shape[0]*s.shape[1],f=hc(df([u]),255);if(ln(3===s.rank,(function(){return"Error in threshold: image must be rank 3,"+"but got rank ".concat(s.rank,".")})),ln(3===s.shape[2]||1===s.shape[2],(function(){return"Error in threshold: image color channel must be equal to 3 or 1"+"but got ".concat(s.shape[2],".")})),ln("int32"===s.dtype||"float32"===s.dtype,(function(){return"Error in dtype: image dtype must be int32 or float32,"+"but got dtype ".concat(s.dtype,".")})),ln("otsu"===o||"binary"===o,(function(){return"Method must be binary or otsu, but was ".concat(o)})),3===s.shape[2]){var h=tf(s,[1,1,1],-1),m=(0,je.Z)(h,3);t=m[0],n=m[1],r=m[2];var v=hc(t,l),g=hc(n,c),b=hc(r,d);a=Pl(Pl(v,g),b)}else a=e;if("otsu"===o){var y=Dc(Ps(_p(a),"int32"),Iu([]),256);f=Ah(y,p)}var x=i?xd(a,f):pd(a,f),k=Ps(hc(x,255),"int32");return k}});var Oh=Du({transform_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0,i=ku(e,"image","transform","float32"),u=ku(t,"transforms","transform","float32");ln(4===i.rank,(function(){return"Error in transform: image must be rank 4,"+"but got rank ".concat(i.rank,".")})),ln(2===u.rank&&(u.shape[0]===i.shape[0]||1===u.shape[0])&&8===u.shape[1],(function(){return"Error in transform: Input transform should be batch x 8 or 1 x 8"})),ln(null==o||2===o.length,(function(){return"Error in transform: outputShape must be [height, width] or null, "+"but got ".concat(o,".")}));var s={image:i,transforms:u},l={interpolation:n,fillMode:r,fillValue:a,outputShape:o};return fu.runKernel(Vo,s,l)}});var Zh=Du({bandPart_:function(e,t,n){ln(t%1===0,(function(){return"bandPart(): numLower must be an integer, got ".concat(t,".")})),ln(n%1===0,(function(){return"bandPart(): numUpper must be an integer, got ".concat(n,".")}));var r=ku(e,"a","bandPart");ln(r.rank>=2,(function(){return"bandPart(): Rank must be at least 2, got ".concat(r.rank,".")}));var a=r.shape,o=r.shape.slice(-2),i=(0,je.Z)(o,2),u=i[0],s=i[1];if(!(t<=u))throw new Error("bandPart(): numLower (".concat(t,")")+" must not be greater than the number of rows (".concat(u,")."));if(!(n<=s))throw new Error("bandPart(): numUpper (".concat(n,")")+" must not be greater than the number of columns (".concat(s,")."));t<0&&(t=u),n<0&&(n=s);var l=lc(Fp(0,u,1,"int32"),[-1,1]),c=Fp(0,s,1,"int32"),d=Td(l,c),p=zd(xd(d,Al(+t,"int32")),fd(d,Al(-n,"int32"))),f=Xd([u,s],r.dtype);return lc(uf(xf(lc(r,[-1,u,s])).map((function(e){return $c(p,e,f)}))),a)}});var Mh=Du({gramSchmidt_:function(e){var t;Array.isArray(e)?function(){t=!1,ln(null!=e&&e.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var n=e[0].shape[0],r=function(t){ln(e[t].shape[0]===n,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: "+"(".concat(e[t].shape[0]," vs. ").concat(n,")")}))},a=1;a<e.length;++a)r(a)}():(t=!0,e=tf(e,e.shape[0],0).map((function(e){return of(e,[0])}))),ln(e.length<=e[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors (".concat(e.length,") exceeds ")+"number of dimensions (".concat(e[0].shape[0],").")}));for(var n=[],r=e,a=function(e){n.push(fu.tidy((function(){var t=r[e];if(e>0)for(var a=0;a<e;++a){var o=hc(Nd(hc(n[a],t)),n[a]);t=Td(t,o)}return Xc(t,Tf(t,"euclidean"))})))},o=0;o<e.length;++o)a(o);return t?uf(n,0):n}});function Ph(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return fu.tidy((function(){ln(2===e.shape.length,(function(){return"qr2d() requires a 2D Tensor, but got a ".concat(e.shape.length,"D Tensor.")}));for(var n=e.shape[0],r=e.shape[1],a=sd(n),o=Ls(e),i=pf([[1]],[1,1]),u=Ls(i),s=n>=r?r:n,l=function(e){var t=o,s=u,l=a,c=fu.tidy((function(){var t=vc(o,[e,e],[n-e,1]),s=Tf(t),l=vc(o,[e,e],[1,1]),c=$c(pd(l,0),pf([[-1]]),pf([[1]])),d=Td(l,hc(c,s)),p=Xc(t,d);u=1===p.shape[0]?Ls(i):pc([i,vc(p,[1,0],[p.shape[0]-1,p.shape[1]])],0);var f=Ed(Xc(fc(c,d),s)),h=vc(o,[e,0],[n-e,r]),m=hc(f,u),v=If(u);if(0===e)o=Td(h,fc(m,fc(v,h)));else{var g=Td(h,fc(m,fc(v,h)));o=pc([vc(o,[0,0],[e,r]),g],0)}var b=If(m),y=vc(a,[0,e],[n,a.shape[1]-e]);if(0===e)a=Td(y,fc(fc(y,u),b));else{var x=Td(y,fc(fc(y,u),b));a=pc([vc(a,[0,0],[n,e]),x],1)}return[u,o,a]})),d=(0,je.Z)(c,3);u=d[0],o=d[1],a=d[2],Il([t,s,l])},c=0;c<s;++c)l(c);return!t&&n>r&&(a=vc(a,[0,0],[n,r]),o=vc(o,[0,0],[r,r])),[a,o]}))}var Lh,_h=Du({qr_:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(ln(e.rank>=2,(function(){return"qr() requires input tensor to have a rank >= 2, but got rank ".concat(e.rank)})),2===e.rank)return Ph(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce((function(e,t){return e*t})),r=xf(lc(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],o=[];r.forEach((function(e){var n=Ph(e,t),r=(0,je.Z)(n,2),i=r[0],u=r[1];a.push(i),o.push(u)}));var i=lc(uf(a,0),e.shape),u=lc(uf(o,0),e.shape);return[i,u]}});!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(Lh||(Lh={}));var Bh=Du({computeWeightedLoss_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lh.SUM_BY_NONZERO_WEIGHTS,r=ku(e,"losses","computeWeightedLoss"),a=null;null!=t&&(a=ku(t,"weights","computeWeightedLoss"));var o=null==a?r:hc(r,a);if(n===Lh.NONE)return o;if(n===Lh.SUM)return Nd(o);if(n===Lh.MEAN){if(null==a)return Kd(o);var i=r.size/a.size,u=Xc(Nd(o),Nd(a));return i>1?Xc(u,Al(i)):u}if(n===Lh.SUM_BY_NONZERO_WEIGHTS){if(null==a)return Xc(Nd(o),Al(r.size));var s=hc(a,Yd(r.shape)),l=Ps(Nd(ip(s,Al(0))),"float32");return Xc(Nd(o),l)}throw Error("Unknown reduction: ".concat(n))}});var zh=Du({absoluteDifference_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Lh.SUM_BY_NONZERO_WEIGHTS,a=ku(e,"labels","absoluteDifference"),o=ku(t,"predictions","absoluteDifference"),i=null;null!=n&&(i=ku(n,"weights","absoluteDifference")),cn(a.shape,o.shape,"Error in absoluteDifference: ");var u=Ol(Td(a,o));return Bh(u,i,r)}});var jh=Du({cosineDistance_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Lh.SUM_BY_NONZERO_WEIGHTS,o=ku(e,"labels","cosineDistance"),i=ku(t,"predictions","cosineDistance"),u=null;null!=r&&(u=ku(r,"weights","cosineDistance")),cn(o.shape,i.shape,"Error in cosineDistance: ");var s=Al(1),l=Td(s,Nd(hc(o,i),n,!0));return Bh(l,u,a)}});var Vh=Du({hingeLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Lh.SUM_BY_NONZERO_WEIGHTS,a=ku(e,"labels","hingeLoss"),o=ku(t,"predictions","hingeLoss"),i=null;null!=n&&(i=ku(n,"weights","hingeLoss")),cn(a.shape,o.shape,"Error in hingeLoss: ");var u=Al(1);a=Td(hc(Al(2),a),u);var s=Ap(Td(u,hc(a,o)));return Bh(s,i,r)}});var Wh=Du({huberLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Lh.SUM_BY_NONZERO_WEIGHTS,o=ku(e,"labels","huberLoss"),i=ku(t,"predictions","huberLoss"),u=null;null!=n&&(u=ku(n,"weights","huberLoss")),cn(o.shape,i.shape,"Error in huberLoss: ");var s=Al(r),l=Ol(Td(i,o)),c=Jd(l,s),d=Td(l,c),p=Pl(hc(Al(.5),np(c)),hc(s,d));return Bh(p,u,a)}});var Hh=Du({logLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Lh.SUM_BY_NONZERO_WEIGHTS,o=ku(e,"labels","logLoss"),i=ku(t,"predictions","logLoss"),u=null;null!=n&&(u=ku(n,"weights","logLoss")),cn(o.shape,i.shape,"Error in logLoss: ");var s=Al(1),l=Al(r),c=Ed(hc(o,Cd(Pl(i,l)))),d=hc(Td(s,o),Cd(Pl(Td(s,i),l))),p=Td(c,d);return Bh(p,u,a)}});var Uh=Du({meanSquaredError_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Lh.SUM_BY_NONZERO_WEIGHTS,a=ku(e,"labels","meanSquaredError"),o=ku(t,"predictions","meanSquaredError"),i=null;null!=n&&(i=ku(n,"weights","meanSquaredError")),cn(a.shape,o.shape,"Error in meanSquaredError: ");var u=af(a,o);return Bh(u,i,r)}});function Gh(e,t){var n=ku(e,"labels","sigmoidCrossEntropyWithLogits"),r=ku(t,"logits","sigmoidCrossEntropyWithLogits");cn(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var a=Ap(r),o=hc(r,n),i=Dd(ad(Ed(Ol(r))));return Pl(Td(a,o),i)}var qh=Du({sigmoidCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Lh.SUM_BY_NONZERO_WEIGHTS,o=ku(e,"multiClassLabels","sigmoidCrossEntropy"),i=ku(t,"logits","sigmoidCrossEntropy"),u=null;if(null!=n&&(u=ku(n,"weights","sigmoidCrossEntropy")),cn(o.shape,i.shape,"Error in sigmoidCrossEntropy: "),r>0){var s=Al(r),l=Al(1),c=Al(.5);o=Pl(hc(o,Td(l,s)),hc(c,s))}var d=Gh(o,i);return Bh(d,u,a)}});function Kh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+"supported. Labels / logits was rank ".concat(t.rank," ")+"and dim was ".concat(n));var r=Nl((function(e,t,r){var a=Bd(t,[n],!0),o=Td(Ps(t,"float32"),a);r([e,o]);var i=Ed(hc(o,e));return{value:Nd(i,[n]),gradFunc:function(e,t){var r=(0,je.Z)(t,2),a=r[0],o=r[1],i=Zd(e.shape,[n]);return[hc(lc(e,i),Td(Ps(a,"float32"),ad(o))),hc(lc(e,i),Td(ad(o),Ps(a,"float32")))]}}}));return r(e,t)}var Xh=Du({softmaxCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Lh.SUM_BY_NONZERO_WEIGHTS,o=ku(e,"onehotLabels","softmaxCrossEntropy"),i=ku(t,"logits","softmaxCrossEntropy"),u=null;if(null!=n&&(u=ku(n,"weights","softmaxCrossEntropy")),cn(o.shape,i.shape,"Error in softmaxCrossEntropy: "),r>0){var s=Al(r),l=Al(1),c=Al(o.shape[1]);o=Pl(hc(o,Td(l,s)),Xc(s,c))}var d=Kh(o,i);return Bh(d,u,a)}});var Yh=Du({sparseFillEmptyRows_:function(e,t,n,r){var a=ku(e,"indices","sparseFillEmptyRows","int32"),o=ku(t,"values","sparseFillEmptyRows"),i=ku(n,"denseShape","sparseFillEmptyRows","int32"),u=ku(r,"defaultValue","sparseFillEmptyRows",o.dtype);if(2!==a.rank)throw new Error("Indices should be Tensor2D but received shape\n        ".concat(a.shape));if(1!==o.rank)throw new Error("Values should be Tensor1D but received shape ".concat(o.shape));if(1!==i.rank)throw new Error("Dense shape should be Tensor1D but received shape ".concat(i.shape));if(0!==u.rank)throw new Error("Default value should be a scalar but received shape ".concat(u.shape));var s={indices:a,values:o,denseShape:i,defaultValue:u},l=fu.runKernel(So,s);return{outputIndices:l[0],outputValues:l[1],emptyRowIndicator:l[2],reverseIndexMap:l[3]}}});var $h=Du({sparseReshape_:function(e,t,n){var r=ku(e,"inputIndices","sparseReshape","int32"),a=ku(t,"inputShape","sparseReshape","int32"),o=ku(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error("Input indices should be Tensor2D but received shape\n        ".concat(r.shape));if(1!==a.rank)throw new Error("Input shape should be Tensor1D but received shape ".concat(a.shape));if(1!==o.rank)throw new Error("New shape should be Tensor1D but received shape ".concat(o.shape));var i={inputIndices:r,inputShape:a,newShape:o},u=fu.runKernel(Io,i);return{outputIndices:u[0],outputShape:u[1]}}});var Qh=Du({sparseSegmentMean_:function(e,t,n){var r=ku(e,"data","sparseSegmentMean"),a=ku(t,"indices","sparseSegmentMean","int32"),o=ku(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error("Indices should be Tensor1D but received shape\n          ".concat(a.shape));if(1!==o.rank)throw new Error("Segment ids should be Tensor1D but received shape\n          ".concat(o.shape));var i={data:r,indices:a,segmentIds:o};return fu.runKernel(Fo,i)}});var Jh=Du({sparseSegmentSum_:function(e,t,n){var r=ku(e,"data","sparseSegmentSum"),a=ku(t,"indices","sparseSegmentSum","int32"),o=ku(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error("Indices should be Tensor1D but received shape\n         ".concat(a.shape));if(1!==o.rank)throw new Error("Segment ids should be Tensor1D but received shape\n         ".concat(o.shape));var i={data:r,indices:a,segmentIds:o};return fu.runKernel(To,i)}});var em=Du({stringNGrams_:function(e,t,n,r,a,o,i,u){var s=ku(e,"data","stringNGrams","string");if("string"!==s.dtype)throw new Error("Data must be of datatype string");if(1!==s.shape.length)throw new Error("Data must be a vector, saw: ".concat(s.shape));var l=ku(t,"dataSplits","stringNGrams");if("int32"!==l.dtype)throw new Error("Data splits must be of datatype int32");var c={separator:n,nGramWidths:r,leftPad:a,rightPad:o,padWidth:i,preserveShortSequences:u},d={data:s,dataSplits:l},p=fu.runKernel(Zo,d,c);return{nGrams:p[0],nGramsSplits:p[1]}}});var tm=Du({stringSplit_:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=ku(e,"input","stringSplit","string"),a=ku(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error("Input should be Tensor1D but received shape ".concat(r.shape));if(0!==a.rank)throw new Error("Delimiter should be a scalar but received shape ".concat(a.shape));var o={skipEmpty:n},i={input:r,delimiter:a},u=fu.runKernel(Mo,i,o);return{indices:u[0],values:u[1],shape:u[2]}}});var nm=Du({stringToHashBucketFast_:function(e,t){var n=ku(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");var a={input:n};return fu.runKernel(Po,a,r)}}),rm={fft:Qp,ifft:Jp,rfft:nf,irfft:ef},am={hammingWindow:Qf,hannWindow:Jf,frame:eh,stft:th},om={flipLeftRight:rh,grayscaleToRGB:ah,resizeNearestNeighbor:Nh,resizeBilinear:Th,rotateWithOffset:oh,cropAndResize:nh,nonMaxSuppression:uh,nonMaxSuppressionAsync:bh,nonMaxSuppressionWithScore:yh,nonMaxSuppressionWithScoreAsync:kh,nonMaxSuppressionPadded:wh,nonMaxSuppressionPaddedAsync:Dh,threshold:Rh,transform:Oh},im={bandPart:Zh,gramSchmidt:Mh,qr:_h},um={absoluteDifference:zh,computeWeightedLoss:Bh,cosineDistance:jh,hingeLoss:Vh,huberLoss:Wh,logLoss:Hh,meanSquaredError:Uh,sigmoidCrossEntropy:qh,softmaxCrossEntropy:Xh},sm={sparseFillEmptyRows:Yh,sparseReshape:$h,sparseSegmentMean:Qh,sparseSegmentSum:Jh},lm={stringNGrams:em,stringSplit:tm,stringToHashBucketFast:nm},cm=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e,r){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,Qt.Z)(this,n),(a=t.call(this)).learningRate=e,a.rho=r,a.epsilon=o,a.accumulatedGrads=[],a.accumulatedUpdates=[],null==o&&(a.epsilon=fu.backend.epsilon()),a}return(0,Jt.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=fu.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:"".concat(n,"/accum_grad"),variable:Sl((function(){return Qc(a).variable(false)}))}),null==t.accumulatedUpdates[r]&&(t.accumulatedUpdates[r]={originalName:"".concat(n,"/accum_var"),variable:Sl((function(){return Qc(a).variable(false)}))});var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var i=t.accumulatedGrads[r].variable,u=t.accumulatedUpdates[r].variable;Sl((function(){var e=Pl(hc(i,t.rho),hc(np(o),1-t.rho)),n=hc(Xc(rf(Pl(u,t.epsilon)),rf(Pl(i,t.epsilon))),o),r=Pl(hc(u,t.rho),hc(np(n),1-t.rho));i.assign(e),u.assign(r);var s=Pl(hc(n,-t.learningRate),a);a.assign(s)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedUpdates&&(Il(this.accumulatedGrads.map((function(e){return e.variable}))),Il(this.accumulatedUpdates.map((function(e){return e.variable}))))}},{key:"getWeights",value:function(){var e=Ut(qt().mark((function e(){var t;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat((0,$t.Z)(this.accumulatedGrads),(0,$t.Z)(this.accumulatedUpdates)),e.next=3,this.saveIterations();case 3:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Ut(qt().mark((function e(t){var n;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,n=t.length/2,!1,this.accumulatedGrads=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}})),this.accumulatedUpdates=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}]),n}(Rl);cm.className="Adadelta",Cl(cm);var dm=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return(0,Qt.Z)(this,n),(r=t.call(this)).learningRate=e,r.initialAccumulatorValue=a,r.accumulatedGrads=[],r}return(0,Jt.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=fu.registeredVariables[n];if(null==t.accumulatedGrads[r]){t.accumulatedGrads[r]={originalName:"".concat(n,"/accumulator"),variable:Sl((function(){return ld(a.shape,t.initialAccumulatorValue).variable(false)}))}}var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var i=t.accumulatedGrads[r].variable;Sl((function(){var e=Pl(i,np(o));i.assign(e);var n=Pl(hc(Xc(o,rf(Pl(e,fu.backend.epsilon()))),-t.learningRate),a);a.assign(n)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedGrads&&Il(this.accumulatedGrads.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=Ut(qt().mark((function e(){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(this.accumulatedGrads.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Ut(qt().mark((function e(t){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,!1,this.accumulatedGrads=t.map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}]),n}(Rl);dm.className="Adagrad",Cl(dm);var pm=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e,r,a){var o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,Qt.Z)(this,n),(o=t.call(this)).learningRate=e,o.beta1=r,o.beta2=a,o.epsilon=i,o.accumulatedFirstMoment=[],o.accumulatedSecondMoment=[],Sl((function(){o.accBeta1=Al(r).variable(),o.accBeta2=Al(a).variable()})),null==i&&(o.epsilon=fu.backend.epsilon()),o}return(0,Jt.Z)(n,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);Sl((function(){var r=Td(1,t.accBeta1),a=Td(1,t.accBeta2);n.forEach((function(n,o){var i=fu.registeredVariables[n];null==t.accumulatedFirstMoment[o]&&(t.accumulatedFirstMoment[o]={originalName:"".concat(n,"/m"),variable:Sl((function(){return Qc(i).variable(false)}))}),null==t.accumulatedSecondMoment[o]&&(t.accumulatedSecondMoment[o]={originalName:"".concat(n,"/v"),variable:Sl((function(){return Qc(i).variable(false)}))});var u=Array.isArray(e)?e[o].tensor:e[n];if(null!=u){var s=t.accumulatedFirstMoment[o].variable,l=t.accumulatedSecondMoment[o].variable,c=Pl(hc(s,t.beta1),hc(u,1-t.beta1)),d=Pl(hc(l,t.beta2),hc(np(u),1-t.beta2)),p=Xc(c,r),f=Xc(d,a);s.assign(c),l.assign(d);var h=Pl(hc(Xc(p,Pl(rf(f),t.epsilon)),-t.learningRate),i);i.assign(h)}})),t.accBeta1.assign(hc(t.accBeta1,t.beta1)),t.accBeta2.assign(hc(t.accBeta2,t.beta2))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&Il(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedSecondMoment&&Il(this.accumulatedSecondMoment.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=Ut(qt().mark((function e(){var t;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat((0,$t.Z)(this.accumulatedFirstMoment),(0,$t.Z)(this.accumulatedSecondMoment)),e.next=3,this.saveIterations();case 3:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Ut(qt().mark((function e(t){var n,r=this;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,Sl((function(){r.accBeta1.assign(gp(r.beta1,r.iterations_+1)),r.accBeta2.assign(gp(r.beta2,r.iterations_+1))})),n=t.length/2,!1,this.accumulatedFirstMoment=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}})),this.accumulatedSecondMoment=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}]),n}(Rl);pm.className="Adam",Cl(pm);var fm=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e,r,a){var o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return(0,Qt.Z)(this,n),(o=t.call(this)).learningRate=e,o.beta1=r,o.beta2=a,o.epsilon=i,o.decay=u,o.accumulatedFirstMoment=[],o.accumulatedWeightedInfNorm=[],Sl((function(){o.iteration=Al(0).variable(),o.accBeta1=Al(r).variable()})),null==i&&(o.epsilon=fu.backend.epsilon()),o}return(0,Jt.Z)(n,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);Sl((function(){var r=Td(1,t.accBeta1),a=Xc(-t.learningRate,Pl(hc(t.iteration,t.decay),1));n.forEach((function(n,o){var i=fu.registeredVariables[n];null==t.accumulatedFirstMoment[o]&&(t.accumulatedFirstMoment[o]={originalName:"".concat(n,"/m"),variable:Qc(i).variable(false)}),null==t.accumulatedWeightedInfNorm[o]&&(t.accumulatedWeightedInfNorm[o]={originalName:"".concat(n,"/v"),variable:Qc(i).variable(false)});var u=Array.isArray(e)?e[o].tensor:e[n];if(null!=u){var s=t.accumulatedFirstMoment[o].variable,l=t.accumulatedWeightedInfNorm[o].variable,c=Pl(hc(s,t.beta1),hc(u,1-t.beta1)),d=hc(l,t.beta2),p=Ol(u),f=qd(d,p);s.assign(c),l.assign(f);var h=Pl(hc(Xc(a,r),Xc(c,Pl(f,t.epsilon))),i);i.assign(h)}})),t.iteration.assign(Pl(t.iteration,1)),t.accBeta1.assign(hc(t.accBeta1,t.beta1))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&Il(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedWeightedInfNorm&&Il(this.accumulatedWeightedInfNorm.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=Ut(qt().mark((function e(){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getWeights() is not implemented for Adamax yet.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Ut(qt().mark((function e(t){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setWeights() is not implemented for Adamax yet.");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}]),n}(Rl);fm.className="Adamax",Cl(fm);var hm=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this)).learningRate=e,r.setLearningRate(e),r}return(0,Jt.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var o=fu.registeredVariables[n];Sl((function(){var e=Pl(hc(t.c,a),o);o.assign(e)}))}})),this.incrementIterations()}},{key:"setLearningRate",value:function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=Fl(Al(-e))}},{key:"dispose",value:function(){this.c.dispose()}},{key:"getWeights",value:function(){var e=Ut(qt().mark((function e(){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0]);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Ut(qt().mark((function e(t){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:if(0===(t=e.sent).length){e.next=5;break}throw new Error("SGD optimizer does not have settable weights.");case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate)}}]),n}(Rl);hm.className="SGD",Cl(hm);var mm=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e,r){var a,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,Qt.Z)(this,n),(a=t.call(this,e)).learningRate=e,a.momentum=r,a.useNesterov=o,a.accumulations=[],a.m=Al(a.momentum),a}return(0,Jt.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=fu.registeredVariables[n];if(null==t.accumulations[r]){t.accumulations[r]={originalName:"".concat(n,"/momentum"),variable:Sl((function(){return Qc(a).variable(false)}))}}var o=t.accumulations[r].variable,i=Array.isArray(e)?e[r].tensor:e[n];null!=i&&Sl((function(){var e,n=Pl(hc(t.m,o),i);e=t.useNesterov?Pl(hc(t.c,Pl(i,hc(n,t.m))),a):Pl(hc(t.c,n),a),o.assign(n),a.assign(e)}))})),this.incrementIterations()}},{key:"dispose",value:function(){this.m.dispose(),null!=this.accumulations&&Il(this.accumulations.map((function(e){return e.variable})))}},{key:"setMomentum",value:function(e){this.momentum=e}},{key:"getWeights",value:function(){var e=Ut(qt().mark((function e(){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(this.accumulations.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Ut(qt().mark((function e(t){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,!1,this.accumulations=t.map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}]),n}(hm);mm.className="Momentum",Cl(mm);var vm=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,Qt.Z)(this,n),(r=t.call(this)).learningRate=e,r.decay=a,r.momentum=o,r.epsilon=i,r.accumulatedMeanSquares=[],r.accumulatedMoments=[],r.accumulatedMeanGrads=[],r.centered=u,null==i&&(r.epsilon=fu.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.");return r}return(0,Jt.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=fu.registeredVariables[n],o=!1;null==t.accumulatedMeanSquares[r]&&(t.accumulatedMeanSquares[r]={originalName:"".concat(n,"/rms"),variable:Sl((function(){return Qc(a).variable(o)}))}),null==t.accumulatedMoments[r]&&(t.accumulatedMoments[r]={originalName:"".concat(n,"/momentum"),variable:Sl((function(){return Qc(a).variable(o)}))}),null==t.accumulatedMeanGrads[r]&&t.centered&&(t.accumulatedMeanGrads[r]={originalName:"".concat(n,"/mg"),variable:Sl((function(){return Qc(a).variable(o)}))});var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var u=t.accumulatedMeanSquares[r].variable,s=t.accumulatedMoments[r].variable;Sl((function(){var e=Pl(hc(u,t.decay),hc(np(i),1-t.decay));if(t.centered){var n=t.accumulatedMeanGrads[r].variable,o=Pl(hc(n,t.decay),hc(i,1-t.decay)),l=Xc(hc(i,t.learningRate),rf(Td(e,Pl(np(o),t.epsilon)))),c=Pl(hc(s,t.momentum),l);u.assign(e),n.assign(o),s.assign(c);var d=Td(a,c);a.assign(d)}else{var p=Pl(hc(u,t.decay),hc(np(i),1-t.decay)),f=Pl(hc(s,t.momentum),Xc(hc(i,t.learningRate),rf(Pl(p,t.epsilon))));u.assign(p),s.assign(f);var h=Td(a,f);a.assign(h)}}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedMeanSquares&&Il(this.accumulatedMeanSquares.map((function(e){return e.variable}))),null!=this.accumulatedMeanGrads&&this.centered&&Il(this.accumulatedMeanGrads.map((function(e){return e.variable}))),null!=this.accumulatedMoments&&Il(this.accumulatedMoments.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=Ut(qt().mark((function e(){var t;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat((0,$t.Z)(this.accumulatedMeanSquares),(0,$t.Z)(this.accumulatedMoments)),this.centered&&t.push.apply(t,(0,$t.Z)(this.accumulatedMeanGrads)),e.next=4,this.saveIterations();case 4:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Ut(qt().mark((function e(t){var n,r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,n=this.centered?t.length/3:t.length/2,r=!1,this.accumulatedMeanSquares=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})),this.accumulatedMoments=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})),this.centered&&(this.accumulatedMeanGrads=t.slice(2*n,3*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}]),n}(Rl);vm.className="RMSProp",Cl(vm);var gm=function(){function e(){(0,Qt.Z)(this,e)}return(0,Jt.Z)(e,null,[{key:"sgd",value:function(e){return new hm(e)}},{key:"momentum",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new mm(e,t,n)}},{key:"rmsprop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new vm(e,t,n,r,a)}},{key:"adam",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new pm(e,t,n,r)}},{key:"adadelta",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new cm(e,t,n)}},{key:"adamax",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.002,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return new fm(e,t,n,r,a)}},{key:"adagrad",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return new dm(e,t)}}]),e}(),bm={sgd:gm.sgd,momentum:gm.momentum,adadelta:gm.adadelta,adagrad:gm.adagrad,rmsprop:gm.rmsprop,adamax:gm.adamax,adam:gm.adam},ym="undefined"!==typeof requestAnimationFrame?requestAnimationFrame:"undefined"!==typeof setImmediate?setImmediate:function(e){return e()};function xm(){return new Promise((function(e){return ym((function(){return e()}))}))}function km(e,t){var n=e[0].length;e.forEach((function(e,t){ln(e.length===n,(function(){return"Error in concat".concat(n,"D: rank of tensors[").concat(t,"] must be the same ")+"as the rank of the rest (".concat(n,")")}))})),ln(t>=0&&t<n,(function(){return"Error in concat".concat(n,"D: axis must be between 0 and ").concat(n-1,".")}));var r=e[0];e.forEach((function(e,a){for(var o=0;o<n;o++)ln(o===t||e[o]===r[o],(function(){return"Error in concat".concat(n,"D: Shape of tensors[").concat(a,"] (").concat(e,") ")+"does not match the shape of the rest (".concat(r,") ")+"along the non-concatenated axis ".concat(a,".")}))}))}function wm(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}function Cm(e){return e<=30?e:An(e,Math.floor(Math.sqrt(e)))}function Dm(e,t,n){return[n*("number"===typeof e?e:e[0]),t*("number"===typeof e?e:e[1])]}function Em(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=[];if(r)(a=a.concat(t.slice(0))).push(e[0]/n),a=a.concat(e.slice(1));else{a=a.concat(e[0]);for(var o=t.length,i=0;i<o;++i)a=a.concat([e[i+1]/t[i],t[i]]);a=a.concat(e.slice(o+1))}return a}function Sm(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=[];if(n){r.push(t);for(var a=t+1;a<e;++a)a<=2*t?(r.push(a),r.push(a-(t+1))):r.push(a)}else{for(var o=[],i=[],u=1;u<e;++u)u>=2*t+1||u%2===1?i.push(u):o.push(u);r.push.apply(r,o),r.push(0),r.push.apply(r,i)}return r}function Im(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=[];r?a.push(e[0]/n):a.push(e[0]*n);for(var o=1;o<e.length;++o)o<=t.length?r?a.push(t[o-1]*e[o]):a.push(e[o]/t[o-1]):a.push(e[o]);return a}function Fm(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function Tm(e,t,n){for(var r=e.slice(0,1),a=0;a<n;++a)r.push(e[a+1]-t[a][0]-t[a][1]);return r}function Nm(e,t){var n=e.shape.length,r=t.shape.length;if(n<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher,"+" but the rank was ".concat(n,"."));if(r<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(r,"."));if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type,"+" but the dtype was ".concat(t.dtype,"."));if(t.shape[r-1]>n)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+"".concat(t.shape[r-1]," vs. ").concat(n));if(0===fn(e.shape))throw new Error("Requested more than 0 entries, but input is empty."+" Input shape: ".concat(e.shape,"."));for(var a=t.shape,o=a[a.length-1],i=1,u=0;u<a.length-1;++u)i*=a[u];var s=e.shape,l=a.slice();l.pop();for(var c=1,d=o;d<n;++d)c*=s[d],l.push(s[d]);var p=[].concat((0,$t.Z)(Rn(e.shape).map((function(e){return e/c}))),[1]).slice(0,o);return[l,i,c,p]}var Am=1.7580993408473768,Rm=1.0507009873554805,Om=.3275911,Zm=.254829592,Mm=-.284496736,Pm=1.421413741,Lm=-1.453152027,_m=1.061405429;function Bm(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+"".concat(e.length,", imag: ").concat(t.length,"."));for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function zm(e,t){return{real:e[2*t],imag:e[2*t+1]}}function jm(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function Vm(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}var Wm="->",Hm=/->/g;function Um(e,t){var n=((e=e.replace(/\s/g,"")).length-e.replace(Hm,"").length)/Wm.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error('Equation must contain exactly one arrow ("'.concat(Wm,'").'));var r=e.split(Wm),a=(0,je.Z)(r,2),o=a[0],i=a[1];ln(-1===o.indexOf("..."),(function(){return'The ellipsis notation ("'.concat("...",'") is not supported yet.')}));var u=o.split(","),s=u.length;if(t!==s)throw new Error("Expected ".concat(s," input tensors, received ").concat(t));if(s>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");for(var l=[],c=function(e){var t=i[e];if(!u.some((function(e){return-1!==e.indexOf(t)})))throw new Error("Output subscripts contain the label ".concat(t," ")+"not present in the input subscripts.");-1===l.indexOf(t)&&l.push(t)},d=0;d<i.length;++d)c(d);for(var p=0;p<o.length;++p){var f=o[p];-1===l.indexOf(f)&&","!==f&&l.push(f)}for(var h=new Array(u.length),m=0;m<s;++m){if(new Set(u[m].split("")).size!==u[m].length)throw new Error("Found duplicate axes in input component ".concat(u[m],". ")+"Support for duplicate axes in input is not implemented yet.");h[m]=[];for(var v=0;v<u[m].length;++v)h[m].push(l.indexOf(u[m][v]))}for(var g=l.length,b=[],y=i.length;y<g;++y)b.push(y);return{allDims:l,summedDims:b,idDims:h}}function Gm(e,t){var n=new Array(e);n.fill(-1);for(var r=0;r<t.length;++r)n[t[r]]=r;for(var a=[],o=0;o<e;++o)-1===n[o]&&a.push(o);return{permutationIndices:n=n.filter((function(e){return-1!==e})),expandDims:a}}function qm(e,t,n){for(var r=new Array(e),a=function(e){for(var a=n[e].shape,o=function(n){void 0===r[t[e][n]]?r[t[e][n]]=a[n]:ln(r[t[e][n]]===a[n],(function(){return"Expected dimension ".concat(r[t[e][n]]," at axis ").concat(n," ")+"of input shaped ".concat(JSON.stringify(a),", ")+"but got dimension ".concat(a[n])}))},i=0;i<t[e].length;++i)o(i)},o=0;o<n.length;++o)a(o)}function Km(e,t){var n,r=e,a=[];0===e.length&&r.push(-1),n=e.length+1;for(var o=0;o<n;++o)a.push([]);for(var i=[],u=0;u<r.length;++u){var s,l=Yt(Ym(t,r[u]));try{for(l.s();!(s=l.n()).done;){var c=s.value;-1===i.indexOf(c)&&(a[u].push(c),i.push(c))}}catch(xV){l.e(xV)}finally{l.f()}}return{path:r,steps:a}}function Xm(e){return e.every((function(e,t){return e===t}))}function Ym(e,t){for(var n=[],r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}function $m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[];if("number"===typeof t)ln(e.shape[n]%t===0,(function(){return"Number of splits must evenly divide the axis."})),r=new Array(t).fill(e.shape[n]/t);else{var a=t.reduce((function(e,t){return-1===t&&(e+=1),e}),0);ln(a<=1,(function(){return"There should be only one negative value in split array."}));var o=t.indexOf(-1);if(-1!==o){var i=t.reduce((function(e,t){return t>0?e+t:e}));t[o]=e.shape[n]-i}ln(e.shape[n]===t.reduce((function(e,t){return e+t})),(function(){return"The sum of sizes must match the size of the axis dimension."})),r=t}return r}function Qm(e,t){return"indices(".concat(e,", 0) is invalid: ").concat(t," < 0")}function Jm(e,t,n){return"indices(".concat(e,", 0) is invalid: ").concat(t," >= ").concat(n)}function ev(e,t){return"Segment id ".concat(e," out of range [0, ").concat(t,"), possibly because segmentIds input is not sorted.")}function tv(e,t,n){return"Bad: indices[".concat(e,"] == ").concat(t," out of range [0, ").concat(n,")")}function nv(e,t,n,r){var a=t.shape.length,o=e.shape.length;if(0!==r&&(r<-a||r>a))throw new Error("Expect batchDims in the range of [-".concat(a,", ").concat(a,"], but got ").concat(r));if(r<0&&(r+=a),r>o)throw new Error("batchDims (".concat(r,") must be less than rank(x) (\n    ").concat(o,")."));if(n<r)throw new Error("batchDims (".concat(r,") must be less than or equal to axis (").concat(n,")."));for(var i=0;i<r;++i)if(e.shape[i]!==t.shape[i])throw new Error("x.shape[".concat(i,"]: ").concat(e.shape[i]," should be equal to indices.shape[").concat(i,"]: ").concat(t.shape[i],"."));for(var u=e.shape[n],s=[],l=1,c=1,d=1,p=0;p<r;++p)s.push(e.shape[p]),l*=e.shape[p];for(var f=r;f<n;f++)s.push(e.shape[f]),c*=e.shape[f];for(var h=r;h<a;h++)s.push(t.shape[h]);for(var m=n+1;m<o;m++)s.push(e.shape[m]),d*=e.shape[m];return{batchSize:l,sliceSize:d,outerSize:c,dimSize:u,outputShape:s}}function rv(e){try{return e.map((function(e){return Ni(e)}))}catch(xV){throw new Error("Failed to decode encoded string bytes into utf-8, error: ".concat(xV))}}var av={kernelName:$n,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{x:function(){return hc(e,sf(Ps(n,"float32"),-1))}}}},ov={kernelName:Qn,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{x:function(){var t=np(Ps(n,"float32")),r=rf(Td(Al(1),t));return Ed(Xc(e,r))}}}},iv={kernelName:Jn,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{x:function(){var t=rf(Td(np(Ps(n,"float32")),1));return Xc(e,t)}}}},uv={kernelName:er,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,je.Z)(t,2),r=n[0],a=n[1],o=sl(r.shape,a.shape);return{a:function(){var t=e,n=ul(r.shape,o);return n.length>0&&(t=Nd(t,n)),lc(t,r.shape)},b:function(){var t=e,n=ul(a.shape,o);return n.length>0&&(t=Nd(t,n)),lc(t,a.shape)}}}},sv={kernelName:tr,saveAllInputs:!0,gradFunc:function(e,t){var n={};return t.forEach((function(t,r){n[r]=function(){return e.clone()}})),n}},lv={kernelName:ar,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{x:function(){return Qc(n)}}}},cv={kernelName:or,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{x:function(){return Qc(n)}}}},dv={kernelName:ir,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{x:function(){return Xc(e,rf(Td(Al(1),np(Ps(n,"float32")))))}}}},pv={kernelName:ur,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{x:function(){var t=rf(Pl(Al(1),np(Ps(n,"float32"))));return Xc(e,t)}}}},fv={kernelName:cr,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,je.Z)(t,2),r=n[0],a=n[1],o=sl(r.shape,a.shape);return{a:function(){var t=Pl(np(r),np(a)),n=hc(e,Xc(a,t)),i=ul(r.shape,o);return i.length>0&&(n=Nd(n,i)),lc(n,r.shape)},b:function(){var t=Pl(np(r),np(a)),n=Ed(hc(e,Xc(r,t))),i=ul(a.shape,o);return i.length>0&&(n=Nd(n,i)),lc(n,a.shape)}}}},hv={kernelName:sr,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{x:function(){return Xc(e,Pl(np(Ps(n,"float32")),1))}}}},mv={kernelName:lr,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{x:function(){return Xc(e,Td(Al(1),np(Ps(n,"float32"))))}}}};var vv=Du({avgPool3dGrad_:function(e,t,n,r,a,o){var i=ku(e,"dy","avgPool3dGrad"),u=ku(t,"input","avgPool3dGrad"),s=i,l=u,c=!1;4===u.rank&&(c=!0,s=lc(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]]),l=lc(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),ln(5===s.rank,(function(){return"Error in avgPool3dGrad: dy must be rank 5 but got rank "+"".concat(s.rank,".")})),ln(5===l.rank,(function(){return"Error in avgPool3dGrad: input must be rank 5 but got rank "+"".concat(l.rank,".")})),sc("avgPool3dGrad",a,o);var d={dy:s,input:l},p={filterSize:n,strides:r,pad:a,dimRoundingMode:o},f=fu.runKernel(hr,d,p);return c?lc(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}}),gv={kernelName:fr,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,je.Z)(t,1)[0],a=n.filterSize,o=n.strides,i=n.pad,u=n.dimRoundingMode;return{x:function(){return vv(e,r,a,o,i,u)}}}};var bv=Du({avgPoolGrad_:function(e,t,n,r,a){var o=ku(e,"dy","avgPoolGrad"),i=ku(t,"input","avgPoolGrad");ln(i.rank===o.rank,(function(){return"Rank of input (".concat(i.rank,") does not match rank of dy (").concat(o.rank,")")}));var u=i,s=o,l=!1;3===i.rank&&(l=!0,u=lc(i,[1,i.shape[0],i.shape[1],i.shape[2]]),s=lc(o,[1,o.shape[0],o.shape[1],o.shape[2]])),ln(4===s.rank,(function(){return"Error in avgPoolGrad: dy must be rank 4 but got rank "+"".concat(s.rank,".")})),ln(4===u.rank,(function(){return"Error in avgPoolGrad: input must be rank 4 but got rank "+"".concat(u.rank,".")}));var c={dy:s,input:u},d={filterSize:n,strides:r,pad:a},p=fu.runKernel(pr,c,d);return l?lc(p,[p.shape[1],p.shape[2],p.shape[3]]):p}}),yv={kernelName:dr,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,je.Z)(t,1)[0],a=n.filterSize,o=n.strides,i=n.pad;return{x:function(){return bv(e,r,a,o,i)}}}},xv={kernelName:mr,inputsToSave:["a","b"],gradFunc:function(e,t,n){var r=(0,je.Z)(t,2),a=r[0],o=r[1],i=n.transposeA,u=n.transposeB;return i||u?!i&&u?{a:function(){return fc(e,o,!1,!1)},b:function(){return fc(e,a,!0,!1)}}:i&&!u?{a:function(){return fc(o,e,!1,!0)},b:function(){return fc(a,e,!1,!1)}}:{a:function(){return fc(o,e,!0,!0)},b:function(){return fc(e,a,!0,!0)}}:{a:function(){return fc(e,o,!1,!0)},b:function(){return fc(a,e,!0,!1)}}}},kv={kernelName:vr,gradFunc:function(e,t,n){var r=n.blockShape,a=n.crops;return{x:function(){return mp(e,r,a)}}}},wv={kernelName:"BroadcastTo",gradFunc:function(e,t,n){for(var r=n,a=r.inputShape,o=r.shape,i=Array.from(o),u=a.length-1;u>=0;u--)if(a[u]===o[u])i[u]=1;else if(1!==a[u])throw new Error("broadcastTo(): [".concat(a,"] cannot be broadcast to [").concat(o,"]."));for(var s=[],l=0;l<i.length;l++)i[l]>1&&s.push(l);return{x:function(){return Nd(e,s,!0)}}}},Cv={kernelName:yr,gradFunc:function(e){return{x:function(){return e.clone()}}}},Dv={kernelName:xr,gradFunc:function(e){return{x:function(){return Qc(e)}}}},Ev={kernelName:kr,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,je.Z)(t,1)[0],a=n.clipValueMin,o=n.clipValueMax;return{x:function(){return $c(zd(fd(r,a),xd(r,o)),e,Qc(e))}}}},Sv={kernelName:Cr,inputsToSave:["x"],gradFunc:av.gradFunc},Iv={kernelName:Dr,saveAllInputs:!0,gradFunc:function(e,t,n){var r=t.map((function(e){return e.shape})),a=xn(n.axis,t[0].shape)[0],o=r.map((function(e){return e[a]}));return tf(e,o,a).map((function(e){return function(){return e}}))}},Fv={kernelName:Er,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=(0,je.Z)(t,2),a=r[0],o=r[1],i=n.dilations,u=n.strides,s=n.pad,l=n.dataFormat;return ln(oc(i),(function(){return"Error in gradient of conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(i,"'")})),{x:function(){return Mc(a.shape,e,o,u,s,l)},filter:function(){return Vf(a,e,o.shape,u,s,l)}}}},Tv={kernelName:Ir,inputsToSave:["dy","filter"],gradFunc:function(e,t,n){var r=(0,je.Z)(t,2),a=r[0],o=r[1],i=n.strides,u=n.pad,s=n.dataFormat,l=n.dimRoundingMode;return{dy:function(){return Oc(e,o,i,u,s,1,l)},filter:function(){return Vf(e,a,o.shape,i,u,s,l)}}}};var Nv=Du({conv3DBackpropFilter_:function(e,t,n,r,a){var o=e;4===e.rank&&(o=lc(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));var i=t;4===i.rank&&(i=lc(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),ln(5===o.rank,(function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+"".concat(o.shape,".")})),ln(5===i.rank,(function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+"".concat(i.shape,".")})),ln(5===n.length,(function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+"".concat(n,".")})),ln(o.shape[4]===n[3],(function(){return"Error in conv3dDerFilter: depth of input ".concat(o.shape[4],") must ")+"match input depth in filter (".concat(n[3],".")})),ln(i.shape[4]===n[4],(function(){return"Error in conv3dDerFilter: depth of dy (".concat(i.shape[4],") must ")+"match output depth for filter (".concat(n[4],").")}));var u={x:o,dy:i},s={strides:r,pad:a,filterShape:n};return fu.runKernel(Tr,u,s)}}),Av={kernelName:Fr,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=n.dilations,a=n.strides,o=n.pad;ln(oc(r),(function(){return"Error in gradient of conv3D: dilation rates greater than 1 are "+"not yet supported in gradients. Got dilations '".concat(r,"'")}));var i=(0,je.Z)(t,2),u=i[0],s=i[1];return{x:function(){return _c(u.shape,e,s,a,o)},filter:function(){return Nv(u,e,s.shape,a,o)}}}},Rv={kernelName:Ar,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{x:function(){return hc(Ed(Up(Ps(n,"float32"))),e)}}}},Ov={kernelName:Rr,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{x:function(){return hc(Gp(Ps(n,"float32")),e)}}}},Zv={kernelName:Or,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,je.Z)(t,1)[0],a=n.axis,o=n.exclusive,i=n.reverse;return{x:function(){var t=Pd([a],r.rank),n=Vc(e,a,o,!i);return null!=t&&(n=If(n,t)),n}}}},Mv={kernelName:Lr,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=n.dilations,a=n.strides,o=n.pad,i=n.dimRoundingMode,u=null==r?[1,1]:r;ln(oc(u),(function(){return"Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(u,"'")}));var s=(0,je.Z)(t,2),l=s[0],c=s[1];return ln(4===l.rank,(function(){return"Error in gradient of depthwiseConv2dNative: input must be "+"rank 4, but got rank ".concat(l.rank,".")})),ln(4===c.rank,(function(){return"Error in gradient of depthwiseConv2dNative: filter must be "+"rank 4, but got rank ".concat(c.rank,".")})),ln(l.shape[3]===c.shape[2],(function(){return"Error in gradient of depthwiseConv2d: number of input "+"channels (".concat(l.shape[3],") must match the inChannels dimension ")+"in filter ".concat(c.shape[2],".")})),ln(ic(a,u),(function(){return"Error in gradient of depthwiseConv2d: Either strides or "+"dilations must be  1. Got strides ".concat(a," and dilations ")+"'".concat(u,"'.")})),sc("depthwiseConv2d",o,i),{x:function(){return Xf(l.shape,e,c,a,o,u,i)},filter:function(){return Kf(l,e,c.shape,a,o,u,i)}}}},Pv={kernelName:jr,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=(0,je.Z)(t,2),a=r[0],o=r[1],i={x:a,filter:o,dy:e},u={x:a,filter:o,dy:e};return{x:function(){return fu.runKernel(Vr,i,n)},filter:function(){return fu.runKernel(Wr,u,n)}}}},Lv={kernelName:Gr,outputsToSave:[!0],gradFunc:function(e,t){var n={dy:e,y:(0,je.Z)(t,1)[0]};return{x:function(){return fu.runKernel(qr,n)}}}},_v={kernelName:Kr,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0],r=hc(ad(Ed(np(n))),2/Math.sqrt(Math.PI));return{x:function(){return hc(e,r)}}}},Bv={kernelName:Yr,outputsToSave:[!0],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{x:function(){return hc(e,n)}}}},zv={kernelName:$r,inputsToSave:["input"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{input:function(){return lc(e,n.shape)}}}},jv={kernelName:Qr,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{x:function(){return hc(e,ad(n))}}}},Vv={kernelName:na,gradFunc:function(e){return{x:function(){return Qc(e)}}}},Wv={kernelName:ra,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,je.Z)(t,2),r=n[0],a=n[1],o=sl(r.shape,a.shape);return{a:function(){var t=Xc(e,Ps(a,"float32")),n=ul(r.shape,o);return n.length>0?lc(Nd(t,n),r.shape):t},b:function(){var t=hc(e,Ps(r,"float32")),n=ul(a.shape,o);n.length>0&&(t=lc(Nd(t,n),a.shape));var i=np(a);return Ed(Xc(t,Ps(i,"float32")))}}}},Hv={kernelName:aa,inputsToSave:["x","mean","variance","scale"],gradFunc:function(e,t,n){var r=n.varianceEpsilon,a=(0,je.Z)(t,4),o=a[0],i=a[1],u=a[2],s=a[3],l=null==s?Al(1):s,c=ul(i.shape,o.shape),d=[];if(1===i.rank){for(var p=0;p<o.shape.length-1;++p)d.push(o.shape[p]);d.push(1)}var f=Td(o,i),h=hc(e,l),m=Bp(Pl(u,Al(r))),v=hc(hc(hc(m,m),m),Al(-.5));return{x:function(){return 1===i.rank?lc(hc(hc(e,ud(lc(m,[1,1,1,i.shape[0]]),d)),l),o.shape):lc(hc(hc(e,m),l),o.shape)},mean:function(){var e=hc(hc(m,Al(-1)),h);return 1===i.rank&&(e=Nd(e,c)),lc(e,i.shape)},variance:function(){var e=hc(hc(v,f),h);return 1===i.rank&&(e=Nd(e,c)),lc(e,i.shape)},scale:function(){var t=hc(f,m),n=hc(e,t);return 1===i.rank&&(n=Nd(n,c)),lc(n,i.shape)},offset:function(){var t=e;return 1===i.rank&&(t=Nd(t,c)),lc(t,i.shape)}}}},Uv={kernelName:oa,inputsToSave:["x","indices"],gradFunc:function(e,t,n){var r=(0,je.Z)(t,2),a=r[0],o=r[1],i=n.axis,u=xn(i,a.shape)[0];return{x:function(){var t=a.shape,n=o.size,r=t.slice(0,u),s=r.length,l=t.slice(i,t.length).slice(1),c=l.length,d=Gv(0,s),p=Gv(s+1,s+1+c),f=qv([r,[n],l]),h=lc(e,f),m=lc(o,[n]),v=qv([[s],d,p]),g=If(h,v),b=yf(g,m,a.shape[u]),y=Ld(v);return b=If(b,y)},indices:function(){return o}}}};function Gv(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function qv(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var Kv={kernelName:sa,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,je.Z)(t,2),r=n[0],a=n[1];return{a:function(){return Qc(r)},b:function(){return Qc(a)}}}},Xv={kernelName:la,gradFunc:function(e){return{x:function(){return Ps(e,"float32")}}}},Yv={kernelName:pa,gradFunc:function(e){return{x:function(){return Qc(e)}}}},$v={kernelName:fa,gradFunc:function(e){return{x:function(){return Qc(e)}}}},Qv={kernelName:ha,gradFunc:function(e){return{x:function(){return Qc(e)}}}},Jv={kernelName:ma,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,je.Z)(t,1)[0],a=n.alpha,o=pd(r,0);return{x:function(){return $c(o,e,hc(e,a))}}}},eg={kernelName:xa,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{x:function(){return Xc(e,Pl(n,1))}}}},tg={kernelName:ya,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{x:function(){return Xc(e,Ps(n,"float32"))}}}},ng={kernelName:"LogSoftmax",inputsToSave:[],outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,je.Z)(t,1)[0],a=n.axis;return{logits:function(){var t=ad(r);return Td(e,hc(Nd(e,a,!0),t))}}}};var rg=Du({localResponseNormalizationBackprop_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:.5,u={x:e,y:t,dy:n},s={depthRadius:r,bias:a,alpha:o,beta:i};return fu.runKernel(Ea,u,s)}}),ag={kernelName:Da,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,je.Z)(t,2),a=r[0],o=r[1],i=n.depthRadius,u=n.bias,s=n.alpha,l=n.beta;return{x:function(){return rg(a,o,e,i,u,s,l)}}}};function og(e,t,n,r){return t.rank<n.rank&&(t=lc(t,Zd(t.shape,r))),e.rank<n.rank&&(e=lc(e,Zd(e.shape,r))),{x:function(){return hc(e,Ps(Yc(n,t),e.dtype))}}}var ig={kernelName:Sa,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=n.reductionIndices,a=t[0],o=og(e,t[1],a,xn(r,a.shape));return{x:function(){return o.x()}}}},ug={kernelName:Ia,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,je.Z)(t,2),r=n[0],a=n[1];return{a:function(){return hc(e,Ps(fd(r,a),"float32"))},b:function(){return hc(e,Ps(yd(r,a),"float32"))}}}};var sg=Du({maxPool3dGrad_:function(e,t,n,r,a,o,i){var u=ku(e,"dy","maxPool3dGrad"),s=ku(t,"input","maxPool3dGrad"),l=ku(n,"output","maxPool3dGrad"),c=u,d=s,p=l,f=!1;4===s.rank&&(f=!0,c=lc(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]]),d=lc(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]]),p=lc(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]])),ln(5===c.rank,(function(){return"Error in maxPool3dGrad: dy must be rank 5 but got rank "+"".concat(c.rank,".")})),ln(5===d.rank,(function(){return"Error in maxPool3dGrad: input must be rank 5 but got rank "+"".concat(d.rank,".")})),ln(5===p.rank,(function(){return"Error in maxPool3dGrad: output must be rank 5 but got rank "+"".concat(p.rank,".")})),sc("maxPool3dGrad",o,i);var h={dy:c,input:d,output:p},m={filterSize:r,strides:a,pad:o,dimRoundingMode:i},v=fu.runKernel(Aa,h,m);return f?lc(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}}),lg={kernelName:Na,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,je.Z)(t,2),a=r[0],o=r[1],i=n.filterSize,u=n.strides,s=n.pad,l=n.dimRoundingMode;return{x:function(){return sg(e,a,o,i,u,s,l)}}}};var cg=Du({maxPoolGrad_:function(e,t,n,r,a,o,i){var u=ku(e,"dy","maxPoolGrad"),s=ku(t,"input","maxPoolGrad"),l=ku(n,"output","maxPoolGrad");ln(s.rank===u.rank,(function(){return"Rank of input (".concat(s.rank,") does not match rank of dy ")+"(".concat(u.rank,")")})),ln(4===u.rank,(function(){return"Error in maxPoolGrad: dy must be rank 4 but got rank "+"".concat(u.rank,".")})),ln(4===s.rank,(function(){return"Error in maxPoolGrad: input must be rank 4 but got rank "+"".concat(s.rank,".")})),sc("maxPoolGrad",o,i);var c={dy:u,input:s,output:l},d={filterSize:r,strides:a,pad:o,dimRoundingMode:i};return fu.runKernel(Ta,c,d)}}),dg={kernelName:Fa,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,je.Z)(t,2),a=r[0],o=r[1],i=n.filterSize,u=n.strides,s=n.pad;return{x:function(){return cg(e,a,o,i,u,s)}}}},pg={kernelName:Pa,inputsToSave:["x"],gradFunc:function(e,t,n){var r=t[0],a=n.paddings.map((function(e){return e[0]}));return{x:function(){return vc(e,a,r.shape)}}}},fg={kernelName:Ka,inputsToSave:["x"],gradFunc:function(e,t,n){var r=t[0],a=n.paddings.map((function(e){return e[0]}));return{x:function(){return vc(e,a,r.shape)}}}},hg={kernelName:Xa,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:function(e,t){var n=(0,je.Z)(t,3),r=n[0],a=n[1],o=n[2],i=r,u=a,s=sl(i.shape,u.shape);return{a:function(){var t=Ps(u,"float32"),n=hc(e,hc(t,gp(i,Td(t,Al(1))))),r=ul(i.shape,s);return r.length>0&&(n=Nd(n,r)),lc(n,i.shape)},b:function(){var t=pd(i,0),n=$c(t,Cd(i),Qc(i)),r=hc(e,hc(o,n)),a=ul(u.shape,s);return a.length>0&&(r=Nd(r,a)),lc(r,u.shape)}}}},mg={kernelName:ho,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{x:function(){var t=pd(n,Al(0)),r=Al(Am),a=Al(Rm),o=hc(e,a),i=hc(hc(e,r),ad(Ps(n,"float32")));return $c(t,o,i)}}}},vg={kernelName:Co,gradFunc:function(e,t,n){var r=n.blockShape,a=n.paddings;return{x:function(){return yc(e,r,a)}}}},gg={kernelName:Do,gradFunc:function(e,t,n){var r=n.axis;return{x:function(){return pc(e,r)}}}},bg={kernelName:zo,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,je.Z)(t,1)[0],a=n.reps;return{x:function(){var t=Qc(r);if(1===r.rank)for(var n=0;n<a[0];++n)t=Pl(t,vc(e,[n*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(var o=0;o<a[0];++o)for(var i=0;i<a[1];++i)t=Pl(t,vc(e,[o*r.shape[0],i*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(var u=0;u<a[0];++u)for(var s=0;s<a[1];++s)for(var l=0;l<a[2];++l)t=Pl(t,vc(e,[u*r.shape[0],s*r.shape[1],l*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+"".concat(r.rank," tensors yet."));for(var c=0;c<a[0];++c)for(var d=0;d<a[1];++d)for(var p=0;p<a[2];++p)for(var f=0;f<a[3];++f)t=Pl(t,vc(e,[c*r.shape[0],d*r.shape[1],p*r.shape[2],f*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return t}}}};for(var yg,xg=0,kg=[av,ov,iv,uv,sv,lv,cv,dv,pv,fv,hv,mv,gv,yv,xv,kv,wv,Cv,Dv,Ev,Sv,Iv,Tv,Fv,Av,Rv,Ov,Zv,Mv,Pv,{kernelName:Hr,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,je.Z)(t,2),r=n[0],a=n[1],o=sl(r.shape,a.shape);return{a:function(){var t=Xc(e,Ps(a,"float32")),n=ul(r.shape,o);return n.length>0?lc(Nd(t,n),r.shape):t},b:function(){var t=hc(e,Ps(r,"float32")),n=ul(a.shape,o);n.length>0&&(t=lc(Nd(t,n),a.shape));var i=np(a);return Ed(Xc(t,Ps(i,"float32")))}}}},Lv,_v,Bv,zv,jv,Wv,Vv,Hv,Uv,Kv,Xv,Yv,$v,Qv,Jv,eg,tg,ng,ag,ig,ig,ug,lg,dg,{kernelName:Oa,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,je.Z)(t,1)[0],a=xn(n.axis,r.shape),o=fn(Od(r.shape,a)[1]);return{x:function(){var t=r.shape.slice();a.forEach((function(e){t[e]=1}));var n=lc(e,t);return Xc(hc(n,Yd(r.shape,"float32")),o)}}}},{kernelName:Za,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=n.axis,a=(0,je.Z)(t,2),o=a[0],i=og(e,a[1],o,xn(r,o.shape));return{x:function(){return i.x()}}}},{kernelName:Ma,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,je.Z)(t,2),r=n[0],a=n[1];return{a:function(){return hc(e,Ps(xd(r,a),"float32"))},b:function(){return hc(e,Ps(pd(r,a),"float32"))}}}},pg,{kernelName:La,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,je.Z)(t,2),r=n[0],a=n[1],o=sl(r.shape,a.shape);return{a:function(){var t=ul(r.shape,o);return t.length>0?lc(Nd(e,t),r.shape):e},b:function(){var t=hc(e,Ed(cd(Xc(r,a)))),n=ul(a.shape,o);return n.length>0?lc(Nd(t,n),a.shape):t}}}},{kernelName:Ba,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,je.Z)(t,2),r=n[0],a=n[1],o=sl(r.shape,a.shape);return{a:function(){var t=hc(e,Ps(a,"float32")),n=ul(r.shape,o);return n.length>0?lc(Nd(t,n),r.shape):t},b:function(){var t=hc(e,Ps(r,"float32")),n=ul(a.shape,o);return n.length>0?lc(Nd(t,n),a.shape):t}}}},{kernelName:za,gradFunc:function(e){return{x:function(){return Ed(e)}}}},{kernelName:Ga,inputsToSave:["indices"],gradFunc:function(e,t){var n=t[0];return{indices:function(){return Xd(n.shape,"float32")}}}},{kernelName:Ua,gradFunc:function(e){return{x:function(){return Qc(e)}}}},{kernelName:qa,saveAllInputs:!0,gradFunc:function(e,t,n){var r=n.axis;return xf(e,r).map((function(e){return function(){return e}}))}},fg,fg,hg,{kernelName:Ya,inputsToSave:["x","alpha"],gradFunc:function(e,t){var n=(0,je.Z)(t,2),r=n[0],a=n[1],o=pd(r,0);return{x:function(){return $c(o,e,hc(e,a))},alpha:function(){var t=$c(o,Qc(e),hc(e,r)),n=ul(a.shape,e.shape);return n.length>0&&(t=Nd(t,n)),lc(t,a.shape)}}}},{kernelName:eo,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{x:function(){return Xc(e,Ed(np(n)))}}}},{kernelName:uo,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0],r=hc(xd(n,6),sf(n));return{x:function(){return hc(e,Ps(r,"float32"))}}}},{kernelName:to,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{x:function(){return hc(e,Ps(sf(n),"float32"))}}}},{kernelName:no,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{x:function(){return lc(e,n.shape)}}}},{kernelName:oo,inputsToSave:["images"],gradFunc:function(e,t,n){var r={dy:e,images:(0,je.Z)(t,1)[0]};return{images:function(){return fu.runKernel(io,r,n)}}}},{kernelName:ro,inputsToSave:["images"],gradFunc:function(e,t,n){var r={dy:e,images:(0,je.Z)(t,1)[0]};return{images:function(){return fu.runKernel(ao,r,n)}}}},{kernelName:so,gradFunc:function(e,t,n){var r=xn(n.dims,e.shape);return{x:function(){return Op(e,r)}}}},{kernelName:lo,gradFunc:function(e){return{x:function(){return Qc(e)}}}},{kernelName:co,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{x:function(){return Ed(Xc(e,hc(gp(n,1.5),2)))}}}},{kernelName:fo,inputsToSave:["condition"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{condition:function(){return Ps(Qc(n),"float32")},t:function(){return hc(e,Ps(n,e.dtype))},e:function(){return hc(e,Ps(jd(n),e.dtype))}}}},mg,{kernelName:yo,outputsToSave:[!0],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{x:function(){return hc(e,hc(n,Td(Al(1),n)))}}}},{kernelName:bo,gradFunc:function(e){return{x:function(){return Qc(e)}}}},{kernelName:vo,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{x:function(){return hc(zc(Ps(n,"float32")),e)}}}},{kernelName:go,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{x:function(){return hc(jc(Ps(n,"float32")),e)}}}},{kernelName:mo,inputsToSave:["x"],gradFunc:function(e,t,n){for(var r=(0,je.Z)(t,1)[0],a=n.begin,o=n.size,i=r.shape,u=bl(r,a,o),s=(0,je.Z)(u,2),l=s[0],c=s[1],d=[],p=0;p<e.rank;p++)d.push([l[p],i[p]-l[p]-c[p]]);return{x:function(){return cp(e,d)}}}},{kernelName:Eo,outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,je.Z)(t,1)[0],a=n.dim,o=hc(e,r);return{logits:function(){return Td(o,hc(Nd(o,[a],true),r))}}}},{kernelName:xo,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{x:function(){return hc(e,mc(n))}}}},vg,vg,gg,gg,{kernelName:ko,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{x:function(){return Xc(e,hc(rf(Ps(n,"float32")),2))}}}},{kernelName:Ao,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,je.Z)(t,2),r=n[0],a=n[1],o=Al(2);return{a:function(){return hc(e,hc(o,Td(r,a)))},b:function(){return hc(e,hc(o,Td(a,r)))}}}},{kernelName:Ro,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{x:function(){return hc(e,hc(Ps(n,"float32"),2))}}}},{kernelName:Ko,gradFunc:function(e){return{x:function(){return Qc(e)}}}},{kernelName:Lo,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,je.Z)(t,2),r=n[0],a=n[1],o=sl(r.shape,a.shape);return{a:function(){var t=e,n=ul(r.shape,o);return n.length>0&&(t=Nd(t,n)),lc(t,r.shape)},b:function(){var t=e,n=ul(a.shape,o);return n.length>0&&(t=Nd(t,n)),lc(Ed(t),a.shape)}}}},{kernelName:wo,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,je.Z)(t,1)[0],a=r.shape.slice();xn(n.axis,r.shape).forEach((function(e){a[e]=1}));var o=lc(e,a),i=hc(o,Yd(r.shape,"float32"));return{x:function(){return i}}}},{kernelName:_o,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{x:function(){return Xc(e,np(zc(n)))}}}},{kernelName:Bo,outputsToSave:[!0],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{x:function(){return hc(Td(Al(1),np(n)),e)}}}},bg,{kernelName:Wo,gradFunc:function(e,t,n){var r=Ld(n.perm);return{x:function(){return If(e,r)}}}},{kernelName:Uo,gradFunc:function(e,t,n){var r=n.axis;return{value:function(){return uf(e,r)}}}},{kernelName:Go,inputsToSave:["segmentIds"],gradFunc:function(e,t){var n=(0,je.Z)(t,1)[0];return{x:function(){return function(e,t){for(var n=qd(t,Qc(t)),r=dd(e,n),a=fd(t,Al(0,"int32")),o=r.rank-a.rank,i=0;i<o;++i)a=od(a,i+1);a=zd(a,Yd(r.shape,"bool"));var u=Qc(r);return $c(a,r,u)}(e,n)}}}},{kernelName:qo,gradFunc:function(e){return{x:function(){return Qc(e)}}}}];xg<kg.length;xg++){ui(kg[xg])}function wg(){return null==yg&&(yg=fu.backend.epsilon()),yg}Gi().prototype.abs=function(){return this.throwIfDisposed(),Ol(this)},Gi().prototype.acos=function(){return this.throwIfDisposed(),Zl(this)},Gi().prototype.acosh=function(){return this.throwIfDisposed(),Ml(this)},Gi().prototype.add=function(e){return this.throwIfDisposed(),Pl(this,e)},Gi().prototype.all=function(e,t){return this.throwIfDisposed(),_l(this,e,t)},Gi().prototype.any=function(e,t){return this.throwIfDisposed(),Bl(this,e,t)},Gi().prototype.argMax=function(e){return this.throwIfDisposed(),zl(this,e)},Gi().prototype.argMin=function(e){return this.throwIfDisposed(),jl(this,e)},Gi().prototype.asScalar=function(){return this.throwIfDisposed(),ln(1===this.size,(function(){return"The array must have only 1 element."})),lc(this,[])},Gi().prototype.asType=function(e){return this.throwIfDisposed(),Ps(this,e)},Gi().prototype.as1D=function(){return this.throwIfDisposed(),lc(this,[this.size])},Gi().prototype.as2D=function(e,t){return this.throwIfDisposed(),lc(this,[e,t])},Gi().prototype.as3D=function(e,t,n){return this.throwIfDisposed(),lc(this,[e,t,n])},Gi().prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),lc(this,[e,t,n,r])},Gi().prototype.as5D=function(e,t,n,r,a){return this.throwIfDisposed(),lc(this,[e,t,n,r,a])},Gi().prototype.asin=function(){return this.throwIfDisposed(),Vl(this)},Gi().prototype.asinh=function(){return this.throwIfDisposed(),Wl(this)},Gi().prototype.atan=function(){return this.throwIfDisposed(),Hl(this)},Gi().prototype.atan2=function(e){return this.throwIfDisposed(),Ul(this,e)},Gi().prototype.atanh=function(){return this.throwIfDisposed(),Gl(this)},Gi().prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),cc(this,e,t,n,r)},Gi().prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),yc(this,e,t)},Gi().prototype.batchNorm=function(e,t,n,r,a){return this.throwIfDisposed(),xc(this,e,t,n,r,a)},Gi().prototype.broadcastTo=function(e){return this.throwIfDisposed(),Sc(this,e)},Gi().prototype.cast=function(e){return this.throwIfDisposed(),Ps(this,e)},Gi().prototype.ceil=function(){return this.throwIfDisposed(),Ic(this)},Gi().prototype.clipByValue=function(e,t){return this.throwIfDisposed(),Fc(this,e,t)},Gi().prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof Ui&&(e=[e]),pc([this].concat((0,$t.Z)(e)),t)},Gi().prototype.conv1d=function(e,t,n,r,a,o){return this.throwIfDisposed(),Zc(this,e,t,n,r,a,o)},Gi().prototype.conv2dTranspose=function(e,t,n,r,a){return this.throwIfDisposed(),Pc(this,e,t,n,r,a)},Gi().prototype.conv2d=function(e,t,n,r,a,o){return this.throwIfDisposed(),Oc(this,e,t,n,r,a,o)},Gi().prototype.cos=function(){return this.throwIfDisposed(),zc(this)},Gi().prototype.cosh=function(){return this.throwIfDisposed(),jc(this)},Gi().prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),Vc(this,e,t,n)},Gi().prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),Hc(this,e,t)},Gi().prototype.depthwiseConv2d=function(e,t,n,r,a,o){return this.throwIfDisposed(),Uc(this,e,t,n,r,a,o)},Gi().prototype.dilation2d=function(e,t,n,r,a){return this.throwIfDisposed(),qc(this,e,t,n,r,a)},Gi().prototype.divNoNan=function(e){return this.throwIfDisposed(),Jc(this,e)},Gi().prototype.div=function(e){return this.throwIfDisposed(),Xc(this,e)},Gi().prototype.dot=function(e){return this.throwIfDisposed(),ed(this,e)},Gi().prototype.elu=function(){return this.throwIfDisposed(),nd(this)},Gi().prototype.equal=function(e){return this.throwIfDisposed(),Yc(this,e)},Gi().prototype.erf=function(){return this.throwIfDisposed(),rd(this)},Gi().prototype.exp=function(){return this.throwIfDisposed(),ad(this)},Gi().prototype.expandDims=function(e){return this.throwIfDisposed(),od(this,e)},Gi().prototype.expm1=function(){return this.throwIfDisposed(),id(this)},Gi().prototype.fft=function(){return this.throwIfDisposed(),Qp(this)},Gi().prototype.flatten=function(){return this.throwIfDisposed(),lc(this,[this.size])},Gi().prototype.floor=function(){return this.throwIfDisposed(),cd(this)},Gi().prototype.floorDiv=function(e){return this.throwIfDisposed(),Kc(this,e)},Gi().prototype.gather=function(e,t){return this.throwIfDisposed(),dd(this,e,t)},Gi().prototype.greaterEqual=function(e){return this.throwIfDisposed(),fd(this,e)},Gi().prototype.greater=function(e){return this.throwIfDisposed(),pd(this,e)},Gi().prototype.ifft=function(){return this.throwIfDisposed(),Jp(this)},Gi().prototype.irfft=function(){return this.throwIfDisposed(),ef(this)},Gi().prototype.isFinite=function(){return this.throwIfDisposed(),md(this)},Gi().prototype.isInf=function(){return this.throwIfDisposed(),vd(this)},Gi().prototype.isNaN=function(){return this.throwIfDisposed(),gd(this)},Gi().prototype.leakyRelu=function(e){return this.throwIfDisposed(),bd(this,e)},Gi().prototype.lessEqual=function(e){return this.throwIfDisposed(),xd(this,e)},Gi().prototype.less=function(e){return this.throwIfDisposed(),yd(this,e)},Gi().prototype.localResponseNormalization=function(e,t,n,r){return this.throwIfDisposed(),wd(this,e,t,n,r)},Gi().prototype.logSigmoid=function(){return this.throwIfDisposed(),Id(this)},Gi().prototype.logSoftmax=function(e){return this.throwIfDisposed(),Ad(this,e)},Gi().prototype.logSumExp=function(e,t){return this.throwIfDisposed(),Bd(this,e,t)},Gi().prototype.log=function(){return this.throwIfDisposed(),Cd(this)},Gi().prototype.log1p=function(){return this.throwIfDisposed(),Dd(this)},Gi().prototype.logicalAnd=function(e){return this.throwIfDisposed(),zd(this,e)},Gi().prototype.logicalNot=function(){return this.throwIfDisposed(),jd(this)},Gi().prototype.logicalOr=function(e){return this.throwIfDisposed(),Vd(this,e)},Gi().prototype.logicalXor=function(e){return this.throwIfDisposed(),Wd(this,e)},Gi().prototype.matMul=function(e,t,n){return this.throwIfDisposed(),fc(this,e,t,n)},Gi().prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),Hd(this,e,t,n,r)},Gi().prototype.max=function(e,t){return this.throwIfDisposed(),Fd(this,e,t)},Gi().prototype.maximum=function(e){return this.throwIfDisposed(),qd(this,e)},Gi().prototype.mean=function(e,t){return this.throwIfDisposed(),Kd(this,e,t)},Gi().prototype.min=function(e,t){return this.throwIfDisposed(),Qd(this,e,t)},Gi().prototype.minimum=function(e){return this.throwIfDisposed(),Jd(this,e)},Gi().prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),ep(this,e,t)},Gi().prototype.mod=function(e){return this.throwIfDisposed(),tp(this,e)},Gi().prototype.mul=function(e){return this.throwIfDisposed(),hc(this,e)},Gi().prototype.neg=function(){return this.throwIfDisposed(),Ed(this)},Gi().prototype.norm=function(e,t,n){return this.throwIfDisposed(),Tf(this,e,t,n)},Gi().prototype.notEqual=function(e){return this.throwIfDisposed(),ip(this,e)},Gi().prototype.oneHot=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.throwIfDisposed(),up(this,e,t,n)},Gi().prototype.onesLike=function(){return this.throwIfDisposed(),sp(this)},Gi().prototype.pad=function(e,t){return this.throwIfDisposed(),cp(this,e,t)},Gi().prototype.pool=function(e,t,n,r,a,o){return this.throwIfDisposed(),vp(this,e,t,n,r,a,o)},Gi().prototype.pow=function(e){return this.throwIfDisposed(),gp(this,e)},Gi().prototype.prelu=function(e){return this.throwIfDisposed(),bp(this,e)},Gi().prototype.prod=function(e,t){return this.throwIfDisposed(),yp(this,e,t)},Gi().prototype.reciprocal=function(){return this.throwIfDisposed(),Np(this)},Gi().prototype.relu=function(){return this.throwIfDisposed(),Ap(this)},Gi().prototype.relu6=function(){return this.throwIfDisposed(),Rp(this)},Gi().prototype.reshapeAs=function(e){return this.throwIfDisposed(),lc(this,e.shape)},Gi().prototype.reshape=function(e){return this.throwIfDisposed(),lc(this,e)},Gi().prototype.resizeBilinear=function(e,t,n){return this.throwIfDisposed(),Th(this,e,t,n)},Gi().prototype.resizeNearestNeighbor=function(e,t,n){return this.throwIfDisposed(),Nh(this,e,t,n)},Gi().prototype.reverse=function(e){return this.throwIfDisposed(),Op(this,e)},Gi().prototype.rfft=function(){return this.throwIfDisposed(),nf(this)},Gi().prototype.round=function(){return this.throwIfDisposed(),_p(this)},Gi().prototype.rsqrt=function(){return this.throwIfDisposed(),Bp(this)},Gi().prototype.selu=function(){return this.throwIfDisposed(),zp(this)},Gi().prototype.separableConv2d=function(e,t,n,r,a,o){return this.throwIfDisposed(),jp(this,e,t,n,r,a,o)},Gi().prototype.sigmoid=function(){return this.throwIfDisposed(),mc(this)},Gi().prototype.sign=function(){return this.throwIfDisposed(),Hp(this)},Gi().prototype.sin=function(){return this.throwIfDisposed(),Up(this)},Gi().prototype.sinh=function(){return this.throwIfDisposed(),Gp(this)},Gi().prototype.slice=function(e,t){return this.throwIfDisposed(),vc(this,e,t)},Gi().prototype.softmax=function(e){return this.throwIfDisposed(),$p(this,e)},Gi().prototype.softplus=function(){return this.throwIfDisposed(),Sd(this)},Gi().prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),mp(this,e,t)},Gi().prototype.split=function(e,t){return this.throwIfDisposed(),tf(this,e,t)},Gi().prototype.sqrt=function(){return this.throwIfDisposed(),rf(this)},Gi().prototype.square=function(){return this.throwIfDisposed(),np(this)},Gi().prototype.squaredDifference=function(e){return this.throwIfDisposed(),af(this,e)},Gi().prototype.squeeze=function(e){return this.throwIfDisposed(),of(this,e)},Gi().prototype.stack=function(e,t){this.throwIfDisposed();var n=e instanceof Ui?[this,e]:[this].concat((0,$t.Z)(e));return uf(n,t)},Gi().prototype.step=function(e){return this.throwIfDisposed(),sf(this,e)},Gi().prototype.stridedSlice=function(e,t,n,r,a,o,i,u){return this.throwIfDisposed(),lf(this,e,t,n,r,a,o,i,u)},Gi().prototype.sub=function(e){return this.throwIfDisposed(),Td(this,e)},Gi().prototype.sum=function(e,t){return this.throwIfDisposed(),Nd(this,e,t)},Gi().prototype.tan=function(){return this.throwIfDisposed(),cf(this)},Gi().prototype.tanh=function(){return this.throwIfDisposed(),gc(this)},Gi().prototype.tile=function(e){return this.throwIfDisposed(),ud(this,e)},Gi().prototype.toBool=function(){return this.throwIfDisposed(),Ps(this,"bool")},Gi().prototype.toFloat=function(){return this.throwIfDisposed(),Ps(this,"float32")},Gi().prototype.toInt=function(){return this.throwIfDisposed(),Ps(this,"int32")},Gi().prototype.topk=function(e,t){return this.throwIfDisposed(),vf(this,e,t)},Gi().prototype.transpose=function(e){return this.throwIfDisposed(),If(this,e)},Gi().prototype.unique=function(e){return this.throwIfDisposed(),bf(this,e)},Gi().prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),yf(this,e,t)},Gi().prototype.unstack=function(e){return this.throwIfDisposed(),xf(this,e)},Gi().prototype.where=function(e,t){return this.throwIfDisposed(),$c(e,this,t)},Gi().prototype.zerosLike=function(){return this.throwIfDisposed(),Qc(this)};var Cg=n(7326),Dg=n(1120),Eg=n(9611);var Sg=n(8814);function Ig(e,t,n){return Ig=(0,Sg.Z)()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&(0,Eg.Z)(a,n.prototype),a},Ig.apply(null,arguments)}function Fg(e){var t="function"===typeof Map?new Map:void 0;return Fg=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Ig(e,arguments,(0,Dg.Z)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,Eg.Z)(n,e)},Fg(e)}var Tg=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),r=t.call(this,e),Object.setPrototypeOf((0,Cg.Z)(r),n.prototype),r}return(0,Jt.Z)(n)}(Fg(Error)),Ng=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),r=t.call(this,e),Object.setPrototypeOf((0,Cg.Z)(r),n.prototype),r}return(0,Jt.Z)(n)}(Fg(Error)),Ag=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),r=t.call(this,e),Object.setPrototypeOf((0,Cg.Z)(r),n.prototype),r}return(0,Jt.Z)(n)}(Fg(Error)),Rg=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),r=t.call(this,e),Object.setPrototypeOf((0,Cg.Z)(r),n.prototype),r}return(0,Jt.Z)(n)}(Fg(Error)),Og=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),r=t.call(this,e),Object.setPrototypeOf((0,Cg.Z)(r),n.prototype),r}return(0,Jt.Z)(n)}(Fg(Error));Error;function Zg(e,t){if(Array.isArray(e)){for(var n=[],r=0;r<t;r++)n=n.concat(e);return n}var a=new Array(t);return a.fill(e),a}function Mg(e,t){if(!e)throw new Og(t)}function Pg(e,t){var n,r=0,a=Yt(e);try{for(a.s();!(n=a.n()).done;){n.value===t&&r++}}catch(xV){a.e(xV)}finally{a.f()}return r}function Lg(e){return 1===e.length?e[0]:e}function _g(e){return Array.isArray(e)?e:[e]}function Bg(e){var t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function zg(e){return e.length<=1||-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,(function(e,t){return t.toUpperCase()}))}var jg={};function Vg(e){if(null===e||void 0===e)return null;var t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function Wg(e){if(null!=e&&"object"===typeof e)if(Array.isArray(e))e.forEach((function(e){return Wg(e)}));else for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t],a=e[r];null!=a&&"object"===typeof a&&(Array.isArray(a)||"ndarray"!==a.type||"number"!==typeof a.value?Wg(a):e[r]=a.value)}}function Hg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"object",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if("string"===typeof e){var o,i=e;if(i in n)o=n[i];else if(i in jg)o=jg[i];else if(null==(o=t[i]))throw new Ag("Unknown ".concat(r,": ").concat(e,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(r," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(r," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");return o}var u=e;if(null==u.className||null==u.config)throw new Ag("".concat(r,": Improper config format: ")+"".concat(JSON.stringify(u),".\n")+"'className' and 'config' must set.");var s,l,c=u.className;if(c in n){var d=(0,je.Z)(n[c],2);s=d[0],l=d[1]}else if(c in jg){var p=(0,je.Z)(jg.className,2);s=p[0],l=p[1]}else if(c in t){var f=(0,je.Z)(t[c],2);s=f[0],l=f[1]}if(null==s)throw new Ag("Unknown ".concat(r,": ").concat(c,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(r," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(r," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");if(null!=l){for(var h={},m=0,v=Object.keys(jg);m<v.length;m++){var g=v[m];h[g]=jg[g]}for(var b=0,y=Object.keys(n);b<y.length;b++){var x=y[b];h[x]=n[x]}var k=u.config;k.customObjects=h;for(var w=Object.assign({},jg),C=0,D=Object.keys(n);C<D.length;C++){var E=D[C];jg[E]=n[E]}Wg(u.config);var S=l(s,u.config,n,a);return jg=Object.assign({},w),S}for(var I=Object.assign({},jg),F=0,T=Object.keys(n);F<T.length;F++){var N=T[F];jg[N]=n[N]}var A=new s(u.config);return jg=Object.assign({},I),A}function Ug(e,t){return-1*function(e,t){return e<t?-1:e>t?1:0}(e,t)}function Gg(e){if(null==e)return e;var t,n=[],r=Yt(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;-1===n.indexOf(a)&&n.push(a)}}catch(xV){r.e(xV)}finally{r.f()}return n}function qg(e){if(null==e)throw new Ag("Invalid value in obj: ".concat(JSON.stringify(e)));for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function Kg(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new Ag("".concat(n," is not a valid ").concat(t,".  Valid values are ").concat(e," or null/undefined."))}function Xg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;return Mg(n>=0),Mg(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every((function(e){return typeof e===t}))}function Yg(e,t){Array.isArray(e)?(ln(e.length>0,(function(){return"".concat(t," is unexpectedly an empty array.")})),e.forEach((function(e,n){return Yg(e,"element ".concat(n+1," of ").concat(t))}))):ln(Number.isInteger(e)&&e>0,(function(){return"Expected ".concat(t," to be a positive integer, but got ")+"".concat($g(e),".")}))}function $g(e){return null===e?"null":Array.isArray(e)?"["+e.map((function(e){return $g(e)})).join(",")+"]":"string"===typeof e?'"'.concat(e,'"'):"".concat(e)}function Qg(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}function Jg(e,t){return Sl((function(){return rf(Nd(hc(e,e),t,!0))}))}var eb=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.apply(this,arguments)}return(0,Jt.Z)(n,[{key:"getConfig",value:function(){return{}}}]),n}(kl),tb=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this)).defaultMaxValue=2,r.defaultAxis=0,r.maxValue=null!=e.maxValue?e.maxValue:r.defaultMaxValue,r.axis=null!=e.axis?e.axis:r.defaultAxis,r}return(0,Jt.Z)(n,[{key:"apply",value:function(e){var t=this;return Sl((function(){var n=Jg(e,t.axis),r=Fc(n,0,t.maxValue);return hc(e,Xc(r,Pl(wg(),n)))}))}},{key:"getConfig",value:function(){return{maxValue:this.maxValue,axis:this.axis}}}]),n}(eb);tb.className="MaxNorm",Cl(tb);var nb=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this)).defaultAxis=0,r.axis=null!=e.axis?e.axis:r.defaultAxis,r}return(0,Jt.Z)(n,[{key:"apply",value:function(e){var t=this;return Sl((function(){return Xc(e,Pl(wg(),Jg(e,t.axis)))}))}},{key:"getConfig",value:function(){return{axis:this.axis}}}]),n}(eb);nb.className="UnitNorm",Cl(nb);var rb=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.apply(this,arguments)}return(0,Jt.Z)(n,[{key:"apply",value:function(e){return Ap(e)}}]),n}(eb);rb.className="NonNeg",Cl(rb);var ab=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this)).defaultMinValue=0,r.defaultMaxValue=1,r.defaultRate=1,r.defaultAxis=0,r.minValue=null!=e.minValue?e.minValue:r.defaultMinValue,r.maxValue=null!=e.maxValue?e.maxValue:r.defaultMaxValue,r.rate=null!=e.rate?e.rate:r.defaultRate,r.axis=null!=e.axis?e.axis:r.defaultAxis,r}return(0,Jt.Z)(n,[{key:"apply",value:function(e){var t=this;return Sl((function(){var n=Jg(e,t.axis),r=Pl(hc(t.rate,Fc(n,t.minValue,t.maxValue)),hc(1-t.rate,n));return hc(e,Xc(r,Pl(wg(),n)))}))}},{key:"getConfig",value:function(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}]),n}(eb);ab.className="MinMaxNorm",Cl(ab);var ob={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function ib(e){return Vg(e)}function ub(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Hg(e,wl.getMap().classNameMap,t,"constraint")}function sb(e){return null==e?null:"string"===typeof e?ub({className:e in ob?ob[e]:e,config:{}}):e instanceof eb?e:ub(e)}var lb=["channelsFirst","channelsLast"],cb=["nearest","bilinear"],db=["valid","same","causal"],pb=["max","avg"],fb=["sum","mul","concat","ave"],hb=new Map;function mb(e){Kg(lb,"DataFormat",e)}function vb(e){Kg(db,"PaddingMode",e)}function gb(e){Kg(pb,"PoolMode",e)}var bb=[];function yb(e,t){bb.push(e);try{var n=t();return bb.pop(),n}catch(r){throw bb.pop(),r}}function xb(e){if(!Cb(e))throw new Error("Not a valid tensor name: '"+e+"'");return(0===bb.length?"":bb.join("/")+"/")+e}function kb(e){if(!Cb(e))throw new Error("Not a valid tensor name: '"+e+"'");hb.has(e)||hb.set(e,0);var t=hb.get(e);if(hb.set(e,hb.get(e)+1),t>0){var n="".concat(e,"_").concat(t);return hb.set(n,1),n}return e}var wb=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function Cb(e){return!!e.match(wb)}function Db(e){return e===parseInt(e.toString(),10)}function Eb(e,t,n){null==t&&(t=0),null==n&&(n=e.length);for(var r=1,a=t;a<n;++a)r*=e[a];return r}function Sb(e){if(0===e.length)return Number.NaN;for(var t=Number.POSITIVE_INFINITY,n=0;n<e.length;n++){var r=e[n];r<t&&(t=r)}return t}function Ib(e){if(0===e.length)return Number.NaN;for(var t=Number.NEGATIVE_INFINITY,n=0;n<e.length;n++){var r=e[n];r>t&&(t=r)}return t}function Fb(e,t){if(t<e)throw new Ag("end (".concat(t,") < begin (").concat(e,") is forbidden."));for(var n=[],r=e;r<t;++r)n.push(r);return n}function Tb(e,t){return Ps(e,t)}function Nb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),lc(e,n)}function Ab(e){var t=[Eb(e.shape)];return lc(e,t)}function Rb(e,t,n){return Sl((function(){switch(e.rank){case 1:return qp(e,t,n);case 2:return Kp(e,[t,0],[n,e.shape[1]]);case 3:return Xp(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return Yp(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return vc(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return vc(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new Ag("sliceAlongFirstAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function Ob(e,t,n){return Sl((function(){switch(e.rank){case 1:return qp(e,t,n);case 2:return Kp(e,[0,t],[e.shape[0],n]);case 3:return Xp(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return Yp(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new Ag("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function Zb(e,t,n,r){return Sl((function(){switch(e.rank){case 1:return qp(e,t,n);case 2:switch(r){case 1:return Rb(e,t,n);case 2:return Ob(e,t,n);default:throw new Ag("The axis is not within the rank of the tensor "+"".concat(r))}case 3:switch(r){case 1:return Rb(e,t,n);case 2:return Xp(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return Ob(e,t,n);default:throw new Ag("The axis is not within the rank of the tensor "+"".concat(r))}case 4:switch(r){case 1:return Rb(e,t,n);case 2:return Yp(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return Yp(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return Ob(e,t,n);default:throw new Ag("The axis is not within the rank of the tensor "+"".concat(r))}default:throw new Ag("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function Mb(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return n<0&&(n=0!==(t=e[0].rank)?t:0),n===e[0].rank&&(n=-1),pc(e,n)}function Pb(e,t){switch(e.rank){case 1:return Tc([e,t]);case 2:return Nc([e,t],0);case 3:return Ac([e,t],0);case 4:return Rc([e,t],0);default:throw new Ag("concatAlongFirstAxis() received an unsupported "+"tensor rank: ".concat(e.rank))}}function Lb(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new Ag("The length of input n (".concat(t.length,") does not match ")+"the number of dimensions in input x (".concat(e.rank,")"));return ud(e,t)}function _b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;return Sp(e,t,n,r,a)}function Bb(e,t,n,r){if(e.rank<2||t.rank<2)throw new Rg("dot requires both inputs to be rank >= 2"+" but got x shape = ".concat(e.shape," and y shape = ").concat(t.shape));if(t.rank>=3&&e.shape.slice(-1)[0]!==t.shape.slice(-2)[0])throw new Rg("If rank y >= 3, then the second last dim"+" of y must equal the last dim of x but got x shape = ".concat(e.shape," and ")+" y shape = ".concat(t.shape));if(2===e.rank&&2===t.rank){return $f({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?Vb(e.rank,r,"channelsLast"):null,activation:n})}var a=e.shape.slice(),o=a.pop();e=lc(e,[-1,o]);var i=t.shape.slice(),u=i.pop(),s=i.pop(),l=[].concat((0,$t.Z)(i),[u]),c=Array.from({length:t.rank},(function(e,n){return 0===n?t.rank-2:n<=t.rank-2?n-1:n}));t=lc(If(t,c),[s,-1]);var d=[].concat((0,$t.Z)(a),(0,$t.Z)(l));return lc($f({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?Vb(e.rank,r,"channelsLast"):null,activation:n}),d)}function zb(e,t,n){return Sl((function(){return t=Array.isArray(t)?df(t,"int32"):Ps(t,"int32"),dd(e,t,n)}))}function jb(e){return hc(e,e)}function Vb(e,t,n){var r=t.shape;if(1!==t.rank&&t.rank!==e)throw new Ag("Unexpected bias dimensions: ".concat(t.rank)+"; expected it to be 1 or ".concat(e));if(5===e){if("channelsFirst"===n)return 1===r.length?lc(t,[1,r[0],1,1,1]):lc(t,[1,r[3],r[0],r[1],r[2]]);if("channelsLast"===n)return 1===r.length?lc(t,[1,1,1,1,r[0]]):lc(t,[1].concat(r))}else if(4===e){if("channelsFirst"===n)return 1===r.length?lc(t,[1,r[0],1,1]):lc(t,[1,r[2],r[0],r[1]]);if("channelsLast"===n)return 1===r.length?lc(t,[1,1,1,r[0]]):lc(t,[1].concat(r))}else if(3===e){if("channelsFirst"===n)return 1===r.length?lc(t,[1,r[0],1]):lc(t,[1,r[1],r[0]]);if("channelsLast"===n)return 1===r.length?lc(t,[1,1,r[0]]):lc(t,[1].concat(r))}else if(e<3)return t;throw new Ag("Unsupported input rank by biasAdd: ".concat(t.rank))}function Wb(e,t,n){return Sl((function(){return null==n&&(n="channelsLast"),mb(n),Pl(e,Vb(e.rank,t,n))}))}function Hb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(1!==t)throw new Rg("Support for alpha values other than 1 (".concat(t,") is not implemented ")+"yet.");return nd(e)}function Ub(e,t,n,r){return Sl((function(){return Lf(e,t,n,r)}))}function Gb(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?e():t()}var qb=["fanIn","fanOut","fanAvg"],Kb=["normal","uniform","truncatedNormal"];var Xb=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.apply(this,arguments)}return(0,Jt.Z)(n,[{key:"fromConfigUsesCustomObjects",value:function(){return!1}},{key:"getConfig",value:function(){return{}}}]),n}(kl),Yb=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.apply(this,arguments)}return(0,Jt.Z)(n,[{key:"apply",value:function(e,t){return Xd(e,t)}}]),n}(Xb);Yb.className="Zeros",Cl(Yb);var $b=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.apply(this,arguments)}return(0,Jt.Z)(n,[{key:"apply",value:function(e,t){return Yd(e,t)}}]),n}(Xb);$b.className="Ones",Cl($b);var Qb=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;if((0,Qt.Z)(this,n),r=t.call(this),"object"!==typeof e)throw new Ag("Expected argument of type ConstantConfig but got ".concat(e));if(void 0===e.value)throw new Ag("config must have value set but got ".concat(e));return r.value=e.value,r}return(0,Jt.Z)(n,[{key:"apply",value:function(e,t){var n=this;return Sl((function(){return hc(Al(n.value),Yd(e,t))}))}},{key:"getConfig",value:function(){return{value:this.value}}}]),n}(Xb);Qb.className="Constant",Cl(Qb);var Jb=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this)).DEFAULT_MINVAL=-.05,r.DEFAULT_MAXVAL=.05,r.minval=e.minval||r.DEFAULT_MINVAL,r.maxval=e.maxval||r.DEFAULT_MAXVAL,r.seed=e.seed,r}return(0,Jt.Z)(n,[{key:"apply",value:function(e,t){return Ip(e,this.minval,this.maxval,t)}},{key:"getConfig",value:function(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}]),n}(Xb);Jb.className="RandomUniform",Cl(Jb);var ey=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this)).DEFAULT_MEAN=0,r.DEFAULT_STDDEV=.05,r.mean=e.mean||r.DEFAULT_MEAN,r.stddev=e.stddev||r.DEFAULT_STDDEV,r.seed=e.seed,r}return(0,Jt.Z)(n,[{key:"apply",value:function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Rg("randomNormal does not support dType ".concat(t,"."));return _b(e,this.mean,this.stddev,t,this.seed)}},{key:"getConfig",value:function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}]),n}(Xb);ey.className="RandomNormal",Cl(ey);var ty=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this)).DEFAULT_MEAN=0,r.DEFAULT_STDDEV=.05,r.mean=e.mean||r.DEFAULT_MEAN,r.stddev=e.stddev||r.DEFAULT_STDDEV,r.seed=e.seed,r}return(0,Jt.Z)(n,[{key:"apply",value:function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Rg("truncatedNormal does not support dType ".concat(t,"."));return gf(e,this.mean,this.stddev,t,this.seed)}},{key:"getConfig",value:function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}]),n}(Xb);ty.className="TruncatedNormal",Cl(ty);var ny=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this)).gain=null!=e.gain?e.gain:1,r}return(0,Jt.Z)(n,[{key:"apply",value:function(e,t){var n=this;return Sl((function(){if(2!==e.length||e[0]!==e[1])throw new Ag("Identity matrix initializer can only be used for 2D square matrices.");return hc(n.gain,sd(e[0]))}))}},{key:"getConfig",value:function(){return{gain:this.gain}}}]),n}(Xb);ny.className="Identity",Cl(ny);var ry=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r,a;if((0,Qt.Z)(this,n),r=t.call(this),e.scale<0)throw new Ag("scale must be a positive float. Got: ".concat(e.scale));return r.scale=null==e.scale?1:e.scale,r.mode=null==e.mode?"fanIn":e.mode,a=r.mode,Kg(qb,"FanMode",a),r.distribution=null==e.distribution?"normal":e.distribution,function(e){Kg(Kb,"Distribution",e)}(r.distribution),r.seed=e.seed,r}return(0,Jt.Z)(n,[{key:"apply",value:function(e,t){var n=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"channelsLast";if(mb(r),2===e.length)t=e[0],n=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if("channelsFirst"===r){var a=Eb(e,2);t=e[1]*a,n=e[0]*a}else if("channelsLast"===r){var o=Eb(e,0,e.length-2);t=e[e.length-2]*o,n=e[e.length-1]*o}}else{var i=Eb(e);t=Math.sqrt(i),n=Math.sqrt(i)}return[t,n]}(e),r=n[0],a=n[1],o=this.scale;if("fanIn"===this.mode?o/=Math.max(1,r):"fanOut"===this.mode?o/=Math.max(1,a):o/=Math.max(1,(r+a)/2),"normal"===this.distribution){var i=Math.sqrt(o);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Rg("".concat(this.getClassName()," does not support dType ").concat(t,"."));return gf(e,0,i,t,this.seed)}var u=Math.sqrt(3*o);return Ip(e,-u,u,t)}},{key:"getConfig",value:function(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}]),n}(Xb);ry.className="VarianceScaling",Cl(ry);var ay=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){return(0,Qt.Z)(this,n),t.call(this,{scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})}return(0,Jt.Z)(n,[{key:"getClassName",value:function(){return ry.className}}]),n}(ry);ay.className="GlorotUniform",Cl(ay);var oy=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){return(0,Qt.Z)(this,n),t.call(this,{scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})}return(0,Jt.Z)(n,[{key:"getClassName",value:function(){return ry.className}}]),n}(ry);oy.className="GlorotNormal",Cl(oy);var iy=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){return(0,Qt.Z)(this,n),t.call(this,{scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}return(0,Jt.Z)(n,[{key:"getClassName",value:function(){return ry.className}}]),n}(ry);iy.className="HeNormal",Cl(iy);var uy=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){return(0,Qt.Z)(this,n),t.call(this,{scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}return(0,Jt.Z)(n,[{key:"getClassName",value:function(){return ry.className}}]),n}(ry);uy.className="HeUniform",Cl(uy);var sy=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){return(0,Qt.Z)(this,n),t.call(this,{scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}return(0,Jt.Z)(n,[{key:"getClassName",value:function(){return ry.className}}]),n}(ry);sy.className="LeCunNormal",Cl(sy);var ly=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){return(0,Qt.Z)(this,n),t.call(this,{scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}return(0,Jt.Z)(n,[{key:"getClassName",value:function(){return ry.className}}]),n}(ry);ly.className="LeCunNormal",Cl(ly);var cy=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;if((0,Qt.Z)(this,n),(r=t.call(this)).DEFAULT_GAIN=1,r.gain=null==e.gain?r.DEFAULT_GAIN:e.gain,r.seed=e.seed,null!=r.seed)throw new Rg("Random seed is not implemented for Orthogonal Initializer yet.");return r}return(0,Jt.Z)(n,[{key:"apply",value:function(e,t){var n=this;return Sl((function(){if(e.length<2)throw new Rg("Shape must be at least 2D.");e[0]*e[1]>2e3&&console.warn("Orthogonal initializer is being called on a matrix with more "+"than 2000 (".concat(e[0]*e[1],") elements: ")+"Slowness may result.");var t=_b(e[0]>e[1]?[e[1],e[0]]:e,0,1,"float32"),r=im.gramSchmidt(t);return e[0]>e[1]&&(r=If(r)),hc(n.gain,r)}))}},{key:"getConfig",value:function(){return{gain:this.gain,seed:this.seed}}}]),n}(Xb);cy.className="Orthogonal",Cl(cy);var dy={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function py(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Hg(e,wl.getMap().classNameMap,t,"initializer")}function fy(e){return Vg(e)}function hy(e){if("string"===typeof e){var t=e in dy?dy[e]:e;if("GlorotNormal"===t)return new oy;if("GlorotUniform"===t)return new ay;if("HeNormal"===t)return new iy;if("HeUniform"===t)return new uy;if("LeCunNormal"===t)return new sy;if("LeCunUniform"===t)return new ly;var n={};return n.className=t,n.config={},py(n)}return e instanceof Xb?e:py(e)}var my=0;function vy(){return my++}var gy={};function by(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e in gy||(gy[e]=0),gy[e]+=1,e+gy[e].toString()}function yy(e){return Array.isArray(e)&&Array.isArray(e[0])}function xy(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function ky(e){var t;if(Array.isArray(e)){if(1!==e.length)throw new Ag("Expected Tensor length to be 1; got ".concat(e.length));t=e[0]}else t=e;return t}function wy(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return(e=e)[0];throw new Ag("Expected exactly 1 Shape; got ".concat(e.length))}return e}function Cy(e){var t,n=0,r=Yt(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;0===a.shape.length?n+=1:n+=a.shape.reduce((function(e,t){return e*t}))}}catch(xV){r.e(xV)}finally{r.f()}return n}var Dy="Variable",Ey=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dy,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;(0,Qt.Z)(this,e),this.dtype=null==n?"float32":n,this.shape=t.shape,this.id=vy(),r=null==r?Dy:r,this.originalName=xb(r),this.name=kb(this.originalName),this.trainable_=a,this.constraint=o,this.val=kf(t,this.trainable_,this.name,this.dtype)}return(0,Jt.Z)(e,[{key:"read",value:function(){return this.assertNotDisposed(),this.val}},{key:"write",value:function(e){return this.assertNotDisposed(),function(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}},{key:"dispose",value:function(){this.assertNotDisposed(),this.val.dispose()}},{key:"assertNotDisposed",value:function(){if(this.val.isDisposed)throw new Error("LayersVariable ".concat(this.name," is already disposed."))}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this.trainable_=e,this.val.trainable=e}}]),e}();function Sy(e){return e.map((function(e){return e.read()}))}function Iy(e){e.forEach((function(e){e[0].write(e[1])}))}var Fy=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.dtype=t.dtype,this.shape=t.shape,null!=t.shape?this.ndim=t.shape.length:this.ndim=t.ndim,this.maxNDim=t.maxNDim,this.minNDim=t.minNDim,this.axes=t.axes||{}})),Ty=(0,Jt.Z)((function e(t,n,r,a,o,i,u){(0,Qt.Z)(this,e),this.dtype=t,this.shape=n,this.sourceLayer=r,this.inputs=a,this.callArgs=o,this.outputTensorIndex=u,this.id=vy(),null!=i&&(this.originalName=xb(i),this.name=kb(this.originalName)),this.rank=n.length})),Ny=0,Ay=function(){function e(t,n){(0,Qt.Z)(this,e),this.callArgs=n,this.id=Ny++,this.outboundLayer=t.outboundLayer,this.inboundLayers=t.inboundLayers,this.nodeIndices=t.nodeIndices,this.tensorIndices=t.tensorIndices,this.inputTensors=t.inputTensors,this.outputTensors=t.outputTensors,this.inputMasks=t.inputMasks,this.outputMasks=t.outputMasks,this.inputShapes=t.inputShapes,this.outputShapes=t.outputShapes;var r,a=Yt(t.inboundLayers);try{for(a.s();!(r=a.n()).done;){var o=r.value;null!=o&&o.outboundNodes.push(this)}}catch(xV){a.e(xV)}finally{a.f()}t.outboundLayer.inboundNodes.push(this)}return(0,Jt.Z)(e,[{key:"getConfig",value:function(){var e,t=[],n=Yt(this.inboundLayers);try{for(n.s();!(e=n.n()).done;){var r=e.value;null!=r?t.push(r.name):t.push(null)}}catch(xV){n.e(xV)}finally{n.f()}return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:t,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}]),e}(),Ry=0,Oy=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,Qt.Z)(this,n),(e=t.call(this))._callHook=null,e._addedWeightNames=[],e._stateful=!1,e.id=Ry++,e.activityRegularizer=null,e.inputSpec=null,e.supportsMasking=!1,e._trainableWeights=[],e._nonTrainableWeights=[],e._losses=[],e._updates=[],e._built=!1,e.inboundNodes=[],e.outboundNodes=[];var a=r.name;if(!a){var o=e.getClassName();a=Bg(o)+"_"+by(o)}if(e.name=a,e.trainable_=null==r.trainable||r.trainable,null!=r.inputShape||null!=r.batchInputShape){var i;if(null!=r.batchInputShape)i=r.batchInputShape;else if(null!=r.inputShape){var u=null;null!=r.batchSize&&(u=r.batchSize),i=[u].concat(r.inputShape)}e.batchInputShape=i;var s=r.dtype;null==s&&(s=r.inputDType),null==s&&(s="float32"),e.dtype=s}return null!=r.weights?e.initialWeights=r.weights:e.initialWeights=null,e._refCount=null,e.fastWeightInitDuringBuild=!1,e}return(0,Jt.Z)(n,[{key:"getNodeAtIndex",value:function(e,t){if(0===this.inboundNodes.length)throw new Ng("The layer has never been called "+"and thus has no defined ".concat(t,"."));if(this.inboundNodes.length<=e)throw new Ag("Asked to get ".concat(t," at node ").concat(e,", ")+"but the layer has only ".concat(this.inboundNodes.length," inbound nodes."));return this.inboundNodes[e]}},{key:"getInputAt",value:function(e){return Lg(this.getNodeAtIndex(e,"input").inputTensors)}},{key:"getOutputAt",value:function(e){return Lg(this.getNodeAtIndex(e,"output").outputTensors)}},{key:"input",get:function(){if(this.inboundNodes.length>1)throw new Tg("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(0===this.inboundNodes.length)throw new Tg("Layer ".concat(this.name)+" is not connected, no input to return.");return Lg(this.getNodeAtIndex(0,"input").inputTensors)}},{key:"output",get:function(){if(0===this.inboundNodes.length)throw new Tg("Layer ".concat(this.name)+" has no inbound nodes.");if(this.inboundNodes.length>1)throw new Tg("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return Lg(this.getNodeAtIndex(0,"output").outputTensors)}},{key:"losses",get:function(){return this._losses}},{key:"calculateLosses",value:function(){return this.losses.map((function(e){return e()}))}},{key:"updates",get:function(){return this._updates}},{key:"built",get:function(){return this._built},set:function(e){this._built=e}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this._trainableWeights.forEach((function(t){return t.trainable=e})),this.trainable_=e}},{key:"trainableWeights",get:function(){return this.trainable_?this._trainableWeights.filter((function(e){return e.trainable})):[]},set:function(e){this._trainableWeights=e}},{key:"nonTrainableWeights",get:function(){return this.trainable?this._trainableWeights.filter((function(e){return!e.trainable})).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)},set:function(e){this._nonTrainableWeights=e}},{key:"weights",get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)}},{key:"stateful",get:function(){return this._stateful}},{key:"resetStates",value:function(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}},{key:"assertInputCompatibility",value:function(e){if(e=_g(e),null!=this.inputSpec&&0!==this.inputSpec.length){var t=_g(this.inputSpec);if(e.length!==t.length)throw new Ag("Layer ".concat(this.name," expects ").concat(t.length," inputs, ")+"but it received ".concat(e.length," input tensors. ")+"Input received: ".concat(e));for(var n=0;n<e.length;n++){var r=e[n],a=t[n];if(null!=a){var o=r.rank;if(null!=a.ndim&&o!==a.ndim)throw new Ag("Input ".concat(n," is incompatible with layer ").concat(this.name,": ")+"expected ndim=".concat(a.ndim,", found ndim=").concat(o));if(null!=a.maxNDim&&o>a.maxNDim)throw new Ag("Input ".concat(n," is incompatible with layer ").concat(this.name)+": expected max_ndim=".concat(a.maxNDim,", found ndim=").concat(o));if(null!=a.minNDim&&o<a.minNDim)throw new Ag("Input ".concat(n," is incompatible with layer ").concat(this.name)+": expected min_ndim=".concat(a.minNDim,", found ndim=").concat(o,"."));if(null!=a.dtype&&r.dtype!==a.dtype)throw new Ag("Input ".concat(n," is incompatible with layer ").concat(this.name," ")+": expected dtype=".concat(a.dtype,", found dtype=").concat(r.dtype,"."));if(a.axes){var i=r.shape;for(var u in a.axes){var s=Number(u),l=a.axes[u],c=s>=0?i[s]:i[i.length+s];if(null!=l&&-1===[l,null].indexOf(c))throw new Ag("Input ".concat(n," is incompatible with layer ")+"".concat(this.name,": expected axis ").concat(s," of input shape to ")+"have value ".concat(l," but got shape ").concat(i,"."))}}if(null!=a.shape)for(var d=0;d<a.shape.length;++d){var p=a.shape[d],f=r.shape[d];if(null!=p&&null!=f&&p!==f)throw new Ag("Input ".concat(n," is incompatible with layer ")+"".concat(this.name,": expected shape=").concat(a.shape,", ")+"found shape=".concat(r.shape,"."))}}}}}},{key:"call",value:function(e,t){return e}},{key:"invokeCallHook",value:function(e,t){null!=this._callHook&&this._callHook(e,t)}},{key:"setCallHook",value:function(e){this._callHook=e}},{key:"clearCallHook",value:function(){this._callHook=null}},{key:"apply",value:function(e,t){var n=this;t=t||{},this.assertNotDisposed();var r,a=_g(e),o=!0,i=Yt(a);try{for(i.s();!(r=i.n()).done;){if(!(r.value instanceof Ty)){o=!1;break}}}catch(xV){i.e(xV)}finally{i.f()}var u,s=!0,l=Yt(a);try{for(l.s();!(u=l.n()).done;){if(u.value instanceof Ty){s=!1;break}}}catch(xV){l.e(xV)}finally{l.f()}if(o===s)throw new Ag("Arguments to apply() must be all SymbolicTensors or all Tensors");return yb(this.name,(function(){if(!n.built){n.assertInputCompatibility(e);var r,o=[],i=Yt(_g(e));try{for(i.s();!(r=i.n()).done;){var u=r.value;o.push(u.shape)}}catch(xV){i.e(xV)}finally{i.f()}n.build(Lg(o)),n.built=!0,n.initialWeights&&n.setWeights(n.initialWeights),null===n._refCount&&s&&(n._refCount=1)}if(n.assertInputCompatibility(e),s){var l,c=n.call(e,t),d=[],p=Yt(_g(c));try{for(p.s();!(l=p.n()).done;){var f=l.value;-1!==a.indexOf(f)&&(f=f.clone()),d.push(f)}}catch(xV){p.e(xV)}finally{p.f()}if(c=Lg(d),null!=n.activityRegularizer)throw new Rg("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return c}var h,m=function(e){e=_g(e);var t,n=[],r=Yt(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push(a.shape)}}catch(xV){r.e(xV)}finally{r.f()}return Lg(n)}(e),v=n.computeOutputShape(m),g="float32";if(n.warnOnIncompatibleInputShape(Array.isArray(e)?m[0]:m),h=null!=v&&v.length>0&&Array.isArray(v[0])?v.map((function(r,a){return new Ty(g,r,n,_g(e),t,n.name,a)})):new Ty(g,v,n,_g(e),t,n.name),n.addInboundNode(e,h,null,null,m,v,t),n._refCount++,null!=n.activityRegularizer)throw new Rg("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return h}))}},{key:"warnOnIncompatibleInputShape",value:function(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length)console.warn("The rank of the input tensor provided (shape: "+"".concat(JSON.stringify(e),") does not match that of the ")+"batchInputShape (".concat(JSON.stringify(this.batchInputShape),") ")+"of the layer ".concat(this.name));else{var t=!1;this.batchInputShape.forEach((function(n,r){null!=n&&null!=e[r]&&e[r]!==n&&(t=!0)})),t&&console.warn("The shape of the input tensor "+"(".concat(JSON.stringify(e),") does not ")+"match the expectation of layer ".concat(this.name,": ")+"".concat(JSON.stringify(this.batchInputShape)))}}},{key:"outputShape",get:function(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new Tg("The layer ".concat(this.name," has never been called and thus has no ")+"defined output shape.");var e,t=[],n=Yt(this.inboundNodes);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=JSON.stringify(r.outputShapes);-1===t.indexOf(a)&&t.push(a)}}catch(xV){n.e(xV)}finally{n.f()}if(1===t.length){var o=this.inboundNodes[0].outputShapes;return Array.isArray(o)&&Array.isArray(o[0])&&1===o.length?o[0]:o}throw new Tg("The layer ".concat(this.name," has multiple inbound nodes with different ")+'output shapes. Hence the notion of "output shape" is ill-defined for the layer.')}},{key:"countParams",value:function(){if(!this.built)throw new Ng("You tried to call countParams() on ".concat(this.name,", ")+"but the layer is not built yet. Build it first by calling build(batchInputShape).");return Cy(this.weights)}},{key:"build",value:function(e){this.built=!0}},{key:"getWeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Sy(e?this.trainableWeights:this.weights)}},{key:"setWeights",value:function(e){var t=this;Sl((function(){var n=t.weights;if(n.length!==e.length)throw new Ag('You called setWeights(weights) on layer "'.concat(t.name,'" ')+"with a weight list of length ".concat(e.length,", ")+"but the layer was expecting ".concat(n.length," weights. ")+"Provided weights: ".concat(e,"..."));if(0!==n.length){for(var r=[],a=Sy(n),o=0;o<a.length;++o){var i=a[o],u=n[o],s=e[o];if(!hn(i.shape,s.shape))throw new Ag("Layer weight shape ".concat(i.shape," ")+"not compatible with provided weight shape ".concat(s.shape));r.push([u,s])}Iy(r)}}))}},{key:"addWeight",value:function(e,t,n,r,a,o,i,u){if(-1!==this._addedWeightNames.indexOf(e))throw new Ag("Duplicate weight name ".concat(e," for layer ").concat(this.name));this._addedWeightNames.push(e),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(r=null!=u?u():hy("zeros"));var s=r.apply(t,n),l=new Ey(s,n,e,o,i);return s.dispose(),null!=a&&this.addLoss((function(){return a.apply(l.read())})),null==o&&(o=!0),o?this._trainableWeights.push(l):this._nonTrainableWeights.push(l),l}},{key:"setFastWeightInitDuringBuild",value:function(e){this.fastWeightInitDuringBuild=e}},{key:"addLoss",value:function(e){var t;null==e||Array.isArray(e)&&0===e.length||(e=_g(e),void 0!==this._losses&&null!==this._losses&&(t=this.losses).push.apply(t,(0,$t.Z)(e)))}},{key:"computeOutputShape",value:function(e){return e}},{key:"computeMask",value:function(e,t){var n=this;if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError("Layer ".concat(this.name," does not support masking, ")+"but was passed an inputMask.");t.forEach((function(e){if(null!=e)throw new TypeError("Layer ".concat(n.name," does not support masking, ")+"but was passed an inputMask.")}))}return null}return t}},{key:"addInboundNode",value:function(e,t,n,r,a,o){var i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=_g(e);t=_g(t),n=_g(n),r=_g(r),a=xy(a),o=xy(o);var s,l=[],c=[],d=[],p=Yt(u);try{for(p.s();!(s=p.n()).done;){var f=s.value;l.push(f.sourceLayer),c.push(f.nodeIndex),d.push(f.tensorIndex)}}catch(xV){p.e(xV)}finally{p.f()}new Ay({outboundLayer:this,inboundLayers:l,nodeIndices:c,tensorIndices:d,inputTensors:u,outputTensors:t,inputMasks:n,outputMasks:r,inputShapes:a,outputShapes:o},i);for(var h=0;h<t.length;h++)t[h].sourceLayer=this,t[h].nodeIndex=this.inboundNodes.length-1,t[h].tensorIndex=h}},{key:"getConfig",value:function(){var e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e}},{key:"disposeWeights",value:function(){return this.weights.forEach((function(e){return e.dispose()})),this.weights.length}},{key:"assertNotDisposed",value:function(){if(0===this._refCount)throw new Error("Layer '".concat(this.name,"' is already disposed."))}},{key:"dispose",value:function(){if(!this.built)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been ")+"built yet.");if(null===this._refCount)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been used ")+"yet.");this.assertNotDisposed();var e=0;return 0===--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}],[{key:"nodeKey",value:function(e,t){return e.name+"_ib-"+t.toString()}}]),n}(kl);function Zy(e,t,n){if((null==t||null!=n&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),0===t.inboundNodes.length)return[e];var r=t.inboundNodes[n];if(0===r.inboundLayers.length)return r.inputTensors;for(var a=[],o=0;o<r.inboundLayers.length;o++){var i,u=Yt(Zy(r.inputTensors[o],r.inboundLayers[o],r.nodeIndices[o]));try{for(u.s();!(i=u.n()).done;){var s=i.value;-1===a.indexOf(s)&&a.push(s)}}catch(xV){u.e(xV)}finally{u.f()}}return a}var My,Py=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;if((0,Qt.Z)(this,n),r=t.call(this,{dtype:e.dtype,name:null!=e.name?e.name:by("input").toString()}),null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),r.trainable=!1,r.built=!0,r.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new Ag("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");var a=e.batchInputShape;if(null==a){if(null==e.inputShape)throw new Ag("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");a=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new Ag("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");var o=e.dtype||"float32";r.batchInputShape=a,r.dtype=o,r.inputSpec=[{shape:a}];var i=new Ty(r.dtype,r.batchInputShape,(0,Cg.Z)(r),[],{},r.name);return i.nodeIndex=0,i.tensorIndex=0,new Ay({outboundLayer:(0,Cg.Z)(r),inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[i],outputTensors:[i],inputMasks:[null],outputMasks:[null],inputShapes:[a],outputShapes:[a]}),r}return(0,Jt.Z)(n,[{key:"apply",value:function(e,t){throw new Ag("Cannot pass any input to an "+"InputLayer's apply() method. InputLayer name: ".concat(this.name))}},{key:"dispose",value:function(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}},{key:"getConfig",value:function(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}]),n}(Oy);function Ly(e){return _y.apply(this,arguments)}function _y(){return _y=Ut(qt().mark((function e(t){var n,r,a,o,i,u,s,l;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return");case 2:for(o in n=[],r=[],a=[],t)"number"!==typeof(i=t[o])&&(u=i,n.push(u.data()),r.push(o),a.push(u));if(!(n.length>0)){e.next=12;break}return e.next=9,Promise.all(n);case 9:for(s=e.sent,l=0;l<s.length;++l)t[r[l]]=s[l][0];Il(a);case 12:case"end":return e.stop()}}),e)}))),_y.apply(this,arguments)}function By(e){if(null!=e)for(var t in e){var n=e[t];"number"!==typeof n&&n.dispose()}}Py.className="InputLayer",Cl(Py),function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE"}(My||(My={}));var zy=function(){function e(){(0,Qt.Z)(this,e),this.validationData=null}return(0,Jt.Z)(e,[{key:"setParams",value:function(e){this.params=e}},{key:"onEpochBegin",value:function(){var e=Ut(qt().mark((function e(t,n){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=Ut(qt().mark((function e(t,n){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=Ut(qt().mark((function e(t,n){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=Ut(qt().mark((function e(t,n){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=Ut(qt().mark((function e(t){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=Ut(qt().mark((function e(t){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"setModel",value:function(e){}}]),e}(),jy=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;(0,Qt.Z)(this,e),null==t&&(t=[]),this.callbacks=t,this.queueLength=n}return(0,Jt.Z)(e,[{key:"append",value:function(e){this.callbacks.push(e)}},{key:"setParams",value:function(e){var t,n=Yt(this.callbacks);try{for(n.s();!(t=n.n()).done;){t.value.setParams(e)}}catch(xV){n.e(xV)}finally{n.f()}}},{key:"setModel",value:function(e){var t,n=Yt(this.callbacks);try{for(n.s();!(t=n.n()).done;){t.value.setModel(e)}}catch(xV){n.e(xV)}finally{n.f()}}},{key:"onEpochBegin",value:function(){var e=Ut(qt().mark((function e(t,n){var r,a,o;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=Yt(this.callbacks),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=10;break}return o=a.value,e.next=8,o.onEpochBegin(t,n);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=Ut(qt().mark((function e(t,n){var r,a,o;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=Yt(this.callbacks),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=10;break}return o=a.value,e.next=8,o.onEpochEnd(t,n);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=Ut(qt().mark((function e(t,n){var r,a,o;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=Yt(this.callbacks),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=10;break}return o=a.value,e.next=8,o.onBatchBegin(t,n);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=Ut(qt().mark((function e(t,n){var r,a,o;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=Yt(this.callbacks),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=10;break}return o=a.value,e.next=8,o.onBatchEnd(t,n);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=Ut(qt().mark((function e(t){var n,r,a;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==t&&(t={}),n=Yt(this.callbacks),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return a=r.value,e.next=8,a.onTrainBegin(t);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=Ut(qt().mark((function e(t){var n,r,a;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==t&&(t={}),n=Yt(this.callbacks),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return a=r.value,e.next=8,a.onTrainEnd(t);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Vy=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.call(this)}return(0,Jt.Z)(n,[{key:"onEpochBegin",value:function(){var e=Ut(qt().mark((function e(t){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.seen=0,this.totals={};case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=Ut(qt().mark((function e(t,n){var r,a,o,i=this;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o in null==n&&(n={}),r=null==n.size?0:n.size,this.seen+=r,a=function(e){var t=n[e];if("number"===typeof t)i.totals.hasOwnProperty(e)||(i.totals[e]=0),i.totals[e]=i.totals[e]+t*r;else{var a;e in i.totals?a=i.totals[e]:i.totals[e]=0;var o=Sl((function(){return Pl(i.totals[e],hc(t,r))}));i.totals[e]=o,null!=a&&a.dispose()}},n)a(o);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=Ut(qt().mark((function e(t,n){var r,a,o,i=this;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n){e.next=19;break}r=Yt(this.params.metrics),e.prev=2,o=function(){var e=a.value;if(null==i.totals[e])return"continue";"number"===typeof i.totals[e]?n[e]=i.totals[e]/i.seen:Sl((function(){var t=hc(Xc(1,i.seen),i.totals[e]);n[e]=t,i.totals[e].dispose(),Fl(n[e])}))},r.s();case 5:if((a=r.n()).done){e.next=11;break}if("continue"!==o()){e.next=9;break}return e.abrupt("continue",9);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[2,13,16,19]])})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(zy),Wy=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.apply(this,arguments)}return(0,Jt.Z)(n,[{key:"onTrainBegin",value:function(){var e=Ut(qt().mark((function e(t){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.epoch=[],this.history={};case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=Ut(qt().mark((function e(t,n){var r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in null==n&&(n={}),this.epoch.push(t),n)null==this.history[r]&&(this.history[r]=[]),this.history[r].push(n[r]);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"syncData",value:function(){var e=Ut(qt().mark((function e(){var t,n,r,a,o,i,u,s,l;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in t=[],n=[],r=[],this.history)for(o=this.history[a],i=0;i<o.length;++i)"number"!==typeof o[i]&&(u=o[i],t.push(u.data()),n.push(a),r.push(i));return e.next=6,Promise.all(t);case 6:for(s=e.sent,l=0;l<s.length;++l)this.history[n[l]][r[l]].dispose(),this.history[n[l]][r[l]]=s[l][0];case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(zy),Hy=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e,r){var a;if((0,Qt.Z)(this,n),(a=t.call(this)).currentEpoch=0,a.nowFunc=e.nowFunc,a.nextFrameFunc=e.nextFrameFunc||xm,a.yieldEvery=r||"auto","auto"===a.yieldEvery&&(a.yieldEvery=125),"never"===a.yieldEvery&&null!=e.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");return Fn(a.yieldEvery)&&(a.maybeWait=function(e,t,n){var r,a=null!=n?n():Fi();return function(){var o=null!=n?n():Fi();return o-a<t?r:(a=o,r=e.apply(void 0,arguments))}}(a.maybeWait.bind((0,Cg.Z)(a)),a.yieldEvery,a.nowFunc)),a.trainBegin=e.onTrainBegin,a.trainEnd=e.onTrainEnd,a.epochBegin=e.onEpochBegin,a.epochEnd=e.onEpochEnd,a.batchBegin=e.onBatchBegin,a.batchEnd=e.onBatchEnd,a.yield=e.onYield,a}return(0,Jt.Z)(n,[{key:"maybeWait",value:function(){var e=Ut(qt().mark((function e(t,n,r){var a;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],null==this.yield){e.next=5;break}return e.next=4,Ly(r);case 4:a.push(this.yield(t,n,r));case 5:return a.push(this.nextFrameFunc()),e.next=8,Promise.all(a);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"onEpochBegin",value:function(){var e=Ut(qt().mark((function e(t,n){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentEpoch=t,null==this.epochBegin){e.next=6;break}return e.next=4,Ly(n);case 4:return e.next=6,this.epochBegin(t,n);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=Ut(qt().mark((function e(t,n){var r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],null==this.epochEnd){e.next=5;break}return e.next=4,Ly(n);case 4:r.push(this.epochEnd(t,n));case 5:return"epoch"===this.yieldEvery&&r.push(this.nextFrameFunc()),e.next=8,Promise.all(r);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=Ut(qt().mark((function e(t,n){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.batchBegin){e.next=5;break}return e.next=3,Ly(n);case 3:return e.next=5,this.batchBegin(t,n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=Ut(qt().mark((function e(t,n){var r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],null==this.batchEnd){e.next=5;break}return e.next=4,Ly(n);case 4:r.push(this.batchEnd(t,n));case 5:return"batch"===this.yieldEvery?r.push(this.nextFrameFunc()):Fn(this.yieldEvery)&&r.push(this.maybeWait(this.currentEpoch,t,n)),e.next=8,Promise.all(r);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=Ut(qt().mark((function e(t){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.trainBegin){e.next=5;break}return e.next=3,Ly(t);case 3:return e.next=5,this.trainBegin(t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=Ut(qt().mark((function e(t){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.trainEnd){e.next=5;break}return e.next=3,Ly(t);case 3:return e.next=5,this.trainEnd(t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(zy);function Uy(e,t){return null==e&&(e={}),e instanceof zy?[e]:Array.isArray(e)&&e[0]instanceof zy?e:_g(e).map((function(e){return new Hy(e,t)}))}var Gy=function(){function e(){(0,Qt.Z)(this,e)}return(0,Jt.Z)(e,null,[{key:"registerCallbackConstructor",value:function(t,n){ln(t>=0&&Number.isInteger(t),(function(){return"Verbosity level is expected to be an integer >= 0, "+"but got ".concat(t)})),e.checkForDuplicate(n),null==e.constructors[t]&&(e.constructors[t]=[]),e.constructors[t].push(n)}},{key:"checkForDuplicate",value:function(t){for(var n in e.constructors){e.constructors[+n].forEach((function(e){if(e===t)throw new Ag("Duplicate callback constructor.")}))}}},{key:"clear",value:function(){e.constructors={}}},{key:"createCallbacks",value:function(t){var n=[];for(var r in e.constructors){var a=+r;t>=a&&n.push.apply(n,(0,$t.Z)(e.constructors[a]))}return n.map((function(e){return new e}))}}]),e}();function qy(e,t,n,r,a,o,i,u,s){var l=new Wy,c=[new Vy].concat((0,$t.Z)(Gy.createCallbacks(t)));null!=e&&c.push.apply(c,(0,$t.Z)(e)),c.push(l);var d=new jy(c);return d.setParams({epochs:n,initialEpoch:r,samples:a,steps:o,batchSize:i,verbose:t,doValidation:u,metrics:s}),{callbackList:d,history:l}}function Ky(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,Dg.Z)(e)););return e}function Xy(){return Xy="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ky(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},Xy.apply(this,arguments)}function Yy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Hg(e,wl.getMap().classNameMap,t,"layer",n)}function $y(e,t){return Sl((function(){"float32"!==e.dtype&&(e=Ps(e,"float32"));var n=Nd(jb(e),t,!0),r=ld(n.shape,wg()),a=rf(qd(n,r));return Xc(e,a)}))}function Qy(e,t){return Sl((function(){return Kd(jb(Td(t,e)),-1)}))}function Jy(e,t){return Sl((function(){return Kd(Ol(Td(t,e)),-1)}))}function ex(e,t){return Sl((function(){var n=Td(e,t),r=Fc(Ol(e),wg(),Number.MAX_VALUE),a=Ol(Xc(n,r));return hc(100,Kd(a,-1))}))}function tx(e,t){return Sl((function(){var n=Fc(t,wg(),Number.MAX_VALUE),r=Cd(Pl(1,n)),a=Fc(e,wg(),Number.MAX_VALUE),o=Cd(Pl(1,a));return Kd(jb(Td(r,o)),-1)}))}function nx(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Sl((function(){if(n)t=$p(t);else{var r=Nd(t,t.shape.length-1,!0);t=Xc(t,r)}return t=Fc(t,wg(),1-wg()),Ed(Nd(hc(Ps(e,"float32"),Cd(t)),t.shape.length-1))}))}function rx(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Sl((function(){var r=Ps(cd(Ab(e)),"int32"),a=(t=Fc(t,wg(),1-wg())).shape;return nx(lc(up(r,a[a.length-1]),a),t,n)}))}function ax(e,t){return Sl((function(){var n;return n=Fc(t,wg(),1-wg()),n=Cd(Xc(n,Td(1,n))),Kd(function(e,t){if(!hn(e.shape,t.shape))throw new Ag("logits and labels must have the same shape, but got shapes "+"".concat(JSON.stringify(e.shape)," and ").concat(JSON.stringify(t.shape)));return Sl((function(){var n=Ap(t),r=Ed(Ol(t));return Pl(Td(n,hc(t,e)),Dd(ad(r)))}))}(e,n),-1)}))}function ox(e,t){return Sl((function(){var n=Fc(e,wg(),1),r=Fc(t,wg(),1);return Nd(hc(e,Cd(Xc(n,r))),-1)}))}function ix(e,t){return Sl((function(){var n=$y(e,-1),r=$y(t,-1),a=hc(n,r);return Ed(Nd(a,-1))}))}Gy.constructors={};var ux={meanSquaredError:Qy,meanAbsoluteError:Jy,meanAbsolutePercentageError:ex,meanSquaredLogarithmicError:tx,squaredHinge:function(e,t){return Sl((function(){var n=qd(0,Td(1,hc(e,t)));return Kd(jb(n),-1)}))},hinge:function(e,t){return Sl((function(){var n=qd(0,Td(1,hc(e,t)));return Kd(n,-1)}))},categoricalHinge:function(e,t){return Sl((function(){var n=Nd(hc(e,t),-1),r=Fd(hc(Td(1,e),t),-1);return qd(0,Pl(1,Td(r,n)))}))},logcosh:function(e,t){return Sl((function(){var n=Math.log(2),r=Td(t,e),a=Td(Pl(r,Sd(hc(-2,r))),n);return Kd(a,-1)}))},categoricalCrossentropy:nx,sparseCategoricalCrossentropy:rx,binaryCrossentropy:ax,kullbackLeiblerDivergence:ox,poisson:function(e,t){return Sl((function(){var n=Cd(Pl(wg(),t));return Kd(Td(t,hc(e,n)),-1)}))},cosineProximity:ix};function sx(e){if("string"===typeof e){if(e in ux)return ux[e];var t="Unknown loss ".concat(e);throw e.toLowerCase().includes("softmaxcrossentropy")&&(t="Unknown loss ".concat(e,". ")+'Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy'),new Ag(t)}return e}function lx(e,t){return Sl((function(){var n=hc(.5,sp(t)),r=Tb(pd(t,n),e.dtype);return Kd(Yc(e,r),-1)}))}function cx(e,t){return Sl((function(){return Tb(Yc(zl(e,-1),zl(t,-1)),"float32")}))}function dx(e,t){return Sl((function(){return Ps(Nd(zd(Yc(e,1),Yc(t,1))),"float32")}))}function px(e,t){return ax(e,t)}function fx(e,t){return e.rank===t.rank&&(e=of(e,[e.rank-1])),(t=zl(t,-1)).dtype!==e.dtype&&(t=Ps(t,e.dtype)),Ps(Yc(e,t),"float32")}var hx=nx,mx=rx,vx={binaryAccuracy:lx,categoricalAccuracy:cx,precision:function(e,t){return Sl((function(){var n=dx(e,t),r=function(e,t){return Sl((function(){return Ps(Nd(zd(Yc(e,0),Yc(t,1))),"float32")}))}(e,t),a=Pl(n,r);return Ps($c(pd(a,0),Xc(n,a),0),"float32")}))},categoricalCrossentropy:hx,sparseCategoricalCrossentropy:mx,mse:Qy,MSE:Qy,mae:Jy,MAE:Jy,mape:ex,MAPE:ex,cosine:ix};function gx(e){if("string"===typeof e&&e in vx)return vx[e];if("string"!==typeof e&&null!=e)return e;throw new Ag("Unknown metric ".concat(e))}function bx(e){if(Mg(null!==e,"Unknown LossOrMetricFn ".concat(e)),"string"===typeof e)return e;for(var t,n=0,r=Object.keys(ux);n<r.length;n++){var a=r[n];if(ux[a]===e){t=a;break}}if(void 0!==t)return t;for(var o=0,i=Object.keys(vx);o<i.length;o++){var u=i[o];if(vx[u]===e){t=u;break}}return void 0!==t?t:e.name}var yx=1048576;function xx(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||"object"!==typeof e||Object.getPrototypeOf(e)!==Object.prototype||!kx(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){var r=JSON.stringify(e);r.length>yx&&console.warn('User-defined metadata of model "'.concat(t,'" is too large in ')+"size (length=".concat(r.length," when serialized). It is not ")+"recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= "+"".concat(yx,"."))}}function kx(e){if(null===e)return!0;if("object"===typeof e){if(Object.getPrototypeOf(e)===Object.prototype){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if("string"!==typeof r)return!1;if(!kx(e[r]))return!1}return!0}if(Array.isArray(e)){var a,o=Yt(e);try{for(o.s();!(a=o.n()).done;){if(!kx(a.value))return!1}}catch(xV){o.e(xV)}finally{o.f()}return!0}return!1}var i=typeof e;return"string"===i||"number"===i||"boolean"===i}function wx(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:console.log,o=Dx(e),i=["Layer (type)","Output shape","Param #"];if(o?(t=t||65,n=n||[.45,.85,1]):(t=t||98,n=n||[.33,.55,.67,1]),n[n.length-1]<=1&&(n=n.map((function(e){return Math.floor(t*e)}))),!o)for(var u in i.push("Receives inputs"),r=[],e.nodesByDepth){var s;(s=r).push.apply(s,(0,$t.Z)(e.nodesByDepth[u]))}a("_".repeat(t)),Ex(i,n,a),a("=".repeat(t));for(var l=e.layers,c=0;c<l.length;++c)o?Sx(l[c],n,a):Ix(l[c],n,r,a),a((c===l.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();var d=Cx(e),p=Cy(e.nonTrainableWeights);a("Total params: ".concat(d+p)),a("Trainable params: ".concat(d)),a("Non-trainable params: ".concat(p)),a("_".repeat(t))}function Cx(e){return null!=e.collectedTrainableWeights?Cy(e.collectedTrainableWeights):Cy(e.trainableWeights)}function Dx(e){var t=!0,n=[],r=[];for(var a in e.nodesByDepth)n.push(e.nodesByDepth[a]);for(var o=0,i=n;o<i.length;o++){var u=i[o];if(u.length>1||1===u.length&&u[0].inboundLayers.length>1){t=!1;break}r.push.apply(r,(0,$t.Z)(u))}if(t){var s,l=Yt(e.layers);try{for(l.s();!(s=l.n()).done;){var c,d=s.value,p=!1,f=Yt(d.inboundNodes);try{for(f.s();!(c=f.n()).done;){var h=c.value;if(-1!==r.indexOf(h)){if(p){t=!1;break}p=!0}}}catch(xV){f.e(xV)}finally{f.f()}if(!t)break}}catch(xV){l.e(xV)}finally{l.f()}}return t}function Ex(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log,r="",a=0;a<e.length;++a)a>0&&(r=r.slice(0,r.length-1)+" "),r=(r+=e[a]).slice(0,t[a]),r+=" ".repeat(t[a]-r.length);n(r)}function Sx(e,t,n){var r;try{r=JSON.stringify(e.outputShape)}catch(xV){r="multiple"}var a=e.name,o=e.getClassName();Ex(["".concat(a," (").concat(o,")"),r,e.countParams().toString()],t,n)}function Ix(e,t,n,r){var a;try{a=JSON.stringify(e.outputShape)}catch(xV){a="multiple"}var o,i=[],u=Yt(e.inboundNodes);try{for(u.s();!(o=u.n()).done;){var s=o.value;if(!(null!=n&&n.length>0&&-1===n.indexOf(s)))for(var l=0;l<s.inboundLayers.length;++l){var c=s.inboundLayers[l].name,d=s.nodeIndices[l],p=s.tensorIndices[l];i.push("".concat(c,"[").concat(d,"][").concat(p,"]"))}}}catch(xV){u.e(xV)}finally{u.f()}var f=e.name,h=e.getClassName(),m=0===i.length?"":i[0];Ex(["".concat(f," (").concat(h,")"),a,e.countParams().toString(),m],t,r);for(var v=1;v<i.length;++v)Ex(["","","",i[v]],t,r)}function Fx(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"===typeof n}function Tx(e,t){if(null===e)return null;if("string"===typeof e)return zg(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,a=0;a<r;++a){var o=e[a];Fx(t,a,o)?n.push(o):n.push(Tx(o,t))}return n}for(var i={},u=0,s=Object.keys(e);u<s.length;u++){var l=s[u],c=e[l];if("name"===l&&"string"===typeof c)i[l]=c;else{var d=zg(l);i[d]=Tx(c,d)}}return i}function Nx(e,t){if(null===e||void 0===e)return null;if("string"===typeof e)return Bg(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,a=0;a<r;++a){var o=e[a];Fx(t,a,o)?n.push(o):n.push(Nx(o,t))}return n}for(var i={},u=0,s=Object.keys(e);u<s.length;u++){var l=s[u],c=e[l],d=Bg(l);i[d]="name"!==l&&"className"!==l||"string"!==typeof c?Nx(c,l):c}return i}var Ax="3.13.0";var Rx=function(){function e(t){if((0,Qt.Z)(this,e),this.id2Value={},this.id2Mask={},this.name2Id={},t instanceof e)for(var n in t.id2Value)this.id2Value[n]=t.id2Value[n],n in t.id2Mask&&(this.id2Mask[n]=t.id2Mask[n]);else{if(null==t)return;var r,a=Yt(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;this.add(o.key,o.value)}}catch(xV){a.e(xV)}finally{a.f()}}}return(0,Jt.Z)(e,[{key:"add",value:function(e,t,n){if(null!=this.id2Value[e.id])throw new Ag("Duplicate key: name=".concat(e.name,", id=").concat(e.id));return this.id2Value[e.id]=function(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return Ps(t,e.dtype)}catch(xV){throw new Ag("The dtype of the feed (".concat(t.dtype,") can not be cast to the dtype ")+"of the key '".concat(e.name,"' (").concat(e.dtype,")."))}}(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this}},{key:"addFeed",value:function(e){this.add(e.key,e.value)}},{key:"hasKey",value:function(e){return null!=this.id2Value[e.id]}},{key:"names",value:function(){return Object.keys(this.name2Id)}},{key:"getValue",value:function(e){if(e instanceof Ty){if(null==this.id2Value[e.id])throw new Ag("Nonexistent key: ".concat(e.name));return this.id2Value[e.id]}var t=this.name2Id[e];if(null==t)throw new Ag("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Value[t]}},{key:"getMask",value:function(e){if(e instanceof Ty){if(null==this.id2Value[e.id])throw new Ag("Nonexistent key: ".concat(e.name));return this.id2Mask[e.id]}var t=this.name2Id[e];if(null==t)throw new Ag("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Mask[t]}},{key:"disposeMasks",value:function(){null!=this.id2Mask&&Il(this.id2Mask)}}]),e}(),Ox={},Zx={};function Mx(e,t,n,r){var a,o=null!=n&&n.training,i=Array.isArray(e),u=i?e:[e],s=u.map((function(e){return e.name})),l=[],c=t.names(),d=Yt(s);try{for(d.s();!(a=d.n()).done;){var p=a.value;-1!==c.indexOf(p)?l.push(t.getValue(p)):l.push(null)}}catch(xV){d.e(xV)}finally{d.f()}null!=r&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);var f,h,m=s.join(",")+"|"+t.names().join(",");if(null==Ox[m]){var v=function(e,t){ln(null!=e&&e.length>0,(function(){return"Expected at least one fetch, got none"}));var n=[],r={};if(1===e.length){var a=Lx(e[0],t);n=a.sorted,r=a.recipientMap}else{var o,i=new Set,u=Yt(e);try{for(u.s();!(o=u.n()).done;){var s,l=Lx(o.value,t),c=l.sorted,d=l.recipientMap,p=Yt(c);try{for(p.s();!(s=p.n()).done;){var f=s.value;i.has(f.name)||(n.push(f),i.add(f.name))}}catch(xV){p.e(xV)}finally{p.f()}var h=function(e){null==r[e]&&(r[e]=new Set),d[e].forEach((function(t){return r[e].add(t)}))};for(var m in d)h(m)}}catch(xV){u.e(xV)}finally{u.f()}}return{sorted:n,recipientCounts:Px(r)}}(u,t);f=v.sorted,h=v.recipientCounts,Ox[m]=f,Zx[m]=h}f=Ox[m],h={},o||Object.assign(h,Zx[m]);for(var g=new Rx(t),b=0;b<f.length;++b){if(null!=r){var y=El().numTensors;y>r.maxNumTensors&&(r.maxNumTensors=y),y<r.minNumTensors&&(r.minNumTensors=y)}var x=f[b],k=x.sourceLayer;if(!(k instanceof Py)){var w,C=[],D=[],E=[],S=!1,I=Yt(x.inputs);try{for(I.s();!(w=I.n()).done;){var F=w.value,T=g.getValue(F),N=g.getMask(F);C.push(T),D.push(N),null!=N&&(S=!0),o||(h[F.name]--,0!==h[F.name]||t.hasKey(F)||-1!==s.indexOf(F.name)||T.isDisposed||!0===F.sourceLayer.stateful||E.push(T))}}catch(xV){I.e(xV)}finally{I.f()}S&&((n=n||{}).mask=D[0]);var A=_g(k.apply(C,n)),R=null;k.supportsMasking&&(R=k.computeMask(C,D));for(var O=_x(x),Z=Array.isArray(O)?O:[O],M=0;M<Z.length;++M){g.hasKey(Z[M])||g.add(Z[M],A[M],Array.isArray(R)?R[0]:R);var P=s.indexOf(Z[M].name);-1!==P&&(l[P]=A[M])}o||Il(E)}}return g.disposeMasks(),i?l:l[0]}function Px(e){var t={};for(var n in e)t[n]=e[n].size;return t}function Lx(e,t){var n,r=new Set,a=[],o={},i=Yt(t.names());try{for(i.s();!(n=i.n()).done;){var u=n.value;r.add(u)}}catch(xV){i.e(xV)}finally{i.f()}var s=[],l=[];for(s.push(e);s.length>0;){var c=s[s.length-1];if(r.has(c.name))s.pop();else{var d=l[l.length-1]===s.length-1;if(0===c.inputs.length||d)s.pop(),a.push(c),r.add(c.name),d&&l.pop();else{l.push(s.length-1);var p,f=Yt(c.inputs);try{for(f.s();!(p=f.n()).done;){var h=p.value;null==o[h.name]&&(o[h.name]=new Set),o[h.name].add(c.name),r.has(h.name)||s.push(h)}}catch(xV){f.e(xV)}finally{f.f()}}}}return{sorted:a,recipientMap:o}}function _x(e){var t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{for(var n=null,r=0;r<e.sourceLayer.inboundNodes.length;++r){var a,o=Yt(e.sourceLayer.inboundNodes[r].outputTensors);try{for(o.s();!(a=o.n()).done;){if(a.value.id===e.id){n=r;break}}}catch(xV){o.e(xV)}finally{o.f()}}t=e.sourceLayer.getOutputAt(n)}return t}var Bx=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;if((0,Qt.Z)(this,n),(r=t.call(this,{})).containerNodes=new Set,r.name=e.name,null==r.name){var a=r.getClassName().toLowerCase();r.name=by(a)}if(r.supportsMasking=!1,r.trainable_=!0,Array.isArray(e.inputs)?r.inputs=e.inputs.slice():r.inputs=[e.inputs],Array.isArray(e.outputs)?r.outputs=e.outputs.slice():r.outputs=[e.outputs],Gg(r.inputs).length!==r.inputs.length)throw new Ag("The list of inputs passed to the model is redundant. All inputs should only appear once. Found: "+"".concat(r.inputs.map((function(e){return e.name}))));Gg(r.outputs).length!==r.outputs.length&&console.warn("The list of outputs passed to the model is redundant. All outputs should only appear once. Found: "+"".concat(r.outputs.map((function(e){return e.name})))),r.inputLayers=[],r.inputLayersNodeIndices=[],r.inputLayersTensorIndices=[],r.outputLayers=[],r.outputLayersNodeIndices=[],r.outputLayersTensorIndices=[],r.layers=[],r.internalContainerRefs=[];var o,i=Yt(r.outputs);try{for(i.s();!(o=i.n()).done;){var u=o.value,s=u.sourceLayer,l=u.nodeIndex,c=u.tensorIndex;r.outputLayers.push(s),r.outputLayersNodeIndices.push(l),r.outputLayersTensorIndices.push(c)}}catch(xV){i.e(xV)}finally{i.f()}var d,p=Yt(r.inputs);try{for(p.s();!(d=p.n()).done;){var f=d.value,h=f.sourceLayer,m=f.nodeIndex,v=f.tensorIndex;Mg(0===m,"input layer has >1 nodes"),Mg(0===v,"input layer has >1 tensors"),r.inputLayers.push(h),r.inputLayersNodeIndices.push(m),r.inputLayersTensorIndices.push(v)}}catch(xV){p.e(xV)}finally{p.f()}r.inputNames=[],r.outputNames=[],r.feedInputShapes=[],r.feedInputNames=[],r.feedOutputNames=[];for(var g=0;g<r.inputLayers.length;g++){var b=r.inputLayers[g];if(!(b instanceof Py))throw new TypeError("Input layers to a LayersModel must be InputLayer objects. "+"Received inputs: ".concat(e.inputs,". ")+"Input ".concat(g," (0-based) originates ")+"from layer type ".concat(b.getClassName(),"."));r.inputNames.push(b.name),r.feedInputShapes.push(b.batchInputShape),r.feedInputNames.push(b.name)}var y,x=Yt(r.outputLayers);try{for(x.s();!(y=x.n()).done;){var k=y.value;r.outputNames.push(k.name)}}catch(xV){x.e(xV)}finally{x.f()}r.internalInputShapes=r.inputs.map((function(e){return e.shape})),r.internalOutputShapes=r.outputs.map((function(e){return e.shape}));var w,C={},D={},E={},S={},I={},F=[],T=function e(t,a,o,i,u,s){null!=i&&null!=u&&null!=s||(i=t.sourceLayer,u=t.nodeIndex,s=t.tensorIndex);var l=i.inboundNodes[u];if(-1!==o.indexOf(l))throw new Ng("The tensor ".concat(t.name,' at layer "').concat(i.name,'" ')+"is part of a cycle.");if(-1===a.indexOf(l)){r.containerNodes.add(n.nodeKey(i,u)),i.id in I||(I[i.id]=Object.keys(I).length),-1===o.indexOf(l)&&o.push(l);for(var c=l.inboundLayers.length,d=0;d<c;d++){e(l.inputTensors[d],a,o,l.inboundLayers[d],l.nodeIndices[d],l.tensorIndices[d])}for(a.push(l);o.indexOf(l)>=0;)o.splice(o.indexOf(l),1);F.push(l)}},N=[],A=[],R=Yt(r.outputs);try{for(R.s();!(w=R.n()).done;){T(w.value,N,A)}}catch(xV){R.e(xV)}finally{R.f()}var O,Z=Yt(F.slice().reverse());try{for(Z.s();!(O=Z.n()).done;){var M=O.value;D[M.id]=M,M.id in C||(C[M.id]=0);var P=C[M.id],L=null==E[M.outboundLayer.id]?0:E[M.outboundLayer.id];P=Math.max(P,L),E[M.outboundLayer.id]=P,S[M.outboundLayer.id]=M.outboundLayer,C[M.id]=P;for(var _=0;_<M.inboundLayers.length;_++){var B=M.inboundLayers[_],z=M.nodeIndices[_],j=B.inboundNodes[z],V=null==C[j.id]?0:C[j.id];C[j.id]=Math.max(P+1,V),D[j.id]=j}}}catch(xV){Z.e(xV)}finally{Z.f()}var W={};for(var H in C){var U=C[H];U in W||(W[U]=[]),W[U].push(D[H])}var G={};for(var q in E){var K=E[q];K in G||(G[K]=[]),G[K].push(S[q])}var X=Object.keys(G).map((function(e){return parseInt(e,10)})).sort(Ug);r.layers=[];var Y,$=Yt(X);try{for($.s();!(Y=$.n()).done;){var Q=G[Y.value];Q.sort((function(e,t){var n=I[e.id],r=I[t.id];return n<r?-1:n>r?1:0}));var J,ee=Yt(Q);try{for(ee.s();!(J=ee.n()).done;){var te=J.value;te instanceof n&&r.internalContainerRefs.push(te),r.layers.push(te)}}catch(xV){ee.e(xV)}finally{ee.f()}}}catch(xV){$.e(xV)}finally{$.f()}r.layersByDepth=G,X=Object.keys(W).map((function(e){return parseInt(e,10)})).sort(Ug);var ne,re=r.inputs.slice(),ae=[],oe=Yt(X);try{for(oe.s();!(ne=oe.n()).done;){var ie,ue=Yt(W[ne.value]);try{for(ue.s();!(ie=ue.n()).done;){var se=ie.value,le=se.outboundLayer;if(null!=le){var ce,de=Yt(se.inputTensors);try{for(de.s();!(ce=de.n()).done;){var pe=ce.value;if(-1===re.indexOf(pe))throw new Ng("Graph disconnected: cannot obtain value for tensor ".concat(pe)+' at layer "'.concat(le.name,'". ')+"The following previous layers were accessed without "+"issue: ".concat(ae))}}catch(xV){de.e(xV)}finally{de.f()}var fe,he=Yt(se.outputTensors);try{for(he.s();!(fe=he.n()).done;){var me=fe.value;re.push(me)}}catch(xV){he.e(xV)}finally{he.f()}ae.push(le.name)}}}catch(xV){ue.e(xV)}finally{ue.f()}}}catch(xV){oe.e(xV)}finally{oe.f()}r.nodesByDepth=W;var ve,ge=r.layers.map((function(e){return e.name})),be=Yt(ge);try{var ye=function(){var e=ve.value,t=ge.filter((function(t){return t===e})).length;if(1!==t)throw new Ng('The name "'.concat(e,'" is used ').concat(t," times ")+"in the model. All layer names should be unique. Layer names: "+JSON.stringify(ge))};for(be.s();!(ve=be.n()).done;)ye()}catch(xV){be.e(xV)}finally{be.f()}return r.outboundNodes=[],r.inboundNodes=[],new Ay({outboundLayer:(0,Cg.Z)(r),inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:r.inputs,outputTensors:r.outputs,inputMasks:r.inputs.map((function(e){return null})),outputMasks:r.outputs.map((function(e){return null})),inputShapes:r.inputs.map((function(e){return e.shape})),outputShapes:r.outputs.map((function(e){return e.shape}))}),r.built=!0,r._refCount=1,r}return(0,Jt.Z)(n,[{key:"assertNotDisposed",value:function(){if(0===this._refCount)throw new Error("Container '".concat(this.name,"' is already disposed."))}},{key:"dispose",value:function(){this.assertNotDisposed();var e={refCountAfterDispose:null,numDisposedVariables:0};if(0===--this._refCount){var t,n=Yt(this.layers);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.numDisposedVariables+=r.dispose().numDisposedVariables}}catch(xV){n.e(xV)}finally{n.f()}var a,o=Yt(this.internalContainerRefs);try{for(o.s();!(a=o.n()).done;){var i=a.value;e.numDisposedVariables+=i.dispose().numDisposedVariables}}catch(xV){o.e(xV)}finally{o.f()}}return e.refCountAfterDispose=this._refCount,e}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this.layers.forEach((function(t){t._trainableWeights.forEach((function(t){return t.trainable=e}))})),this.trainable_=e}},{key:"trainableWeights",get:function(){if(this._trainableWeights.length>0)throw new Ag("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];var e,t=[],n=Yt(this.layers);try{for(n.s();!(e=n.n()).done;){var r=e.value;t=t.concat(r.trainableWeights)}}catch(xV){n.e(xV)}finally{n.f()}return t}},{key:"nonTrainableWeights",get:function(){var e,t=[],n=Yt(this.layers);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,(0,$t.Z)(r.nonTrainableWeights))}}catch(xV){n.e(xV)}finally{n.f()}if(!this.trainable){var a,o=[],i=Yt(this.layers);try{for(i.s();!(a=i.n()).done;){var u=a.value;o.push.apply(o,(0,$t.Z)(u.trainableWeights))}}catch(xV){i.e(xV)}finally{i.f()}return o.concat(t)}return t}},{key:"weights",get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)}},{key:"loadWeights",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={},a=0,o=Yt(this.layers);try{for(o.s();!(t=o.n()).done;){var i,u=t.value,s=Yt(u.weights);try{for(s.s();!(i=s.n()).done;){var l=i.value;if(null!=r[l.originalName])throw new Ag("Duplicate weight name: ".concat(l.originalName));r[l.originalName]=l,a++}}catch(xV){s.e(xV)}finally{s.f()}}}catch(xV){o.e(xV)}finally{o.f()}var c=[];for(var d in e){var p=d;if(null==r[d]){var f=d.split("/"),h=f.slice(0,-2).concat([f[f.length-1]]);p=h.join("/")}if(null!=r[p])c.push([r[p],e[d]]);else if(n)throw new Ag("Provided weight data has no target variable: ".concat(d));delete r[p]}if(n){var m=[];for(var v in r)m.push(v);if(m.length>0)throw new Ag("".concat(m.length," of ").concat(a," weights are not set: ")+"".concat(m))}Iy(c)}},{key:"updatedConfig",value:function(){var e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion="tfjs-layers ".concat(Ax),t.backend="TensorFlow.js",t}},{key:"toJSON",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Nx(this.updatedConfig());return t?JSON.stringify(n):n}},{key:"call",value:function(e,t){var n=this;return Sl((function(){e=_g(e);for(var r=new Rx,a=0;a<n.inputs.length;++a)r.add(n.inputs[a],e[a]);return Mx(n.outputs,r,t)}))}},{key:"computeMask",value:function(e,t){var n=this;return Sl((function(){var r;return e=_g(e),r=null==t?Zg(null,e.length):_g(t),n.runInternalGraph(e,r)[1]}))}},{key:"computeOutputShape",value:function(e){var t=xy(e);if(t.length!==this.inputLayers.length)throw new Ag("Invalid inputShape argument ".concat(e,": ")+"model has ".concat(this.inputLayers.length," tensor inputs."));for(var n={},r=0;r<t.length;r++){var a=this.inputLayers[r],o=t[r];n[a.name+"_0_0"]=o}var i=Object.keys(this.nodesByDepth).map((function(e){return parseInt(e,10)})).sort(Ug);if(i.length>1){var u,s=Yt(i);try{for(s.s();!(u=s.n()).done;){var l,c=u.value,d=Yt(this.nodesByDepth[c]);try{for(d.s();!(l=d.n()).done;){var p=l.value,f=p.outboundLayer;if(-1===this.inputLayers.map((function(e){return e.id})).indexOf(f.id)){for(var h=[],m=0;m<p.inboundLayers.length;m++){var v=p.inboundLayers[m],g=p.nodeIndices[m],b=p.tensorIndices[m],y=n["".concat(v.name,"_").concat(g,"_").concat(b)];h.push(y)}for(var x=xy(f.computeOutputShape(Lg(h))),k=f.inboundNodes.indexOf(p),w=0;w<x.length;w++){n["".concat(f.name,"_").concat(k,"_").concat(w)]=x[w]}}}}catch(xV){d.e(xV)}finally{d.f()}}}catch(xV){s.e(xV)}finally{s.f()}}for(var C=[],D=[],E=0;E<this.outputLayers.length;E++){var S=this.outputLayers[E],I=this.outputLayersNodeIndices[E],F=this.outputLayersTensorIndices[E],T="".concat(S.name,"_").concat(I,"_").concat(F);D.push(T)}for(var N=0;N<D.length;N++){var A=D[N];Mg(A in n),C.push(n[A])}return Lg(C)}},{key:"runInternalGraph",value:function(e,t){null==t&&(t=Zg(null,e.length));for(var n={},r=0;r<this.inputs.length;++r){var a=this.inputs[r],o=e[r],i=t[r];n[a.id]=[o,i]}var u,s=Object.keys(this.nodesByDepth).map((function(e){return parseInt(e,10)})).sort(Ug),l=Yt(s);try{for(l.s();!(u=l.n()).done;){var c,d=u.value,p=Yt(this.nodesByDepth[d]);try{for(p.s();!(c=p.n()).done;){var f,h=c.value,m=h.outboundLayer,v=h.inputTensors,g=h.outputTensors,b=new Array,y=Yt(v);try{for(y.s();!(f=y.n()).done;){var x=f.value;x.id in n&&b.push(n[x.id])}}catch(xV){y.e(xV)}finally{y.f()}if(b.length===v.length){var k={},w=void 0,C=void 0,D=void 0,E=void 0;if(null!=h.callArgs&&(k=h.callArgs),1===b.length){var S=(0,je.Z)(b[0],2),I=S[0],F=S[1];null==k.mask&&(k.mask=F),D=_g(m.call(I,k)),E=_g(m.computeMask(I,F)),w=[I],C=[F]}else w=b.map((function(e){return e[0]})),C=b.map((function(e){return e[1]})),null==k.mask&&(k.mask=C),D=_g(m.call(w,k)),E=_g(m.computeMask(w,C));if(m.activityRegularizer)throw new Rg("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(var T=0;T<g.length;++T){var N=g[T],A=D[T],R=E[T];n[N.id]=[A,R]}}}}catch(xV){p.e(xV)}finally{p.f()}}}catch(xV){l.e(xV)}finally{l.f()}var O,Z=[],M=[],P=[],L=Yt(this.outputs);try{for(L.s();!(O=L.n()).done;){var _=O.value;Mg(_.id in n,"Could not compute output ".concat(_.name," : ").concat(_.id));var B=(0,je.Z)(n[_.id],2),z=B[0],j=B[1];P.push(z.shape),Z.push(z),M.push(j)}}catch(xV){L.e(xV)}finally{L.f()}return[Z,M,P]}},{key:"buildNodeConversionMap",value:function(e){var t,r,a={},o=Yt(this.layers);try{for(o.s();!(r=o.n()).done;){var i=r.value;t=i instanceof n?1:0;for(var u=0;u<i.inboundNodes.length;u++){var s=n.nodeKey(i,u);this.containerNodes.has(s)&&(a[s]=t,t+=1)}}}catch(xV){o.e(xV)}finally{o.f()}return a}},{key:"getLayer",value:function(e,t){if(null!=t){if(this.layers.length<=t)throw new Ag("Was asked to retrieve layer at index ".concat(t,", but model only ")+"has ".concat(this.layers.length," layer(s)."));return this.layers[t]}if(null==e)throw new Ag("Provide either a layer name or layer index");var n,r=Yt(this.layers);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.name===e)return a}}catch(xV){r.e(xV)}finally{r.f()}throw new Ag("No such layer: ".concat(e))}},{key:"calculateLosses",value:function(){var e=this;return Sl((function(){var t,r=[],a=Yt(e.layers);try{for(a.s();!(t=a.n()).done;)for(var o=t.value,i=0;i<o.inboundNodes.length;++i){var u=n.nodeKey(o,i);e.containerNodes.has(u)&&r.push.apply(r,(0,$t.Z)(o.calculateLosses()))}}catch(xV){a.e(xV)}finally{a.f()}return r}))}},{key:"getConfig",value:function(){var e,t={name:this.name},r=this.buildNodeConversionMap(this.layers),a=[],o=Yt(this.layers);try{for(o.s();!(e=o.n()).done;){for(var i=e.value,u=i.getClassName(),s=i.getConfig(),l=[],c=0;c<i.inboundNodes.length;c++){var d=i.inboundNodes[c],p=n.nodeKey(i,c),f={};if(this.containerNodes.has(p)){if(d.callArgs)try{JSON.stringify(d.callArgs),f=d.callArgs}catch(xV){console.warn("Layer ".concat(i.name," was passed ")+"non-serializable keyword arguments: "+"".concat(d.callArgs,". They will not be included ")+"in the serialized model (and thus will be missing at deserialization time)."),f={}}if(d.inboundLayers.length>0){for(var h=[],m=0;m<d.inboundLayers.length;m++){var v=d.inboundLayers[m],g=d.nodeIndices[m],b=d.tensorIndices[m],y=r[n.nodeKey(v,g)];null==y&&(y=0),h.push([v.name,y,b,f])}l.push(h)}}}var x={};x.name=i.name,x.className=u,x.config=s,x.inboundNodes=l,a.push(x)}}catch(xV){o.e(xV)}finally{o.f()}t.layers=a;for(var k=[],w=0;w<this.inputLayers.length;w++){var C=this.inputLayers[w],D=this.inputLayersNodeIndices[w],E=n.nodeKey(C,D);if(this.containerNodes.has(E)){var S=r[E];null!==S&&void 0!==S||(S=0);var I=this.inputLayersTensorIndices[w];k.push([C.name,S,I])}}t.inputLayers=k;for(var F=[],T=0;T<this.outputLayers.length;T++){var N=this.outputLayers[T],A=this.outputLayersNodeIndices[T],R=n.nodeKey(N,A);if(this.containerNodes.has(R)){var O=r[R];null!==O&&void 0!==O||(O=0);var Z=this.outputLayersTensorIndices[T];F.push([N.name,O,Z])}}return t.outputLayers=F,t}},{key:"stateful",get:function(){if(this._stateful)throw new Ag("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");var e,t=Yt(this.layers);try{for(t.s();!(e=t.n()).done;){if(e.value.stateful)return!0}}catch(xV){t.e(xV)}finally{t.f()}return!1}},{key:"resetStates",value:function(){var e=this;Sl((function(){e.layers.forEach((function(e){e.stateful&&e.resetStates()}))}))}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r={},a={};function o(e,t){e.name in a?a[e.name].push(t):a[e.name]=[t]}function i(e,t){var n,a,i=[],u=Yt(t);try{for(u.s();!(a=u.n()).done;){var s=a.value,l=s[0],c=s[1],d=s[2];if(n=null==s[3]?{}:s[3],!(l in r))return void o(e,t);var p=r[l];if(p.inboundNodes.length<=c)return void o(e,t);var f=p.inboundNodes[c];i.push(f.outputTensors[d])}}catch(xV){u.e(xV)}finally{u.f()}i.length>0&&e.apply(Lg(i),n)}function u(e){var a=e.name,i=Yy(e,null!=t.customObjects?t.customObjects:{});i.setFastWeightInitDuringBuild(n),r[a]=i,e.inboundNodes.forEach((function(e){if(!(e instanceof Array))throw new Ag("Corrupted configuration, expected array for nodeData: ".concat(e));o(i,e)}))}var s,l=t.name,c=t.layers,d=Yt(c);try{for(d.s();!(s=d.n()).done;){var p=s.value;u(p)}}catch(xV){d.e(xV)}finally{d.f()}for(;!qg(a);){var f,h=Yt(c);try{for(h.s();!(f=h.n()).done;){var m=f.value,v=r[m.name];if(v.name in a){var g=a[v.name];delete a[v.name];var b,y=Yt(g);try{for(y.s();!(b=y.n()).done;){var x=b.value;i(v,x)}}catch(xV){y.e(xV)}finally{y.f()}}}}catch(xV){h.e(xV)}finally{h.f()}}var k,w=[],C=[],D=t.inputLayers,E=Yt(D);try{for(E.s();!(k=E.n()).done;){var S=k.value,I=S[0],F=S[1],T=S[2];Mg(I in r);var N=r[I],A=N.inboundNodes[F].outputTensors;w.push(A[T])}}catch(xV){E.e(xV)}finally{E.f()}var R,O=t.outputLayers,Z=Yt(O);try{for(Z.s();!(R=Z.n()).done;){var M=R.value,P=M[0],L=M[1],_=M[2];Mg(P in r);var B=r[P],z=B.inboundNodes[L].outputTensors;C.push(z[_])}}catch(xV){Z.e(xV)}finally{Z.f()}return new e({inputs:w,outputs:C,name:l})}}]),n}(Oy);function zx(e,t,n){var r=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map((function(e){return null}));if(1===r)return Array.isArray(e)&&1===e.length?e:"object"===typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error("Provided ".concat(n," is an array of ").concat(e.length," ")+"element(s), but the model has ".concat(r," outputs. ")+"Make sure a set of weights is provided for each model output.");return e}if("object"===typeof e&&Object.keys(e).length>0&&"object"===typeof e[Object.keys(e)[0]]){var a=[];return t.forEach((function(t){t in e?a.push(e[t]):a.push(null)})),a}throw new Error("The model has multiple (".concat(r,") outputs, ")+"so ".concat(n," must be either an array with ")+"".concat(r," elements or an object with ").concat(t," keys. ")+"Provided ".concat(n," not understood: ").concat(JSON.stringify(e)))}function jx(e,t){return zx(e,t,"classWeight")}function Vx(e,t,n,r){return Wx.apply(this,arguments)}function Wx(){return(Wx=Ut(qt().mark((function e(t,n,r,a){var o,i,u;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n&&null==a){e.next=2;break}throw new Error("Support sampleWeight is not implemented yet");case 2:if(null==r){e.next=15;break}return o=Sl((function(){if(1===t.shape.length)return Ls(t);if(2===t.shape.length){if(t.shape[1]>1){return zl(t,1)}if(1===t.shape[1])return lc(t,[t.shape[0]]);throw new Error("Encountered unexpected last-dimension size (".concat(t.shape[1],") ")+"during handling of class weights. The size is expected to be >= 1.")}throw new Error("Unexpected rank of target (y) tensor (".concat(t.rank,") during ")+"handling of class weights. The rank is expected to be 1 or 2.")})),e.t0=Array,e.next=7,o.data();case 7:return e.t1=e.sent,i=e.t0.from.call(e.t0,e.t1),Il(o),u=[],i.forEach((function(e){if(null==r[e])throw new Error("classWeight must contain all classes in the training data. "+"The class ".concat(e," exists in the data but not in ")+"classWeight");u.push(r[e])})),e.abrupt("return",df(u,"float32"));case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hx(e,t){return hc(e,t)}function Ux(e,t){var n,r,a=t;n=a.xs,r=a.ys,ln(null!=n&&null!=r,(function(){return"A Dataset iterator for fitDataset() is expected to generate objects of the form `{xs: xVal, ys: yVal}`, where the two values may be `tf.Tensor`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates "+"".concat(t)}));var o=Gx("input",e.inputNames,n),i=Gx("output",e.outputNames,r),u=o[0].shape[0];ln(o.length===e.inputs.length,(function(){return"LayersModel has ".concat(e.inputs.length," inputs, but the dataset ")+"provides ".concat(o.length," inputs.  (Expected input keys: ")+"".concat(JSON.stringify(e.inputNames),")")})),ln(i.length===e.outputs.length,(function(){return"LayersModel has ".concat(e.outputs.length," outputs, but the dataset ")+"provides ".concat(i.length," outputs.  (Expected output keys: ")+"".concat(JSON.stringify(e.outputNames),")")}));for(var s=function(t){ln(o[t].shape[0]===u,(function(){return"Batch size mismatch: input "+"".concat(e.inputNames[t]," has ").concat(o[t].shape[0],"; ")+"expected  ".concat(u," based on input ").concat(e.inputNames[0],".")}))},l=0;l<o.length;l++)s(l);for(var c=function(t){ln(i[t].shape[0]===u,(function(){return"Batch size mismatch: output "+"".concat(e.outputNames[t]," has ").concat(i[t].shape[0],"; ")+"expected  ".concat(u," based on input ").concat(e.inputNames[0],".")}))},d=0;d<i.length;d++)c(d);return{xs:o,ys:i}}function Gx(e,t,n){if(n instanceof Ui)return[n];if(Array.isArray(n))return ln(n.length===t.length,(function(){return"Received an array of ".concat(n.length," Tensors, but expected ").concat(t.length," to match the ").concat(e," keys ").concat(t,".")})),n;var r,a=[],o=Yt(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(null==n[i])throw new Ag("The feature data generated by the dataset lacks the required "+"".concat(e," key '").concat(i,"'."));a.push(n[i])}}catch(xV){o.e(xV)}finally{o.f()}return a}function qx(e){if(3===e.length)throw new Rg("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}function Kx(e,t,n){return Xx.apply(this,arguments)}function Xx(){return Xx=Ut(qt().mark((function e(t,n,r){var a,o,i,u,s,l,c,d,p,f,h,m,v,g,b,y,x,k,w,C,D,E,S,I,F,T,N,A,R,O,Z,M,P;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null!=r.batchesPerEpoch,ln(null!=t.optimizer,(function(){return"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."})),ln(null!=r,(function(){return"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."})),ln(null!=r.epochs&&r.epochs>0&&Number.isInteger(r.epochs),(function(){return"For fitDataset(), config.epochs is expected to be a positive "+"integer, but got ".concat(r.epochs)})),ln(!a||r.batchesPerEpoch>0&&Number.isInteger(r.batchesPerEpoch),(function(){return"For fitDataset(), config.batchesPerEpoch is expected to be a "+"positive integer if specified, but got ".concat(r.batchesPerEpoch)})),ln(null==r.validationSplit,(function(){return"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."})),!t.isTraining){e.next=8;break}throw new Error("Cannot start training because another fit() call is ongoing.");case 8:return t.isTraining=!0,e.prev=9,(o=null!=r.validationData)&&($x(r.validationData)?ln(null==r.validationBatches||r.validationBatches>0&&Number.isInteger(r.validationBatches),(function(){return"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, "+"but got ".concat(r.validationBatches)})):(s=qx(r.validationData),i=s.xs,u=s.ys)),l=t.makeTrainFunction(),c=t.getDedupedMetricsNames(),d=o?c.slice().concat(c.map((function(e){return"val_"+e}))):c.slice(),p=Uy(r.callbacks,r.yieldEvery),f=null==r.verbose?1:r.verbose,h=qy(p,f,r.epochs,null,null,Yx(n,r),null,o,d),m=h.callbackList,v=h.history,m.setModel(t),t.history=v,e.next=22,m.onTrainBegin();case 22:return t.stopTraining_=!1,g=null==r.initialEpoch?0:r.initialEpoch,e.next=26,n.iterator();case 26:b=e.sent;case 27:if(!(g<r.epochs)){e.next=98;break}return y={},e.next=31,m.onEpochBegin(g);case 31:if(x=0,k=0,a){e.next=37;break}return e.next=36,n.iterator();case 36:b=e.sent;case 37:if(a&&!(x<r.batchesPerEpoch)){e.next=91;break}return e.next=40,b.next();case 40:if(w=e.sent,!a||!w.done){e.next=44;break}return console.warn("You provided `batchesPerEpoch` as "+"".concat(r.batchesPerEpoch,", ")+"but your dataset iterator ran out of data after "+"".concat(x," batches; ")+"interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, "+"".concat(r.batchesPerEpoch*r.epochs," batches). ")+"You may need to use the repeat() function when building your dataset."),e.abrupt("break",91);case 44:if(null==w.value){e.next=73;break}return C=Ux(t,w.value),D=C.xs,E=C.ys,(S={}).batch=k,S.size=D[0].shape[0],e.next=51,m.onBatchBegin(k,S);case 51:if(I=[],null==r.classWeight){e.next=64;break}F=jx(r.classWeight,t.outputNames),T=0;case 55:if(!(T<F.length)){e.next=64;break}return e.t0=I,e.next=59,Vx(E[T],null,F[T]);case 59:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 61:++T,e.next=55;break;case 64:for(N=D.concat(E).concat(I),A=l(N),Il(N),R=0;R<c.length;++R)O=c[R],Z=A[R],S[O]=Z,Fl(Z);return e.next=70,m.onBatchEnd(k,S);case 70:By(S),k++,x++;case 73:if(!(a?x>=r.batchesPerEpoch:w.done)){e.next=87;break}if(!o){e.next=86;break}if(M=void 0,!$x(r.validationData)){e.next=84;break}return e.t2=_g,e.next=80,t.evaluateDataset(r.validationData,{batches:r.validationBatches});case 80:e.t3=e.sent,M=(0,e.t2)(e.t3),e.next=85;break;case 84:M=_g(t.evaluate(i,u,{batchSize:null==r.validationBatchSize?32:r.validationBatchSize,verbose:0}));case 85:for(P=0;P<t.metricsNames.length;++P)y["val_".concat(t.metricsNames[P])]=M[P];case 86:return e.abrupt("break",91);case 87:if(!t.stopTraining_){e.next=89;break}return e.abrupt("break",91);case 89:e.next=37;break;case 91:return e.next=93,m.onEpochEnd(g,y);case 93:if(g++,!t.stopTraining_){e.next=96;break}return e.abrupt("break",98);case 96:e.next=27;break;case 98:return e.next=100,m.onTrainEnd();case 100:return e.next=102,t.history.syncData();case 102:return e.abrupt("return",t.history);case 103:return e.prev=103,t.isTraining=!1,e.finish(103);case 106:case"end":return e.stop()}}),e,null,[[9,,103,106]])}))),Xx.apply(this,arguments)}function Yx(e,t){var n=null;return null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size),n}function $x(e){return"function"===typeof e.iterator}function Qx(e){return"function"===typeof e.next}function Jx(e,t,n){return ek.apply(this,arguments)}function ek(){return ek=Ut(qt().mark((function e(t,n,r){var a,o,i,u,s,l,c,d,p;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null!=(r=r||{}).batches,o=t.testFunction,i=[],!(r.verbose>0)){e.next=6;break}throw new Rg("Verbose mode is not implemented yet.");case 6:if(ln(!a||r.batches>0&&Number.isInteger(r.batches),(function(){return"Test loop expects `batches` to be a positive integer, but "+"received ".concat(JSON.stringify(r.batches))})),!Qx(n)){e.next=11;break}e.t0=n,e.next=14;break;case 11:return e.next=13,n.iterator();case 13:e.t0=e.sent;case 14:u=e.t0,s=0,l=0,c=qt().mark((function e(){var n;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.next();case 2:if(n=e.sent,i=Sl((function(){return n.value&&function(){var e=Ux(t,n.value),r=e.xs,a=e.ys,u=r.concat(a),c=Sl((function(){return o(u)}));if(Il(u),0===l)for(var d=0;d<c.length;++d)i.push(Al(0));for(var p=u[0].shape[0],f=function(e){var t=c[e],n=i[e];i[e]=Sl((function(){return Pl(i[e],hc(p,t))})),l>0&&Il(n)},h=0;h<c.length;++h)f(h);Il(c),s+=p,++l}(),i})),!n.done){e.next=7;break}return a&&console.warn("Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` "+"batches (in this case, ".concat(r.batches," batches). ")+"You may need to use the repeat() function when building your dataset."),e.abrupt("return","break");case 7:case"end":return e.stop()}}),e)}));case 18:if(a&&!(l<r.batches)){e.next=25;break}return e.delegateYield(c(),"t1",20);case 20:if("break"!==e.t1){e.next=23;break}return e.abrupt("break",25);case 23:e.next=18;break;case 25:for(d=0;d<i.length;++d)p=i[d],i[d]=Xc(i[d],s),Il(p);return e.abrupt("return",Lg(i));case 27:case"end":return e.stop()}}),e)}))),ek.apply(this,arguments)}function tk(e){ln(e>0&&Number.isInteger(e),(function(){return"batchSize is required to be a positive integer, but got ".concat(e)}))}function nk(e,t,n){return null==e?[null]:Array.isArray(e)?e.map((function(e){return Rb(e,t,n-t)})):Rb(e,t,n-t)}function rk(e,t){return Sl((function(){return null==e?null:Array.isArray(e)?e.map((function(e){return rk(e,t)})):zb(e,"int32"===t.dtype?t:Ps(t,"int32"))}))}function ak(e,t){for(var n=[],r=0,a=null;r<e;)(a=r+t)>=e&&(a=e),n.push([r,a]),r=a;return n}function ok(e,t,n,r,a,o,i,u,s,l,c,d,p,f,h){return ik.apply(this,arguments)}function ik(){return ik=Ut(qt().mark((function e(t,n,r,a,o,i,u,s,l,c,d,p,f,h,m){var v,g,b,y,x,k,w,C;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==o&&(o=32),null==i&&(i=1),null==d&&(d=!0),null==f&&(f=0),v=!1,null!=l&&null!=c&&(v=!0),null==m){e.next=10;break}if(v=!0,null!=h){e.next=10;break}throw new Ag("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");case 10:return null!=(g=t.checkNumSamples(r,o,h,"steps_per_epoch"))&&(b=Fb(0,g)),null==u&&(u=1),y=qy(s,u,i,f,g,h,o,v,p),x=y.callbackList,k=y.history,x.setModel(t),t.history=k,e.next=18,x.onTrainBegin();case 18:t.stopTraining_=!1,w=qt().mark((function e(i){var u;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.onEpochBegin(i);case 2:if(u={},null==h){e.next=7;break}throw new Rg("stepsPerEpoch mode is not implemented yet.");case 7:return e.delegateYield(qt().mark((function e(){var i,s,p,f;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("batch"!==d){e.next=4;break}throw new Rg("batch shuffling is not implemneted yet");case 4:d&&rn(b);case 5:i=df(b),s=ak(g,o),p=qt().mark((function e(d){var p;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p={},e.next=3,x.onBatchBegin(d,p);case 3:return Sl((function(){var e=s[d][0],f=s[d][1],h=Rb(i,e,f-e);p.batch=d,p.size=f-e;for(var m=rk(r,h),g=n(m),b=0;b<a.length;++b){var y=a[b],x=g[b];p[y]=x,Fl(x)}if(d===s.length-1&&v)for(var k=t.testLoop(l,c,o),w=0;w<a.length;++w){var C=a[w],D=k[w];Fl(D),u["val_"+C]=D}})),e.next=6,x.onBatchEnd(d,p);case 6:if(By(p),!t.stopTraining_){e.next=9;break}return e.abrupt("return","break");case 9:case"end":return e.stop()}}),e)})),f=0;case 9:if(!(f<s.length)){e.next=17;break}return e.delegateYield(p(f),"t0",11);case 11:if("break"!==e.t0){e.next=14;break}return e.abrupt("break",17);case 14:++f,e.next=9;break;case 17:i.dispose();case 18:case"end":return e.stop()}}),e)}))(),"t0",8);case 8:return e.next=10,x.onEpochEnd(i,u);case 10:if(!t.stopTraining_){e.next=12;break}return e.abrupt("return","break");case 12:case"end":return e.stop()}}),e)})),C=f;case 21:if(!(C<i)){e.next=29;break}return e.delegateYield(w(C),"t0",23);case 23:if("break"!==e.t0){e.next=26;break}return e.abrupt("break",29);case 26:++C,e.next=21;break;case 29:return e.next=31,x.onTrainEnd();case 31:return e.next=33,t.history.syncData();case 33:return e.abrupt("return",t.history);case 34:case"end":return e.stop()}}),e)}))),ik.apply(this,arguments)}function uk(e,t,n){return sk.apply(this,arguments)}function sk(){return sk=Ut(qt().mark((function e(t,n,r){var a,o,i,u,s,l,c,d,p,f,h,m,v,g,b,y,x,k,w,C,D,E,S,I,F,T,N=arguments;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=N.length>3&&void 0!==N[3]?N[3]:{},!t.isTraining){e.next=3;break}throw new Error("Cannot start training because another fit() call is ongoing.");case 3:return t.isTraining=!0,e.prev=4,tk(h=null==a.batchSize?32:a.batchSize),m=!1,e.next=10,t.standardizeUserData(n,r,a.sampleWeight,a.classWeight,m,h);case 10:if(v=e.sent,o=v[0],i=v[1],f=v[2],g=!1,!(null!=a.validationData&&a.validationData.length>0)){e.next=36;break}if(g=!0,2!==a.validationData.length){e.next=22;break}l=a.validationData[0],c=a.validationData[1],e.next=27;break;case 22:if(3!==a.validationData.length){e.next=26;break}throw new Rg("validationData including sample weights is not supported yet.");case 26:throw new Ag("When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; "+"".concat(a.validationData," is invalid."));case 27:return y=!0,e.next=30,t.standardizeUserData(l,c,null,null,y,h);case 30:x=e.sent,d=x[0],p=x[1],b=d.concat(p),e.next=37;break;case 36:null!=a.validationSplit&&a.validationSplit>0&&a.validationSplit<1?(g=!0,k=Math.floor(o[0].shape[0]*(1-a.validationSplit)),w=o[0].shape[0],d=nk(o,k,w),u=o,o=nk(o,0,k),p=nk(i,k,w),s=i,i=nk(i,0,k),b=d.concat(p)):null!=a.validationSteps&&(g=!0);case 37:return C=o.concat(i).concat(f),t.checkTrainableWeightsConsistency(),D=t.makeTrainFunction(),E=t.getDedupedMetricsNames(),g?(t.makeTestFunction(),S=t.testFunction,I=E.slice().concat(E.map((function(e){return"val_"+e})))):(S=null,b=[],I=E.slice()),F=Uy(a.callbacks,a.yieldEvery),e.next=45,ok(t,D,C,E,h,a.epochs,a.verbose,F,S,b,a.shuffle,I,a.initialEpoch,null,null);case 45:return T=e.sent,e.abrupt("return",T);case 47:return e.prev=47,t.isTraining=!1,ck(o,n),ck(i,r),ck(u,n),ck(s,r),ck(d,l),ck(p,c),null!=f&&Il(f),e.finish(47);case 57:case"end":return e.stop()}}),e,null,[[4,,47,57]])}))),sk.apply(this,arguments)}function lk(e){var t=[];e instanceof Ui&&(e=[e]);for(var n=0;n<e.length;++n){var r=e[n];if(1===r.rank)t.push(Nb(r,1));else{if(0===r.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(r)}}return t}function ck(e,t){if(null!=e){var n=[];if(t instanceof Ui)n.push(t.id);else if(Array.isArray(t))t.forEach((function(e){return n.push(e.id)}));else if(null!=t)for(var r in t){var a=t[r];n.push(a.id)}var o=[];if(e instanceof Ui)-1===n.indexOf(e.id)&&o.push(e);else if(Array.isArray(e))e.forEach((function(e){-1===n.indexOf(e.id)&&o.push(e)}));else if(null!=e)for(var i in e){var u=e[i];-1===n.indexOf(u.id)&&o.push(u)}o.forEach((function(e){e.isDisposed||e.dispose()}))}}function dk(e){return Array.isArray(e)}function pk(e){return!function(e){return e instanceof Ui}(e)&&!dk(e)}function fk(e,t,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(null==t||0===t.length){if(null!=e){var i=!1;if(dk(e)&&e.length>0)i=!0;else if(pk(e)){for(var u in e)if(e.hasOwnProperty(u)){i=!0;break}}else i=!0;if(i)throw new Ag("Error when checking model ".concat(o," expected no data, ")+"but got ".concat(e))}return[]}if(null==e)return t.map((function(e){return null}));if(pk(e)){e=e,r=[];var s,l=Yt(t);try{for(l.s();!(s=l.n()).done;){var c=s.value;if(null==e[c])throw new Ag('No data provided for "'.concat(c,'". Need data for each key in: ')+"".concat(t));r.push(e[c])}}catch(xV){l.e(xV)}finally{l.f()}}else if(dk(e)){if((e=e).length!==t.length)throw new Ag("Error when checking model ".concat(o,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"model expected. Expected to see ".concat(t.length," Tensor(s), but ")+"instead got the following list of Tensor(s): ".concat(e));r=e}else{if(e=e,t.length>1)throw new Ag("The model ".concat(o," expects ").concat(t.length," Tensor(s), ")+"but only received one Tensor. Found: Tensor with shape ".concat(e.shape));r=[e]}if(r=lk(r),null!=n)for(var d=0;d<t.length;++d)if(null!=n[d]){var p=r[d];if(p.shape.length!==n[d].length)throw new Ag("Error when checking ".concat(o,": expected ").concat(t[d]," ")+"to have ".concat(n[d].length," dimension(s). but got array with ")+"shape ".concat(p.shape));for(var f=0;f<n[d].length;++f)if(0!==f||a){var h=p.shape[f],m=n[d][f];if(null!=m&&m>=0&&h!==m)throw new Ag("".concat(o," expected a batch of elements where each ")+"example has shape [".concat(n[d].slice(1,n[d].length),"] ")+"(i.e.,tensor shape [*,".concat(n[d].slice(1,n[d].length),"])")+" but the ".concat(o," received an input with ").concat(p.shape[0])+" examples, each with shape [".concat(p.shape.slice(1,p.shape.length),"]")+" (tensor shape [".concat(p.shape,"])"))}}return r}function hk(e,t,n){var r=Gg(e.map((function(e){return e.shape[0]})));r.sort();var a=Gg(t.map((function(e){return e.shape[0]})));if(a.sort(),r.length>1)throw new Ag("All input Tensors (x) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(e.map((function(e){return e.shape})))));if(a.length>1)throw new Ag("All target Tensors (y) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(t.map((function(e){return e.shape})))));if(r.length>0&&a.length>0&&!hn(r,a))throw new Ag("Input Tensors should have the same number of samples as target "+"Tensors. Found ".concat(r[0]," input sample(s) and ").concat(a[0]," target ")+"sample(s).")}function mk(e,t,n){for(var r=[Qy,ax,nx],a=0;a<e.length;++a){var o=e[a],i=t[a],u=n[a];if(null!=i){if(i===nx&&1===o.shape[o.shape.length-1])throw new Ag("You are passing a target array of shape ".concat(o.shape," while using ")+"a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].");if(-1!==r.indexOf(i))for(var s=o.shape.slice(1),l=u.slice(1),c=0;c<s.length;++c){var d=s[c],p=l[c];if(null!=p&&d!==p)throw new Ag("A target Tensor with shape ".concat(o.shape," was passed for an ")+"output of shape ".concat(u,", while using a loss function that ")+"expects targets to have the same shape as the output.")}}}}function vk(e,t,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(Array.isArray(e)){if(e.length!==t.length)throw new Ag("Error when checking model ".concat(o,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"the model expected. Expected to see ".concat(t.length," Tensor(s),")+" but instead got ".concat(e.length," Tensors(s)."));r=e}else{if(t.length>1)throw new Ag("The model expects ".concat(t.length," ").concat(o," Tensors, ")+"but only received one Tensor. Found: array with shape "+"".concat(JSON.stringify(e.shape),"."));r=[e]}if(null!=n)for(var i=0;i<t.length;++i)if(null!=n[i]){var u=r[i];if(u.shape.length!==n[i].length)throw new Ag("Error when checking ".concat(o,": expected ").concat(t[i]," ")+"to have ".concat(n[i].length," dimension(s), but got array with ")+"shape ".concat(JSON.stringify(u.shape)));for(var s=0;s<n[i].length;++s)if(0!==s||a){var l=u.shape[s],c=n[i][s];if(null!=c&&c!==l)throw new Ag("Error when checking ".concat(o,": expected ")+"".concat(t[i]," to have shape ").concat(JSON.stringify(n[i])," but ")+"got array with shape ".concat(JSON.stringify(u.shape),"."))}}}var gk=function(t){(0,Mi.Z)(r,t);var n=(0,Pi.Z)(r);function r(e){var t;return(0,Qt.Z)(this,r),(t=n.call(this,e)).isTraining=!1,t}return(0,Jt.Z)(r,[{key:"summary",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;if(!this.built)throw new Ag("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");wx(this,e,t,n)}},{key:"compile",value:function(e){var t=this;if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"===typeof e.optimizer)this.optimizer_=function(e){var t={Adagrad:function(){return bm.adagrad(.01)},Adadelta:function(){return bm.adadelta(1,.95,wg())},Adam:function(){return bm.adam(.001,.9,.999,wg())},Adamax:function(){return bm.adamax(.002,.9,.999,wg(),0)},RMSProp:function(){return bm.rmsprop(.001,.9,0,wg())},SGD:function(){return bm.sgd(.01)}};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new Ag("Unknown Optimizer ".concat(e))}(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof Rl))throw new Ag("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}var n=[];if(Array.isArray(e.loss)||"string"===typeof e.loss||"function"===typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new Ag("When passing an Array as loss, it should have one entry per "+"model output. The model has ".concat(this.outputs.length," output(s), ")+"but you passed loss=".concat(e.loss,"."));var r=e.loss;n=r.map((function(e){return sx(e)}))}else{var a=sx(e.loss);this.outputs.forEach((function(e){n.push(a)}))}else{for(var o in e.loss=e.loss,e.loss)if(-1===this.outputNames.indexOf(o))throw new Ag('Unknown entry in loss dictionary: "'.concat(o,'". ')+"Only expected the following keys: ".concat(this.outputNames));var i,u=Yt(this.outputNames);try{for(u.s();!(i=u.n()).done;){var s=i.value;null==e.loss[s]&&console.warn('Output "'.concat(s,'" is missing from loss dictionary. We assume ')+"this was done on purpose, and we will not be expecting data "+"to be passed to ".concat(s," during training")),n.push(sx(e.loss[s]))}}catch(xV){u.e(xV)}finally{u.f()}}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(var l=0;l<this.outputs.length;++l){var c=this.internalOutputShapes[l],d=this.outputNames[l];this.feedOutputNames.push(d),this.feedOutputShapes.push(c),this.feedLossFns.push(this.lossFunctions[l])}var p=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],yb("loss",(function(){for(var e=0;e<t.outputs.length;++e)if(-1===p.indexOf(e)){var n=t.lossFunctions[e];t.outputs.length>1&&(t.metricsTensors.push([n,e]),t.metricsNames.push(t.outputNames[e]+"_loss"))}}));var f=function(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map((function(e){return[]}));var n;if("string"===typeof e||"function"===typeof e)n=[e];else{if(!Array.isArray(e)&&"object"!==typeof e)throw new TypeError("Type of metrics argument not understood. Expected an string,"+"function, Array, or Object, found: ".concat(e));n=e}if(Array.isArray(n))return t.map((function(e){return n}));var r,a=[],o=Yt(t);try{for(o.s();!(r=o.n()).done;){var i=r.value,u=n.hasOwnProperty(i)?n[i]:[];Array.isArray(u)||(u=[u]),a.push(u)}}catch(xV){o.e(xV)}finally{o.f()}return a}(e.metrics,this.outputNames),h=function(e,n,r){t.outputNames.length>1&&(n=t.outputNames[e]+"_"+n),t.metricsNames.push(n),t.metricsTensors.push([r,e])};yb("metric",(function(){for(var e=function(e){if(-1!==p.indexOf(e))return"continue";!function(n){var r,a,o,i,u=Yt(n);try{for(u.s();!(i=u.n()).done;){var s=i.value;if("string"===typeof s&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(s)){var l=t.internalOutputShapes[e];1===l[l.length-1]||t.lossFunctions[e]===ax?-1!==["accuracy","acc"].indexOf(s)?a=lx:-1!==["crossentropy","ce"].indexOf(s)&&(a=px):t.lossFunctions[e]===rx?-1!==["accuracy","acc"].indexOf(s)?a=fx:-1!==["crossentropy","ce"].indexOf(s)&&(a=mx):-1!==["accuracy","acc"].indexOf(s)?a=cx:-1!==["crossentropy","ce"].indexOf(s)&&(a=hx);var c=void 0;-1!==["accuracy","acc"].indexOf(s)?c="acc":-1!==["crossentropy","ce"].indexOf(s)&&(c="ce"),o=a,r=""+c}else{var d=gx(s);o=d,r=""+bx(s)}var p=void 0;yb(r,(function(){p=o})),h(e,r,p)}}catch(xV){u.e(xV)}finally{u.f()}}(f[e])},n=0;n<t.outputs.length;++n)e(n)})),this.collectedTrainableWeights=this.trainableWeights}},{key:"checkTrainableWeightsConsistency",value:function(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}},{key:"evaluate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null==n.batchSize?32:n.batchSize;tk(r);var a=!0,o=this.standardizeUserDataXY(e,t,a,r);try{var i=o[0].concat(o[1]);this.makeTestFunction();var u=this.testFunction,s=this.testLoop(u,i,r,n.verbose,n.steps);return Lg(s)}finally{ck(o[0],e),ck(o[1],t)}}},{key:"evaluateDataset",value:function(){var e=Ut(qt().mark((function e(t,n){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.makeTestFunction(),e.abrupt("return",Jx(this,t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"checkNumSamples",value:function(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"steps";if(null!=n){if(r=null,null!=t)throw new Ag("If ".concat(a," is set, batchSize must be null or undefined.")+"Got batchSize = ".concat(t))}else{if(null==e)throw new Ag("Either the input data should have a defined shape, or "+"".concat(a," shoud be specified."));r=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return r}},{key:"execute",value:function(e,t){if(Array.isArray(t)&&0===t.length)throw new Ag("`outputs` is an empty Array, which is not allowed.");var n=Array.isArray(t),r=n?t:[t],a=this.retrieveSymbolicTensors(r),o=new Rx;if(e instanceof Ui&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new Ag("The number of inputs provided (".concat(e.length,") ")+"does not match the number of inputs of this model "+"(".concat(this.inputs.length,")."));for(var i=0;i<this.inputs.length;++i)o.add(this.inputs[i],e[i])}else{var u,s=Yt(this.inputs);try{for(s.s();!(u=s.n()).done;){var l=u.value,c=e[l.name];if(null==c)throw new Ag("No value is provided for the model's input ".concat(l.name));o.add(l,c)}}catch(xV){s.e(xV)}finally{s.f()}}var d=Mx(a,o);return n?d:d[0]}},{key:"retrieveSymbolicTensors",value:function(e){var t,n=Zg(null,e.length),r=e.length,a=Yt(this.layers);try{for(a.s();!(t=a.n()).done;){for(var o=t.value,i=Array.isArray(o.output)?o.output:[o.output],u=i.map((function(e){return e.name})),s=0;s<e.length;++s){var l=u.indexOf(e[s]);if(-1!==l&&(n[s]=i[l],r--),0===r)break}if(0===r)break}}catch(xV){a.e(xV)}finally{a.f()}if(r>0){var c=[];throw n.forEach((function(t,n){null==t&&c.push(e[n])})),new Ag("Cannot find SymbolicTensors for output name(s): "+"".concat(JSON.stringify(c)))}return n}},{key:"predictLoop",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Sl((function(){var a=t.checkNumSamples(e);if(r)throw new Rg("Verbose predictLoop() is not implemented yet.");for(var o=ak(a,n),i=t.outputs.map((function(e){return[]})),u=function(n){Sl((function(){var r=o[n][0],a=o[n][1],i=nk(e,r,a),u=[];if(Array.isArray(i))for(var s=0;s<i.length;++s)u.push({key:t.inputs[s],value:i[s]});else u.push({key:t.inputs[0],value:i});var l=new Rx(u);return Mx(t.outputs,l)})).forEach((function(e,t){return i[t].push(e)}))},s=0;s<o.length;++s)u(s);return Lg(i.map((function(e){return pc(e,0)})))}))}},{key:"predict",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=lk(e);vk(n,this.inputNames,this.feedInputShapes,!1);try{var r=null==t.batchSize?32:t.batchSize;return tk(r),this.predictLoop(n,r)}finally{ck(n,e)}}},{key:"predictOnBatch",value:function(e){vk(e,this.inputNames,this.feedInputShapes,!0);var t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)}},{key:"standardizeUserDataXY",value:function(e,t){var n=arguments.length>3?arguments[3]:void 0;if(null==this.optimizer_)throw new Ng("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");for(var r=[],a=0;a<this.feedOutputShapes.length;++a){var o=this.feedOutputShapes[a],i=this.feedLossFns[a];i===rx?r.push(o.slice(0,o.length-1).concat([1])):r.push(o)}if(hk(e=fk(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=fk(t,this.feedOutputNames,r,!1,"target")),mk(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=n&&n>0&&e[0].shape[0]%n!==0)throw new Ag("In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size "+"".concat(n,". Found: ").concat(e[0].shape[0]," sample(s)."));return[e,t]}},{key:"standardizeUserData",value:function(){var e=Ut(qt().mark((function e(t,n,r,a){var o,i,u,s,l,c,d,p,f,h=arguments;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=!(h.length>4&&void 0!==h[4])||h[4],i=h.length>5?h[5]:void 0,u=this.standardizeUserDataXY(t,n,o,i),s=(0,je.Z)(u,2),l=s[0],c=s[1],null==r){e.next=5;break}throw new Error("sample weight is not supported yet.");case 5:if(d=null,null==a){e.next=19;break}p=jx(a,this.outputNames),d=[],f=0;case 10:if(!(f<p.length)){e.next=19;break}return e.t0=d,e.next=14,Vx(c[f],null,p[f]);case 14:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 16:++f,e.next=10;break;case 19:return e.abrupt("return",[l,c,d]);case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"testLoop",value:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0;return Sl((function(){var i=r.checkNumSamples(t,n,o,"steps"),u=[];if(a>0)throw new Rg("Verbose mode is not implemented yet.");if(null!=o)throw new Rg("steps mode in testLoop() is not implemented yet");for(var s=ak(i,n),l=df(Fb(0,i)),c=0;c<s.length;++c){var d=s[c][0],p=s[c][1],f=Rb(l,d,p-d),h=rk(t,f),m=e(h);if(0===c)for(var v=0;v<m.length;++v)u.push(Al(0));for(var g=0;g<m.length;++g){var b=m[g];u[g]=Pl(u[g],hc(p-d,b))}}for(var y=0;y<u.length;++y)u[y]=Xc(u[y],i);return u}))}},{key:"getDedupedMetricsNames",value:function(){for(var e=this.metricsNames,t=[],n=0;n<e.length;++n){var r=e[n],a=r;if(Pg(e,r)>1){var o=Pg(e.slice(0,n),r);a+="_".concat(o)}t.push(a)}return t}},{key:"makeTrainFunction",value:function(){var e=this;return function(t){var n=[],r=t.slice(0,e.inputs.length),a=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),o=t.slice(e.inputs.length+e.outputs.length,e.inputs.length+2*e.outputs.length),i=[],u=e.collectedTrainableWeights.map((function(e){return e.read()}));return[e.optimizer_.minimize((function(){for(var t=[],u=0;u<e.inputs.length;++u)t.push({key:e.inputs[u],value:r[u]});for(var s,l=new Rx(t),c=Mx(e.outputs,l,{training:!0}),d=0;d<e.lossFunctions.length;++d){var p=(0,e.lossFunctions[d])(a[d],c[d]);null!=o[d]&&(p=Hx(p,o[d]));var f=Kd(p);n.push(f),s=0===d?p:Pl(s,p)}for(var h=0;h<e.metricsTensors.length;++h){var m=void 0;if(e.outputs.length>1&&h<e.outputs.length)m=n[h];else{var v=e.metricsTensors[h][0],g=e.metricsTensors[h][1];m=Kd(v(a[g],c[g]))}Fl(m),i.push(m)}return s=Kd(s),e.calculateLosses().forEach((function(e){s=Pl(s,e)})),s}),!0,u)].concat(i)}}},{key:"makeTestFunction",value:function(){var e=this;this.testFunction=function(t){return Sl((function(){for(var n,r=[],a=t.slice(0,e.inputs.length),o=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),i=[],u=0;u<e.inputs.length;++u)i.push({key:e.inputs[u],value:a[u]});for(var s=new Rx(i),l=Mx(e.outputs,s),c=0;c<e.lossFunctions.length;++c){var d=e.lossFunctions[c],p=Kd(d(o[c],l[c]));n=0===c?p:Pl(n,p),r.push(n)}for(var f=0;f<e.metricsTensors.length;++f){var h=e.metricsTensors[f][0],m=e.metricsTensors[f][1],v=Kd(h(o[m],l[m]));r.push(v)}return r}))}}},{key:"fit",value:function(){var e=Ut(qt().mark((function e(t,n){var r,a=arguments;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},e.abrupt("return",uk(this,t,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fitDataset",value:function(){var e=Ut(qt().mark((function e(t,n){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kx(this,t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"trainOnBatch",value:function(){var e=Ut(qt().mark((function e(t,n){var r,a,o,i,u,s,l,c,d,p;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.standardizeUserData(t,n);case 2:r=e.sent,a=r[0],o=r[1],i=this.makeTrainFunction(),u=i(a.concat(o)),s=[],l=Yt(u),e.prev=9,l.s();case 11:if((c=l.n()).done){e.next=19;break}return d=c.value,e.next=15,d.data();case 15:p=e.sent,s.push(p[0]);case 17:e.next=11;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(9),l.e(e.t0);case 24:return e.prev=24,l.f(),e.finish(24);case 27:return Il(u),ck(r[0],t),ck(r[1],n),e.abrupt("return",Lg(s));case 31:case"end":return e.stop()}}),e,this,[[9,21,24,27]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getNamedWeights",value:function(e){for(var t=[],n=null!=e&&e.trainableOnly,r=n?this.trainableWeights:this.weights,a=this.getWeights(n),o=0;o<r.length;++o)n&&!r[o].trainable||t.push({name:r[o].originalName,tensor:a[o]});return t}},{key:"stopTraining",get:function(){return this.stopTraining_},set:function(e){this.stopTraining_=e}},{key:"optimizer",get:function(){return this.optimizer_},set:function(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}},{key:"dispose",value:function(){var e=Xy((0,Dg.Z)(r.prototype),"dispose",this).call(this);if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){var t=El().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=t-El().numTensors}return e}},{key:"getLossIdentifiers",value:function(){var e;if("string"===typeof this.loss)e=Bg(this.loss);else if(Array.isArray(this.loss)){var t,n=Yt(this.loss);try{for(n.s();!(t=n.n()).done;){if("string"!==typeof t.value)throw new Error("Serialization of non-string loss is not supported.")}}catch(xV){n.e(xV)}finally{n.f()}e=this.loss.map((function(e){return Bg(e)}))}else{var r=Object.keys(this.loss);e={};for(var a=this.loss,o=0,i=r;o<i.length;o++){var u=i[o];if("string"!==typeof a[u])throw new Error("Serialization of non-string loss is not supported.");e[u]=Bg(a[u])}}return e}},{key:"getMetricIdentifiers",value:function(){if("string"===typeof this.metrics||"function"===typeof this.metrics)return[Bg(bx(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map((function(e){return Bg(bx(e))}));var e={};for(var t in this.metrics)e[t]=Bg(bx(this.metrics[t]));return e}},{key:"getTrainingConfig",value:function(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}},{key:"loadTrainingConfig",value:function(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");var t,n,r=Yy(Tx(e.optimizer_config));if("string"===typeof e.loss)t=zg(e.loss);else if(Array.isArray(e.loss))t=e.loss.map((function(e){return zg(e)}));else if(null!=e.loss)for(var a in t={},e.loss)t[a]=zg(e.loss[a]);if(Array.isArray(e.metrics))n=e.metrics.map((function(e){return zg(e)}));else if(null!=e.metrics)for(var o in n={},e.metrics)n[o]=zg(e.metrics[o]);this.compile({loss:t,metrics:n,optimizer:r})}},{key:"save",value:function(){var t=Ut(qt().mark((function t(n,r){var a,o,i,u,s,l,c,d,p;return qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!==typeof n){t.next=9;break}if(0!==(a=qu(n)).length){t.next=6;break}throw new Ag("Cannot find any save handlers for URL '".concat(n,"'"));case 6:if(!(a.length>1)){t.next=8;break}throw new Ag("Found more than one (".concat(a.length,") save handlers for ")+"URL '".concat(n,"'"));case 8:n=a[0];case 9:if(null!=n.save){t.next=11;break}throw new Ag("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");case 11:return t.next=13,Tu(this.getNamedWeights(r));case 13:if(o=t.sent,!1,null,i=this.toJSON(null,false),u={modelTopology:i,format:"layers-model",generatedBy:"TensorFlow.js tfjs-layers v".concat(Ax),convertedBy:null},!(null!=r&&r.includeOptimizer)||null==this.optimizer){t.next=34;break}return u.trainingConfig=this.getTrainingConfig(),l="optimizer",t.t0=e,t.next=25,this.optimizer.getWeights();case 25:return t.t1=t.sent,t.t2=l,t.next=29,t.t0.encodeWeights.call(t.t0,t.t1,t.t2);case 29:c=t.sent,d=c.data,p=c.specs,(s=o.specs).push.apply(s,(0,$t.Z)(p)),o.data=Lu([o.data,d]);case 34:return null!=this.userDefinedMetadata&&(!0,xx(this.userDefinedMetadata,this.name,true),u.userDefinedMetadata=this.userDefinedMetadata),u.weightData=o.data,u.weightSpecs=o.specs,t.abrupt("return",n.save(u));case 38:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"setUserDefinedMetadata",value:function(e){xx(e,this.name),this.userDefinedMetadata=e}},{key:"getUserDefinedMetadata",value:function(){return this.userDefinedMetadata}}]),r}(Bx);gk.className="Model",Cl(gk);var bk=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.apply(this,arguments)}return(0,Jt.Z)(n)}(gk);bk.className="Functional",Cl(bk);var yk=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;if((0,Qt.Z)(this,n),e=e||{},(r=t.call(this,{inputs:[],outputs:[]})).trainable=!0,r.built=!1,r.name=null!=e.name?e.name:by("sequential_"),null!=e.layers){var a,o=Yt(e.layers);try{for(o.s();!(a=o.n()).done;){var i=a.value;r.add(i)}}catch(xV){o.e(xV)}finally{o.f()}}return r}return(0,Jt.Z)(n,[{key:"checkShape",value:function(e){if(e.inboundNodes[0].outputTensors[0].shape.some((function(e){return e<0})))throw new Ag("Negative dimension size caused by adding layer "+"".concat(e.name," with input shape [")+"".concat(e.inboundNodes[0].inputTensors[0].shape,"]"))}},{key:"add",value:function(e){var t,r=e instanceof n||e instanceof gk;if(r){if(1!==(t=e).outputs.length)throw new Ag("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==t.inputs.length)throw new Ag("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new Ag("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");var a=function(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new Ag("Please provide either a `shape` or `batchShape` argument to Input, but not both.");var t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));var n=e.dtype;return null==n&&(n="float32"),new Py({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(a)}if(r)this.outputs=t.outputs,this.inputs=t.inputs;else{if(1!==e.inboundNodes.length)throw new Ag("A layer added to a Sequential model must not already be "+"connected somewhere else. LayersModel received layer ".concat(e.name," ")+"which has ".concat(e.inboundNodes.length," pre-existing inbound ")+"connections.");if(1!==e.inboundNodes[0].outputTensors.length)throw new Ag("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=Zy(this.outputs[0])}this.inboundNodes=[],new Ay({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:Zg(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map((function(e){return e.shape})),outputShapes:this.outputs[0].shape})}else{var o=e.apply(this.outputs[0]);if(Array.isArray(o))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[o],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}},{key:"pop",value:function(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{var e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}},{key:"call",value:function(e,t){return null==this.model&&this.build(),this.model.call(e,t)}},{key:"build",value:function(e){if(wy(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new gk({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}},{key:"countParams",value:function(){return this.built||this.build(),Xy((0,Dg.Z)(n.prototype),"countParams",this).call(this)}},{key:"summary",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;this.built||this.build(),Xy((0,Dg.Z)(n.prototype),"summary",this).call(this,e,t,r)}},{key:"setWeights",value:function(e){null==this.model&&this.build(),this.model.setWeights(e)}},{key:"evaluate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.built)throw new Ng("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n)}},{key:"evaluateDataset",value:function(){var e=Ut(qt().mark((function e(t,n){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.built){e.next=2;break}throw new Ng("The model needs to be compiled before being used.");case 2:return e.abrupt("return",this.model.evaluateDataset(t,n));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"predict",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==this.model&&this.build(),this.model.predict(e,t)}},{key:"predictOnBatch",value:function(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)}},{key:"compile",value:function(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}},{key:"optimizer",get:function(){return null==this.model?void 0:this.model.optimizer},set:function(e){this.model.optimizer=e}},{key:"fit",value:function(){var e=Ut(qt().mark((function e(t,n){var r,a=arguments;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>2&&void 0!==a[2]?a[2]:{},this.built){e.next=3;break}throw new Ng("The model needs to be compiled before being used.");case 3:return e.abrupt("return",this.model.fit(t,n,r));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fitDataset",value:function(){var e=Ut(qt().mark((function e(t,n){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.built){e.next=2;break}throw new Ng("The model needs to be compiled before being used.");case 2:return e.abrupt("return",this.model.fitDataset(t,n));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"trainOnBatch",value:function(){var e=Ut(qt().mark((function e(t,n){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.model.trainOnBatch(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"stopTraining",get:function(){if(null==this.model)throw new Ag("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining},set:function(e){if(null==this.model)throw new Ag("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}},{key:"getConfig",value:function(){var e,t=[],n=Yt(this.layers);try{for(n.s();!(e=n.n()).done;){var r=e.value,a={};a.className=r.getClassName(),a.config=r.getConfig(),t.push(a)}}catch(xV){n.e(xV)}finally{n.f()}return{name:this.name,layers:t}}}],[{key:"fromConfig",value:function(e,t){var r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o={};if(t instanceof Array){if(null==t[0].className||"Merge"===t[0].className)throw new Ag("Legacy serialization format not supported yet.");r=t}else ln(null!=t.layers,(function(){return"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."})),r=t.layers,delete t.layers,o=t;var i=new e(o);if(!(i instanceof n))throw new Rg("Sequential.fromConfig called on non-Sequential input: ".concat(i));var u,s=Yt(r);try{for(s.s();!(u=s.n()).done;){var l=u.value,c=void 0,d=Yy(l,c,a);a&&d.setFastWeightInitDuringBuild(!0),i.add(d)}}catch(xV){s.e(xV)}finally{s.f()}return i}}]),n}(gk);yk.className="Sequential",Cl(yk);var xk=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.apply(this,arguments)}return(0,Jt.Z)(n,[{key:"getConfig",value:function(){return{}}}]),n}(kl),kk=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.apply(this,arguments)}return(0,Jt.Z)(n,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Hb(e,t)}}]),n}(xk);kk.className="elu",Cl(kk);var wk=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.apply(this,arguments)}return(0,Jt.Z)(n,[{key:"apply",value:function(e){return zp(e)}}]),n}(xk);wk.className="selu",Cl(wk);var Ck=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.apply(this,arguments)}return(0,Jt.Z)(n,[{key:"apply",value:function(e){return Ap(e)}}]),n}(xk);Ck.className="relu",Cl(Ck);var Dk=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.apply(this,arguments)}return(0,Jt.Z)(n,[{key:"apply",value:function(e){return Sl((function(){return Jd(6,Ap(e))}))}}]),n}(xk);Dk.className="relu6",Cl(Dk);var Ek=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.apply(this,arguments)}return(0,Jt.Z)(n,[{key:"apply",value:function(e){return e}}]),n}(xk);Ek.className="linear",Cl(Ek);var Sk=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.apply(this,arguments)}return(0,Jt.Z)(n,[{key:"apply",value:function(e){return mc(e)}}]),n}(xk);Sk.className="sigmoid",Cl(Sk);var Ik=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.apply(this,arguments)}return(0,Jt.Z)(n,[{key:"apply",value:function(e){return function(e){return Sl((function(){var t=Pl(.5,hc(.2,e));return Fc(t,0,1)}))}(e)}}]),n}(xk);Ik.className="hardSigmoid",Cl(Ik);var Fk=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.apply(this,arguments)}return(0,Jt.Z)(n,[{key:"apply",value:function(e){return Sd(e)}}]),n}(xk);Fk.className="softplus",Cl(Fk);var Tk=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.apply(this,arguments)}return(0,Jt.Z)(n,[{key:"apply",value:function(e){return function(e){return Sl((function(){return Xc(e,Pl(Ol(e),1))}))}(e)}}]),n}(xk);Tk.className="softsign",Cl(Tk);var Nk=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.apply(this,arguments)}return(0,Jt.Z)(n,[{key:"apply",value:function(e){return gc(e)}}]),n}(xk);Nk.className="tanh",Cl(Nk);var Ak=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.apply(this,arguments)}return(0,Jt.Z)(n,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return $p(e,t)}}]),n}(xk);Ak.className="softmax",Cl(Ak);var Rk=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.apply(this,arguments)}return(0,Jt.Z)(n,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return Ad(e,t)}}]),n}(xk);Rk.className="logSoftmax",Cl(Rk);var Ok=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.apply(this,arguments)}return(0,Jt.Z)(n,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Sl((function(){return hc(mc(hc(e,t)),e)}))}}]),n}(xk);Ok.className="swish",Cl(Ok);var Zk=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.apply(this,arguments)}return(0,Jt.Z)(n,[{key:"apply",value:function(e){return Sl((function(){return hc(e,gc(Sd(e)))}))}}]),n}(xk);function Mk(e){return e.getClassName()}function Pk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Hg(e,wl.getMap().classNameMap,t,"activation")}function Lk(e){if(null==e){var t={className:"linear",config:{}};return Pk(t)}if("string"===typeof e){var n={};return n.className=e,n.config={},Pk(n)}return e instanceof xk?e:Pk(e)}function _k(e){if(null!=e&&"object"!==typeof e)throw new Error("Argument to L1L2 regularizer's constructor is expected to be an "+"object, but received: ".concat(e))}Zk.className="mish",Cl(Zk);var Bk=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.apply(this,arguments)}return(0,Jt.Z)(n)}(kl),zk=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),r=t.call(this),_k(e),r.l1=null==e||null==e.l1?.01:e.l1,r.l2=null==e||null==e.l2?.01:e.l2,r.hasL1=0!==r.l1,r.hasL2=0!==r.l2,r}return(0,Jt.Z)(n,[{key:"apply",value:function(e){var t=this;return Sl((function(){var n=Xd([1]);return t.hasL1&&(n=Pl(n,Nd(hc(t.l1,Ol(e))))),t.hasL2&&(n=Pl(n,Nd(hc(t.l2,jb(e))))),lc(n,[])}))}},{key:"getConfig",value:function(){return{l1:this.l1,l2:this.l2}}}],[{key:"fromConfig",value:function(e,t){return new e({l1:t.l1,l2:t.l2})}}]),n}(Bk);zk.className="L1L2",Cl(zk);var jk={l1l2:"L1L2"};function Vk(e){return Vg(e)}function Wk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Hg(e,wl.getMap().classNameMap,t,"regularizer")}function Hk(e){return null==e?null:"string"===typeof e?Wk({className:e in jk?jk[e]:e,config:{}}):e instanceof Bk?e:Wk(e)}var Uk=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this,null==e?{}:e)).supportsMasking=!0,null!=e&&(r.maxValue=e.maxValue),r}return(0,Jt.Z)(n,[{key:"call",value:function(e,t){e=ky(e);var n=Ap(e);return null!=this.maxValue&&(n=Fc(n,0,this.maxValue)),n}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={maxValue:this.maxValue},t=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Oy);Uk.className="ReLU",Cl(Uk);var Gk=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_ALPHA=.3,null==e&&(e={}),r.alpha=null==e.alpha?r.DEFAULT_ALPHA:e.alpha,r}return(0,Jt.Z)(n,[{key:"call",value:function(e,t){var n=ky(e);return bd(n,this.alpha)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={alpha:this.alpha},t=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Oy);Gk.className="LeakyReLU",Cl(Gk);var qk=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;if((0,Qt.Z)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),r.supportsMasking=!0,r.alphaInitializer=hy(e.alphaInitializer||r.DEFAULT_ALPHA_INITIALIZER),r.alphaRegularizer=Hk(e.alphaRegularizer),r.alphaConstraint=sb(e.alphaConstraint),null==e.sharedAxes)r.sharedAxes=null;else if(Array.isArray(e.sharedAxes))r.sharedAxes=e.sharedAxes;else{if("number"!==typeof e.sharedAxes)throw new Ag("Expected sharedAxes to be a number or an array of numbers, "+"but got ".concat(e.sharedAxes));r.sharedAxes=[e.sharedAxes]}return r}return(0,Jt.Z)(n,[{key:"build",value:function(e){var t=(e=wy(e)).slice(1);if(null!=this.sharedAxes){var n,r=Yt(this.sharedAxes);try{for(r.s();!(n=r.n()).done;){t[n.value-1]=1}}catch(xV){r.e(xV)}finally{r.f()}}this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);var a={};if(null!=this.sharedAxes)for(var o=1;o<e.length;++o)a[o]=e[o];this.inputSpec=[new Fy({ndim:e.length,axes:a})],this.built=!0}},{key:"call",value:function(e,t){return e=ky(e),bp(e,this.alpha.read())}},{key:"getConfig",value:function(){var e={alphaInitializer:fy(this.alphaInitializer),alphaRegularizer:Vk(this.alphaRegularizer),alphaConstraint:ib(this.alphaConstraint),sharedAxes:this.sharedAxes},t=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Oy);qk.className="PReLU",Cl(qk);var Kk=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;if((0,Qt.Z)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==r.DEFAULT_ALPHA)throw new Rg("Non-default alpha value (".concat(e.alpha,") is not supported by the ")+"ELU layer yet.");return r.alpha=null==e.alpha?r.DEFAULT_ALPHA:e.alpha,r}return(0,Jt.Z)(n,[{key:"call",value:function(e,t){var n=ky(e);return nd(n)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={alpha:this.alpha},t=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Oy);Kk.className="ELU",Cl(Kk);var Xk=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_THETA=1,null==e&&(e={}),r.theta=null==e.theta?r.DEFAULT_THETA:e.theta,r}return(0,Jt.Z)(n,[{key:"call",value:function(e,t){var n=ky(e);return hc(n,Ps(pd(n,this.theta),"float32"))}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={theta:this.theta},t=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Oy);Xk.className="ThresholdedReLU",Cl(Xk);var Yk=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_AXIS=1,null==e&&(e={}),r.softmax=(new Ak).apply,r.axis=null==e.axis?r.DEFAULT_AXIS:e.axis,r}return(0,Jt.Z)(n,[{key:"call",value:function(e,t){var n=ky(e);return this.softmax(n,this.axis)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={axis:this.axis},t=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Oy);function $k(e,t,n){if("number"===typeof e)return Zg(e,t);if(e.length!==t)throw new Ag("The ".concat(n," argument must be an integer or tuple of ").concat(t," integers.")+" Received: ".concat(e.length," elements."));for(var r=0;r<t;++r){var a=e[r];if(!Db(a))throw new Ag("The ".concat(n," argument must be an integer or tuple of ").concat(t)+" integers. Received: ".concat(JSON.stringify(e)," including a")+" non-integer number ".concat(a))}return e}function Qk(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;if(null==e)return e;var o,i=t+(t-1)*(a-1);return o="same"===n?e:e-i+1,Math.floor((o+r-1)/r)}function Jk(e,t,n,r){if(null==e)return null;if("valid"===r)e=e*t+Ib([n-t,0]);else{if("same"!==r)throw new Ag("Unsupport padding mode: ".concat(r,"."));e*=t}return e}function ew(e,t){return Sl((function(){return mb(t),"channelsFirst"===t?If(e,[0,2,3,1]):e}))}function tw(e,t){return Sl((function(){return mb(t),"channelsFirst"===t?If(e,[0,2,3,4,1]):e}))}function nw(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",o=arguments.length>5?arguments[5]:void 0,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;return Sl((function(){if(null==o&&(o="channelsLast"),mb(o),3!==e.shape.length)throw new Ag("The input of a conv1dWithBias operation should be 3, but is "+"".concat(e.shape.length," instead."));if(3!==t.shape.length)throw new Ag("The kernel for a conv1dWithBias operation should be 3, but is "+"".concat(t.shape.length," instead"));if(null!=n&&1!==n.shape.length)throw new Ag("The bias for a conv1dWithBias operation should be 1, but is "+"".concat(t.shape.length," instead"));if("channelsFirst"===o&&(e=If(e,[0,2,1])),"causal"===a)throw new Rg("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");var u=Zc(e,t,r,"same"===a?"same":"valid","NWC",i);return null!=n&&(u=Wb(u,n)),u}))}function rw(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",o=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return Sl((function(){if(null==o&&(o="channelsLast"),mb(o),3!==e.rank&&4!==e.rank)throw new Ag("conv2dWithBiasActivation expects input to be of rank 3 or 4, "+"but received ".concat(e.rank,"."));if(3!==t.rank&&4!==t.rank)throw new Ag("conv2dWithBiasActivation expects kernel to be of rank 3 or 4, "+"but received ".concat(e.rank,"."));var s=ew(e,o);if("causal"===a)throw new Rg("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return s=qf({x:s,filter:t,strides:r,pad:"same"===a?"same":"valid",dilations:i,dataFormat:"NHWC",bias:n,activation:u}),"channelsFirst"===o&&(s=If(s,[0,3,1,2])),s}))}function aw(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",o=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0;return Sl((function(){if(null==o&&(o="channelsLast"),mb(o),4!==e.rank&&5!==e.rank)throw new Ag("conv3dWithBias expects input to be of rank 4 or 5, but received "+"".concat(e.rank,"."));if(4!==t.rank&&5!==t.rank)throw new Ag("conv3dWithBias expects kernel to be of rank 4 or 5, but received "+"".concat(e.rank,"."));var u=tw(e,o);if("causal"===a)throw new Rg("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return u=Lc(u,t,r,"same"===a?"same":"valid","NDHWC",i),null!=n&&(u=Wb(u,n)),"channelsFirst"===o&&(u=If(u,[0,4,1,2,3])),u}))}Yk.className="Softmax",Cl(Yk);var ow=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e,r){var a;if((0,Qt.Z)(this,n),(a=t.call(this,r)).bias=null,a.DEFAULT_KERNEL_INITIALIZER="glorotNormal",a.DEFAULT_BIAS_INITIALIZER="zeros",n.verifyArgs(r),a.rank=e,Yg(a.rank,"rank"),1!==a.rank&&2!==a.rank&&3!==a.rank)throw new Rg("Convolution layer for rank other than 1, 2, or 3 (".concat(a.rank,") is ")+"not implemented yet.");if(a.kernelSize=$k(r.kernelSize,e,"kernelSize"),a.strides=$k(null==r.strides?1:r.strides,e,"strides"),a.padding=null==r.padding?"valid":r.padding,vb(a.padding),a.dataFormat=null==r.dataFormat?"channelsLast":r.dataFormat,mb(a.dataFormat),a.activation=Lk(r.activation),a.useBias=null==r.useBias||r.useBias,a.biasInitializer=hy(r.biasInitializer||a.DEFAULT_BIAS_INITIALIZER),a.biasConstraint=sb(r.biasConstraint),a.biasRegularizer=Hk(r.biasRegularizer),a.activityRegularizer=Hk(r.activityRegularizer),a.dilationRate=$k(null==r.dilationRate?1:r.dilationRate,e,"dilationRate"),1===a.rank&&Array.isArray(a.dilationRate)&&1!==a.dilationRate.length)throw new Ag("dilationRate must be a number or an array of a single number for 1D convolution, but received "+"".concat(JSON.stringify(a.dilationRate)));if(2===a.rank){if("number"===typeof a.dilationRate)a.dilationRate=[a.dilationRate,a.dilationRate];else if(2!==a.dilationRate.length)throw new Ag("dilationRate must be a number or array of two numbers for 2D "+"convolution, but received ".concat(JSON.stringify(a.dilationRate)))}else if(3===a.rank)if("number"===typeof a.dilationRate)a.dilationRate=[a.dilationRate,a.dilationRate,a.dilationRate];else if(3!==a.dilationRate.length)throw new Ag("dilationRate must be a number or array of three numbers for 3D "+"convolution, but received ".concat(JSON.stringify(a.dilationRate)));return a}return(0,Jt.Z)(n,[{key:"getConfig",value:function(){var e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:Mk(this.activation),useBias:this.useBias,biasInitializer:fy(this.biasInitializer),biasRegularizer:Vk(this.biasRegularizer),activityRegularizer:Vk(this.activityRegularizer),biasConstraint:ib(this.biasConstraint)},t=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}],[{key:"verifyArgs",value:function(e){if(Mg("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!==typeof e.kernelSize&&!Xg(e.kernelSize,"number",1,3))throw new Ag("BaseConv expects config.kernelSize to be number or number[] with "+"length 1, 2, or 3, but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),n}(Oy),iw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e,r){var a;return(0,Qt.Z)(this,n),(a=t.call(this,e,r)).kernel=null,n.verifyArgs(r),a.filters=r.filters,Yg(a.filters,"filters"),a.kernelInitializer=hy(r.kernelInitializer||a.DEFAULT_KERNEL_INITIALIZER),a.kernelConstraint=sb(r.kernelConstraint),a.kernelRegularizer=Hk(r.kernelRegularizer),a}return(0,Jt.Z)(n,[{key:"build",value:function(e){e=wy(e);var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new Ag("The channel dimension of the input should be defined. "+"Found ".concat(e[t]));var n=e[t],r=this.kernelSize.concat([n,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:(0,Ve.Z)({},t,n)}],this.built=!0}},{key:"call",value:function(e,t){var n=this;return Sl((function(){var t;e=ky(e);var r=null==n.bias?null:n.bias.read(),a=Qg(n.activation.getClassName());if(null!=a&&2===n.rank)t=rw(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate,a);else{if(1===n.rank)t=nw(e,n.kernel.read(),r,n.strides[0],n.padding,n.dataFormat,n.dilationRate[0]);else if(2===n.rank)t=rw(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate);else{if(3!==n.rank)throw new Rg("convolutions greater than 3D are not implemented yet.");t=aw(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate)}null!=n.activation&&(t=n.activation.apply(t))}return t}))}},{key:"computeOutputShape",value:function(e){e=wy(e);for(var t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2),r=0;r<n.length;++r){var a=Qk(n[r],this.kernelSize[r],this.padding,this.strides[r],"number"===typeof this.dilationRate?this.dilationRate:this.dilationRate[r]);t.push(a)}var o=[e[0]];return"channelsLast"===this.dataFormat?(o=o.concat(t)).push(this.filters):(o.push(this.filters),o=o.concat(t)),o}},{key:"getConfig",value:function(){var e={filters:this.filters,kernelInitializer:fy(this.kernelInitializer),kernelRegularizer:Vk(this.kernelRegularizer),kernelConstraint:ib(this.kernelConstraint)},t=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}],[{key:"verifyArgs",value:function(e){if(!("filters"in e)||"number"!==typeof e.filters||e.filters<1)throw new Ag("Convolution layer expected config.filters to be a 'number' > 0 "+"but got ".concat(JSON.stringify(e.filters)))}}]),n}(ow),uw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),r=t.call(this,2,e),n.verifyArgs(e),r}return(0,Jt.Z)(n,[{key:"getConfig",value:function(){var e=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return delete e.rank,e}}],[{key:"verifyArgs",value:function(e){if("number"!==typeof e.kernelSize&&!Xg(e.kernelSize,"number",1,2))throw new Ag("Conv2D expects config.kernelSize to be number or number[] with "+"length 1 or 2, but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),n}(iw);uw.className="Conv2D",Cl(uw);var sw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),r=t.call(this,3,e),n.verifyArgs(e),r}return(0,Jt.Z)(n,[{key:"getConfig",value:function(){var e=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return delete e.rank,e}}],[{key:"verifyArgs",value:function(e){if("number"!==typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new Ag("Conv3D expects config.kernelSize to be number or"+" [number, number, number], but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),n}(iw);sw.className="Conv3D",Cl(sw);var lw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;if((0,Qt.Z)(this,n),(r=t.call(this,e)).inputSpec=[new Fy({ndim:4})],"same"!==r.padding&&"valid"!==r.padding)throw new Ag("Conv2DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(r.padding));return r}return(0,Jt.Z)(n,[{key:"build",value:function(e){if(4!==(e=wy(e)).length)throw new Ag("Input should have rank 4; Received input shape: "+JSON.stringify(e));var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new Ag("The channel dimension of the inputs should be defined. Found `None`.");var n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Fy({ndim:4,axes:(0,Ve.Z)({},t,n)})],this.built=!0}},{key:"call",value:function(e,t){var n=this;return Sl((function(){var t=ky(e);if(4!==t.shape.length)throw new Ag("Conv2DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(t.shape.length));var r,a,o=t.shape,i=o[0];"channelsFirst"===n.dataFormat?(r=2,a=3):(r=1,a=2);var u=o[r],s=o[a],l=n.kernelSize[0],c=n.kernelSize[1],d=n.strides[0],p=n.strides[1],f=[i,Jk(u,d,l,n.padding),Jk(s,p,c,n.padding),n.filters];"channelsLast"!==n.dataFormat&&(t=If(t,[0,2,3,1]));var h=Pc(t,n.kernel.read(),f,n.strides,n.padding);return"channelsLast"!==n.dataFormat&&(h=If(h,[0,3,1,2])),null!=n.bias&&(h=Wb(h,n.bias.read(),n.dataFormat)),null!=n.activation&&(h=n.activation.apply(h)),h}))}},{key:"computeOutputShape",value:function(e){var t,n,r,a=(e=wy(e)).slice();"channelsFirst"===this.dataFormat?(t=1,n=2,r=3):(t=3,n=1,r=2);var o=this.kernelSize[0],i=this.kernelSize[1],u=this.strides[0],s=this.strides[1];return a[t]=this.filters,a[n]=Jk(a[n],u,o,this.padding),a[r]=Jk(a[r],s,i,this.padding),a}},{key:"getConfig",value:function(){var e=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return delete e.dilationRate,e}}]),n}(uw);lw.className="Conv2DTranspose",Cl(lw);var cw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;if((0,Qt.Z)(this,n),(r=t.call(this,e)).inputSpec=[new Fy({ndim:5})],"same"!==r.padding&&"valid"!==r.padding)throw new Ag("Conv3DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(r.padding));return r}return(0,Jt.Z)(n,[{key:"build",value:function(e){if(5!==(e=wy(e)).length)throw new Ag("Input should have rank 5; Received input shape: "+JSON.stringify(e));var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new Ag("The channel dimension of the inputs should be defined. Found `None`.");var n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Fy({ndim:5,axes:(0,Ve.Z)({},t,n)})],this.built=!0}},{key:"call",value:function(e,t){var n=this;return Sl((function(){var t=ky(e);if(5!==t.shape.length)throw new Ag("Conv3DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(t.shape.length));var r,a,o,i=t.shape,u=i[0];"channelsFirst"===n.dataFormat?(o=2,r=3,a=4):(o=1,r=2,a=3);var s=i[o],l=i[r],c=i[a],d=n.kernelSize[0],p=n.kernelSize[1],f=n.kernelSize[2],h=n.strides[0],m=n.strides[1],v=n.strides[2],g=[u,Jk(s,h,d,n.padding),Jk(l,m,p,n.padding),Jk(c,v,f,n.padding),n.filters];"channelsLast"!==n.dataFormat&&(t=If(t,[0,2,3,4,1]));var b=Bc(t,n.kernel.read(),g,n.strides,n.padding);return"channelsLast"!==n.dataFormat&&(b=If(b,[0,4,1,2,3])),null!==n.bias&&(b=Wb(b,n.bias.read(),n.dataFormat)),null!==n.activation&&(b=n.activation.apply(b)),b}))}},{key:"computeOutputShape",value:function(e){var t,n,r,a,o=(e=wy(e)).slice();"channelsFirst"===this.dataFormat?(t=1,n=2,r=3,a=4):(t=4,n=1,r=2,a=3);var i=this.kernelSize[0],u=this.kernelSize[1],s=this.kernelSize[2],l=this.strides[0],c=this.strides[1],d=this.strides[2];return o[t]=this.filters,o[n]=Jk(o[n],l,i,this.padding),o[r]=Jk(o[r],c,u,this.padding),o[a]=Jk(o[a],d,s,this.padding),o}},{key:"getConfig",value:function(){var e=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return delete e.dilationRate,e}}]),n}(sw);cw.className="Conv3DTranspose",Cl(cw);var dw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e,r){var a;if((0,Qt.Z)(this,n),(a=t.call(this,e,r)).DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",a.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",a.depthwiseKernel=null,a.pointwiseKernel=null,null==r.filters)throw new Ag("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=r.kernelInitializer||null!=r.kernelRegularizer||null!=r.kernelConstraint)throw new Ag("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=r.padding&&"same"!==r.padding&&"valid"!==r.padding)throw new Ag("SeparableConv".concat(a.rank,"D supports only padding modes: ")+"'same' and 'valid', but received ".concat(JSON.stringify(r.padding)));return a.depthMultiplier=null==r.depthMultiplier?1:r.depthMultiplier,a.depthwiseInitializer=hy(r.depthwiseInitializer||a.DEFAULT_DEPTHWISE_INITIALIZER),a.depthwiseRegularizer=Hk(r.depthwiseRegularizer),a.depthwiseConstraint=sb(r.depthwiseConstraint),a.pointwiseInitializer=hy(r.depthwiseInitializer||a.DEFAULT_POINTWISE_INITIALIZER),a.pointwiseRegularizer=Hk(r.pointwiseRegularizer),a.pointwiseConstraint=sb(r.pointwiseConstraint),a}return(0,Jt.Z)(n,[{key:"build",value:function(e){if((e=wy(e)).length<this.rank+2)throw new Ag("Inputs to SeparableConv".concat(this.rank,"D should have rank ")+"".concat(this.rank+2,", but received input shape: ")+"".concat(JSON.stringify(e)));var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t]||e[t]<0)throw new Ag("The channel dimension of the inputs should be defined, "+"but found ".concat(JSON.stringify(e[t])));for(var n=e[t],r=this.kernelSize.concat([n,this.depthMultiplier]),a=[],o=0;o<this.rank;++o)a.push(1);a.push(n*this.depthMultiplier,this.filters);var i=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,i,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",a,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,i,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,i,this.biasConstraint):this.bias=null,this.inputSpec=[new Fy({ndim:this.rank+2,axes:(0,Ve.Z)({},t,n)})],this.built=!0}},{key:"call",value:function(e,t){var n=this;return Sl((function(){var t;if(e=ky(e),1===n.rank)throw new Rg("1D separable convolution is not implemented yet.");return 2===n.rank&&("channelsFirst"===n.dataFormat&&(e=If(e,[0,2,3,1])),t=jp(e,n.depthwiseKernel.read(),n.pointwiseKernel.read(),n.strides,n.padding,n.dilationRate,"NHWC")),n.useBias&&(t=Wb(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),"channelsFirst"===n.dataFormat&&(t=If(t,[0,3,1,2])),t}))}},{key:"getConfig",value:function(){var e=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=fy(this.depthwiseInitializer),e.pointwiseInitializer=fy(this.pointwiseInitializer),e.depthwiseRegularizer=Vk(this.depthwiseRegularizer),e.pointwiseRegularizer=Vk(this.pointwiseRegularizer),e.depthwiseConstraint=ib(this.depthwiseConstraint),e.pointwiseConstraint=ib(this.pointwiseConstraint),e}}]),n}(iw);dw.className="SeparableConv";var pw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){return(0,Qt.Z)(this,n),t.call(this,2,e)}return(0,Jt.Z)(n)}(dw);pw.className="SeparableConv2D",Cl(pw);var fw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),r=t.call(this,1,e),n.verifyArgs(e),r.inputSpec=[{ndim:3}],r}return(0,Jt.Z)(n,[{key:"getConfig",value:function(){var e=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return delete e.rank,delete e.dataFormat,e}}],[{key:"verifyArgs",value:function(e){if("number"!==typeof e.kernelSize&&!Xg(e.kernelSize,"number",1,1))throw new Ag("Conv1D expects config.kernelSize to be number or number[] with "+"length 1, but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),n}(iw);fw.className="Conv1D",Cl(fw);var hw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),r=t.call(this,e),"number"===typeof e.cropping?r.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"===typeof e.cropping[0]?r.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:r.cropping=e.cropping,r.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,r.inputSpec=[{ndim:4}],r}return(0,Jt.Z)(n,[{key:"computeOutputShape",value:function(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}},{key:"call",value:function(e,t){var n=this;return Sl((function(){if(e=ky(e),"channelsLast"===n.dataFormat){var t=Zb(e,n.cropping[0][0],e.shape[1]-n.cropping[0][0]-n.cropping[0][1],2);return Zb(t,n.cropping[1][0],e.shape[2]-n.cropping[1][1]-n.cropping[1][0],3)}var r=Zb(e,n.cropping[0][0],e.shape[2]-n.cropping[0][0]-n.cropping[0][1],3);return Zb(r,n.cropping[1][0],e.shape[3]-n.cropping[1][1]-n.cropping[1][0],4)}))}},{key:"getConfig",value:function(){var e={cropping:this.cropping,dataFormat:this.dataFormat},t=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Oy);hw.className="Cropping2D",Cl(hw);var mw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r,a;return(0,Qt.Z)(this,n),(r=t.call(this,e)).DEFAULT_SIZE=[2,2],r.inputSpec=[{ndim:4}],r.size=null==e.size?r.DEFAULT_SIZE:e.size,r.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,mb(r.dataFormat),r.interpolation=null==e.interpolation?"nearest":e.interpolation,a=r.interpolation,Kg(cb,"InterpolationFormat",a),r}return(0,Jt.Z)(n,[{key:"computeOutputShape",value:function(e){if("channelsFirst"===this.dataFormat){var t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}var r=null==e[1]?null:this.size[0]*e[1],a=null==e[2]?null:this.size[1]*e[2];return[e[0],r,a,e[3]]}},{key:"call",value:function(e,t){var n=this;return Sl((function(){var t=ky(e),r=t.shape;if("channelsFirst"===n.dataFormat){t=If(t,[0,2,3,1]);var a=n.size[0]*r[2],o=n.size[1]*r[3],i="nearest"===n.interpolation?om.resizeNearestNeighbor(t,[a,o]):om.resizeBilinear(t,[a,o]);return If(i,[0,3,1,2])}var u=n.size[0]*r[1],s=n.size[1]*r[2];return"nearest"===n.interpolation?om.resizeNearestNeighbor(t,[u,s]):om.resizeBilinear(t,[u,s])}))}},{key:"getConfig",value:function(){var e={size:this.size,dataFormat:this.dataFormat},t=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Oy);mw.className="UpSampling2D",Cl(mw);var vw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this,2,e)).depthwiseKernel=null,r.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,r.depthwiseInitializer=hy(e.depthwiseInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.depthwiseConstraint=sb(e.depthwiseConstraint),r.depthwiseRegularizer=Hk(e.depthwiseRegularizer),r}return(0,Jt.Z)(n,[{key:"build",value:function(e){if((e=wy(e)).length<4)throw new Ag("Inputs to DepthwiseConv2D should have rank 4. "+"Received input shape: ".concat(JSON.stringify(e),"."));var t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new Ag("The channel dimension of the inputs to DepthwiseConv2D should "+"be defined, but is not (".concat(e[t],")."));var n=e[t],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return Sl((function(){var t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"valid",a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return Sl((function(){null==a&&(a="channelsLast"),mb(a);var i=ew(e,a);if(4!==e.rank)throw new Ag("Input for depthwiseConv2d is required to be 4-D, but is instead "+"".concat(e.rank,"-D"));if(4!==t.rank)throw new Ag("depthwiseKernel is required to be 4-D, but is instead "+"".concat(t.rank,"-D"));return i=Uc(i,t,n,"same"===r?"same":"valid","NHWC",o),"channelsFirst"===a&&(i=If(i,[0,3,1,2])),i}))}(e=ky(e),n.depthwiseKernel.read(),n.strides,n.padding,n.dataFormat,null);return n.useBias&&(t=Wb(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),t}))}},{key:"computeOutputShape",value:function(e){e=wy(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,a=Qk(t,this.kernelSize[0],this.padding,this.strides[0]),o=Qk(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],r,a,o]:[e[0],a,o,r]}},{key:"getConfig",value:function(){var e=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=fy(this.depthwiseInitializer),e.depthwiseRegularizer=Vk(this.depthwiseRegularizer),e.depthwiseConstraint=ib(this.depthwiseRegularizer),e}}]),n}(ow);function gw(e,t,n,r){if(Array.isArray(e)){if(null!=t||null!=n)throw new Ag("When inputs is an array, neither initialState or constants should be provided");null!=r&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function a(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=a(t),constants:n=a(n)}}function bw(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return Sl((function(){var s=t.shape.length;if(s<3)throw new Ag("Input should be at least 3D, but is ".concat(s,"D."));var l=[1,0].concat(Fb(2,s));if(t=If(t,l),null!=o)throw new Rg("The rnn() functoin of the deeplearn.js backend does not support constants yet.");i&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=a&&((a=Ps(Ps(a,"bool"),"float32")).rank===s-1&&(a=od(a,-1)),a=If(a,l)),r&&(t=Op(t,0),null!=a&&(a=Op(a,0)));var c,d,p=[],f=n,h=t.shape[0],m=xf(t);null!=a&&(d=xf(a));for(var v,g=function(t){var n=m[t],r=Sl((function(){return e(n,f)}));if(null==a)c=r[0],f=r[1];else{var o=Sl((function(){var e=d[t],n=Td(sp(e),e);return{output:Pl(hc(r[0],e),hc(f[0],n)),newStates:f.map((function(t,a){return Pl(hc(r[1][a],e),hc(t,n))}))}}));c=o.output,f=o.newStates}u&&p.push(c)},b=0;b<h;++b)g(b);if(u){v=uf(p,1)}return[c,v,f]}))}vw.className="DepthwiseConv2D",Cl(vw);var yw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r,a;if((0,Qt.Z)(this,n),r=t.call(this,e),null==e.cell)throw new Ag("cell property is missing for the constructor of RNN.");if(null==(a=Array.isArray(e.cell)?new Iw({cells:e.cell}):e.cell).stateSize)throw new Ag("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");return r.cell=a,r.returnSequences=null!=e.returnSequences&&e.returnSequences,r.returnState=null!=e.returnState&&e.returnState,r.goBackwards=null!=e.goBackwards&&e.goBackwards,r._stateful=null!=e.stateful&&e.stateful,r.unroll=null!=e.unroll&&e.unroll,r.supportsMasking=!0,r.inputSpec=[new Fy({ndim:3})],r.stateSpec=null,r.states_=null,r.numConstants=null,r.keptStates=[],r}return(0,Jt.Z)(n,[{key:"getStates",value:function(){return null==this.states_?Fb(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map((function(e){return null})):this.states_}},{key:"setStates",value:function(e){this.states_=e}},{key:"computeOutputShape",value:function(e){yy(e)&&(e=e[0]),e=e;var t=this.cell.stateSize;Array.isArray(t)||(t=[t]);var n,r=t[0];if(n=this.returnSequences?[e[0],e[1],r]:[e[0],r],this.returnState){var a,o=[],i=Yt(t);try{for(i.s();!(a=i.n()).done;){var u=a.value;o.push([e[0],u])}}catch(xV){i.e(xV)}finally{i.f()}return[n].concat(o)}return n}},{key:"computeMask",value:function(e,t){var n=this;return Sl((function(){Array.isArray(t)&&(t=t[0]);var e=n.returnSequences?t:null;if(n.returnState){var r=n.states.map((function(e){return null}));return[e].concat(r)}return e}))}},{key:"states",get:function(){if(null==this.states_){for(var e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[],n=0;n<e;++n)t.push(null);return t}return this.states_},set:function(e){this.states_=e}},{key:"build",value:function(e){if(null!=this.numConstants)throw new Rg("Constants support is not implemented in RNN yet.");yy(e)&&(e=e[0]),e=e;var t=this.stateful?e[0]:null,n=e.slice(2);this.inputSpec[0]=new Fy({shape:[t,null].concat((0,$t.Z)(n))});var r,a=[e[0]].concat(e.slice(2));if(this.cell.build(a),r=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!hn(this.stateSpec.map((function(e){return e.shape[e.shape.length-1]})),r))throw new Ag("An initialState was passed that is not compatible with "+"cell.stateSize. Received stateSpec=".concat(this.stateSpec,"; ")+"However cell.stateSize is ".concat(this.cell.stateSize))}else this.stateSpec=r.map((function(e){return new Fy({shape:[null,e]})}));this.stateful&&this.resetStates()}},{key:"resetStates",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Sl((function(){if(!t.stateful)throw new Tg("Cannot call resetStates() on an RNN Layer that is not stateful.");var r=t.inputSpec[0].shape[0];if(null==r)throw new Ag("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==t.states_)Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(e){return Xd([r,e])})):t.states_=[Xd([r,t.cell.stateSize])];else if(null==e)Il(t.states_),null!=t.keptStates&&(Il(t.keptStates),t.keptStates=[]),Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(e){return Xd([r,e])})):t.states_[0]=Xd([r,t.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==t.states_.length)throw new Ag("Layer ".concat(t.name," expects ").concat(t.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));!0===n?t.keptStates.push(t.states_.slice()):Il(t.states_);for(var a=0;a<t.states_.length;++a){var o=e[a],i=Array.isArray(t.cell.stateSize)?t.cell.stateSize[a]:t.cell.stateSize,u=[r,i];if(!hn(o.shape,u))throw new Ag("State ".concat(a," is incompatible with layer ").concat(t.name,": ")+"expected shape=".concat(u,", received shape=").concat(o.shape));t.states_[a]=o}}t.states_=t.states_.map((function(e){return Fl(e.clone())}))}))}},{key:"apply",value:function(e,t){var r=null==t?null:t.initialState,a=null==t?null:t.constants;null==t&&(t={});var o=gw(e,r,a,this.numConstants);e=o.inputs,r=o.initialState,a=o.constants;var i=[],u=[];if(null!=r){t.initialState=r,i=i.concat(r),this.stateSpec=[];var s,l=Yt(r);try{for(l.s();!(s=l.n()).done;){var c=s.value;this.stateSpec.push(new Fy({shape:c.shape}))}}catch(xV){l.e(xV)}finally{l.f()}u=u.concat(this.stateSpec)}if(null!=a&&(t.constants=a,i=i.concat(a),this.numConstants=a.length),i[0]instanceof Ty){var d=[e].concat(i),p=this.inputSpec.concat(u),f=this.inputSpec;this.inputSpec=p;var h=Xy((0,Dg.Z)(n.prototype),"apply",this).call(this,d,t);return this.inputSpec=f,h}return Xy((0,Dg.Z)(n.prototype),"apply",this).call(this,e,t)}},{key:"call",value:function(e,t){var n=this;return Sl((function(){var r=null==t?null:t.mask,a=null==t?null:t.training,o=null==t?null:t.initialState;e=ky(e),null==o&&(o=n.stateful?n.states_:n.getInitialState(e));var i=Array.isArray(n.cell.stateSize)?n.cell.stateSize.length:1;if(o.length!==i)throw new Ag("RNN Layer has ".concat(i," state(s) but was passed ")+"".concat(o.length," initial state(s)."));n.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");var u={training:a},s=bw((function(e,t){var r=n.cell.call([e].concat(t),u);return[r[0],r.slice(1)]}),e,o,n.goBackwards,r,null,n.unroll,n.returnSequences),l=s[0],c=s[1],d=s[2];n.stateful&&n.resetStates(d,a);var p=n.returnSequences?c:l;return n.returnState?[p].concat(d):p}))}},{key:"getInitialState",value:function(e){var t=this;return Sl((function(){var n=Xd(e.shape);return n=Nb(n=Nd(n,[1,2])),Array.isArray(t.cell.stateSize)?t.cell.stateSize.map((function(e){return e>1?Lb(n,[1,e]):n})):t.cell.stateSize>1?[Lb(n,[1,t.cell.stateSize])]:[n]}))}},{key:"trainableWeights",get:function(){return this.trainable?this.cell.trainableWeights:[]}},{key:"nonTrainableWeights",get:function(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}},{key:"setFastWeightInitDuringBuild",value:function(e){Xy((0,Dg.Z)(n.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)}},{key:"getConfig",value:function(){var e=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this),t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);var r=this.cell.getConfig();return this.getClassName()===n.className&&(t.cell={className:this.cell.getClassName(),config:r}),Object.assign({},r,e,t)}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.cell,a=Yy(r,n);return new e(Object.assign(t,{cell:a}))}}]),n}(Oy);yw.className="RNN",Cl(yw);var xw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.apply(this,arguments)}return(0,Jt.Z)(n)}(Oy),kw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this,e)).DEFAULT_ACTIVATION="tanh",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",r.units=e.units,Yg(r.units,"units"),r.activation=Lk(null==e.activation?r.DEFAULT_ACTIVATION:e.activation),r.useBias=null==e.useBias||e.useBias,r.kernelInitializer=hy(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=hy(e.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=hy(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelRegularizer=Hk(e.kernelRegularizer),r.recurrentRegularizer=Hk(e.recurrentRegularizer),r.biasRegularizer=Hk(e.biasRegularizer),r.kernelConstraint=sb(e.kernelConstraint),r.recurrentConstraint=sb(e.recurrentConstraint),r.biasConstraint=sb(e.biasConstraint),r.dropout=Sb([1,Ib([0,null==e.dropout?0:e.dropout])]),r.recurrentDropout=Sb([1,Ib([0,null==e.recurrentDropout?0:e.recurrentDropout])]),r.dropoutFunc=e.dropoutFunc,r.stateSize=r.units,r.dropoutMask=null,r.recurrentDropoutMask=null,r}return(0,Jt.Z)(n,[{key:"build",value:function(e){e=wy(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return Sl((function(){if(2!==(e=e).length)throw new Ag("SimpleRNNCell expects 2 input Tensors, got ".concat(e.length,"."));var r=e[1];e=e[0];var a,o=null!=t.training&&t.training;0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=Fw({ones:function(){return sp(e)},rate:n.dropout,training:o,dropoutFunc:n.dropoutFunc})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=Fw({ones:function(){return sp(r)},rate:n.recurrentDropout,training:o,dropoutFunc:n.dropoutFunc}));var i=n.dropoutMask,u=n.recurrentDropoutMask;a=Bb(null!=i?hc(e,i):e,n.kernel.read()),null!=n.bias&&(a=Wb(a,n.bias.read())),null!=u&&(r=hc(r,u));var s=Pl(a,Bb(r,n.recurrentKernel.read()));return null!=n.activation&&(s=n.activation.apply(s)),[s,s]}))}},{key:"getConfig",value:function(){var e=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this),t={units:this.units,activation:Mk(this.activation),useBias:this.useBias,kernelInitializer:fy(this.kernelInitializer),recurrentInitializer:fy(this.recurrentInitializer),biasInitializer:fy(this.biasInitializer),kernelRegularizer:Vk(this.kernelRegularizer),recurrentRegularizer:Vk(this.recurrentRegularizer),biasRegularizer:Vk(this.biasRegularizer),activityRegularizer:Vk(this.activityRegularizer),kernelConstraint:ib(this.kernelConstraint),recurrentConstraint:ib(this.recurrentConstraint),biasConstraint:ib(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign({},e,t)}}]),n}(xw);kw.className="SimpleRNNCell",Cl(kw);var ww=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){return(0,Qt.Z)(this,n),e.cell=new kw(e),t.call(this,e)}return(0,Jt.Z)(n,[{key:"call",value:function(e,t){var r=this;return Sl((function(){null!=r.cell.dropoutMask&&(Il(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(Il(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==t?null:t.mask,o=null==t?null:t.training,i=null==t?null:t.initialState;return Xy((0,Dg.Z)(n.prototype),"call",r).call(r,e,{mask:a,training:o,initialState:i})}))}}],[{key:"fromConfig",value:function(e,t){return new e(t)}}]),n}(yw);ww.className="SimpleRNN",Cl(ww);var Cw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;if((0,Qt.Z)(this,n),(r=t.call(this,e)).DEFAULT_ACTIVATION="tanh",r.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new Ag("GRUCell does not support reset_after parameter set to true.");return r.units=e.units,Yg(r.units,"units"),r.activation=Lk(void 0===e.activation?r.DEFAULT_ACTIVATION:e.activation),r.recurrentActivation=Lk(void 0===e.recurrentActivation?r.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),r.useBias=null==e.useBias||e.useBias,r.kernelInitializer=hy(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=hy(e.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=hy(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelRegularizer=Hk(e.kernelRegularizer),r.recurrentRegularizer=Hk(e.recurrentRegularizer),r.biasRegularizer=Hk(e.biasRegularizer),r.kernelConstraint=sb(e.kernelConstraint),r.recurrentConstraint=sb(e.recurrentConstraint),r.biasConstraint=sb(e.biasConstraint),r.dropout=Sb([1,Ib([0,null==e.dropout?0:e.dropout])]),r.recurrentDropout=Sb([1,Ib([0,null==e.recurrentDropout?0:e.recurrentDropout])]),r.dropoutFunc=e.dropoutFunc,r.implementation=e.implementation,r.stateSize=r.units,r.dropoutMask=null,r.recurrentDropoutMask=null,r}return(0,Jt.Z)(n,[{key:"build",value:function(e){var t=(e=wy(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return Sl((function(){if(2!==(e=e).length)throw new Ag("GRUCell expects 2 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));var r=null!=t.training&&t.training,a=e[1];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=Fw({ones:function(){return sp(e)},rate:n.dropout,training:r,count:3,dropoutFunc:n.dropoutFunc})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=Fw({ones:function(){return sp(a)},rate:n.recurrentDropout,training:r,count:3,dropoutFunc:n.dropoutFunc}));var o,i,u,s=n.dropoutMask,l=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=hc(e,s[0]));var c=Bb(e,n.kernel.read());n.useBias&&(c=Wb(c,n.bias.read())),0<n.recurrentDropout&&n.recurrentDropout<1&&(a=hc(a,l[0]));var d=n.recurrentKernel.read(),p=tf(d,[2*n.units,n.units],d.rank-1),f=(0,je.Z)(p,2),h=f[0],m=f[1],v=Bb(a,h),g=tf(c,3,c.rank-1),b=(0,je.Z)(g,3),y=b[0],x=b[1],k=b[2],w=tf(v,2,v.rank-1),C=(0,je.Z)(w,2),D=C[0],E=C[1];o=n.recurrentActivation.apply(Pl(y,D)),i=n.recurrentActivation.apply(Pl(x,E));var S=Bb(hc(i,a),m);u=n.activation.apply(Pl(k,S));var I=Pl(hc(o,a),hc(Pl(1,Ed(o)),u));return[I,I]}))}},{key:"getConfig",value:function(){var e=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this),t={units:this.units,activation:Mk(this.activation),recurrentActivation:Mk(this.recurrentActivation),useBias:this.useBias,kernelInitializer:fy(this.kernelInitializer),recurrentInitializer:fy(this.recurrentInitializer),biasInitializer:fy(this.biasInitializer),kernelRegularizer:Vk(this.kernelRegularizer),recurrentRegularizer:Vk(this.recurrentRegularizer),biasRegularizer:Vk(this.biasRegularizer),activityRegularizer:Vk(this.activityRegularizer),kernelConstraint:ib(this.kernelConstraint),recurrentConstraint:ib(this.recurrentConstraint),biasConstraint:ib(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign({},e,t)}}]),n}(xw);Cw.className="GRUCell",Cl(Cw);var Dw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){return(0,Qt.Z)(this,n),0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new Cw(e),t.call(this,e)}return(0,Jt.Z)(n,[{key:"call",value:function(e,t){var r=this;return Sl((function(){null!=r.cell.dropoutMask&&(Il(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(Il(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==t?null:t.mask,o=null==t?null:t.training,i=null==t?null:t.initialState;return Xy((0,Dg.Z)(n.prototype),"call",r).call(r,e,{mask:a,training:o,initialState:i})}))}}],[{key:"fromConfig",value:function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}]),n}(yw);Dw.className="GRU",Cl(Dw);var Ew=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this,e)).DEFAULT_ACTIVATION="tanh",r.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",r.units=e.units,Yg(r.units,"units"),r.activation=Lk(void 0===e.activation?r.DEFAULT_ACTIVATION:e.activation),r.recurrentActivation=Lk(void 0===e.recurrentActivation?r.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),r.useBias=null==e.useBias||e.useBias,r.kernelInitializer=hy(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=hy(e.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=hy(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.unitForgetBias=e.unitForgetBias,r.kernelRegularizer=Hk(e.kernelRegularizer),r.recurrentRegularizer=Hk(e.recurrentRegularizer),r.biasRegularizer=Hk(e.biasRegularizer),r.kernelConstraint=sb(e.kernelConstraint),r.recurrentConstraint=sb(e.recurrentConstraint),r.biasConstraint=sb(e.biasConstraint),r.dropout=Sb([1,Ib([0,null==e.dropout?0:e.dropout])]),r.recurrentDropout=Sb([1,Ib([0,null==e.recurrentDropout?0:e.recurrentDropout])]),r.dropoutFunc=e.dropoutFunc,r.implementation=e.implementation,r.stateSize=[r.units,r.units],r.dropoutMask=null,r.recurrentDropoutMask=null,r}return(0,Jt.Z)(n,[{key:"build",value:function(e){var t,n,r=(e=wy(e))[e.length-1];if(this.kernel=this.addWeight("kernel",[r,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){var a=this.biasInitializer,o=this.units;n=new(t=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.apply(this,arguments)}return(0,Jt.Z)(n,[{key:"apply",value:function(e,t){var n=a.apply([o]),r=(new $b).apply([o]),i=a.apply([2*o]);return Pb(Pb(n,r),i)}}]),n}(Xb),t.className="CustomInit",t)}else n=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,n,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}},{key:"call",value:function(e,t){var n=this;return Sl((function(){var r=null!=t.training&&t.training;if(3!==(e=e).length)throw new Ag("LSTMCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));var a=e[1],o=e[2];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=Fw({ones:function(){return sp(e)},rate:n.dropout,training:r,count:4,dropoutFunc:n.dropoutFunc})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=Fw({ones:function(){return sp(a)},rate:n.recurrentDropout,training:r,count:4,dropoutFunc:n.dropoutFunc}));var i,u,s,l,c=n.dropoutMask,d=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=hc(e,c[0]));var p=Bb(e,n.kernel.read());0<n.recurrentDropout&&n.recurrentDropout<1&&(a=hc(a,d[0])),p=Pl(p,Bb(a,n.recurrentKernel.read())),n.useBias&&(p=Wb(p,n.bias.read()));var f=tf(p,4,p.rank-1),h=(0,je.Z)(f,4),m=h[0],v=h[1],g=h[2],b=h[3];i=n.recurrentActivation.apply(m),u=n.recurrentActivation.apply(v),s=Pl(hc(u,o),hc(i,n.activation.apply(g))),l=n.recurrentActivation.apply(b);var y=hc(l,n.activation.apply(s));return[y,y,s]}))}},{key:"getConfig",value:function(){var e=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this),t={units:this.units,activation:Mk(this.activation),recurrentActivation:Mk(this.recurrentActivation),useBias:this.useBias,kernelInitializer:fy(this.kernelInitializer),recurrentInitializer:fy(this.recurrentInitializer),biasInitializer:fy(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:Vk(this.kernelRegularizer),recurrentRegularizer:Vk(this.recurrentRegularizer),biasRegularizer:Vk(this.biasRegularizer),activityRegularizer:Vk(this.activityRegularizer),kernelConstraint:ib(this.kernelConstraint),recurrentConstraint:ib(this.recurrentConstraint),biasConstraint:ib(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign({},e,t)}}]),n}(xw);Ew.className="LSTMCell",Cl(Ew);var Sw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){return(0,Qt.Z)(this,n),0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new Ew(e),t.call(this,e)}return(0,Jt.Z)(n,[{key:"call",value:function(e,t){var r=this;return Sl((function(){null!=r.cell.dropoutMask&&(Il(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(Il(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==t?null:t.mask,o=null==t?null:t.training,i=null==t?null:t.initialState;return Xy((0,Dg.Z)(n.prototype),"call",r).call(r,e,{mask:a,training:o,initialState:i})}))}}],[{key:"fromConfig",value:function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}]),n}(yw);Sw.className="LSTM",Cl(Sw);var Iw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this,e)).cells=e.cells,r}return(0,Jt.Z)(n,[{key:"stateSize",get:function(){var e,t=[],n=Yt(this.cells.slice().reverse());try{for(n.s();!(e=n.n()).done;){var r=e.value;Array.isArray(r.stateSize)?t.push.apply(t,(0,$t.Z)(r.stateSize)):t.push(r.stateSize)}}catch(xV){n.e(xV)}finally{n.f()}return t}},{key:"call",value:function(e,t){var n=this;return Sl((function(){var r,a=(e=e).slice(1),o=[],i=Yt(n.cells.slice().reverse());try{for(i.s();!(r=i.n()).done;){var u=r.value;Array.isArray(u.stateSize)?o.push(a.splice(0,u.stateSize.length)):o.push(a.splice(0,1))}}catch(xV){i.e(xV)}finally{i.f()}o.reverse();for(var s,l=[],c=0;c<n.cells.length;++c){var d=n.cells[c];a=o[c],s=0===c?[e[0]].concat(a):[s[0]].concat(a),s=d.call(s,t),l.push(s.slice(1))}a=[];var p,f=Yt(l.slice().reverse());try{for(f.s();!(p=f.n()).done;){var h,m=p.value;(h=a).push.apply(h,(0,$t.Z)(m))}}catch(xV){f.e(xV)}finally{f.f()}return[s[0]].concat(a)}))}},{key:"build",value:function(e){var t;yy(e)&&(e=e[0]),e=e,this.cells.forEach((function(n,r){yb("RNNCell_".concat(r),(function(){n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]}))})),this.built=!0}},{key:"getConfig",value:function(){var e=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this),t={cells:this.cells.map((function(e){return{className:e.getClassName(),config:e.getConfig()}}))};return Object.assign({},e,t)}},{key:"trainableWeights",get:function(){if(!this.trainable)return[];var e,t=[],n=Yt(this.cells);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,(0,$t.Z)(r.trainableWeights))}}catch(xV){n.e(xV)}finally{n.f()}return t}},{key:"nonTrainableWeights",get:function(){var e,t=[],n=Yt(this.cells);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,(0,$t.Z)(r.nonTrainableWeights))}}catch(xV){n.e(xV)}finally{n.f()}if(!this.trainable){var a,o=[],i=Yt(this.cells);try{for(i.s();!(a=i.n()).done;){var u=a.value;o.push.apply(o,(0,$t.Z)(u.trainableWeights))}}catch(xV){i.e(xV)}finally{i.f()}return o.concat(t)}return t}},{key:"getWeights",value:function(){var e,t=[],n=Yt(this.cells);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,(0,$t.Z)(r.weights))}}catch(xV){n.e(xV)}finally{n.f()}return Sy(t)}},{key:"setWeights",value:function(e){var t,n=[],r=Yt(this.cells);try{for(r.s();!(t=r.n()).done;)for(var a=t.value,o=a.weights.length,i=e.splice(o),u=0;u<a.weights.length;++u)n.push([a.weights[u],i[u]])}catch(xV){r.e(xV)}finally{r.f()}Iy(n)}}],[{key:"fromConfig",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=[],o=Yt(t.cells);try{for(o.s();!(n=o.n()).done;){var i=n.value;a.push(Yy(i,r))}}catch(xV){o.e(xV)}finally{o.f()}return new e({cells:a})}}]),n}(xw);function Fw(e){var t=e.ones,n=e.rate,r=e.training,a=void 0!==r&&r,o=e.count,i=void 0===o?1:o,u=e.dropoutFunc,s=function(){return null!=u?u(t(),n):Ub(t(),n)},l=function(){return Gb(s,t,a)};return!i||i<=1?Fl(l().clone()):Array(i).fill(void 0).map(l).map((function(e){return Fl(e.clone())}))}Iw.className="StackedRNNCells",Cl(Iw);var Tw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Nw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;if((0,Qt.Z)(this,n),e.unroll)throw new Rg("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new Rg("It is not possible at the moment to stack convolutional cells.");return(r=t.call(this,e)).inputSpec=[new Fy({ndim:5})],r}return(0,Jt.Z)(n,[{key:"call",value:function(e,t){var r=this;return Sl((function(){if(null!=r.cell.dropoutMask&&(Il(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(Il(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null),t&&t.constants)throw new Ag("ConvRNN2D cell does not support constants");var a=null==t?null:t.mask,o=null==t?null:t.training,i=null==t?null:t.initialState;return Xy((0,Dg.Z)(n.prototype),"call",r).call(r,e,{mask:a,training:o,initialState:i})}))}},{key:"computeOutputShape",value:function(e){var t=this.computeSingleOutputShape(e);return this.returnSequences||(t=[t[0]].concat((0,$t.Z)(t.slice(2)))),this.returnState&&(t=[t].concat((0,$t.Z)(Array(2).fill([e[0]].concat((0,$t.Z)(t.slice(-3))))))),t}},{key:"getInitialState",value:function(e){var t=this;return Sl((function(){var n=t.cell.stateSize,r=e.shape,a=t.computeSingleOutputShape(r),o=Xd([a[0]].concat((0,$t.Z)(a.slice(2))));return Array.isArray(n)?Array(n.length).fill(o):[o]}))}},{key:"resetStates",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Sl((function(){if(!t.stateful)throw new Tg("Cannot call resetStates() on an RNN Layer that is not stateful.");var r=t.inputSpec[0].shape,a=t.computeSingleOutputShape(r),o=[a[0]].concat((0,$t.Z)(a.slice(2)));if(null==r[0])throw new Ag("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==t.getStates())Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(){return Xd(o)})):t.states_=[Xd(o)];else if(null==e)Il(t.states_),null!=t.keptStates&&(Il(t.keptStates),t.keptStates=[]),Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(){return Xd(o)})):t.states_[0]=Xd(o);else{if(Array.isArray(e)||(e=[e]),e.length!==t.states_.length)throw new Ag("Layer ".concat(t.name," expects ").concat(t.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));n?t.keptStates.push(t.states_.slice()):Il(t.states_);for(var i=0;i<t.states_.length;++i){var u=e[i],s=o;if(!hn(u.shape,s))throw new Ag("State ".concat(i," is incompatible with layer ").concat(t.name,": ")+"expected shape=".concat(s,", received shape=").concat(u.shape));t.states_[i]=u}}t.states_=t.states_.map((function(e){return Fl(e.clone())}))}))}},{key:"computeSingleOutputShape",value:function(e){var t=this.cell,n=t.dataFormat,r=t.filters,a=t.kernelSize,o=t.padding,i=t.strides,u=t.dilationRate,s="channelsFirst"===n,l=e[s?3:2],c=e[s?4:3],d=Qk(l,a[0],o,i[0],u[0]),p=Qk(c,a[1],o,i[1],u[1]);return[].concat((0,$t.Z)(e.slice(0,2)),(0,$t.Z)(s?[r,d,p]:[d,p,r]))}}]),n}(yw);Nw.className="ConvRNN2D";var Aw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;(0,Qt.Z)(this,n);var a=e.filters,o=e.kernelSize,i=e.strides,u=e.padding,s=e.dataFormat,l=e.dilationRate;return(r=t.call(this,Object.assign({},e,{units:a}))).filters=a,Yg(r.filters,"filters"),r.kernelSize=$k(o,2,"kernelSize"),r.kernelSize.forEach((function(e){return Yg(e,"kernelSize")})),r.strides=$k(i||1,2,"strides"),r.strides.forEach((function(e){return Yg(e,"strides")})),r.padding=u||"valid",vb(r.padding),r.dataFormat=s||"channelsLast",mb(r.dataFormat),r.dilationRate=$k(l||1,2,"dilationRate"),r.dilationRate.forEach((function(e){return Yg(e,"dilationRate")})),r}return(0,Jt.Z)(n,[{key:"build",value:function(e){var t;e=wy(e);var n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new Ag("The channel dimension of the input should be defined. "+"Found ".concat(e[n]));var r=e[n],a=this.kernelSize.concat([r,4*this.filters]);this.kernel=this.addWeight("kernel",a,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);var o=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",o,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){var i;if(this.unitForgetBias){var u=this.biasInitializer,s=this.filters;i=new(t=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.apply(this,arguments)}return(0,Jt.Z)(n,[{key:"apply",value:function(e,t){return Mb([u.apply([s]),Yd([s]),u.apply([2*s])])}}]),n}(Xb),t.className="CustomInit",t)}else i=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,i,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}},{key:"call",value:function(e,t){var n=this;return Sl((function(){if(3!==e.length)throw new Ag("ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));var r=t.training||!1,a=e[0],o=e[1],i=e[2];0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=Fw({ones:function(){return sp(a)},rate:n.dropout,training:r,count:4,dropoutFunc:n.dropoutFunc}));var u=n.dropoutMask,s=function(e,t,n){return t&&t[n]?hc(t[n],e):e},l=s(a,u,0),c=s(a,u,1),d=s(a,u,2),p=s(a,u,3);0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=Fw({ones:function(){return sp(o)},rate:n.recurrentDropout,training:r,count:4,dropoutFunc:n.dropoutFunc}));var f=n.recurrentDropoutMask,h=s(o,f,0),m=s(o,f,1),v=s(o,f,2),g=s(o,f,3),b=tf(n.kernel.read(),4,3),y=(0,je.Z)(b,4),x=y[0],k=y[1],w=y[2],C=y[3],D=n.useBias?tf(n.bias.read(),4):[null,null,null,null],E=(0,je.Z)(D,4),S=E[0],I=E[1],F=E[2],T=E[3];l=n.inputConv(l,x,S,n.padding),c=n.inputConv(c,k,I,n.padding),d=n.inputConv(d,w,F,n.padding),p=n.inputConv(p,C,T,n.padding);var N=tf(n.recurrentKernel.read(),4,3),A=(0,je.Z)(N,4),R=A[0],O=A[1],Z=A[2],M=A[3];h=n.recurrentConv(h,R),m=n.recurrentConv(m,O),v=n.recurrentConv(v,Z),g=n.recurrentConv(g,M);var P=n.recurrentActivation.apply(Pl(l,h)),L=n.recurrentActivation.apply(Pl(c,m)),_=Pl(hc(L,i),hc(P,n.activation.apply(Pl(d,v)))),B=hc(n.recurrentActivation.apply(Pl(p,g)),n.activation.apply(_));return[B,B,_]}))}},{key:"getConfig",value:function(){var e=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this),t=(e.units,Tw(e,["units"])),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign({},t,r)}},{key:"inputConv",value:function(e,t,n,r){var a=Oc(e,t,this.strides,r||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return n?Wb(a,n,this.dataFormat):a}},{key:"recurrentConv",value:function(e,t){return Oc(e,t,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}]),n}(Ew);Aw.className="ConvLSTM2DCell",Cl(Aw);var Rw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){(0,Qt.Z)(this,n);var r=new Aw(e);return t.call(this,Object.assign({},e,{cell:r}))}return(0,Jt.Z)(n,null,[{key:"fromConfig",value:function(e,t){return new e(t)}}]),n}(Nw);Rw.className="ConvLSTM2D",Cl(Rw);var Ow=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this,e)).rate=Math.max(Math.min(e.rate,1),0),r.noiseShape=e.noiseShape,r.seed=e.seed,r.supportsMasking=!0,r}return(0,Jt.Z)(n,[{key:"getNoiseShape",value:function(e){if(null==this.noiseShape)return this.noiseShape;for(var t=e.shape,n=[],r=0;r<this.noiseShape.length;++r)n.push(null==this.noiseShape[r]?t[r]:this.noiseShape[r]);return n}},{key:"call",value:function(e,t){var n=this;return Sl((function(){n.invokeCallHook(e,t);var r=ky(e);if(0<n.rate&&n.rate<1){var a=null!=t.training&&t.training,o=n.getNoiseShape(r);return Gb((function(){return Ub(r,n.rate,o,n.seed)}),(function(){return r}),a)}return e}))}},{key:"getConfig",value:function(){var e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},t=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}},{key:"dispose",value:function(){return Xy((0,Dg.Z)(n.prototype),"dispose",this).call(this)}}]),n}(Oy);Ow.className="Dropout",Cl(Ow);var Zw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this,e)).inputSpec=[{ndim:3}],r}return(0,Jt.Z)(n,[{key:"getNoiseShape",value:function(e){var t=e.shape;return[t[0],1,t[2]]}}]),n}(Ow);Zw.className="SpatialDropout1D",Cl(Zw);var Mw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;if((0,Qt.Z)(this,n),(r=t.call(this,e)).activation=null,r.useBias=!0,r.kernel=null,r.bias=null,r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){var a=null;null!=e.batchSize&&(a=e.batchSize),r.batchInputShape=[a,e.inputDim]}return r.units=e.units,Yg(r.units,"units"),r.activation=Lk(e.activation),null!=e.useBias&&(r.useBias=e.useBias),r.kernelInitializer=hy(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.biasInitializer=hy(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelConstraint=sb(e.kernelConstraint),r.biasConstraint=sb(e.biasConstraint),r.kernelRegularizer=Hk(e.kernelRegularizer),r.biasRegularizer=Hk(e.biasRegularizer),r.activityRegularizer=Hk(e.activityRegularizer),r.supportsMasking=!0,r.inputSpec=[{minNDim:2}],r}return(0,Jt.Z)(n,[{key:"build",value:function(e){var t=(e=wy(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[t,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:(0,Ve.Z)({},-1,t)}],this.built=!0}},{key:"computeOutputShape",value:function(e){var t=(e=wy(e)).slice();return t[t.length-1]=this.units,t}},{key:"call",value:function(e,t){var n=this;return Sl((function(){n.invokeCallHook(e,t);var r,a=ky(e),o=Qg(n.activation.getClassName());return null!=o?r=Bb(a,n.kernel.read(),o,n.bias?n.bias.read():null):(r=Bb(a,n.kernel.read()),null!=n.bias&&(r=Wb(r,n.bias.read())),null!=n.activation&&(r=n.activation.apply(r))),r}))}},{key:"getConfig",value:function(){var e={units:this.units,activation:Mk(this.activation),useBias:this.useBias,kernelInitializer:fy(this.kernelInitializer),biasInitializer:fy(this.biasInitializer),kernelRegularizer:Vk(this.kernelRegularizer),biasRegularizer:Vk(this.biasRegularizer),activityRegularizer:Vk(this.activityRegularizer),kernelConstraint:ib(this.kernelConstraint),biasConstraint:ib(this.biasConstraint)},t=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Oy);Mw.className="Dense",Cl(Mw);var Pw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),e=e||{},(r=t.call(this,e)).inputSpec=[{minNDim:3}],r.dataFormat=e.dataFormat,r}return(0,Jt.Z)(n,[{key:"computeOutputShape",value:function(e){var t,n=Yt((e=wy(e)).slice(1));try{for(n.s();!(t=n.n()).done;){if(null==t.value)throw new Ag('The shape of the input to "Flatten" is not fully defined '+"(got ".concat(e.slice(1),"). Make sure to pass a complete ")+'"input_shape" or "batch_input_shape" argument to the first layer in your model.')}}catch(xV){n.e(xV)}finally{n.f()}return[e[0],Eb(e,1)]}},{key:"call",value:function(e,t){var n=this;return Sl((function(){n.invokeCallHook(e,t);var r=ky(e);if("channelsFirst"===n.dataFormat&&r.rank>1){for(var a=[0],o=2;o<r.rank;++o)a.push(o);a.push(1),r=If(r,a)}return function(e){if(e.rank<=1)throw new Ag("batchFlatten requires a minimum rank of 2. Got rank: ".concat(e.rank,"."));var t=[e.shape[0],Eb(e.shape,1)];return lc(e,t)}(r)}))}},{key:"getConfig",value:function(){var e={};null!=this.dataFormat&&(e.dataFormat=this.dataFormat);var t=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Oy);Pw.className="Flatten",Cl(Pw);var Lw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this,e)).supportsMasking=!0,r.activation=Lk(e.activation),r}return(0,Jt.Z)(n,[{key:"call",value:function(e,t){var n=this;return Sl((function(){n.invokeCallHook(e,t);var r=ky(e);return n.activation.apply(r)}))}},{key:"getConfig",value:function(){var e={activation:Mk(this.activation)},t=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Oy);Lw.className="Activation",Cl(Lw);var _w=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this,e)).n=e.n,r.inputSpec=[{ndim:2}],r}return(0,Jt.Z)(n,[{key:"computeOutputShape",value:function(e){return[e[0],this.n,e[1]]}},{key:"call",value:function(e,t){var n=this;return Sl((function(){return function(e,t){return Sl((function(){if(2!==e.shape.length)throw new Ag("repeat() expects a rank-2 tensor, but received a "+"rank-".concat(e.shape.length," tensor."));return Lb(Nb(e,1),[1,t,1])}))}(e=ky(e),n.n)}))}},{key:"getConfig",value:function(){var e={n:this.n},t=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Oy);_w.className="RepeatVector",Cl(_w);var Bw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;(0,Qt.Z)(this,n),(r=t.call(this,e)).targetShape=e.targetShape;for(var a=0;a<r.targetShape.length;++a)r.isUnknown(r.targetShape[a])&&(r.targetShape[a]=null);return r}return(0,Jt.Z)(n,[{key:"isUnknown",value:function(e){return e<0||null==e}},{key:"fixUnknownDimension",value:function(e,t){for(var n="Total size of new array must be unchanged.",r=t.slice(),a=1,o=null,i=0;i<r.length;++i){var u=r[i];if(this.isUnknown(u)){if(null!==o)throw new Ag("Can only specifiy one unknown dimension.");o=i}else a*=u}var s=Eb(e);if(null!==o){if(0===a||s%a!==0)throw new Ag(n);r[o]=s/a}else if(s!==a)throw new Ag(n);return r}},{key:"computeOutputShape",value:function(e){for(var t=!1,n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}},{key:"call",value:function(e,t){var n=this;return Sl((function(){n.invokeCallHook(e,t);var r=ky(e),a=r.shape,o=a.slice(0,1).concat(n.fixUnknownDimension(a.slice(1),n.targetShape));return lc(r,o)}))}},{key:"getConfig",value:function(){var e={targetShape:this.targetShape},t=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Oy);Bw.className="Reshape",Cl(Bw);var zw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;if((0,Qt.Z)(this,n),r=t.call(this,e),null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error("Permute constructor requires `dims` to be an Array, but received "+"".concat(e.dims," instead."));var a=Fb(1,e.dims.length+1);if(!hn(e.dims.slice().sort(),a))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");return r.dims=e.dims,r.dimsIncludingBatch=[0].concat(r.dims),r.inputSpec=[new Fy({ndim:r.dims.length+1})],r}return(0,Jt.Z)(n,[{key:"computeOutputShape",value:function(e){var t=(e=wy(e)).slice();return this.dims.forEach((function(n,r){t[r+1]=e[n]})),t}},{key:"call",value:function(e,t){return If(ky(e),this.dimsIncludingBatch)}},{key:"getConfig",value:function(){var e={dims:this.dims},t=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Oy);zw.className="Permute",Cl(zw);var jw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this,null==e?{}:e)).supportsMasking=!0,r.maskValue=null!=e?null==e.maskValue?0:e.maskValue:0,r}return(0,Jt.Z)(n,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this),t={maskValue:this.maskValue};return Object.assign(t,e),t}},{key:"computeMask",value:function(e,t){var n=ky(e);return Bl(ip(n,this.maskValue),-1)}},{key:"call",value:function(e,t){var n=this;return Sl((function(){n.invokeCallHook(e,t);var r=ky(e),a=Bl(ip(r,n.maskValue),-1,!0);return hc(r,Ps(a,r.dtype))}))}}]),n}(Oy);jw.className="Masking",Cl(jw);var Vw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;if((0,Qt.Z)(this,n),(r=t.call(this,e)).embeddings=null,r.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){var a=null;null!=e.batchSize&&(a=e.batchSize),null==e.inputLength?r.batchInputShape=[a,null]:r.batchInputShape=[a].concat(_g(e.inputLength))}return r.inputDim=e.inputDim,Yg(r.inputDim,"inputDim"),r.outputDim=e.outputDim,Yg(r.outputDim,"outputDim"),r.embeddingsInitializer=hy(e.embeddingsInitializer||r.DEFAULT_EMBEDDINGS_INITIALIZER),r.embeddingsRegularizer=Hk(e.embeddingsRegularizer),r.activityRegularizer=Hk(e.activityRegularizer),r.embeddingsConstraint=sb(e.embeddingsConstraint),r.maskZero=e.maskZero,r.supportsMasking=e.maskZero,r.inputLength=e.inputLength,r}return(0,Jt.Z)(n,[{key:"build",value:function(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}},{key:"warnOnIncompatibleInputShape",value:function(e){}},{key:"computeMask",value:function(e,t){var n=this;return Sl((function(){return n.maskZero?(e=ky(e),ip(e,Qc(e))):null}))}},{key:"computeOutputShape",value:function(e){if(e=wy(e),null==this.inputLength)return[].concat((0,$t.Z)(e),[this.outputDim]);var t=_g(this.inputLength);if(t.length!==e.length-1)throw new Ag('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));for(var n=0,r=0;r<t.length;++r){var a=t[r],o=e[r+1];if(null!=a&&null!=o&&a!==o)throw new Ag('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));null==a&&(t[n]=o),n++}return[e[0]].concat((0,$t.Z)(t),[this.outputDim])}},{key:"call",value:function(e,t){var n=this;return Sl((function(){n.invokeCallHook(e,t);var r=ky(e);"int32"!==r.dtype&&(r=Tb(r,"int32"));var a=zb(n.embeddings.read(),lc(r,[r.size]));return lc(a,wy(n.computeOutputShape(r.shape)))}))}},{key:"getConfig",value:function(){var e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:fy(this.embeddingsInitializer),embeddingsRegularizer:Vk(this.embeddingsRegularizer),activityRegularizer:Vk(this.activityRegularizer),embeddingsConstraint:ib(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},t=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Oy);Vw.className="Embedding",Cl(Vw);var Ww=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this,e||{})).supportsMasking=!0,r}return(0,Jt.Z)(n,[{key:"mergeFunction",value:function(e){throw new Rg}},{key:"computeElementwiseOpOutputShape",value:function(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;for(var n=e.slice(0,e.length-t.length),r=0;r<t.length;++r){var a=e[e.length-t.length+r],o=t[r];if(null==a||null==o||a<0||o<0)n.push(null);else if(1===a)n.push(o);else if(1===o)n.push(a);else{if(a!==o)throw new Ag("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(a)}}return n}},{key:"build",value:function(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[wy(e)]),(e=e).length<2)throw new Ag("A merge layer should be called on an Array of at least 2 inputs."+" Got ".concat(e.length," input(s)."));var t,n=[],r=Yt(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;null!=a&&null!==a[0]&&n.push(a[0])}}catch(xV){r.e(xV)}finally{r.f()}if((n=Gg(n)).length>1)throw new Ag("Can not merge tensors with different batch sizes. "+"Got tensors with shapes: ".concat(JSON.stringify(e),"."));for(var o=null==e[0]?null:e[0].slice(1),i=1;i<e.length;++i){var u=null==e[i]?null:e[i].slice(1);o=this.computeElementwiseOpOutputShape(o,u)}var s=e.map((function(e){return e.length}));-1===e.indexOf(null)&&1===Gg(s).length?this.reshapeRequired=!1:this.reshapeRequired=!0}},{key:"call",value:function(e,t){var n=this;return Sl((function(){if(e=e,n.reshapeRequired){var t=[],r=e.map((function(e){return e.rank}));if(-1===r.indexOf(null)){var a,o=Ib(r),i=Yt(e);try{for(i.s();!(a=i.n()).done;){for(var u=a.value,s=u.rank,l=0;l<o-s;++l)u=Nb(u,1);t.push(u)}}catch(xV){i.e(xV)}finally{i.f()}return n.mergeFunction(t)}var c,d=!1,p=Yt(e);try{for(p.s();!(c=p.n()).done;){var f=c.value,h=f.rank;if(null==h){var m=f.shape,v=m[0],g=m.slice(1).concat([v]),b=lc(f,[v].concat(Eb(m.slice(1))));b=If(b,[1,0]),b=lc(b,g),t.push(b),d=!0}else if(h>1){var y=Fb(1,h).concat([0]);t.push(If(f,y)),d=!0}else t.push(f)}}catch(xV){p.e(xV)}finally{p.f()}var x=n.mergeFunction(t),k=x.rank;if(d)if(null==k){var w=x.shape,C=w[w.length-1],D=[C].concat(w.slice(0,w.length-1));x=lc(If(lc(x,[-1,C]),[1,0]),D)}else if(k>1){var E=[k-1].concat(Fb(0,k-1));x=If(x,E)}return x}return n.mergeFunction(e)}))}},{key:"computeOutputShape",value:function(e){var t;t=null==(e=e)[0]?null:e[0].slice(1);for(var n=1;n<e.length;++n){var r=null==e[n]?null:e[n].slice(1);t=this.computeElementwiseOpOutputShape(t,r)}var a,o=[],i=Yt(e);try{for(i.s();!(a=i.n()).done;){var u=a.value;null!=u&&null!==u[0]&&o.push(u[0])}}catch(xV){i.e(xV)}finally{i.f()}return t=1===(o=Gg(o)).length?o.concat(t):[null].concat(t)}},{key:"computeMask",value:function(e,t){return Sl((function(){if(null==t)return null;if(!Array.isArray(t))throw new Ag("`mask` should be an Array");if(!Array.isArray(e))throw new Ag("`inputs` should be an Array");if(t.length!==e.length)throw new Ag("The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths "+"(".concat(e.length," vs ").concat(t.length,")"));if(t.every((function(e){return null==e})))return null;for(var n=(t=t.map((function(e){return null==e?e:od(e,0)})))[0],r=1;r<t.length-1;++r)n=zd(n,t[r]);return n}))}}]),n}(Oy),Hw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){return(0,Qt.Z)(this,n),t.call(this,e)}return(0,Jt.Z)(n,[{key:"mergeFunction",value:function(e){return Sl((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=Pl(t,e[n]);return t}))}}]),n}(Ww);Hw.className="Add",Cl(Hw);var Uw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){return(0,Qt.Z)(this,n),t.call(this,e)}return(0,Jt.Z)(n,[{key:"mergeFunction",value:function(e){return Sl((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=hc(t,e[n]);return t}))}}]),n}(Ww);Uw.className="Multiply",Cl(Uw);var Gw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){return(0,Qt.Z)(this,n),t.call(this,e)}return(0,Jt.Z)(n,[{key:"mergeFunction",value:function(e){return Sl((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=Pl(t,e[n]);return hc(1/e.length,t)}))}}]),n}(Ww);Gw.className="Average",Cl(Gw);var qw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){return(0,Qt.Z)(this,n),t.call(this,e)}return(0,Jt.Z)(n,[{key:"mergeFunction",value:function(e){return Sl((function(){for(var t=e[0],n=1;n<e.length;++n)t=qd(t,e[n]);return t}))}}]),n}(Ww);qw.className="Maximum",Cl(qw);var Kw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){return(0,Qt.Z)(this,n),t.call(this,e)}return(0,Jt.Z)(n,[{key:"mergeFunction",value:function(e){return Sl((function(){for(var t=e[0],n=1;n<e.length;++n)t=Jd(t,e[n]);return t}))}}]),n}(Ww);Kw.className="Minimum",Cl(Kw);var Xw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this,e)).DEFAULT_AXIS=-1,null==e&&(e={}),r.axis=null==e.axis?r.DEFAULT_AXIS:e.axis,r.supportsMasking=!0,r.reshapeRequired=!1,r}return(0,Jt.Z)(n,[{key:"build",value:function(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new Ag("A `Concatenate` layer should be called on a list of at least 2 inputs");var t,n=!0,r=Yt(e=e);try{for(r.s();!(t=r.n()).done;){if(null!=t.value){n=!1;break}}}catch(xV){r.e(xV)}finally{r.f()}if(!n){for(var a=[],o=0;o<e.length;++o){var i=e[o].slice();i.splice(this.axis,1);var u,s=!1,l=Yt(a);try{for(l.s();!(u=l.n()).done;){if(hn(u.value,i)){s=!0;break}}}catch(xV){l.e(xV)}finally{l.f()}s||a.push(i)}if(a.length>1)throw new Ag("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}}},{key:"mergeFunction",value:function(e){var t=this;return Sl((function(){return Mb(e,t.axis)}))}},{key:"computeOutputShape",value:function(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new Ag("A `Concatenate` layer should be called on a list of inputs.");var t,n=e,r=n[0].slice(),a=this.axis<0?r.length+this.axis:this.axis,o=Yt(n.slice(1));try{for(o.s();!(t=o.n()).done;){var i=t.value;if(null==r[a]||null==i[a]){r[a]=null;break}r[a]+=i[a]}}catch(xV){o.e(xV)}finally{o.f()}return r}},{key:"computeMask",value:function(e,t){var n=this;if(null==t)return null;if(!Array.isArray(t))throw new Ag("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new Ag("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new Ag("Mismatch in the length of mask (".concat(t.length,") ")+"and the legnth of inputs (".concat(e.length,")"));return Sl((function(){var r=!0;if(t.forEach((function(e){null==e||(r=!1)})),r)return null;for(var a=[],o=0;o<e.length;++o)null==t[o]?a.push(Ps(sp(e[o]),"bool")):t[o].rank<e[o].rank?a.push(od(t[o],-1)):a.push(t[o]);var i=pc(a,n.axis);return _l(i,-1,!1)}))}},{key:"getConfig",value:function(){var e={axis:this.axis},t=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ww);function Yw(e,t){for(;e<0;)e+=t;return e}Xw.className="Concatenate",Cl(Xw);var $w=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this,e)).axes=e.axes,r.normalize=null!=e.normalize&&e.normalize,r.supportsMasking=!0,r.reshapeRequired=!1,r}return(0,Jt.Z)(n,[{key:"build",value:function(e){ln(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."}));var t=e[0],n=e[1];if(t.length>3||n.length>3)throw new Rg("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(t,n);if(t[r[0]]!==n[r[1]])throw new Ag("Dimension incompatibility: "+"".concat(t[r[0]]," !== ").concat(n[r[1]]))}},{key:"mergeFunction",value:function(e){if(2!==e.length)throw new Ag("A `Dot` layer must be called on exactly 2 inputs, "+"but received ".concat(e.length," input(s)."));var t,n=e[0],r=e[1];return t=Array.isArray(this.axes)?this.axes.map((function(t,n){return Yw(t,e[n].shape.length)})):[Yw(this.axes,n.shape.length),Yw(this.axes,r.shape.length)],this.normalize&&(n=$y(n,t[0]),r=$y(r,t[1])),function(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new Rg("batchDot is not implemented for tensors of 4D or higher rank yet");if(ln(e.shape.length>=2,(function(){return"batchDot requires the rank of x to be >= 2, "+"but got ".concat(e.shape.length)})),ln(e.shape.length>=2,(function(){return"batchDot requires the rank of y to be >= 2, "+"but got ".concat(t.shape.length)})),"number"===typeof n&&(n=[n,n]),"complex64"===e.dtype||"complex64"===t.dtype)throw new Rg("batchDot is not implemented for complex64-type Tensors yet.");var r=e.shape.length,a=t.shape.length;null==n&&(n=[r-1,a-2]);var o=n;return Sl((function(){var n,i;if(r>a){n=r-a;for(var u=[],s=0;s<n;++s)u.push(1);t=lc(t,t.shape.concat(u))}else if(a>r){n=a-r;for(var l=[],c=0;c<n;++c)l.push(1);e=lc(e,e.shape.concat(l))}else n=0;if(2===e.shape.length&&2===t.shape.length)i=o[0]===o[1]?Nd(hc(e,t),o[0]):Nd(hc(If(e,[1,0]),t),o[1]);else{var d=o[0]!==e.shape.length-1,p=o[1]===t.shape.length-1;i=fc(e,t,d,p)}if(n>0){for(var f,h=[],m=f=r>a?r+a-3:r-1;m<f+n;++m)h.push(m);i=of(i,h)}return 1===i.shape.length&&(i=od(i,1)),i}))}(n,r,t)}},{key:"interpretAxes",value:function(e,t){return Array.isArray(this.axes)?this.axes:[Yw(this.axes,e.length),Yw(this.axes,t.length)]}},{key:"computeOutputShape",value:function(e){ln(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."}));var t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new Rg("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(t,n);t.splice(r[0],1),n.splice(r[1],1),n.splice(0,1);var a=t.concat(n);return 1===a.length&&a.push(1),a}},{key:"computeMask",value:function(e,t){return null}},{key:"getConfig",value:function(){var e={axes:this.axes,normalize:this.normalize},t=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ww);$w.className="Dot",Cl($w);var Qw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this,e)).supportsMasking=!0,r.stddev=e.stddev,r}return(0,Jt.Z)(n,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this),t={stddev:this.stddev};return Object.assign(t,e),t}},{key:"call",value:function(e,t){var n=this;return Sl((function(){n.invokeCallHook(e,t);var r=ky(e);return Gb((function(){return Pl(_b(r.shape,0,n.stddev),r)}),(function(){return r}),t.training||!1)}))}}]),n}(Oy);Qw.className="GaussianNoise",Cl(Qw);var Jw=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this,e)).supportsMasking=!0,r.rate=e.rate,r}return(0,Jt.Z)(n,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this),t={rate:this.rate};return Object.assign(t,e),t}},{key:"call",value:function(e,t){var n=this;return Sl((function(){n.invokeCallHook(e,t);var r=ky(e);if(n.rate>0&&n.rate<1){return Gb((function(){var e=Math.sqrt(n.rate/(1-n.rate));return hc(r,_b(r.shape,1,e))}),(function(){return r}),t.training||!1)}return r}))}}]),n}(Oy);Jw.className="GaussianDropout",Cl(Jw);var eC=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this,e)).supportsMasking=!0,r.rate=e.rate,r.noiseShape=e.noiseShape,r}return(0,Jt.Z)(n,[{key:"_getNoiseShape",value:function(e){return this.noiseShape||ky(e).shape}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this),t={rate:this.rate};return Object.assign(t,e),t}},{key:"call",value:function(e,t){var n=this;return Sl((function(){if(n.rate<1&&n.rate>0){var r=n._getNoiseShape(e);return Gb((function(){var t=ky(e),a=-1.7580993408473766,o=fd(Ip(r),n.rate);o=Tb(o,"float32");var i=Math.pow((1-n.rate)*(1+n.rate*Math.pow(a,2)),-.5),u=-i*a*n.rate,s=Pl(hc(t,o),hc(Pl(o,-1),a));return Pl(hc(s,i),u)}),(function(){return ky(e)}),t.training||!1)}return e}))}}]),n}(Oy);function tC(e,t,n,r,a){var o,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.001;if(2===e.rank)o=kc(e,t,n,r,a,i);else if(3===e.rank)o=wc(e,t,n,r,a,i);else{if(4!==e.rank)throw new Rg("batchNormalization is not implemented for array of rank ".concat(e.rank," ")+"yet");o=Cc(e,t,n,r,a,i)}return o}function nC(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return Sl((function(){var o=rp(e,r),i=o.mean,u=o.variance;return[tC(e,i,u,n,t,a),i,u]}))}function rC(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return Sl((function(){var o,i=rp(e,r),u=i.mean,s=i.variance,l=[],c=Yt(Fb(0,e.rank));try{for(c.s();!(o=c.n()).done;){var d=o.value;-1!==r.indexOf(d)?l.push(1):l.push(e.shape[d])}}catch(xV){c.e(xV)}finally{c.f()}var p=lc(u,l),f=lc(s,l),h=null==t?null:lc(t,l),m=null==n?null:lc(n,l);return[tC(e,p,f,m,h,a),u,s]}))}eC.className="AlphaDropout",Cl(eC);var aC=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),null==e&&(e={}),(r=t.call(this,e)).supportsMasking=!0,r.axis=null==e.axis?-1:e.axis,r.momentum=null==e.momentum?.99:e.momentum,r.epsilon=null==e.epsilon?.001:e.epsilon,r.center=null==e.center||e.center,r.scale=null==e.scale||e.scale,r.betaInitializer=hy(e.betaInitializer||"zeros"),r.gammaInitializer=hy(e.gammaInitializer||"ones"),r.movingMeanInitializer=hy(e.movingMeanInitializer||"zeros"),r.movingVarianceInitializer=hy(e.movingVarianceInitializer||"ones"),r.betaConstraint=sb(e.betaConstraint),r.gammaConstraint=sb(e.gammaConstraint),r.betaRegularizer=Hk(e.betaRegularizer),r.gammaRegularizer=Hk(e.gammaRegularizer),r}return(0,Jt.Z)(n,[{key:"build",value:function(e){e=wy(e);var t=this.axis>=0?this.axis:this.axis+e.length,n=e[t];if(null==n)throw new Ag("Axis ".concat(t," of input tensor should have a defined dimension but ")+"the layer received an input with shape "+"".concat(JSON.stringify(e),"."));this.inputSpec=[new Fy({ndim:e.length,axes:(0,Ve.Z)({},t,n)})];var r=[n];this.scale&&(this.gamma=this.addWeight("gamma",r,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",r,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",r,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",r,null,this.movingVarianceInitializer,null,!1),this.built=!0}},{key:"call",value:function(e,t){var n=this;return Sl((function(){var r=null!=t.training&&t.training,a=ky(e),o=a.shape,i=o.length,u=Fb(0,i),s=n.axis>=0?n.axis:n.axis+i;u.splice(s,1);var l=Zg(1,i);l[s]=o[s];var c=u.slice();c.sort();var d=!hn(c,Fb(0,i).slice(0,i-1));if(!r)return function(){if(d){var e=lc(n.movingMean.read(),l),t=lc(n.movingVariance.read(),l),r=n.center?lc(n.beta.read(),l):null,o=n.scale?lc(n.gamma.read(),l):null;return tC(a,e,t,r,o,n.epsilon)}return tC(a,n.movingMean.read(),n.movingVariance.read(),null==n.beta?null:n.beta.read(),null==n.gamma?null:n.gamma.read(),n.epsilon)}();var p=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return hn(r.slice().sort(),Fb(0,e.rank-1))?nC(e,t,n,r,a):rC(e,t,n,r,a)}(a,n.gamma.read(),n.beta.read(),u,n.epsilon),f=(0,je.Z)(p,3),h=f[0],m=f[1],v=f[2],g=function(e,t,n){Sl((function(){var r=1-n,a=e.read(),o=hc(Td(a,t),r);e.write(Td(a,o))}))};return g(n.movingMean,m,n.momentum),g(n.movingVariance,v,n.momentum),h}))}},{key:"getConfig",value:function(){var e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:fy(this.betaInitializer),gammaInitializer:fy(this.gammaInitializer),movingMeanInitializer:fy(this.movingMeanInitializer),movingVarianceInitializer:fy(this.movingVarianceInitializer),betaRegularizer:Vk(this.betaRegularizer),gammaRegularizer:Vk(this.gammaRegularizer),betaConstraint:ib(this.betaConstraint),gammaConstraint:ib(this.gammaConstraint)},t=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Oy);aC.className="BatchNormalization",Cl(aC);var oC=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;if((0,Qt.Z)(this,n),null==e&&(e={}),(r=t.call(this,e)).axis=null==e.axis?-1:e.axis,"number"===typeof r.axis){if(!Number.isInteger(r.axis))throw new Error("Expected axis to be an integer, but received ".concat(r.axis))}else{if(!Array.isArray(r.axis))throw new Error("Expected axis to be an integer or an array of integers, "+"but received ".concat(JSON.stringify(r.axis)));var a,o=Yt(r.axis);try{for(o.s();!(a=o.n()).done;){var i=a.value;if(!Number.isInteger(i))throw new Error("Expected axis to be an array of integers, "+"but received ".concat(JSON.stringify(r.axis)))}}catch(xV){o.e(xV)}finally{o.f()}}return r.epsilon=null==e.epsilon?.001:e.epsilon,r.center=null==e.center||e.center,r.scale=null==e.scale||e.scale,r.betaInitializer=hy(e.betaInitializer||"zeros"),r.gammaInitializer=hy(e.gammaInitializer||"ones"),r.betaRegularizer=Hk(e.betaRegularizer),r.gammaRegularizer=Hk(e.gammaRegularizer),r.supportsMasking=!0,r}return(0,Jt.Z)(n,[{key:"build",value:function(e){var t=(e=wy(e)).length;"number"===typeof this.axis&&(this.axis=[this.axis]);for(var n=0;n<this.axis.length;++n)this.axis[n]<0&&(this.axis[n]+=t);var r,a=Yt(this.axis);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(o<0||o>=t)throw new Error("Invalid axis: ".concat(o))}}catch(xV){a.e(xV)}finally{a.f()}if(this.axis.length!==Gg(this.axis).length)throw new Error("Found duplicate axes in: ".concat(this.axis));var i=this.axis.map((function(t){return e[t]}));this.scale?this.gamma=this.addWeight("gamma",i,"float32",this.gammaInitializer,this.gammaRegularizer,true):this.gamma=null,this.center?this.beta=this.addWeight("beta",i,"float32",this.betaInitializer,this.betaRegularizer,true):this.beta=null,this.built=!0}},{key:"call",value:function(e,t){var n=this,r=ky(e),a=r.shape,o=a.length;return Sl((function(){var e,t=rp(r,n.axis,!0),i=t.mean,u=t.variance,s=Zg(1,o),l=Yt(n.axis);try{for(l.s();!(e=l.n()).done;){var c=e.value;s[c]=a[c]}}catch(xV){l.e(xV)}finally{l.f()}for(var d=function(e){return null!=e&&e.shape.length!==o?lc(e,s):e},p=d(n.gamma.read()),f=d(n.beta.read()),h=[],m=[],v=0;v<o;++v)-1!==n.axis.indexOf(v)?(h.push(a[v]),m.push(1)):(h.push(1),m.push(a[v]));return i=ud(i,h),u=ud(u,h),p=ud(p,m),f=ud(f,m),tC(r,i,u,f,p,n.epsilon)}))}},{key:"getConfig",value:function(){var e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:fy(this.betaInitializer),gammaInitializer:fy(this.gammaInitializer),betaRegularizer:Vk(this.betaRegularizer),gammaRegularizer:Vk(this.gammaRegularizer)},t=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Oy);oC.className="LayerNormalization",Cl(oC);var iC=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;if((0,Qt.Z)(this,n),null==e&&(e={}),(r=t.call(this,e)).dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)r.padding=[[1,1],[1,1]];else if("number"===typeof e.padding)r.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new Ag("ZeroPadding2D expects padding to be a length-2 array, but "+"received a length-".concat(e.padding.length," array."));var a,o;if("number"===typeof e.padding[0])a=[e.padding[0],e.padding[0]],o=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new Ag("ZeroPadding2D expects height padding to be a length-2 array, "+"but received a length-".concat(e.padding[0].length," array."));if(a=e.padding[0],2!==e.padding[1].length)throw new Ag("ZeroPadding2D expects width padding to be a length-2 array, "+"but received a length-".concat(e.padding[1].length," array."));o=e.padding[1]}r.padding=[a,o]}return r.inputSpec=[new Fy({ndim:4})],r}return(0,Jt.Z)(n,[{key:"computeOutputShape",value:function(e){var t,n;return e=wy(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])}},{key:"call",value:function(e,t){var n=this;return Sl((function(){return function(e,t,n){return Sl((function(){if(4!==e.rank)throw new Ag("temporalPadding expects input tensor to be 4-D, but received a "+"".concat(e.rank,"-D tensor."));if(null==t&&(t=[[1,1],[1,1]]),2!==t.length||2!==t[0].length||2!==t[1].length)throw new Ag("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==n&&(n="channelsLast"),"channelsLast"!==n&&"channelsFirst"!==n)throw new Ag("Unknown data format: ".concat(n,". ")+"Supported data formats are 'channelsLast' and 'channelsFirst.");var r;return r="channelsFirst"===n?[[0,0],[0,0],t[0],t[1]]:[[0,0],t[0],t[1],[0,0]],cp(e,r)}))}(ky(e),n.padding,n.dataFormat)}))}},{key:"getConfig",value:function(){var e={padding:this.padding,dataFormat:this.dataFormat},t=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Oy);function uC(e,t,n,r,a,o){return Sl((function(){var i;mb(a),gb(o),vb(r),null==n&&(n=[1,1]),null==r&&(r="valid"),null==a&&(a="channelsLast"),null==o&&(o="max"),e=ew(e,a);var u="same"===r?"same":"valid";return i="max"===o?Hd(e,t,n,u):cc(e,t,n,u),"channelsFirst"===a&&(i=If(i,[0,3,1,2])),i}))}function sC(e,t,n,r,a,o){return Sl((function(){var i;mb(a),gb(o),vb(r),null==n&&(n=[1,1,1]),null==r&&(r="valid"),null==a&&(a="channelsLast"),null==o&&(o="max"),e=tw(e,a);var u="same"===r?"same":"valid";return i="max"===o?Ud(e,t,n,u):dc(e,t,n,u),"channelsFirst"===a&&(i=If(i,[0,4,1,2,3])),i}))}iC.className="ZeroPadding2D",Cl(iC);var lC=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;if((0,Qt.Z)(this,n),null==e.poolSize&&(e.poolSize=2),r=t.call(this,e),"number"===typeof e.poolSize)r.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||"number"!==typeof e.poolSize[0])throw new Ag("poolSize for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.poolSize)));r.poolSize=e.poolSize}if(Yg(r.poolSize,"poolSize"),null==e.strides)r.strides=r.poolSize;else if("number"===typeof e.strides)r.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||"number"!==typeof e.strides[0])throw new Ag("strides for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.strides)));r.strides=e.strides}return Yg(r.strides,"strides"),r.padding=null==e.padding?"valid":e.padding,vb(r.padding),r.inputSpec=[new Fy({ndim:3})],r}return(0,Jt.Z)(n,[{key:"computeOutputShape",value:function(e){var t=Qk((e=wy(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]}},{key:"call",value:function(e,t){var n=this;return Sl((function(){n.invokeCallHook(e,t),e=Nb(ky(e),2);var r=n.poolingFunction(ky(e),[n.poolSize[0],1],[n.strides[0],1],n.padding,"channelsLast");return of(r,[2])}))}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},t=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Oy),cC=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){return(0,Qt.Z)(this,n),t.call(this,e)}return(0,Jt.Z)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return mb(a),vb(r),uC(e,t,n,r,a,"max")}}]),n}(lC);cC.className="MaxPooling1D",Cl(cC);var dC=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){return(0,Qt.Z)(this,n),t.call(this,e)}return(0,Jt.Z)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return mb(a),vb(r),uC(e,t,n,r,a,"avg")}}]),n}(lC);dC.className="AveragePooling1D",Cl(dC);var pC=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;if((0,Qt.Z)(this,n),null==e.poolSize&&(e.poolSize=[2,2]),(r=t.call(this,e)).poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)r.strides=r.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new Ag("If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length "+"".concat(e.strides.length,"."));r.strides=e.strides}else r.strides=[e.strides,e.strides];return Yg(r.poolSize,"poolSize"),Yg(r.strides,"strides"),r.padding=null==e.padding?"valid":e.padding,r.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,mb(r.dataFormat),vb(r.padding),r.inputSpec=[new Fy({ndim:4})],r}return(0,Jt.Z)(n,[{key:"computeOutputShape",value:function(e){e=wy(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=Qk(t,this.poolSize[0],this.padding,this.strides[0]),n=Qk(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]}},{key:"call",value:function(e,t){var n=this;return Sl((function(){return n.invokeCallHook(e,t),n.poolingFunction(ky(e),n.poolSize,n.strides,n.padding,n.dataFormat)}))}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Oy),fC=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){return(0,Qt.Z)(this,n),t.call(this,e)}return(0,Jt.Z)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return mb(a),vb(r),uC(e,t,n,r,a,"max")}}]),n}(pC);fC.className="MaxPooling2D",Cl(fC);var hC=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){return(0,Qt.Z)(this,n),t.call(this,e)}return(0,Jt.Z)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return mb(a),vb(r),uC(e,t,n,r,a,"avg")}}]),n}(pC);hC.className="AveragePooling2D",Cl(hC);var mC=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;if((0,Qt.Z)(this,n),null==e.poolSize&&(e.poolSize=[2,2,2]),(r=t.call(this,e)).poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],null==e.strides)r.strides=r.poolSize;else if(Array.isArray(e.strides)){if(3!==e.strides.length)throw new Ag("If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length "+"".concat(e.strides.length,"."));r.strides=e.strides}else r.strides=[e.strides,e.strides,e.strides];return Yg(r.poolSize,"poolSize"),Yg(r.strides,"strides"),r.padding=null==e.padding?"valid":e.padding,r.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,mb(r.dataFormat),vb(r.padding),r.inputSpec=[new Fy({ndim:5})],r}return(0,Jt.Z)(n,[{key:"computeOutputShape",value:function(e){e=wy(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[4]:e[3];return t=Qk(t,this.poolSize[0],this.padding,this.strides[0]),n=Qk(n,this.poolSize[1],this.padding,this.strides[1]),r=Qk(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n,r]:[e[0],t,n,r,e[4]]}},{key:"call",value:function(e,t){var n=this;return Sl((function(){return n.invokeCallHook(e,t),n.poolingFunction(ky(e),n.poolSize,n.strides,n.padding,n.dataFormat)}))}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Oy),vC=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){return(0,Qt.Z)(this,n),t.call(this,e)}return(0,Jt.Z)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return mb(a),vb(r),sC(e,t,n,r,a,"max")}}]),n}(mC);vC.className="MaxPooling3D",Cl(vC);var gC=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){return(0,Qt.Z)(this,n),t.call(this,e)}return(0,Jt.Z)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return mb(a),vb(r),sC(e,t,n,r,a,"avg")}}]),n}(mC);gC.className="AveragePooling3D",Cl(gC);var bC=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this,e)).inputSpec=[new Fy({ndim:3})],r}return(0,Jt.Z)(n,[{key:"computeOutputShape",value:function(e){return[e[0],e[2]]}},{key:"call",value:function(e,t){throw new Rg}}]),n}(Oy),yC=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){return(0,Qt.Z)(this,n),t.call(this,e||{})}return(0,Jt.Z)(n,[{key:"call",value:function(e,t){return Sl((function(){var t=ky(e);return Kd(t,1)}))}}]),n}(bC);yC.className="GlobalAveragePooling1D",Cl(yC);var xC=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){return(0,Qt.Z)(this,n),t.call(this,e||{})}return(0,Jt.Z)(n,[{key:"call",value:function(e,t){return Sl((function(){var t=ky(e);return Fd(t,1)}))}}]),n}(bC);xC.className="GlobalMaxPooling1D",Cl(xC);var kC=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this,e)).dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,mb(r.dataFormat),r.inputSpec=[new Fy({ndim:4})],r}return(0,Jt.Z)(n,[{key:"computeOutputShape",value:function(e){return e=e,"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]}},{key:"call",value:function(e,t){throw new Rg}},{key:"getConfig",value:function(){var e={dataFormat:this.dataFormat},t=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Oy),wC=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.apply(this,arguments)}return(0,Jt.Z)(n,[{key:"call",value:function(e,t){var n=this;return Sl((function(){var t=ky(e);return"channelsLast"===n.dataFormat?Kd(t,[1,2]):Kd(t,[2,3])}))}}]),n}(kC);wC.className="GlobalAveragePooling2D",Cl(wC);var CC=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.apply(this,arguments)}return(0,Jt.Z)(n,[{key:"call",value:function(e,t){var n=this;return Sl((function(){var t=ky(e);return"channelsLast"===n.dataFormat?Fd(t,[1,2]):Fd(t,[2,3])}))}}]),n}(kC);CC.className="GlobalMaxPooling2D",Cl(CC);var DC=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this,e)).layer=e.layer,r}return(0,Jt.Z)(n,[{key:"build",value:function(e){this.built=!0}},{key:"trainable",get:function(){return null!=this.layer&&this.layer.trainable},set:function(e){null!=this.layer&&(this.layer.trainable=e)}},{key:"trainableWeights",get:function(){return this.layer.trainableWeights}},{key:"nonTrainableWeights",get:function(){return this.layer.nonTrainableWeights}},{key:"updates",get:function(){return this.layer._updates}},{key:"losses",get:function(){return this.layer.losses}},{key:"getWeights",value:function(){return this.layer.getWeights()}},{key:"setWeights",value:function(e){this.layer.setWeights(e)}},{key:"getConfig",value:function(){var e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},t=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}},{key:"setFastWeightInitDuringBuild",value:function(e){Xy((0,Dg.Z)(n.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(e)}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.layer,a=Yy(r,n);delete t.layer;var o={layer:a};return Object.assign(o,t),new e(o)}}]),n}(Oy),EC=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this,e)).supportsMasking=!0,r}return(0,Jt.Z)(n,[{key:"build",value:function(e){if((e=wy(e)).length<3)throw new Ag("TimeDistributed layer expects an input shape >= 3D, but received "+"input shape ".concat(JSON.stringify(e)));this.inputSpec=[{shape:e}];var t=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(t),this.layer.built=!0),Xy((0,Dg.Z)(n.prototype),"build",this).call(this,e)}},{key:"computeOutputShape",value:function(e){var t=[(e=wy(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),r=e[1];return[n[0],r].concat(n.slice(1))}},{key:"call",value:function(e,t){var n=this;return Sl((function(){return bw((function(e,r){return[ky(n.layer.call(e,t)),[]]}),e=ky(e),[],!1,null,null,!1,!0)[1]}))}}]),n}(DC);EC.className="TimeDistributed",Cl(EC);var SC=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;(0,Qt.Z)(this,n),r=t.call(this,e);var a=e.layer.getConfig(),o={};o.className=e.layer.getClassName(),o.config=a,r.forwardLayer=Yy(o),a.goBackwards=!0!==a.goBackwards;var i,u={};if(u.className=e.layer.getClassName(),u.config=a,r.backwardLayer=Yy(u),r.forwardLayer.name="forward_"+r.forwardLayer.name,r.backwardLayer.name="backward_"+r.backwardLayer.name,r.mergeMode=void 0===e.mergeMode?"concat":e.mergeMode,i=r.mergeMode,Kg(fb,"BidirectionalMergeMode",i),e.weights)throw new Rg("weights support is not implemented for Bidirectional layer yet.");return r._stateful=e.layer.stateful,r.returnSequences=e.layer.returnSequences,r.returnState=e.layer.returnState,r.supportsMasking=!0,r._trainable=!0,r.inputSpec=e.layer.inputSpec,r.numConstants=null,r}return(0,Jt.Z)(n,[{key:"trainable",get:function(){return this._trainable},set:function(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)}},{key:"getWeights",value:function(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}},{key:"setWeights",value:function(e){var t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))}},{key:"computeOutputShape",value:function(e){var t,n,r,a=this.forwardLayer.computeOutputShape(e);return Array.isArray(a)&&Array.isArray(a[0])||(a=[a]),a=a,this.returnState?(r=a.slice(1),t=a[0]):t=a[0],t=t,"concat"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[t].concat(r).concat(r.slice()):Lg(n)}},{key:"apply",value:function(e,t){var r=null==t?null:t.initialState,a=null==t?null:t.constants;null==t&&(t={});var o=gw(e,r,a,this.numConstants);if(e=o.inputs,r=o.initialState,a=o.constants,Array.isArray(e)&&(r=e.slice(1),e=e[0]),(null==r||0===r.length)&&null==a)return Xy((0,Dg.Z)(n.prototype),"apply",this).call(this,e,t);var i=[],u=[];if(null!=r){var s=r.length;if(s%2>0)throw new Ag("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");t.initialState=r,i.push.apply(i,(0,$t.Z)(r));var l=r.map((function(e){return new Fy({shape:e.shape})}));this.forwardLayer.stateSpec=l.slice(0,s/2),this.backwardLayer.stateSpec=l.slice(s/2),u.push.apply(u,(0,$t.Z)(l))}if(null!=a)throw new Rg("Support for constants in Bidirectional layers is not implemented yet.");for(var c=i[0]instanceof Ty,d=0,p=i;d<p.length;d++){if(p[d]instanceof Ty!==c)throw new Ag("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors")}if(c){var f=[e].concat(i),h=this.inputSpec.concat(u),m=this.inputSpec;this.inputSpec=h;var v=Xy((0,Dg.Z)(n.prototype),"apply",this).call(this,f,t);return this.inputSpec=m,v}return Xy((0,Dg.Z)(n.prototype),"apply",this).call(this,e,t)}},{key:"call",value:function(e,t){var n=this;return Sl((function(){var r,a,o,i,u=t.initialState;if(null==u)r=n.forwardLayer.call(e,t),a=n.backwardLayer.call(e,t);else{var s=u.slice(0,u.length/2),l=u.slice(u.length/2);r=n.forwardLayer.call(e,Object.assign(t,{initialState:s})),a=n.backwardLayer.call(e,Object.assign(t,{initialState:l}))}return n.returnState&&(Array.isArray(r)&&(o=r.slice(1).concat(a.slice(1))),r=r[0],a=a[0]),n.returnSequences&&(a=Op(a,1)),"concat"===n.mergeMode?i=Mb([r,a]):"sum"===n.mergeMode?i=Pl(r,a):"ave"===n.mergeMode?i=hc(.5,Pl(r,a)):"mul"===n.mergeMode?i=hc(r,a):null==n.mergeMode&&(i=[r,a]),n.returnState?null==n.mergeMode?i.concat(o):[i].concat(o):i}))}},{key:"resetStates",value:function(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}},{key:"build",value:function(e){var t=this;yb(this.forwardLayer.name,(function(){t.forwardLayer.build(e)})),yb(this.backwardLayer.name,(function(){t.backwardLayer.build(e)})),this.built=!0}},{key:"computeMask",value:function(e,t){var n;if(Array.isArray(t)&&(t=t[0]),n=this.returnSequences?null==this.mergeMode?[t,t]:t:null==this.mergeMode?[null,null]:null,this.returnState){var r=this.forwardLayer.states.map((function(e){return null}));return Array.isArray(n)?n.concat(r).concat(r):[n].concat(r).concat(r)}return n}},{key:"trainableWeights",get:function(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}},{key:"nonTrainableWeights",get:function(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}},{key:"setFastWeightInitDuringBuild",value:function(e){Xy((0,Dg.Z)(n.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)}},{key:"getConfig",value:function(){var e={mergeMode:this.mergeMode},t=Xy((0,Dg.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}],[{key:"fromConfig",value:function(e,t){var n=Yy(t.layer);if(delete t.layer,null!=t.numConstants)throw new Rg("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");var r=t;return r.layer=n,new e(r)}}]),n}(DC);SC.className="Bidirectional",Cl(SC);var IC,FC;Gn().registerFlag("KEEP_INTERMEDIATE_TENSORS",(function(){return!1}),(function(e){e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(IC||(IC={})),function(e){!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(FC||(FC={}));var TC={};function NC(e){return TC[e]}function AC(e,t,n,r,a){var o=t.inputParams[e];if(o&&void 0!==o.inputIndexStart){var i=o.inputIndexStart,u=0===o.inputIndexEnd?void 0:void 0===o.inputIndexEnd?i+1:o.inputIndexEnd;if("tensor"===o.type)return RC(t.inputNames[o.inputIndexStart],n,r,a);if("tensors"===o.type)return t.inputNames.slice(i,u).map((function(e){return RC(e,n,r,a)}));var s=RC(t.inputNames.slice(i)[0],n,r,a),l=s.dataSync();return"number"===o.type?l[0]:Zn(s.shape,l)}var c=t.attrParams[e];return c&&c.value}function RC(e,t,n,r){var a=MC(e),o=(0,je.Z)(a,2),i=o[0],u=o[1];if(null!=r){var s=r.getHashTableHandleByName(i);if(null!=s)return s}var l=n.currentContextIds.find((function(e){return!!t[ZC(i,e)]}));return void 0!==l?t[ZC(i,l)][u]:void 0}function OC(e,t){var n=MC(e),r=(0,je.Z)(n,3),a=r[0],o=r[1],i=r[2];return[ZC(a,t&&t.currentContextId),o,i]}function ZC(e,t){return t?"".concat(e,"-").concat(t):e}function MC(e){var t=e.split(":");if(1===t.length)return[e,0,void 0];var n=t[0],r=3===t.length?t[1]:void 0;return[n,Number(t[t.length-1]),r]}function PC(e,t,n){var r=AC("pad",e,t,n);if("explicit"===r){r=AC("explicitPaddings",e,t,n);for(var a=[[0,0],[0,0],[0,0],[0,0]],o=0;o<4;o++)a[o][0]=r[2*o],a[o][1]=r[2*o+1];return a}return r}function LC(e){return e.kept?e:Ls(e)}var _C=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],BC=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],zC=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]}],jC=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number"}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],VC=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],WC=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],HC=[{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],UC=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],GC=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}],qC=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]}],KC=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],XC=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}],YC=[{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],$C=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],QC=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],JC=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],eD=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],tD=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],nD=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],rD=function(){function e(){var t;(0,Qt.Z)(this,e);var n=[r,a,o,i,u,s,l,c,d,p,f,h,m,v,g,b,y,x,k],w=(t=[]).concat.apply(t,(0,$t.Z)(n.map((function(e){return e.json}))));this.opMappers=w.reduce((function(e,t){return e[t.tfOpName]=t,e}),{})}return(0,Jt.Z)(e,[{key:"transformGraph",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.node,a=[],o=[],i=[],u=r.reduce((function(e,n){return e[n.name]=t.mapNode(n),n.op.startsWith("Placeholder")?a.push(e[n.name]):"Const"===n.op?o.push(e[n.name]):null!=n.input&&0!==n.input.length||i.push(e[n.name]),e}),{}),s=[],l=[],c={},d={};null!=n&&(c=this.mapSignatureEntries(n.inputs),d=this.mapSignatureEntries(n.outputs));var p=Object.keys(u);p.forEach((function(e){var t=u[e];t.inputNames.forEach((function(e,n){var r=OC(e),a=(0,je.Z)(r,3),o=a[0],i=a[2],s=u[o];if(null!=s.outputs){var l=s.outputs.indexOf(i);if(-1!==l){var c="".concat(o,":").concat(l);t.inputNames[n]=c}}t.inputs.push(s),s.children.push(t)}))})),0===Object.keys(d).length?p.forEach((function(e){var t=u[e];0===t.children.length&&l.push(t)})):Object.keys(d).forEach((function(e){var t=OC(e),n=(0,je.Z)(t,1)[0],r=u[n];null!=r&&(r.signatureKey=d[e],l.push(r))})),Object.keys(c).length>0?Object.keys(c).forEach((function(e){var t=OC(e),n=(0,je.Z)(t,1)[0],r=u[n];r&&(r.signatureKey=c[e],s.push(r))})):s=a;var f={};null!=e.library&&null!=e.library.function&&(f=e.library.function.reduce((function(e,n){return e[n.signature.name]=t.mapFunction(n),e}),{}));var h={nodes:u,inputs:s,outputs:l,weights:o,placeholders:a,signature:n,functions:f};return i.length>0&&(h.initNodes=i),h}},{key:"mapSignatureEntries",value:function(e){return Object.keys(e||{}).reduce((function(t,n){return t[e[n].name]=n,t}),{})}},{key:"mapNode",value:function(e){var t=NC(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});var n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((function(e){return e.startsWith("^")?e.substr(1):e})),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce((function(e,t){return e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e}),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce((function(t,n){var r=n.type,a=void 0;switch(n.type){case"string":void 0===(a=oD(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=oD(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":void 0===(a=mD(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=mD(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":void 0===(a=uD(e.attr,n.tfName,n.defaultValue||0))&&n.tfDeprecatedName&&(a=uD(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":void 0===(a=hD(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=hD(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":void 0===(a=iD(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=iD(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":void 0===(a=gD(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=gD(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":void 0===(a=fD(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=fD(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":void 0===(a=vD(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=vD(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":void 0===(a=cD(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=cD(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":void 0===(a=dD(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=dD(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":void 0===(a=lD(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=lD(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: ".concat(n.type," for op: ").concat(e.op))}return t[n.name]={value:a,type:r},t}),{})),n}},{key:"mapFunction",value:function(e){var t=this,n=e.nodeDef,r=[],a={};null!=n&&(a=n.reduce((function(e,n){return e[n.name]=t.mapNode(n),"Const"===n.op&&r.push(e[n.name]),e}),{}));var o=[],i=[];e.signature.inputArg.forEach((function(e){var t=OC(e.name),n=(0,je.Z)(t,1)[0],r={name:n,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:sD(e.type),type:"dtype"}},children:[]};r.signatureKey=e.name,o.push(r),a[n]=r})),Object.keys(a).forEach((function(e){var t=a[e];t.inputNames.forEach((function(e,n){var r=OC(e),o=(0,je.Z)(r,3),i=o[0],u=o[2],s=a[i];if(null!=s.outputs){var l=s.outputs.indexOf(u);if(-1!==l){var c="".concat(i,":").concat(l);t.inputNames[n]=c}}t.inputs.push(s),s.children.push(t)}))}));var u=e.ret;e.signature.outputArg.forEach((function(e){var t=OC(u[e.name]),n=(0,je.Z)(t,2),r=n[0],o=n[1],s=a[r];null!=s&&(s.defaultOutput=o,i.push(s))}));var s=this.mapArgsToSignature(e);return{nodes:a,inputs:o,outputs:i,weights:r,placeholders:[],signature:s}}},{key:"mapArgsToSignature",value:function(e){var t=this;return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((function(e,n){return e[n.name]=t.mapArgToTensorInfo(n),e}),{}),outputs:e.signature.outputArg.reduce((function(n,r){return n[r.name]=t.mapArgToTensorInfo(r,e.ret),n}),{})}}},{key:"mapArgToTensorInfo",value:function(e,t){var n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}],[{key:"Instance",get:function(){return this._instance||(this._instance=new this)}}]),e}();function aD(e,t){var n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){var t=Gn().global;if("undefined"!==typeof t.atob)return t.atob(e);if("undefined"!==typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function oD(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e[t];return null!=a?aD(a.s,r):n}function iD(e,t,n){var r=e[t];return r?r.b:n}function uD(e,t,n){var r=e[t]||{},a=null!=r.i?r.i:null!=r.f?r.f:n;return"number"===typeof a?a:parseInt(a,10)}function sD(e){switch("string"===typeof e&&(e=IC[e]),e){case IC.DT_FLOAT:case IC.DT_HALF:return"float32";case IC.DT_INT32:case IC.DT_INT64:case IC.DT_INT8:case IC.DT_UINT8:return"int32";case IC.DT_BOOL:return"bool";case IC.DT_DOUBLE:return"float32";case IC.DT_STRING:return"string";default:return null}}function lD(e,t,n){var r=e[t];return r&&r.func?r.func.name:n}function cD(e,t,n){var r=e[t];return r&&r.type?sD(r.type):n}function dD(e,t,n){var r=e[t];return r&&r.list&&r.list.type?r.list.type.map((function(e){return sD(e)})):n}function pD(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((function(e){return"number"===typeof e.size?e.size:parseInt(e.size,10)})):[]}function fD(e,t,n){var r=e[t];return r&&r.shape?pD(r.shape):n}function hD(e,t,n){var r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((function(e){return"number"===typeof e?e:parseInt(e,10)})):n}function mD(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e[t];return a&&a.list&&a.list.s?a.list.s.map((function(e){return aD(e,r)})):n}function vD(e,t,n){var r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((function(e){return pD(e)})):n}function gD(e,t,n){var r=e[t];return r&&r.list&&r.list.b?r.list.b:n}var bD=function(){function e(t,n,r){var a=this;(0,Qt.Z)(this,e),this.node=t,this.tensorMap=n,this.context=r,this.inputs=[],this.attrs={},this.inputs=t.inputNames.map((function(e){return a.getInput(e)})),null!=t.rawAttrs&&(this.attrs=Object.keys(t.rawAttrs).reduce((function(e,t){return e[t]=a.getAttr(t),e}),{}))}return(0,Jt.Z)(e,[{key:"getInput",value:function(e){return RC(e,this.tensorMap,this.context)}},{key:"getAttr",value:function(e,t){var n=this.node.rawAttrs[e];if(null!=n.tensor)return RC(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return uD(this.node.rawAttrs,e,t);if(null!=n.s)return oD(this.node.rawAttrs,e,t);if(null!=n.b)return iD(this.node.rawAttrs,e,t);if(null!=n.shape)return fD(this.node.rawAttrs,e,t);if(null!=n.type)return cD(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return hD(this.node.rawAttrs,e,t);if(null!=n.list.s)return mD(this.node.rawAttrs,e,t);if(null!=n.list.shape)return vD(this.node.rawAttrs,e,t);if(null!=n.list.b)return gD(this.node.rawAttrs,e,t);if(null!=n.list.type)return dD(this.node.rawAttrs,e,t)}return t}}]),e}();function yD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("number"!==typeof e&&"number"!==typeof t){ln(e.length===t.length,(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}));for(var r=0;r<e.length;r++){var a=e[r],o=t[r];ln(a<0||o<0||a===o,(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}))}}}function xD(e){return"number"!==typeof e&&!e.some((function(e){return e<0}))}function kD(e,t,n){var r=wD(e,n),a=!xD(r);if(a&&0===t.length)throw new Error("Tried to calculate elements of an empty list"+" with non-fully-defined elementShape: ".concat(r));if(a&&t.forEach((function(e){r=wD(e.shape,r)})),!xD(r))throw new Error("Non-fully-defined elementShape: ".concat(r));return r}function wD(e,t){if("number"===typeof e)return t;if("number"===typeof t)return e;if(e.length!==t.length)throw new Error("Incompatible ranks during merge: ".concat(e," vs. ").concat(t));for(var n=[],r=0;r<e.length;++r){var a=e[r],o=t[r];if(a>=0&&o>=0&&a!==o)throw new Error("Incompatible shape during merge: ".concat(e," vs. ").concat(t));n[r]=a>=0?a:o}return n}var CD=function(){function e(t,n,r,a,o,i,u){(0,Qt.Z)(this,e),this.name=t,this.dtype=n,this.maxSize=r,this.elementShape=a,this.identicalElementShapes=o,this.dynamicSize=i,this.clearAfterRead=u,this.tensors=[],this.closed_=!1,this.idTensor=Al(0),Fl(this.idTensor)}return(0,Jt.Z)(e,[{key:"id",get:function(){return this.idTensor.id}},{key:"closed",get:function(){return this.closed_}},{key:"clearAndClose",value:function(e){this.tensors.forEach((function(t){null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}},{key:"size",value:function(){return this.tensors.length}},{key:"read",value:function(e){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||e>=this.size())throw new Error("Tried to read from index ".concat(e,", but array size is: ").concat(this.size()));var t=this.tensors[e];if(t.cleared)throw new Error("TensorArray ".concat(this.name,": Could not read index ").concat(e," twice because it was cleared after a previous read ")+"(perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}},{key:"readMany",value:function(e){var t=this;return e.map((function(e){return t.read(e)}))}},{key:"write",value:function(e,t){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index ".concat(e,", but array is not resizeable and size is: ").concat(this.maxSize));var n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,",\n          because the value dtype is ").concat(t.dtype,", but TensorArray dtype is ").concat(this.dtype,"."));if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),yD(this.elementShape,t.shape,"TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,".")),n.read)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been read."));if(n.written)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been written."));n.tensor=t,Fl(t),n.written=!0,this.tensors[e]=n}},{key:"writeMany",value:function(e,t){var n=this;if(e.length!==t.length)throw new Error("TensorArray ".concat(this.name,": could not write multiple tensors,")+"because the index size: ".concat(e.length," is not the same as tensors size: ").concat(t.length,"."));e.forEach((function(e,r){return n.write(e,t[r])}))}},{key:"gather",value:function(e,t){if(t&&t!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but gather requested dtype ").concat(t));if(e)e=e.slice(0,this.size());else{e=[];for(var n=0;n<this.size();n++)e.push(n)}if(0===e.length)return Iu([],[0].concat(this.elementShape));var r=this.readMany(e);return yD(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),uf(r,0)}},{key:"concat",value:function(e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but concat requested dtype ").concat(e));if(0===this.size())return Iu([],[0].concat(this.elementShape));for(var t=[],n=0;n<this.size();n++)t.push(n);var r=this.readMany(t);return yD(this.elementShape,r[0].shape,"TensorArray shape mismatch: tensor array shape (".concat(this.elementShape,") vs first tensor shape (").concat(r[0].shape,")")),pc(r,0)}},{key:"scatter",value:function(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(e.length," vs. ").concat(t.shape[0]));var n=Math.max.apply(Math,(0,$t.Z)(e));if(!this.dynamicSize&&n>=this.maxSize)throw new Error("Max index must be < array size (".concat(n,"  vs. ").concat(this.maxSize,")"));this.writeMany(e,xf(t,0))}},{key:"split",value:function(e,t){var n=this;if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));var r=0,a=e.map((function(e){return r+=e}));if(r!==t.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(r,", and tensor's shape is: ").concat(t.shape));if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths (".concat(this.maxSize," vs. ").concat(e.length,"), ")+"and the TensorArray is not marked as dynamically resizeable");var o=0===r?0:t.size/r,i=[];Sl((function(){t=lc(t,[1,r,o]);for(var u=0;u<e.length;++u){var s=[0,0===u?0:a[u-1],0],l=[1,e[u],o];i[u]=lc(vc(t,s,l),n.elementShape)}return i}));for(var u=[],s=0;s<e.length;s++)u[s]=s;this.writeMany(u,i)}}]),e}(),DD=function(){function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;(0,Qt.Z)(this,e),this.tensors=t,this.elementShape=n,this.elementDtype=r,null!=t&&t.forEach((function(e){if(r!==e.dtype)throw new Error("Invalid data types; op elements ".concat(r,", but list elements ").concat(e.dtype));yD(n,e.shape,"TensorList shape mismatch: "),Fl(e)})),this.idTensor=Al(0),this.maxNumElements=a,Fl(this.idTensor)}return(0,Jt.Z)(e,[{key:"id",get:function(){return this.idTensor.id}},{key:"copy",value:function(){return new e((0,$t.Z)(this.tensors),this.elementShape,this.elementDtype)}},{key:"clearAndClose",value:function(e){this.tensors.forEach((function(t){null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}},{key:"size",value:function(){return this.tensors.length}},{key:"stack",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(-1!==r&&this.tensors.length!==r)throw new Error("Operation expected a list with ".concat(r," elements but got a list with ").concat(this.tensors.length," elements."));yD(e,this.elementShape,"TensorList shape mismatch: ");var a=kD(this.elementShape,this.tensors,e);return Sl((function(){var e=n.tensors.map((function(e){return lc(e,a)}));return uf(e,0)}))}},{key:"popBack",value:function(e,t){if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(0===this.size())throw new Error("Trying to pop from an empty list.");var n=kD(this.elementShape,this.tensors,e),r=this.tensors.pop();return yD(r.shape,e,"TensorList shape mismatch: "),lc(r,n)}},{key:"pushBack",value:function(e){if(e.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(this.elementDtype));if(yD(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");Fl(e),this.tensors.push(e)}},{key:"resize",value:function(e){if(e<0)throw new Error("TensorListResize expects size to be non-negative. Got: ".concat(e));if(-1!==this.maxNumElements&&e>this.maxNumElements)throw new Error("TensorListResize input size ".concat(e," is greater maxNumElement ").concat(this.maxNumElements,"."));this.tensors.length=e}},{key:"getItem",value:function(e,t,n){if(n!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(this.elementDtype));if(e<0||e>this.tensors.length)throw new Error("Trying to access element ".concat(e," in a list with ").concat(this.tensors.length," elements."));if(null==this.tensors[e])throw new Error("element at index ".concat(e," is null."));yD(this.tensors[e].shape,t,"TensorList shape mismatch: ");var r=kD(this.elementShape,this.tensors,t);return lc(this.tensors[e],r)}},{key:"setItem",value:function(e,t){if(t.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t.dtype,", but list elements ").concat(this.elementDtype));if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error("Trying to set element ".concat(e," in a list with max ").concat(this.maxNumElements," elements."));yD(this.elementShape,t.shape,"TensorList shape mismatch: "),Fl(t),this.tensors[e]=t}},{key:"gather",value:function(e,t,n){var r=this;if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));yD(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());var a=kD(this.elementShape,this.tensors,n);return 0===e.length?Iu([],[0].concat(a)):Sl((function(){var t=e.map((function(e){return lc(r.tensors[e],a)}));return uf(t,0)}))}},{key:"concat",value:function(e,t){var n=this;if(e&&e!==this.elementDtype)throw new Error("TensorList dtype is ".concat(this.elementDtype," but concat requested dtype ").concat(e));yD(this.elementShape,t,"TensorList shape mismatch: ");var r=kD(this.elementShape,this.tensors,t);return 0===this.size()?Iu([],[0].concat(r)):Sl((function(){var e=n.tensors.map((function(e){return lc(e,r)}));return pc(e,0)}))}}]),e}();function ED(e,t,n){var r=e.dtype;if(e.shape.length<1)throw new Error("Tensor must be at least a vector, but saw shape: ".concat(e.shape));if(e.dtype!==n)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(n));yD(e.shape.slice(1),t,"TensorList shape mismatch: ");var a=xf(e);return new DD(a,t,r)}function SD(e,t,n){return new DD([],e,t,n)}function ID(e,t,n,r){if(t.length!==e.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(t.length," vs. ").concat(e.shape[0]));var a=Math.max.apply(Math,(0,$t.Z)(t));if(null!=r&&-1!==r&&a>=r)throw new Error("Max index must be < array size (".concat(a,"  vs. ").concat(r,")"));var o=new DD([],n,e.dtype,r),i=xf(e,0);return t.forEach((function(e,t){o.setItem(e,i[t])})),o}function FD(e,t,n){var r=0,a=t.map((function(e){return r+=e}));if(r!==e.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(r,", and tensor's shape is: ").concat(e.shape));for(var o=wD(e.shape.slice(1),n),i=0===r?0:e.size/r,u=Sl((function(){var n=[];e=lc(e,[1,r,i]);for(var u=0;u<t.length;++u){var s=[0,0===u?0:a[u-1],0],l=[1,t[u],i];n[u]=lc(vc(e,s,l),o)}return e.dispose(),n})),s=new DD([],n,e.dtype,t.length),l=0;l<u.length;l++)s.setItem(l,u[l]);return s}var TD=function(){var e=Ut(qt().mark((function e(t,n,r){var a,o,i,u,s,l,c,d,p,f,h,m,v,g,b,y,x,k,w,C,D,E,S,I,F,T,N,A,R,O,Z,M,P,L,_,B,z,j,V,W,H,U,G,q,K,X,Y,$,Q,J,ee,te,ne,re,ae,oe,ie,ue,se,le,ce,de,pe,fe,he,me,ve,ge,be,ye,xe,ke,we,Ce,De,Ee,Se,Ie,Fe,Te,Ne,Ae,Re,Oe,Ze,Me,Pe,Le,_e,Be,ze,je,Ve,We,He,Ue;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="If"===e.t0||"StatelessIf"===e.t0?3:"While"===e.t0||"StatelessWhile"===e.t0?15:"LoopCond"===e.t0?19:"Switch"===e.t0?21:"Merge"===e.t0?32:"Enter"===e.t0?37:"Exit"===e.t0?41:"NextIteration"===e.t0?44:"TensorArrayV3"===e.t0?47:"TensorArrayWriteV3"===e.t0?57:"TensorArrayReadV3"===e.t0?63:"TensorArrayGatherV3"===e.t0?67:"TensorArrayScatterV3"===e.t0?72:"TensorArrayConcatV3"===e.t0?78:"TensorArraySplitV3"===e.t0?82:"TensorArraySizeV3"===e.t0?88:"TensorArrayCloseV3"===e.t0?91:"TensorListSetItem"===e.t0?95:"TensorListGetItem"===e.t0?101:"TensorListScatterV2"===e.t0||"TensorListScatter"===e.t0?107:"TensorListReserve"===e.t0||"EmptyTensorList"===e.t0?114:"TensorListGather"===e.t0?121:"TensorListStack"===e.t0?127:"TensorListFromTensor"===e.t0?133:"TensorListConcat"===e.t0?139:"TensorListPushBack"===e.t0?144:"TensorListPopBack"===e.t0?149:"TensorListSplit"===e.t0?154:160;break;case 3:return a=AC("thenBranch",t,n,r),o=AC("elseBranch",t,n,r),i=AC("cond",t,n,r),u=AC("args",t,n,r),e.next=9,i.data();case 9:if(!e.sent[0]){e.next=14;break}return e.abrupt("return",r.functionMap[a].executeFunctionAsync(u,r.tensorArrayMap,r.tensorListMap));case 14:return e.abrupt("return",r.functionMap[o].executeFunctionAsync(u,r.tensorArrayMap,r.tensorListMap));case 15:return e.delegateYield(qt().mark((function e(){var a,o,i,u,s,l,c,d;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=AC("body",t,n,r),o=AC("cond",t,n,r),i=AC("args",t,n,r),e.next=5,r.functionMap[o].executeFunctionAsync(i,r.tensorArrayMap,r.tensorListMap);case 5:return u=e.sent,s=i.map((function(e){return e.id})),e.next=9,u[0].data();case 9:l=e.sent,u.forEach((function(e){e.kept||-1!==s.indexOf(e.id)||e.dispose()})),c=i,d=qt().mark((function e(){var t,n,i;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c,e.next=3,r.functionMap[a].executeFunctionAsync(c,r.tensorArrayMap,r.tensorListMap);case 3:return c=e.sent,n=c.map((function(e){return e.id})),t.forEach((function(e){e.kept||-1!==s.indexOf(e.id)||-1!==n.indexOf(e.id)||e.dispose()})),e.next=8,r.functionMap[o].executeFunctionAsync(c,r.tensorArrayMap,r.tensorListMap);case 8:return i=e.sent,e.next=11,i[0].data();case 11:l=e.sent,i.forEach((function(e){e.kept||-1!==s.indexOf(e.id)||-1!==n.indexOf(e.id)||e.dispose()}));case 13:case"end":return e.stop()}}),e)}));case 13:if(!l[0]){e.next=17;break}return e.delegateYield(d(),"t0",15);case 15:e.next=13;break;case 17:return e.abrupt("return",{v:c});case 18:case"end":return e.stop()}}),e)}))(),"t1",16);case 16:if("object"!==typeof(s=e.t1)){e.next=19;break}return e.abrupt("return",s.v);case 19:return l=AC("pred",t,n,r),e.abrupt("return",[LC(l)]);case 21:return c=AC("pred",t,n,r),(d=AC("data",t,n,r)).kept||(d=LC(d)),e.next=26,c.data();case 26:if(!e.sent[0]){e.next=30;break}e.t2=[void 0,d],e.next=31;break;case 30:e.t2=[d,void 0];case 31:return e.abrupt("return",e.t2);case 32:if(p=t.inputNames.find((function(e){return void 0!==RC(e,n,r)})),!p){e.next=36;break}return f=RC(p,n,r),e.abrupt("return",[LC(f)]);case 36:return e.abrupt("return",void 0);case 37:return h=AC("frameName",t,n,r),m=AC("tensor",t,n,r),r.enterFrame(h),e.abrupt("return",[LC(m)]);case 41:return v=AC("tensor",t,n,r),r.exitFrame(),e.abrupt("return",[LC(v)]);case 44:return g=AC("tensor",t,n,r),r.nextIteration(),e.abrupt("return",[LC(g)]);case 47:return b=AC("size",t,n,r),y=AC("dtype",t,n,r),x=AC("elementShape",t,n,r),k=AC("dynamicSize",t,n,r),w=AC("clearAfterRead",t,n,r),C=AC("identicalElementShapes",t,n,r),D=AC("name",t,n,r),E=new CD(D,y,b,x,C,k,w),r.addTensorArray(E),e.abrupt("return",[E.idTensor,Al(1)]);case 57:return S=AC("tensorArrayId",t,n,r),I=AC("index",t,n,r),F=AC("tensor",t,n,r),(T=r.getTensorArray(S.id)).write(I,F),e.abrupt("return",[T.idTensor]);case 63:return N=AC("tensorArrayId",t,n,r),A=AC("index",t,n,r),R=r.getTensorArray(N.id),e.abrupt("return",[R.read(A)]);case 67:return O=AC("tensorArrayId",t,n,r),Z=AC("indices",t,n,r),M=AC("dtype",t,n,r),P=r.getTensorArray(O.id),e.abrupt("return",[P.gather(Z,M)]);case 72:return L=AC("tensorArrayId",t,n,r),_=AC("indices",t,n,r),B=AC("tensor",t,n,r),(z=r.getTensorArray(L.id)).scatter(_,B),e.abrupt("return",[z.idTensor]);case 78:return j=AC("tensorArrayId",t,n,r),V=r.getTensorArray(j.id),W=AC("dtype",t,n,r),e.abrupt("return",[V.concat(W)]);case 82:return H=AC("tensorArrayId",t,n,r),U=AC("tensor",t,n,r),G=AC("lengths",t,n,r),(q=r.getTensorArray(H.id)).split(G,U),e.abrupt("return",[q.idTensor]);case 88:return K=AC("tensorArrayId",t,n,r),X=r.getTensorArray(K.id),e.abrupt("return",[Al(X.size(),"int32")]);case 91:return Y=AC("tensorArrayId",t,n,r),($=r.getTensorArray(Y.id)).clearAndClose(),e.abrupt("return",[$.idTensor]);case 95:return Q=AC("tensorListId",t,n,r),J=AC("index",t,n,r),ee=AC("tensor",t,n,r),(te=r.getTensorList(Q.id)).setItem(J,ee),e.abrupt("return",[te.idTensor]);case 101:return ne=AC("tensorListId",t,n,r),re=AC("index",t,n,r),ae=AC("elementShape",t,n,r),oe=AC("elementDType",t,n,r),ie=r.getTensorList(ne.id),e.abrupt("return",[ie.getItem(re,ae,oe)]);case 107:return ue=AC("indices",t,n,r),se=AC("tensor",t,n,r),le=AC("elementShape",t,n,r),ce=AC("numElements",t,n,r),de=ID(se,ue,le,ce),r.addTensorList(de),e.abrupt("return",[de.idTensor]);case 114:return pe=AC("elementShape",t,n,r),fe=AC("elementDType",t,n,r),he="TensorListReserve"===t.op?"numElements":"maxNumElements",me=AC(he,t,n,r),ve=SD(pe,fe,me),r.addTensorList(ve),e.abrupt("return",[ve.idTensor]);case 121:return ge=AC("tensorListId",t,n,r),be=AC("indices",t,n,r),ye=AC("elementShape",t,n,r),xe=AC("elementDType",t,n,r),ke=r.getTensorList(ge.id),e.abrupt("return",[ke.gather(be,xe,ye)]);case 127:return we=AC("tensorListId",t,n,r),Ce=AC("elementShape",t,n,r),De=AC("elementDType",t,n,r),Ee=AC("numElements",t,n,r),Se=r.getTensorList(we.id),e.abrupt("return",[Se.stack(Ce,De,Ee)]);case 133:return Ie=AC("tensor",t,n,r),Fe=AC("elementShape",t,n,r),Te=AC("elementDType",t,n,r),Ne=ED(Ie,Fe,Te),r.addTensorList(Ne),e.abrupt("return",[Ne.idTensor]);case 139:return Ae=AC("tensorListId",t,n,r),Re=r.getTensorList(Ae.id),Oe=AC("dtype",t,n,r),Ze=AC("elementShape",t,n,r),e.abrupt("return",[Re.concat(Oe,Ze)]);case 144:return Me=AC("tensorListId",t,n,r),Pe=AC("tensor",t,n,r),(Le=r.getTensorList(Me.id)).pushBack(Pe),e.abrupt("return",[Le.idTensor]);case 149:return _e=AC("tensorListId",t,n,r),Be=AC("elementShape",t,n,r),ze=AC("elementDType",t,n,r),je=r.getTensorList(_e.id),e.abrupt("return",[je.popBack(Be,ze)]);case 154:return Ve=AC("tensor",t,n,r),We=AC("elementShape",t,n,r),He=AC("lengths",t,n,r),Ue=FD(Ve,He,We),r.addTensorList(Ue),e.abrupt("return",[Ue.idTensor]);case 160:throw TypeError("Node type ".concat(t.op," is not implemented"));case 161:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function ND(e,t,n){var r=AC("fusedOps",e,t,n),a=(0,je.Z)(r,2),o=a[0],i=a[1],u="biasadd"===o,s=!u,l="prelu"===i,c="fusedbatchnorm"===o,d=AC("numArgs",e,t,n);if(u){if(l&&2!==d)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!l&&u&&1!==d)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(c)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");var p=AC("strides",e,t,n),f=PC(e,t,n),h=AC("dataFormat",e,t,n).toUpperCase(),m=AC("dilations",e,t,n),v=AC("args",e,t,n),g=(0,je.Z)(v,2),b=g[0],y=g[1];return s&&(y=b,b=void 0),{stride:p,pad:f,dataFormat:h,dilations:m,biasArg:b,preluArg:y,activationFunc:i,leakyreluAlpha:AC("leakyreluAlpha",e,t,n)}}function AD(e,t,n){return{boxes:AC("boxes",e,t,n),scores:AC("scores",e,t,n),maxOutputSize:AC("maxOutputSize",e,t,n),iouThreshold:AC("iouThreshold",e,t,n),scoreThreshold:AC("scoreThreshold",e,t,n),softNmsSigma:AC("softNmsSigma",e,t,n)}}var RD=function(){var e=Ut(qt().mark((function e(t,n,r){var a,o,i,u,s,l,c,d,p,f,h,m,v,g,b,y,x,k,w,C,D,E,S,I;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="NonMaxSuppressionV5"===e.t0?3:"NonMaxSuppressionV4"===e.t0?8:"NonMaxSuppressionV3"===e.t0||"NonMaxSuppressionV2"===e.t0?14:"Where"===e.t0?19:"ListDiff"===e.t0?26:27;break;case 3:return a=AD(t,n,r),o=a.boxes,i=a.scores,u=a.maxOutputSize,s=a.iouThreshold,l=a.scoreThreshold,c=a.softNmsSigma,e.next=6,om.nonMaxSuppressionWithScoreAsync(o,i,u,s,l,c);case 6:return d=e.sent,e.abrupt("return",[d.selectedIndices,d.selectedScores]);case 8:return p=AD(t,n,r),f=p.boxes,h=p.scores,m=p.maxOutputSize,v=p.iouThreshold,g=p.scoreThreshold,b=AC("padToMaxOutputSize",t,n,r),e.next=12,om.nonMaxSuppressionPaddedAsync(f,h,m,v,g,b);case 12:return y=e.sent,e.abrupt("return",[y.selectedIndices,y.validOutputs]);case 14:return x=AD(t,n,r),k=x.boxes,w=x.scores,C=x.maxOutputSize,D=x.iouThreshold,E=x.scoreThreshold,e.next=17,om.nonMaxSuppressionAsync(k,w,C,D,E);case 17:return e.t1=e.sent,e.abrupt("return",[e.t1]);case 19:return S=Ps(AC("condition",t,n,r),"bool"),e.next=22,Df(S);case 22:return e.t2=e.sent,I=[e.t2],S.dispose(),e.abrupt("return",I);case 26:return e.abrupt("return",Wp(AC("x",t,n,r),AC("y",t,n,r)));case 27:throw TypeError("Node type ".concat(t.op," is not implemented"));case 28:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),OD=function(){function e(t,n){(0,Qt.Z)(this,e),this.keyDType=t,this.valueDType=n,this.handle=Al(0),this.tensorMap=new Map,Fl(this.handle)}return(0,Jt.Z)(e,[{key:"id",get:function(){return this.handle.id}},{key:"clearAndClose",value:function(){this.tensorMap.forEach((function(e){return e.dispose()})),this.tensorMap.clear(),this.handle.dispose()}},{key:"size",value:function(){return this.tensorMap.size}},{key:"tensorSize",value:function(){return Al(this.size(),"int32")}},{key:"import",value:function(){var e=Ut(qt().mark((function e(t,n){var r,a=this;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkKeyAndValueTensor(t,n),e.next=3,t.data();case 3:return r=e.sent,this.tensorMap.forEach((function(e){return e.dispose()})),this.tensorMap.clear(),e.abrupt("return",Sl((function(){var e=xf(n),t=r.length,o=e.length;ln(t===o,(function(){return"The number of elements doesn't match, keys has "+"".concat(t," elements, the values has ").concat(o," ")+"elements."}));for(var i=0;i<t;i++){var u=r[i],s=e[i];Fl(s),a.tensorMap.set(u,s)}return a.handle})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"find",value:function(){var e=Ut(qt().mark((function e(t,n){var r,a=this;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkKeyAndValueTensor(t,n),e.next=3,t.data();case 3:return r=e.sent,e.abrupt("return",Sl((function(){for(var e=[],t=0;t<r.length;t++){var o=r[t],i=a.findWithDefault(o,n);e.push(i)}return uf(e)})));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"findWithDefault",value:function(e,t){var n=this.tensorMap.get(e);return null!=n?n:t}},{key:"checkKeyAndValueTensor",value:function(e,t){if(e.dtype!==this.keyDType)throw new Error("Expect key dtype ".concat(this.keyDType,", but got ")+"".concat(e.dtype));if(t.dtype!==this.valueDType)throw new Error("Expect value dtype ".concat(this.valueDType,", but got ")+"".concat(t.dtype))}}]),e}(),ZD=function(){var e=Ut(qt().mark((function e(t,n,r,a){var o,i,u,s,l,c,d,p,f,h,m,v,g;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="HashTable"===e.t0||"HashTableV2"===e.t0?3:"LookupTableImport"===e.t0||"LookupTableImportV2"===e.t0?8:"LookupTableFind"===e.t0||"LookupTableFindV2"===e.t0?16:"LookupTableSize"===e.t0||"LookupTableSizeV2"===e.t0?24:27;break;case 3:return o=AC("keyDType",t,n,r),i=AC("valueDType",t,n,r),u=new OD(o,i),a.addHashTable(t.name,u),e.abrupt("return",[u.handle]);case 8:return s=AC("tableHandle",t,n,r,a),l=AC("keys",t,n,r),c=AC("values",t,n,r),d=a.getHashTableById(s.id),e.next=14,d.import(l,c);case 14:return e.t1=e.sent,e.abrupt("return",[e.t1]);case 16:return p=AC("tableHandle",t,n,r,a),f=AC("keys",t,n,r),h=AC("defaultValue",t,n,r),m=a.getHashTableById(p.id),e.next=22,m.find(f,h);case 22:return e.t2=e.sent,e.abrupt("return",[e.t2]);case 24:return v=AC("tableHandle",t,n,r,a),g=a.getHashTableById(v.id),e.abrupt("return",[g.tensorSize()]);case 27:throw TypeError("Node type ".concat(t.op," is not implemented"));case 28:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();function MD(e,t,n,r){var a=function(e,t,n){switch(e.category){case"arithmetic":return Sl((function(){return function(e,t,n){switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[Pl(AC("a",e,t,n),AC("b",e,t,n))];case"AddN":return[Ll(AC("tensors",e,t,n))];case"FloorMod":case"Mod":return[tp(AC("a",e,t,n),AC("b",e,t,n))];case"Mul":return[hc(AC("a",e,t,n),AC("b",e,t,n))];case"RealDiv":case"Div":return[Xc(AC("a",e,t,n),AC("b",e,t,n))];case"DivNoNan":return[Jc(AC("a",e,t,n),AC("b",e,t,n))];case"FloorDiv":return[Kc(AC("a",e,t,n),AC("b",e,t,n))];case"Sub":return[Td(AC("a",e,t,n),AC("b",e,t,n))];case"Minimum":return[Jd(AC("a",e,t,n),AC("b",e,t,n))];case"Maximum":return[qd(AC("a",e,t,n),AC("b",e,t,n))];case"Pow":return[gp(AC("a",e,t,n),AC("b",e,t,n))];case"SquaredDifference":return[af(AC("a",e,t,n),AC("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"basic_math":return Sl((function(){return function(e,t,n){switch(e.op){case"Abs":case"ComplexAbs":return[Ol(AC("x",e,t,n))];case"Acos":return[Zl(AC("x",e,t,n))];case"Acosh":return[Ml(AC("x",e,t,n))];case"Asin":return[Vl(AC("x",e,t,n))];case"Asinh":return[Wl(AC("x",e,t,n))];case"Atan":return[Hl(AC("x",e,t,n))];case"Atan2":return[Ul(AC("x",e,t,n),AC("y",e,t,n))];case"Atanh":return[Gl(AC("x",e,t,n))];case"Ceil":return[Ic(AC("x",e,t,n))];case"Complex":return[Eu(AC("real",e,t,n),AC("imag",e,t,n))];case"Cos":return[zc(AC("x",e,t,n))];case"Cosh":return[jc(AC("x",e,t,n))];case"Elu":return[nd(AC("x",e,t,n))];case"Erf":return[rd(AC("x",e,t,n))];case"Exp":return[ad(AC("x",e,t,n))];case"Expm1":return[id(AC("x",e,t,n))];case"Floor":return[cd(AC("x",e,t,n))];case"Log":return[Cd(AC("x",e,t,n))];case"Log1p":return[Dd(AC("x",e,t,n))];case"Imag":return[hd(AC("x",e,t,n))];case"Neg":return[Ed(AC("x",e,t,n))];case"Reciprocal":return[Np(AC("x",e,t,n))];case"Real":return[Tp(AC("x",e,t,n))];case"Relu":return[Ap(AC("x",e,t,n))];case"Round":return[_p(AC("x",e,t,n))];case"Selu":return[zp(AC("x",e,t,n))];case"Sigmoid":return[mc(AC("x",e,t,n))];case"Sin":return[Up(AC("x",e,t,n))];case"Sign":return[Hp(AC("x",e,t,n))];case"Sinh":return[Gp(AC("x",e,t,n))];case"Softplus":return[Sd(AC("x",e,t,n))];case"Sqrt":return[rf(AC("x",e,t,n))];case"Square":return[np(AC("x",e,t,n))];case"Tanh":return[gc(AC("x",e,t,n))];case"Tan":return[cf(AC("x",e,t,n))];case"ClipByValue":return[Fc(AC("x",e,t,n),AC("clipValueMin",e,t,n),AC("clipValueMax",e,t,n))];case"Relu6":return[Rp(AC("x",e,t,n))];case"Rsqrt":return[Bp(RC(e.inputNames[0],t,n))];case"Prod":return[yp(AC("x",e,t,n),AC("axes",e,t,n))];case"LeakyRelu":return[bd(AC("x",e,t,n),AC("alpha",e,t,n))];case"Prelu":return[bp(AC("x",e,t,n),AC("alpha",e,t,n))];case"IsNan":return[gd(RC(e.inputNames[0],t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"control":return TD(e,t,n);case"convolution":return Sl((function(){return function(e,t,n){switch(e.op){case"Conv1D":var r=AC("stride",e,t,n),a=AC("pad",e,t,n),o=AC("dataFormat",e,t,n).toUpperCase(),i=AC("dilation",e,t,n);return[Zc(AC("x",e,t,n),AC("filter",e,t,n),r,a,o,i)];case"Conv2D":var u=AC("strides",e,t,n),s=PC(e,t,n),l=AC("dataFormat",e,t,n).toUpperCase(),c=AC("dilations",e,t,n);return[Oc(AC("x",e,t,n),AC("filter",e,t,n),[u[1],u[2]],s,l,[c[1],c[2]])];case"_FusedConv2D":var d=ND(e,t,n),p=d.stride,f=d.pad,h=d.dataFormat,m=d.dilations,v=d.biasArg,g=d.preluArg,b=d.activationFunc,y=d.leakyreluAlpha;return[qf({x:AC("x",e,t,n),filter:AC("filter",e,t,n),strides:[p[1],p[2]],pad:f,dataFormat:h,dilations:[m[1],m[2]],bias:v,activation:b,preluActivationWeights:g,leakyreluAlpha:y})];case"FusedDepthwiseConv2dNative":var x=ND(e,t,n),k=x.stride,w=x.pad,C=x.dataFormat,D=x.dilations,E=x.biasArg,S=x.preluArg,I=x.activationFunc,F=x.leakyreluAlpha;return[Yf({x:AC("x",e,t,n),filter:AC("filter",e,t,n),strides:[k[1],k[2]],pad:w,dataFormat:C,dilations:[D[1],D[2]],bias:E,activation:I,preluActivationWeights:S,leakyreluAlpha:F})];case"Conv2DBackpropInput":case"Conv2dTranspose":var T=AC("outputShape",e,t,n),N=AC("strides",e,t,n),A=PC(e,t,n);return[Pc(AC("x",e,t,n),AC("filter",e,t,n),T,[N[1],N[2]],A)];case"DepthwiseConv2dNative":case"DepthwiseConv2d":var R=AC("strides",e,t,n),O=PC(e,t,n),Z=AC("dilations",e,t,n),M=AC("dataFormat",e,t,n).toUpperCase();return[Uc(AC("input",e,t,n),AC("filter",e,t,n),[R[1],R[2]],O,M,[Z[1],Z[2]])];case"Conv3D":var P=AC("strides",e,t,n),L=AC("pad",e,t,n),_=AC("dataFormat",e,t,n).toUpperCase(),B=AC("dilations",e,t,n);return[Lc(AC("x",e,t,n),AC("filter",e,t,n),[P[1],P[2],P[3]],L,_,[B[1],B[2],B[3]])];case"AvgPool":var z=AC("strides",e,t,n),j=AC("pad",e,t,n),V=AC("kernelSize",e,t,n);return[cc(AC("x",e,t,n),[V[1],V[2]],[z[1],z[2]],j)];case"MaxPool":var W=AC("strides",e,t,n),H=AC("pad",e,t,n),U=AC("kernelSize",e,t,n);return[Hd(AC("x",e,t,n),[U[1],U[2]],[W[1],W[2]],H)];case"MaxPoolWithArgmax":var G=AC("strides",e,t,n),q=AC("pad",e,t,n),K=AC("kernelSize",e,t,n),X=AC("includeBatchInIndex",e,t,n),Y=Gd(AC("x",e,t,n),[K[1],K[2]],[G[1],G[2]],q,X);return[Y.result,Y.indexes];case"AvgPool3D":var $=AC("strides",e,t,n),Q=AC("pad",e,t,n),J=AC("kernelSize",e,t,n);return[dc(AC("x",e,t,n),[J[1],J[2],J[3]],[$[1],$[2],$[3]],Q)];case"MaxPool3D":var ee=AC("strides",e,t,n),te=AC("pad",e,t,n),ne=AC("kernelSize",e,t,n);return[Ud(AC("x",e,t,n),[ne[1],ne[2],ne[3]],[ee[1],ee[2],ee[3]],te)];case"Dilation2D":var re=AC("strides",e,t,n),ae=AC("pad",e,t,n),oe=AC("dilations",e,t,n),ie=re[1],ue=re[2],se=oe[1],le=oe[2];return[qc(AC("x",e,t,n),AC("filter",e,t,n),[ie,ue],ae,[se,le],"NHWC")];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"creation":return Sl((function(){return function(e,t,n){switch(e.op){case"Fill":var r=AC("shape",e,t,n),a=AC("dtype",e,t,n);return[ld(r,AC("value",e,t,n),a)];case"LinSpace":return[kd(AC("start",e,t,n),AC("stop",e,t,n),AC("num",e,t,n))];case"Multinomial":var o=AC("logits",e,t,n),i=AC("numSamples",e,t,n),u=AC("seed",e,t,n);return[op(o,i,u)];case"OneHot":var s=AC("indices",e,t,n),l=AC("depth",e,t,n),c=AC("onValue",e,t,n),d=AC("offValue",e,t,n);return[up(s,l,c,d)];case"Ones":return[Yd(AC("shape",e,t,n),AC("dtype",e,t,n))];case"OnesLike":return[sp(AC("x",e,t,n))];case"RandomUniform":return[Ip(AC("shape",e,t,n),AC("minval",e,t,n),AC("maxval",e,t,n),AC("dtype",e,t,n))];case"Range":return[Fp(AC("start",e,t,n),AC("stop",e,t,n),AC("step",e,t,n),AC("dtype",e,t,n))];case"TruncatedNormal":var p=AC("shape",e,t,n),f=AC("mean",e,t,n),h=AC("stdDev",e,t,n),m=AC("seed",e,t,n);return[gf(p,f,h,AC("dtype",e,t,n),m)];case"Zeros":return[Xd(AC("shape",e,t,n),AC("dtype",e,t,n))];case"ZerosLike":return[Qc(AC("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"dynamic":return RD(e,t,n);case"evaluation":return Sl((function(){return function(e,t,n){switch(e.op){case"TopKV2":var r=AC("x",e,t,n),a=AC("k",e,t,n),o=AC("sorted",e,t,n),i=vf(r,a,o);return[i.values,i.indices];case"Unique":var u=AC("x",e,t,n),s=bf(u);return[s.values,s.indices];case"UniqueV2":var l=AC("x",e,t,n),c=AC("axis",e,t,n),d=bf(l,c);return[d.values,d.indices];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"image":return Sl((function(){return function(e,t,n){switch(e.op){case"ResizeBilinear":var r=AC("images",e,t,n),a=AC("size",e,t,n),o=AC("alignCorners",e,t,n),i=AC("halfPixelCenters",e,t,n);return[om.resizeBilinear(r,[a[0],a[1]],o,i)];case"ResizeNearestNeighbor":var u=AC("images",e,t,n),s=AC("size",e,t,n),l=AC("alignCorners",e,t,n),c=AC("halfPixelCenters",e,t,n);return[om.resizeNearestNeighbor(u,[s[0],s[1]],l,c)];case"CropAndResize":var d=AC("image",e,t,n),p=AC("boxes",e,t,n),f=AC("boxInd",e,t,n),h=AC("cropSize",e,t,n),m=AC("method",e,t,n),v=AC("extrapolationValue",e,t,n);return[om.cropAndResize(d,p,f,h,m,v)];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"graph":return Sl((function(){return function(e,t,n){switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":var r=AC("default",e,t,n);return[RC(e.name,t,n)||r];case"Placeholder":return[RC(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[LC(AC("x",e,t,n))];case"IdentityN":return AC("x",e,t,n).map((function(e){return LC(e)}));case"Shape":return[df(AC("x",e,t,n).shape,"int32")];case"ShapeN":return AC("x",e,t,n).map((function(e){return df(e.shape)}));case"Size":return[Al(AC("x",e,t,n).size,"int32")];case"Rank":return[Al(AC("x",e,t,n).rank,"int32")];case"NoOp":return[Al(1)];case"Print":var a=AC("x",e,t,n),o=AC("data",e,t,n),i=AC("message",e,t,n),u=AC("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(i);for(var s=0;s<o.length;s++)console.log(Array.prototype.slice.call(o[s].dataSync()).slice(0,u));return[a];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"logical":return Sl((function(){return function(e,t,n){switch(e.op){case"Equal":return[Yc(AC("a",e,t,n),AC("b",e,t,n))];case"NotEqual":return[ip(AC("a",e,t,n),AC("b",e,t,n))];case"Greater":return[pd(AC("a",e,t,n),AC("b",e,t,n))];case"GreaterEqual":return[fd(AC("a",e,t,n),AC("b",e,t,n))];case"Less":return[yd(AC("a",e,t,n),AC("b",e,t,n))];case"LessEqual":return[xd(AC("a",e,t,n),AC("b",e,t,n))];case"LogicalAnd":return[zd(AC("a",e,t,n),AC("b",e,t,n))];case"LogicalNot":return[jd(AC("a",e,t,n))];case"LogicalOr":return[Vd(AC("a",e,t,n),AC("b",e,t,n))];case"Select":case"SelectV2":return[$c(AC("condition",e,t,n),AC("a",e,t,n),AC("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"matrices":return Sl((function(){return function(e,t,n){switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[fc(AC("a",e,t,n),AC("b",e,t,n),AC("transposeA",e,t,n),AC("transposeB",e,t,n))];case"Einsum":return[td.apply(w,[AC("equation",e,t,n)].concat((0,$t.Z)(AC("tensors",e,t,n))))];case"Transpose":return[If(AC("x",e,t,n),AC("perm",e,t,n))];case"_FusedMatMul":var r=AC("fusedOps",e,t,n),a=(0,je.Z)(r,2),o=a[0],i=a[1],u="biasadd"===o,s="prelu"===i,l=AC("numArgs",e,t,n),c=AC("leakyreluAlpha",e,t,n);if(u){if(s&&2!==l)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!s&&1!==l)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}var d=AC("args",e,t,n),p=(0,je.Z)(d,2),f=p[0],h=p[1];return[$f({a:AC("a",e,t,n),b:AC("b",e,t,n),transposeA:AC("transposeA",e,t,n),transposeB:AC("transposeB",e,t,n),bias:f,activation:i,preluActivationWeights:h,leakyreluAlpha:c})];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"normalization":return Sl((function(){return function(e,t,n){switch(e.op){case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[xc(AC("x",e,t,n),AC("mean",e,t,n),AC("variance",e,t,n),AC("offset",e,t,n),AC("scale",e,t,n),AC("epsilon",e,t,n))];case"LRN":return[wd(AC("x",e,t,n),AC("radius",e,t,n),AC("bias",e,t,n),AC("alpha",e,t,n),AC("beta",e,t,n))];case"Softmax":return[$p(AC("x",e,t,n))];case"LogSoftmax":return[Ad(AC("x",e,t,n))];case"SparseToDense":return[Mf(AC("sparseIndices",e,t,n),AC("outputShape",e,t,n),AC("sparseValues",e,t,n),AC("defaultValue",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"reduction":return Sl((function(){return function(e,t,n){switch(e.op){case"Max":var r=AC("axis",e,t,n),a=AC("keepDims",e,t,n);return[Fd(AC("x",e,t,n),r,a)];case"Mean":var o=AC("axis",e,t,n),i=AC("keepDims",e,t,n);return[Kd(AC("x",e,t,n),o,i)];case"Min":var u=AC("axis",e,t,n),s=AC("keepDims",e,t,n);return[Qd(AC("x",e,t,n),u,s)];case"Sum":var l=AC("axis",e,t,n),c=AC("keepDims",e,t,n);return[Nd(AC("x",e,t,n),l,c)];case"All":var d=AC("axis",e,t,n),p=AC("keepDims",e,t,n);return[_l(AC("x",e,t,n),d,p)];case"Any":var f=AC("axis",e,t,n),h=AC("keepDims",e,t,n);return[Bl(AC("x",e,t,n),f,h)];case"ArgMax":var m=AC("axis",e,t,n);return[zl(AC("x",e,t,n),m)];case"ArgMin":var v=AC("axis",e,t,n);return[jl(AC("x",e,t,n),v)];case"Prod":var g=AC("axis",e,t,n),b=AC("keepDims",e,t,n);return[yp(AC("x",e,t,n),g,b)];case"Cumsum":var y=AC("axis",e,t,n),x=AC("exclusive",e,t,n),k=AC("reverse",e,t,n);return[Vc(AC("x",e,t,n),y,x,k)];case"Bincount":var w=AC("x",e,t,n),C=AC("weights",e,t,n),D=AC("size",e,t,n);return[Dc(w,C,D)];case"DenseBincount":var E=AC("x",e,t,n),S=AC("weights",e,t,n),I=AC("size",e,t,n),F=AC("binaryOutput",e,t,n);return[Wc(E,S,I,F)];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"slice_join":return Sl((function(){return function(e,t,n){switch(e.op){case"ConcatV2":case"Concat":var r=AC("n",e,t,n),a=AC("axis",e,t,n),o=AC("tensors",e,t,n);return o=o.slice(0,r),[pc(o,a)];case"Gather":var i=AC("x",e,t,n),u=AC("indices",e,t,n);return[dd(i,Ps(u,"int32"),0)];case"GatherV2":var s=AC("axis",e,t,n),l=AC("batchDims",e,t,n),c=AC("x",e,t,n),d=AC("indices",e,t,n);return[dd(c,Ps(d,"int32"),s,l)];case"Reverse":for(var p=AC("dims",e,t,n),f=[],h=0;h<p.length;h++)p[h]&&f.push(h);var m=AC("x",e,t,n);return[Op(m,f)];case"ReverseV2":var v=AC("axis",e,t,n),g=AC("x",e,t,n);return[Op(g,v)];case"Slice":var b=AC("begin",e,t,n),y=AC("size",e,t,n);return[vc(AC("x",e,t,n),b,y)];case"StridedSlice":var x=AC("begin",e,t,n),k=AC("end",e,t,n),w=AC("strides",e,t,n),C=AC("beginMask",e,t,n),D=AC("endMask",e,t,n),E=AC("ellipsisMask",e,t,n),S=AC("newAxisMask",e,t,n),I=AC("shrinkAxisMask",e,t,n),F=AC("x",e,t,n);return[lf(F,x,k,w,C,D,E,S,I)];case"Pack":return Sl((function(){var r=AC("axis",e,t,n),a=AC("tensors",e,t,n),o=a[0].shape,i=of(a[0]).shape,u=a.map((function(e){var t=hn(e.shape,o);if(!t&&!hn(of(e).shape,i))throw new Error("the input tensors shape does not match");return t?e:lc(e,o)}));return[uf(u,r)]}));case"Unpack":var T=AC("axis",e,t,n),N=AC("tensor",e,t,n);return xf(N,T);case"Tile":var A=AC("reps",e,t,n);return[ud(AC("x",e,t,n),A)];case"Split":case"SplitV":var R=AC("axis",e,t,n),O=AC("numOrSizeSplits",e,t,n),Z=AC("x",e,t,n);return tf(Z,O,R);case"ScatterNd":var M=AC("indices",e,t,n),P=AC("values",e,t,n),L=AC("shape",e,t,n);return[Of(M,P,L)];case"GatherNd":var _=AC("x",e,t,n),B=AC("indices",e,t,n);return[Pf(_,B)];case"SparseToDense":var z=AC("sparseIndices",e,t,n),j=AC("outputShape",e,t,n),V=AC("sparseValues",e,t,n),W=AC("defaultValue",e,t,n);return[Mf(z,V,j,V.dtype===W.dtype?W:Ps(W,V.dtype))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"sparse":return Sl((function(){return function(e,t,n){switch(e.op){case"SparseFillEmptyRows":var r=sm.sparseFillEmptyRows(AC("indices",e,t,n),AC("values",e,t,n),AC("denseShape",e,t,n),AC("defaultValue",e,t,n));return[r.outputIndices,r.outputValues,r.emptyRowIndicator,r.reverseIndexMap];case"SparseReshape":var a=sm.sparseReshape(AC("inputIndices",e,t,n),AC("inputShape",e,t,n),AC("newShape",e,t,n));return[a.outputIndices,a.outputShape];case"SparseSegmentMean":return[sm.sparseSegmentMean(AC("data",e,t,n),AC("indices",e,t,n),AC("segmentIds",e,t,n))];case"SparseSegmentSum":return[sm.sparseSegmentSum(AC("data",e,t,n),AC("indices",e,t,n),AC("segmentIds",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"spectral":return Sl((function(){return function(e,t,n){switch(e.op){case"FFT":return[Qp(AC("x",e,t,n))];case"IFFT":return[Jp(AC("x",e,t,n))];case"RFFT":return[nf(AC("x",e,t,n))];case"IRFFT":return[ef(AC("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"string":return Sl((function(){return function(e,t,n){switch(e.op){case"StringNGrams":var r=lm.stringNGrams(AC("data",e,t,n),AC("dataSplits",e,t,n),AC("separator",e,t,n),AC("nGramWidths",e,t,n),AC("leftPad",e,t,n),AC("rightPad",e,t,n),AC("padWidth",e,t,n),AC("preserveShortSequences",e,t,n));return[r.nGrams,r.nGramsSplits];case"StringSplit":var a=lm.stringSplit(AC("input",e,t,n),AC("delimiter",e,t,n),AC("skipEmpty",e,t,n));return[a.indices,a.values,a.shape];case"StringToHashBucketFast":return[lm.stringToHashBucketFast(AC("input",e,t,n),AC("numBuckets",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"transformation":return Sl((function(){return function(e,t,n){switch(e.op){case"Cast":return[Ps(AC("x",e,t,n),AC("dtype",e,t,n))];case"ExpandDims":var r=AC("axis",e,t,n);return[od(AC("x",e,t,n),r)];case"Squeeze":var a=AC("axis",e,t,n);return[of(AC("x",e,t,n),a)];case"Reshape":return[lc(AC("x",e,t,n),AC("shape",e,t,n))];case"MirrorPad":return[ep(AC("x",e,t,n),AC("padding",e,t,n),AC("mode",e,t,n))];case"PadV2":case"Pad":return[cp(AC("x",e,t,n),AC("padding",e,t,n),AC("constantValue",e,t,n))];case"SpaceToBatchND":var o=AC("blockShape",e,t,n),i=AC("paddings",e,t,n);return[mp(AC("x",e,t,n),o,i)];case"BatchToSpaceND":var u=AC("blockShape",e,t,n),s=AC("crops",e,t,n);return[yc(AC("x",e,t,n),u,s)];case"DepthToSpace":var l=AC("blockSize",e,t,n),c=AC("dataFormat",e,t,n).toUpperCase();return[Hc(AC("x",e,t,n),l,c)];case"BroadcastTo":return[Sc(AC("x",e,t,n),AC("shape",e,t,n))];case"BroadcastArgs":return[Ec(AC("s0",e,t,n),AC("s1",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"hash_table":return ZD(e,t,n,r);case"custom":var a=NC(e.op);if(a&&a.customExecutor)return a.customExecutor(new bD(e,t,n));throw TypeError("Custom op ".concat(e.op," is not registered."));default:throw TypeError("Unknown op '".concat(e.op,"'. File an issue at ")+"https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}}(e,t,n);return jn(a)?a.then((function(e){return[].concat(e)})):[].concat(a)}var PD=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,Qt.Z)(this,e),this.weightMap=t,this.tensorArrayMap=n,this.tensorListMap=r,this.functionMap=a,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}return(0,Jt.Z)(e,[{key:"newFrame",value:function(e,t){return{id:e,frameName:t,iterationId:0}}},{key:"currentContext",get:function(){return this.contexts},set:function(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}},{key:"currentContextId",get:function(){return this._currentContextIds[0]}},{key:"currentContextIds",get:function(){return this._currentContextIds}},{key:"generateCurrentContextIds",value:function(){for(var e=[],t=0;t<this.contexts.length-1;t++){var n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}},{key:"contextIdforContexts",value:function(e){return e?e.map((function(e){return 0===e.id&&0===e.iterationId?"":"".concat(e.frameName,"-").concat(e.iterationId)})).join("/"):""}},{key:"enterFrame",value:function(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}},{key:"exitFrame",value:function(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}},{key:"nextIteration",value:function(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");this.contexts=this.contexts.slice(),this.lastId++;var e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}},{key:"getWeight",value:function(e){return this.weightMap[e]}},{key:"addTensorArray",value:function(e){this.tensorArrayMap[e.id]=e}},{key:"getTensorArray",value:function(e){return this.tensorArrayMap[e]}},{key:"addTensorList",value:function(e){this.tensorListMap[e.id]=e}},{key:"getTensorList",value:function(e){return this.tensorListMap[e]}},{key:"dispose",value:function(e){for(var t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(var n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}]),e}();function LD(e,t,n,r){var a=new Set,o=[],i=null,u=null,s=new Set,l=Object.keys(e).map((function(e){return MC(e)[0]})),c=[];null!=r&&(c=r.map((function(e){return MC(e.name)[0]})));for(var d=(0,$t.Z)(t);d.length>0;){var p=d.pop();(jD(p)||VD(p)||WD(p))&&null==i&&(u=(i=p).children.map((function(e){return e.name})).filter((function(e){return a.has(e)}))),a.add(p.name),null==n[p.name]&&(-1===l.indexOf(p.name)&&-1===c.indexOf(p.name)&&(0!==p.inputs.length?p.inputs.forEach((function(e){s.has(e.name)||(s.add(e.name),d.push(e))})):o.push(p.name)))}return{inputs:e,outputs:t,usedNodes:a,missingInputs:o,dynamicNode:i,syncInputs:u}}var _D=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],BD=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],zD=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function jD(e){return _D.indexOf(e.op)>=0}function VD(e){return BD.indexOf(e.op)>=0}function WD(e){return zD.indexOf(e.op)>=0}var HD=function(){function e(t,n){var r=this;(0,Qt.Z)(this,e),this.graph=t,this.parent=n,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.intermediateTensors={},this.keepTensorForDebug=!1,this._outputs=t.outputs,this._inputs=t.inputs,this._initNodes=t.initNodes,this._signature=t.signature,this._functions=t.functions,null!=t.functions&&Object.keys(t.functions).forEach((function(n){r._functionExecutorMap[n]=new e(t.functions[n],r)}))}return(0,Jt.Z)(e,[{key:"weightIds",get:function(){return this.parent?this.parent.weightIds:this._weightIds}},{key:"functionExecutorMap",get:function(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}},{key:"weightMap",get:function(){return this.parent?this.parent.weightMap:this._weightMap},set:function(e){var t,n=Object.keys(e).map((function(t){return e[t].map((function(e){return e.id}))}));this._weightIds=(t=[]).concat.apply(t,(0,$t.Z)(n)),this._weightMap=e}},{key:"resourceManager",set:function(e){this._resourceManager=e}},{key:"inputs",get:function(){return this._inputs.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))}},{key:"outputs",get:function(){return this._outputs.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))}},{key:"inputNodes",get:function(){return this._inputs.map((function(e){return e.signatureKey||e.name}))}},{key:"outputNodes",get:function(){return this._outputs.map((function(e){var t=e.signatureKey||e.name;return e.defaultOutput?"".concat(t,":").concat(e.defaultOutput):t}))}},{key:"functions",get:function(){var e=this;return Object.keys(this._functions).reduce((function(t,n){return t[n]=e._functions[n].signature,t}),{})}},{key:"getCompilationKey",value:function(e,t){var n=e.map((function(e){return e.name})).sort(),r=t.map((function(e){return e.name})).sort();return n.join(this.SEPERATOR)+"--"+r.join(this.SEPERATOR)}},{key:"compile",value:function(e,t){var n=LD(e,t,this.weightMap,this._initNodes),r=n.missingInputs,a=n.dynamicNode,o=n.syncInputs;if(null!=a)throw new Error("This execution contains the node '".concat(a.name,"', which has ")+"the dynamic op '".concat(a.op,"'. Please use ")+"model.executeAsync() instead. Alternatively, to avoid the "+"dynamic ops, specify the inputs [".concat(o,"]"));if(r.length>0){var i=t.map((function(e){return e.name})),u=Object.keys(e);throw new Error("Cannot compute the outputs [".concat(i,"] from the provided inputs ")+"[".concat(u,"]. Missing the following inputs: [").concat(r,"]"))}return function(e,t,n){var r=n.usedNodes,a=n.inputs,o=[],i=Object.keys(a).map((function(e){return MC(e)[0]})).map((function(t){return e.nodes[t]})),u=e.initNodes;i.forEach((function(e){r.has(e.name)&&o.push(e)})),e.weights.forEach((function(e){r.has(e.name)&&o.push(e)})),null!=u&&u.forEach((function(e){r.has(e.name)&&o.push(e)}));for(var s=new Set,l=[];o.length>0;){var c=o.pop();s.add(c.name),t[c.name]||l.push(c),c.children.forEach((function(e){!s.has(e.name)&&r.has(e.name)&&e.inputs.every((function(e){return s.has(e.name)}))&&o.push(e)}))}return l}(this.graph,this.weightMap,n)}},{key:"execute",value:function(e,t){var n=this;e=this.mapInputs(e);var r=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);var a=r.map((function(e){return n.graph.nodes[MC(e)[0]]})),o=t.map((function(e){return MC(e)[0]})),i=o.map((function(e){return n.graph.nodes[e]}));this.resetIntermediateTensors(),0===i.length&&(i=this._outputs);var u=this.getCompilationKey(a,i),s=this.compiledMap.get(u);null==s&&(s=this.compile(e,i),this.compiledMap.set(u,s));var l={},c={};return Sl((function(){var r=new PD(n.weightMap,l,c,n.functionExecutorMap),a=Object.assign({},n.weightMap);Object.keys(e).forEach((function(t){var n=MC(t),r=(0,je.Z)(n,2),o=r[0],i=[];i[r[1]]=e[t],a[o]=i}));for(var i=n.getFrozenTensorIds(a),u={},d=0;d<s.length;d++){var p=s[d];if(!a[p.name]){var f=MD(p,a,r,n._resourceManager);if(jn(f))throw new Error("The execution of the op '".concat(p.op,"' returned a promise. ")+"Please use model.executeAsync() instead.");a[p.name]=f,n.checkTensorForDisposal(p.name,p,a,r,i,o,u)}}return null==n.parent&&r.dispose(i),t.map((function(e){return RC(e,a,r)}))}))}},{key:"getFrozenTensorIds",value:function(e){var t=[].concat.apply([],Object.keys(e).map((function(t){return e[t]})).map((function(e){return e.map((function(e){return e.id}))})));return new Set(t)}},{key:"checkTensorForDisposal",value:function(e,t,n,r,a,o,i){var u=this;"control"!==t.category&&-1===o.indexOf(e)&&(n[e].forEach((function(e){null!=e&&(i[e.id]=(i[e.id]||0)+t.children.length)})),t.inputs.forEach((function(e){if("control"!==e.category){var o=function(e,t,n){return t[ZC(e,n.currentContextId)]}(e.name,n,r);null!=o&&o.forEach((function(e){if(e&&!e.kept&&!a.has(e.id)){var n=i[e.id];if(1===n){if(u.keepTensorForDebug){var o=OC(t.name,r),s=(0,je.Z)(o,2),l=s[0],c=s[1];u.intermediateTensors[l]||(u.intermediateTensors[l]=[]),u.intermediateTensors[l][c]=e}else e.dispose();delete i[e.id]}else null!=n&&i[e.id]--}}))}})))}},{key:"executeAsync",value:function(){var e=Ut(qt().mark((function e(t,n){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._executeAsync(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"disposeIntermediateTensors",value:function(){var e=this;this.intermediateTensors&&(Object.keys(this.intermediateTensors).forEach((function(t){return e.intermediateTensors[t].forEach((function(e){return e.dispose()}))})),this.disposeTensorsMap())}},{key:"disposeTensorsMap",value:function(){var e=this;this.tensorsMap&&Object.keys(this.tensorsMap).forEach((function(t){e.tensorsMap[t].forEach((function(t){!t||t.kept||t.isDisposed||e.keepIds.has(t.id)||t.dispose()}))}))}},{key:"getIntermediateTensors",value:function(){return this.tensorsMap}},{key:"resetIntermediateTensors",value:function(){for(var e in this.intermediateTensors)this.intermediateTensors[e].forEach((function(e){return e.dispose()})),delete this.intermediateTensors[e]}},{key:"_executeAsync",value:function(){var e=Ut(qt().mark((function e(t,n){var r,a,o,i,u,s,l,c=this,d=arguments;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=d.length>2&&void 0!==d[2]&&d[2],a=d.length>3&&void 0!==d[3]?d[3]:{},o=d.length>4&&void 0!==d[4]?d[4]:{},r||(t=this.mapInputs(t),this.checkInputs(t),this.checkInputShapeAndType(t),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepTensorForDebug=Gn().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(p){console.warn(p.message)}return this.resetIntermediateTensors(),i=new PD(this.weightMap,a,o,this.functionExecutorMap),e.next=9,this.executeWithControlFlow(t,i,n,r);case 9:return this.tensorsMap=e.sent,u=n.map((function(e){return RC(e,c.tensorsMap,i)})),s=u.map((function(e){return e.id})),l=Object.keys(t).map((function(e){return t[e].id})),this.keepIds=new Set([].concat((0,$t.Z)(s),(0,$t.Z)(l),(0,$t.Z)(this.weightIds))),this.keepTensorForDebug||this.disposeTensorsMap(),null==this.parent&&i.dispose(this.keepIds),e.abrupt("return",u);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"executeFunctionAsync",value:function(){var e=Ut(qt().mark((function e(t,n,r){var a,o=this;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.reduce((function(e,t,n){return e[o.inputs[n].name]=t,e}),{}),e.abrupt("return",this._executeAsync(a,this.outputNodes,!0,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"executeWithControlFlow",value:function(){var e=Ut(qt().mark((function e(t,n,r,a){var o,i,u,s,l,c,d,p,f,h,m,v,g,b,y,x,k,w=this;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Object.keys(t),i=o.map((function(e){return w.graph.nodes[MC(e)[0]]})),u=r.map((function(e){return MC(e)[0]})),0===(s=u.map((function(e){return w.graph.nodes[e]}))).length&&(s=this._outputs),l=LD(t,s,this.weightMap,this._initNodes),c=l.usedNodes,d=l.missingInputs,p=l.dynamicNode,f=l.syncInputs,h=[].concat((0,$t.Z)(i),(0,$t.Z)(this.graph.weights),(0,$t.Z)(this._initNodes||[])).map((function(e){return{node:e,contexts:n.currentContext}})),m=Object.assign({},this.weightMap),Object.keys(t).forEach((function(e){var n=MC(e),r=(0,je.Z)(n,2),a=r[0],o=[];o[r[1]]=t[e],m[a]=o})),v={},g=this.getFrozenTensorIds(m),b={};case 12:if(!(h.length>0)){e.next=18;break}return y=this.processStack(i,h,n,m,b,g,u,v,c),e.next=16,Promise.all(y);case 16:e.next=12;break;case 18:if(null!=p||a||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead."),!((x=s.filter((function(e){return!jD(e)&&!RC(e.name,m,n)})).map((function(e){return e.name}))).length>0)){e.next=24;break}throw k="",null!=p&&(k="Alternatively, to avoid the dynamic ops, use model.execute() "+"and specify the inputs [".concat(f,"]")),new Error("Cannot compute the outputs [".concat(x,"] from the provided ")+"inputs [".concat(o,"]. Consider providing the following inputs: ")+"[".concat(d,"]. ").concat(k));case 24:return e.abrupt("return",m);case 25:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"processStack",value:function(e,t,n,r,a,o,i,u,s){for(var l=this,c=[],d=function(){var e=t.pop();n.currentContext=e.contexts;var d="";if("Enter"===e.node.op&&AC("isConstant",e.node,r,n)){var p=OC(e.node.name,n),f=(0,je.Z)(p,1);d=f[0]}if(null==r[e.node.name]){var h=MD(e.node,r,n,l._resourceManager);if(!d){var m=OC(e.node.name,n),v=(0,je.Z)(m,1);d=v[0]}var g=n.currentContext;jn(h)?c.push(h.then((function(c){return r[d]=c,n.currentContext=g,l.checkTensorForDisposal(d,e.node,r,n,o,i,u),l.processChildNodes(e.node,t,n,r,a,s),c}))):(r[d]=h,l.checkTensorForDisposal(d,e.node,r,n,o,i,u),l.processChildNodes(e.node,t,n,r,a,s))}else l.processChildNodes(e.node,t,n,r,a,s)};t.length>0;)d();return c}},{key:"processChildNodes",value:function(e,t,n,r,a,o){e.children.forEach((function(e){var i=OC(e.name,n),u=(0,je.Z)(i,1)[0];!a[u]&&o.has(e.name)&&("Merge"===e.op?e.inputNames.some((function(e){return!!RC(e,r,n)}))&&(a[u]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((function(e){return!!RC(e,r,n)}))&&(a[u]=!0,t.push({contexts:n.currentContext,node:e})))}))}},{key:"dispose",value:function(){var e=this;Object.keys(this.weightMap).forEach((function(t){return e.weightMap[t].forEach((function(e){return e.dispose()}))}))}},{key:"checkInputShapeAndType",value:function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n],a=MC(n),o=(0,je.Z)(a,1)[0],i=t.graph.nodes[o];if(i.attrParams.shape&&i.attrParams.shape.value){var u=i.attrParams.shape.value,s=u.length===r.shape.length&&r.shape.every((function(e,t){return-1===u[t]||u[t]===e}));ln(s,(function(){return"The shape of dict['".concat(i.name,"'] provided in ")+"model.execute(dict) must be [".concat(u,"], but was ")+"[".concat(r.shape,"]")}))}i.attrParams.dtype&&i.attrParams.dtype.value&&ln(r.dtype===i.attrParams.dtype.value,(function(){return"The dtype of dict['".concat(i.name,"'] provided in ")+"model.execute(dict) must be "+"".concat(i.attrParams.dtype.value,", but was ").concat(r.dtype)}))}))}},{key:"mapInputs",value:function(e){var t={};for(var n in e){if(null!=this._signature&&null!=this._signature.inputs&&null!=this._signature.inputs[n])t[this._signature.inputs[n].name]=e[n];else t[n]=e[n]}return t}},{key:"checkInputs",value:function(e){var t=this,n=Object.keys(e).filter((function(e){var n=MC(e),r=(0,je.Z)(n,1)[0];return null==t.graph.nodes[r]}));if(n.length>0)throw new Error("The dict provided in model.execute(dict) has "+"keys: [".concat(n,"] that are not part of graph"))}},{key:"mapOutputs",value:function(e){var t=this;return e.map((function(e){return null!=t._signature&&null!=t._signature.outputs&&null!=t._signature.outputs[e]?t._signature.outputs[e].name:e}),{})}},{key:"checkOutputs",value:function(e){var t=this;e.forEach((function(e){var n=MC(e),r=(0,je.Z)(n,1)[0];if(!t.graph.nodes[r])throw new Error("The output '".concat(e,"' is not found in the graph"))}))}}]),e}(),UD=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,Qt.Z)(this,e),this.hashTableNameToHandle=t,this.hashTableMap=n}return(0,Jt.Z)(e,[{key:"addHashTable",value:function(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}},{key:"getHashTableHandleByName",value:function(e){return this.hashTableNameToHandle[e]}},{key:"getHashTableById",value:function(e){return this.hashTableMap[e]}},{key:"dispose",value:function(){for(var e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(var t in this.hashTableNameToHandle)this.hashTableNameToHandle[t].dispose(),delete this.hashTableNameToHandle[t]}}]),e}(),GD="?tfjs-format=file",qD="model.json",KD=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,Qt.Z)(this,e),this.modelUrl=t,this.loadOptions=n,this.version="n/a",null==n&&(this.loadOptions={}),this.resourceManager=new UD}return(0,Jt.Z)(e,[{key:"modelVersion",get:function(){return this.version}},{key:"inputNodes",get:function(){return this.executor.inputNodes}},{key:"outputNodes",get:function(){return this.executor.outputNodes}},{key:"inputs",get:function(){return this.executor.inputs}},{key:"outputs",get:function(){return this.executor.outputs}},{key:"weights",get:function(){return this.executor.weightMap}},{key:"metadata",get:function(){return this.artifacts.userDefinedMetadata}},{key:"modelSignature",get:function(){return this.signature}},{key:"findIOHandler",value:function(){var e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=el(e,this.loadOptions);else{var t=Ku(e,this.loadOptions);if(0===t.length)t.push(el(e,this.loadOptions));else if(t.length>1)throw new Error("Found more than one (".concat(t.length,") load handlers for ")+"URL '".concat([e],"'"));this.handler=t[0]}}},{key:"load",value:function(){var e=Ut(qt().mark((function e(){var t;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.findIOHandler(),null!=this.handler.load){e.next=3;break}throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");case 3:return e.next=5,this.handler.load();case 5:return t=e.sent,e.abrupt("return",this.loadSync(t));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadSync",value:function(e){this.artifacts=e;var t,n=this.artifacts.modelTopology;t=null!=this.artifacts.userDefinedMetadata&&null!=this.artifacts.userDefinedMetadata.signature?this.artifacts.userDefinedMetadata.signature:this.artifacts.signature,this.signature=t,this.version="".concat(n.versions.producer,".").concat(n.versions.minConsumer);var r=Au(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new HD(rD.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(r),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){var a=rD.Instance.transformGraph(e.modelInitializer);this.initializer=new HD(a),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0}},{key:"save",value:function(){var e=Ut(qt().mark((function e(t,n){var r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=9;break}if(0!==(r=qu(t)).length){e.next=6;break}throw new Error("Cannot find any save handlers for URL '".concat(t,"'"));case 6:if(!(r.length>1)){e.next=8;break}throw new Error("Found more than one (".concat(r.length,") save handlers for ")+"URL '".concat(t,"'"));case 8:t=r[0];case 9:if(null!=t.save){e.next=11;break}throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");case 11:return e.abrupt("return",t.save(this.artifacts));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"predict",value:function(e,t){return this.execute(e,this.outputNodes)}},{key:"normalizeInputs",value:function(e){if(!(e instanceof Ui)&&!Array.isArray(e))return e;if((e=Array.isArray(e)?e:[e]).length!==this.inputNodes.length)throw new Error("Input tensor count mismatch,"+"the graph model has ".concat(this.inputNodes.length," placeholders, ")+"while there are ".concat(e.length," input tensors."));return this.inputNodes.reduce((function(t,n,r){return t[n]=e[r],t}),{})}},{key:"normalizeOutputs",value:function(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}},{key:"execute",value:function(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);var n=this.executor.execute(e,t);return n.length>1?n:n[0]}},{key:"executeAsync",value:function(){var e=Ut(qt().mark((function e(t,n){var r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.normalizeInputs(t),n=this.normalizeOutputs(n),e.next=4,this.executor.executeAsync(t,n);case 4:return r=e.sent,e.abrupt("return",r.length>1?r:r[0]);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getIntermediateTensors",value:function(){return this.executor.getIntermediateTensors()}},{key:"disposeIntermediateTensors",value:function(){this.executor.disposeIntermediateTensors()}},{key:"convertTensorMapToTensorsMap",value:function(e){return Object.keys(e).reduce((function(t,n){return t[n]=[e[n]],t}),{})}},{key:"dispose",value:function(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()}}]),e}();function XD(e){return YD.apply(this,arguments)}function YD(){return YD=Ut(qt().mark((function e(t){var n,r,a=arguments;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:{},null!=t){e.next=3;break}throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");case 3:return null==n&&(n={}),n.fromTFHub&&null==t.load&&(t.endsWith("/")||(t+="/"),t="".concat(t).concat(qD).concat(GD)),r=new KD(t,n),e.next=8,r.load();case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),YD.apply(this,arguments)}var $D=n(6699);function QD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set;if(null==e)return null;if("function"===typeof Blob&&e instanceof Blob)return e.slice();if(r.has(e))throw new Error("Circular references are not supported.");if(n.has(e))return n.get(e);var a=t(e);if(a.recurse&&null!==a.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(a.recurse){if(nE(e)){var o=Array.isArray(e)?[]:{};for(var i in r.add(e),e){var u=e[i],s=QD(u,t,n,r);o[i]=s}return r.delete(e),e.__proto__&&(o.__proto__=e.__proto__),o}throw new Error("Can't recurse into non-iterable type: ".concat(e))}return n.set(e,a.value),a.value}function JD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tE;return eE(e,t)}function eE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set,r=e[0];if(n.has(r))throw new Error("Circular references are not supported.");var a=t(e);if(a.recurse&&null!==a.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(a.recurse){if(nE(r)){var o=Array.isArray(r)?[]:{};n.add(r);var i=function(r){var a=eE(e.map((function(e){return e[r]})),t,n);o[r]=a};for(var u in r)i(u);return n.delete(r),o}throw new Error("Can't recurse into non-iterable type: ".concat(r))}return a.value}function tE(e){return null===e?null:nE(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}function nE(e){var t=!1;Gn().get("IS_BROWSER")?t=e instanceof TextDecoder:t=e instanceof n(4977).StringDecoder;return null!=e&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||"object"===typeof e&&!(e instanceof Ui)&&!(e instanceof Promise)&&!t)}function rE(e){return function(e,t){return QD(e,t)}(e,aE)}function aE(e){return e instanceof Ui?{value:e.clone(),recurse:!1}:nE(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}var oE=function(){function e(t){if((0,Qt.Z)(this,e),this.capacity=t,this.begin=0,this.end=0,null==t)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(t<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(t),this.doubledCapacity=2*t}return(0,Jt.Z)(e,[{key:"wrap",value:function(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}},{key:"get",value:function(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}},{key:"set",value:function(e,t){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=t}},{key:"length",value:function(){var e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}},{key:"isFull",value:function(){return this.length()===this.capacity}},{key:"isEmpty",value:function(){return 0===this.length()}},{key:"push",value:function(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}},{key:"pushAll",value:function(e){var t,n=Yt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.push(r)}}catch(xV){n.e(xV)}finally{n.f()}}},{key:"pop",value:function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);var e=this.get(this.end);return this.set(this.end,void 0),e}},{key:"unshift",value:function(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}},{key:"shift",value:function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}},{key:"shuffleExcise",value:function(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var t=this.wrap(this.begin+e),n=this.get(t);return this.set(t,this.pop()),n}}]),e}(),iE=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){return(0,Qt.Z)(this,n),t.call(this,n.INITIAL_CAPACITY)}return(0,Jt.Z)(n,[{key:"isFull",value:function(){return!1}},{key:"push",value:function(e){Xy((0,Dg.Z)(n.prototype),"isFull",this).call(this)&&this.expand(),Xy((0,Dg.Z)(n.prototype),"push",this).call(this,e)}},{key:"unshift",value:function(e){Xy((0,Dg.Z)(n.prototype),"isFull",this).call(this)&&this.expand(),Xy((0,Dg.Z)(n.prototype),"unshift",this).call(this,e)}},{key:"expand",value:function(){for(var e=2*this.capacity,t=new Array(e),n=this.length(),r=0;r<n;r++)t[r]=this.get(this.wrap(this.begin+r));this.data=t,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n}}]),n}(oE);function uE(e){return new pE(e)}function sE(e,t){return new CE(e,t)}iE.INITIAL_CAPACITY=32;var lE,cE=function(){function e(){(0,Qt.Z)(this,e)}return(0,Jt.Z)(e,[{key:"toArray",value:function(){var e=Ut(qt().mark((function e(){var t,n;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,this.next();case 3:n=e.sent;case 4:if(n.done){e.next=11;break}return t.push(n.value),e.next=8,this.next();case 8:n=e.sent,e.next=4;break;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toArrayForTest",value:function(){var e=Ut(qt().mark((function e(){var t,n,r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.prefetch(100),n=[],e.next=4,t.next();case 4:r=e.sent;case 5:if(r.done){e.next=12;break}return n.push(r.value),e.next=9,t.next();case 9:r=e.sent,e.next=5;break;case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resolveFully",value:function(){var e=Ut(qt().mark((function e(){var t;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next();case 2:t=e.sent;case 3:if(t.done){e.next=9;break}return e.next=6,this.next();case 6:t=e.sent,e.next=3;break;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resolveWhile",value:function(){var e=Ut(qt().mark((function e(t){var n,r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next();case 2:n=e.sent,r=t(n.value);case 4:if(n.done||!r){e.next=11;break}return e.next=7,this.next();case 7:n=e.sent,r=t(n.value),e.next=4;break;case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleErrors",value:function(e){return new yE(this,e)}},{key:"filter",value:function(e){return new gE(this,e)}},{key:"map",value:function(e){return new bE(this,e)}},{key:"mapAsync",value:function(e){return new xE(this,e)}},{key:"serialMapAsync",value:function(e){return new xE(this,e).serial()}},{key:"flatmap",value:function(e){return new wE(this,e)}},{key:"forEachAsync",value:function(){var e=Ut(qt().mark((function e(t){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.map(t).resolveFully());case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"serialForEach",value:function(){var e=Ut(qt().mark((function e(t){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.serialMapAsync(t).resolveWhile((function(e){return!0===e})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"rowMajorBatch",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new vE(this,e,t)}},{key:"columnMajorBatch",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tE,r=this.rowMajorBatch(e,t);return r.map((function(e){return JD(e,n)}))}},{key:"concatenate",value:function(e,t){return new CE(new dE([this,e]),t)}},{key:"take",value:function(e){return e<0||null==e?this:new mE(this,e)}},{key:"skip",value:function(e){return e<0||null==e?this:new hE(this,e)}},{key:"prefetch",value:function(e){return new DE(this,e)}},{key:"shuffle",value:function(e,t){return new EE(this,e,t)}},{key:"serial",value:function(){return new fE(this)}}]),e}(),dE=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this)).items=e,r.trav=0,r}return(0,Jt.Z)(n,[{key:"summary",value:function(){return"Array of ".concat(this.items.length," items")}},{key:"next",value:function(){var e=Ut(qt().mark((function e(){var t;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.trav>=this.items.length)){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:return t=this.items[this.trav],this.trav++,e.abrupt("return",{value:rE(t),done:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(cE),pE=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this)).nextFn=e,r}return(0,Jt.Z)(n,[{key:"summary",value:function(){return"Function call"}},{key:"next",value:function(){var e=Ut(qt().mark((function e(){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",this.nextFn());case 4:throw e.prev=4,e.t0=e.catch(0),e.t0.message="Error thrown while iterating through a dataset: ".concat(e.t0.message),e.t0;case 8:case"end":return e.stop()}}),e,this,[[0,4]])})));return function(){return e.apply(this,arguments)}}()}]),n}(cE),fE=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r;return(0,Qt.Z)(this,n),(r=t.call(this)).upstream=e,r.lastRead=Promise.resolve({value:null,done:!1}),r}return(0,Jt.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Serial")}},{key:"next",value:function(){var e=Ut(qt().mark((function e(){var t=this;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Ut(qt().mark((function e(){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.upstream.next());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(cE),hE=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e,r){var a;return(0,Qt.Z)(this,n),(a=t.call(this)).upstream=e,a.maxCount=r,a.count=0,a.lastRead=Promise.resolve({value:null,done:!1}),a}return(0,Jt.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Skip")}},{key:"next",value:function(){var e=Ut(qt().mark((function e(){var t=this;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Ut(qt().mark((function e(){var t;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.count++<this.maxCount)){e.next=9;break}return e.next=3,this.upstream.next();case 3:if(!(t=e.sent).done){e.next=6;break}return e.abrupt("return",t);case 6:Il(t.value),e.next=0;break;case 9:return e.abrupt("return",this.upstream.next());case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(cE),mE=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e,r){var a;return(0,Qt.Z)(this,n),(a=t.call(this)).upstream=e,a.maxCount=r,a.count=0,a}return(0,Jt.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Take")}},{key:"next",value:function(){var e=Ut(qt().mark((function e(){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.count++>=this.maxCount)){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:return e.abrupt("return",this.upstream.next());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(cE),vE=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e,r){var a,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(0,Qt.Z)(this,n),(a=t.call(this)).upstream=e,a.batchSize=r,a.enableSmallLastBatch=o,a.lastRead=Promise.resolve({value:null,done:!1}),a}return(0,Jt.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> RowMajorBatch")}},{key:"next",value:function(){var e=Ut(qt().mark((function e(){var t=this;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Ut(qt().mark((function e(){var t,n;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[];case 1:if(!(t.length<this.batchSize)){e.next=12;break}return e.next=4,this.upstream.next();case 4:if(!(n=e.sent).done){e.next=9;break}if(!(this.enableSmallLastBatch&&t.length>0)){e.next=8;break}return e.abrupt("return",{value:t,done:!1});case 8:return e.abrupt("return",{value:null,done:!0});case 9:t.push(n.value),e.next=1;break;case 12:return e.abrupt("return",{value:t,done:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(cE),gE=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e,r){var a;return(0,Qt.Z)(this,n),(a=t.call(this)).upstream=e,a.predicate=r,a.lastRead=Promise.resolve({value:null,done:!1}),a}return(0,Jt.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Filter")}},{key:"next",value:function(){var e=Ut(qt().mark((function e(){var t=this;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Ut(qt().mark((function e(){var t;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.upstream.next();case 3:if(!(t=e.sent).done&&!this.predicate(t.value)){e.next=6;break}return e.abrupt("return",t);case 6:Il(t.value),e.next=0;break;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(cE),bE=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e,r){var a;return(0,Qt.Z)(this,n),(a=t.call(this)).upstream=e,a.transform=r,a}return(0,Jt.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Map")}},{key:"next",value:function(){var e=Ut(qt().mark((function e(){var t,n,r,a,o,i,u;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=5;break}return e.abrupt("return",{value:null,done:!0});case 5:n=ou(t.value),r=this.transform(t.value),a=ou(r),o=Yt(n);try{for(o.s();!(i=o.n()).done;)au(u=i.value,a)||u.dispose()}catch(xV){o.e(xV)}finally{o.f()}return e.abrupt("return",{value:r,done:!1});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(cE),yE=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e,r){var a;return(0,Qt.Z)(this,n),(a=t.call(this)).upstream=e,a.handler=r,a.count=0,a.lastRead=Promise.resolve({value:null,done:!1}),a}return(0,Jt.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> handleErrors")}},{key:"next",value:function(){var e=Ut(qt().mark((function e(){var t=this;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Ut(qt().mark((function e(){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,this.upstream.next();case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),this.handler(e.t0)){e.next=11;break}return e.abrupt("return",{value:null,done:!0});case 11:e.next=0;break;case 13:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()}]),n}(cE),xE=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e,r){var a;return(0,Qt.Z)(this,n),(a=t.call(this)).upstream=e,a.transform=r,a}return(0,Jt.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> AsyncMap")}},{key:"next",value:function(){var e=Ut(qt().mark((function e(){var t,n,r,a,o,i,u;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=5;break}return e.abrupt("return",{value:null,done:!0});case 5:return n=ou(t.value),e.next=8,this.transform(t.value);case 8:r=e.sent,a=ou(r),o=Yt(n);try{for(o.s();!(i=o.n()).done;)au(u=i.value,a)||u.dispose()}catch(xV){o.e(xV)}finally{o.f()}return e.abrupt("return",{value:r,done:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(cE),kE=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){var e;return(0,Qt.Z)(this,n),(e=t.call(this)).outputQueue=new iE,e.lastRead=Promise.resolve({value:null,done:!1}),e}return(0,Jt.Z)(n,[{key:"next",value:function(){var e=Ut(qt().mark((function e(){var t=this;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Ut(qt().mark((function e(){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.outputQueue.length()){e.next=7;break}return e.next=3,this.pump();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",{value:null,done:!0});case 5:e.next=0;break;case 7:return e.abrupt("return",{value:this.outputQueue.shift(),done:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(cE),wE=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e,r){var a;return(0,Qt.Z)(this,n),(a=t.call(this)).upstream=e,a.transform=r,a}return(0,Jt.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Flatmap")}},{key:"pump",value:function(){var e=Ut(qt().mark((function e(){var t,n,r,a,o,i,u;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=5;break}return e.abrupt("return",!1);case 5:n=ou(t.value),r=this.transform(t.value),a=ou(r),this.outputQueue.pushAll(r),o=Yt(n);try{for(o.s();!(i=o.n()).done;)au(u=i.value,a)||u.dispose()}catch(xV){o.e(xV)}finally{o.f()}return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(kE),CE=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e,r){var a;return(0,Qt.Z)(this,n),(a=t.call(this)).baseErrorHandler=r,a.lastRead=null,a.iterator=null,a.moreIterators=e,a}return(0,Jt.Z)(n,[{key:"summary",value:function(){return"".concat("TODO: fill in upstream of chained summaries"," -> Chained")}},{key:"next",value:function(){var e=Ut(qt().mark((function e(){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.readFromChain(this.lastRead),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"readFromChain",value:function(){var e=Ut(qt().mark((function e(t){var n,r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(null!=this.iterator){e.next=10;break}return e.next=5,this.moreIterators.next();case 5:if(!(n=e.sent).done){e.next=8;break}return e.abrupt("return",{value:null,done:!0});case 8:this.iterator=n.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler));case 10:return e.next=12,this.iterator.next();case 12:if(!(r=e.sent).done){e.next=16;break}return this.iterator=null,e.abrupt("return",this.readFromChain(t));case 16:return e.abrupt("return",r);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(cE);!function(e){e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST"}(lE||(lE={}));var DE=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e,r){var a;return(0,Qt.Z)(this,n),(a=t.call(this)).upstream=e,a.bufferSize=r,a.buffer=new oE(r),a}return(0,Jt.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Prefetch")}},{key:"refill",value:function(){for(;!this.buffer.isFull();){var e=this.upstream.next();this.buffer.push(e)}}},{key:"next",value:function(){return this.refill(),this.buffer.shift()}}]),n}(cE),EE=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e,r,a){var o;return(0,Qt.Z)(this,n),(o=t.call(this,e,r)).upstream=e,o.windowSize=r,o.upstreamExhausted=!1,o.random=$D.alea(a||Fi().toString()),o.lastRead=Promise.resolve({value:null,done:!1}),o}return(0,Jt.Z)(n,[{key:"next",value:function(){var e=Ut(qt().mark((function e(){var t=this;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"randomInt",value:function(e){return Math.floor(this.random()*e)}},{key:"chooseIndex",value:function(){return this.randomInt(this.buffer.length())}},{key:"serialNext",value:function(){var e=Ut(qt().mark((function e(){var t,n;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.upstreamExhausted||this.refill();case 1:if(this.buffer.isEmpty()){e.next=14;break}return t=this.chooseIndex(),e.next=5,this.buffer.shuffleExcise(t);case 5:if(!(n=e.sent).done){e.next=10;break}this.upstreamExhausted=!0,e.next=12;break;case 10:return this.refill(),e.abrupt("return",n);case 12:e.next=1;break;case 14:return e.abrupt("return",{value:null,done:!0});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(DE),SE=function(){function e(){(0,Qt.Z)(this,e),this.size=null}return(0,Jt.Z)(e,[{key:"batch",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this;return ln(e>0,(function(){return"batchSize needs to be positive, but it is\n      ".concat(e)})),t=this.size===1/0||null==this.size?this.size:n?Math.ceil(this.size/e):Math.floor(this.size/e),IE(Ut(qt().mark((function t(){return qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.iterator();case 2:return t.abrupt("return",t.sent.columnMajorBatch(e,n,FE));case 3:case"end":return t.stop()}}),t)}))),t)}},{key:"concatenate",value:function(e){var t,n=this;return t=this.size===1/0||e.size===1/0?1/0:null!=this.size&&null!=e.size?this.size+e.size:null,IE(Ut(qt().mark((function t(){return qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.t0=t.sent,t.next=5,e.iterator();case 5:return t.t1=t.sent,t.abrupt("return",t.t0.concatenate.call(t.t0,t.t1));case 7:case"end":return t.stop()}}),t)}))),t)}},{key:"filter",value:function(e){var t,n=this;return t=this.size===1/0?1/0:null,IE(Ut(qt().mark((function t(){return qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.abrupt("return",t.sent.filter((function(t){return Sl((function(){return e(t)}))})));case 3:case"end":return t.stop()}}),t)}))),t)}},{key:"forEachAsync",value:function(){var e=Ut(qt().mark((function e(t){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.iterator();case 2:return e.abrupt("return",e.sent.forEachAsync(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"map",value:function(e){var t=this;return IE(Ut(qt().mark((function n(){return qt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.iterator();case 2:return n.abrupt("return",n.sent.map((function(t){return Sl((function(){return e(t)}))})));case 3:case"end":return n.stop()}}),n)}))),this.size)}},{key:"mapAsync",value:function(e){var t=this;return IE(Ut(qt().mark((function n(){return qt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.iterator();case 2:return n.abrupt("return",n.sent.mapAsync(e));case 3:case"end":return n.stop()}}),n)}))),this.size)}},{key:"prefetch",value:function(e){if(null==e)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");var t=this;return IE(Ut(qt().mark((function n(){return qt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.iterator();case 2:return n.abrupt("return",n.sent.prefetch(e));case 3:case"end":return n.stop()}}),n)}))),this.size)}},{key:"repeat",value:function(e){var t,n=this;return t=null!=this.size&&e>0?this.size*e:0===e?0:null!=this.size&&(void 0===e||e<0)?1/0:null,IE(Ut(qt().mark((function t(){var r;return qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=uE(Ut(qt().mark((function e(){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.iterator();case 2:return e.t0=e.sent,e.abrupt("return",{value:e.t0,done:!1});case 4:case"end":return e.stop()}}),e)})))),t.abrupt("return",sE(r.take(e)));case 2:case"end":return t.stop()}}),t)}))),t)}},{key:"skip",value:function(e){var t,n=this;return t=null!=this.size&&e>=0&&this.size>=e?this.size-e:null!=this.size&&(this.size<e||void 0===e||e<0)?0:null,IE(Ut(qt().mark((function t(){return qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.abrupt("return",t.sent.skip(e));case 3:case"end":return t.stop()}}),t)}))),t)}},{key:"shuffle",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==e||e<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError("`Dataset.shuffle()` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for `tf.Tensor`s), consider setting "+"bufferSize to the dataset size (".concat(this.size," elements)"));var r=this,a=$D.alea(t||Fi().toString());return IE(Ut(qt().mark((function t(){var o;return qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=a.int32(),n&&(o+=a.int32()),t.next=4,r.iterator();case 4:return t.abrupt("return",t.sent.shuffle(e,o.toString()));case 5:case"end":return t.stop()}}),t)}))),this.size)}},{key:"take",value:function(e){var t,n=this;return t=null!=this.size&&this.size>e?e:null!=this.size&&this.size<=e?this.size:null,IE(Ut(qt().mark((function t(){return qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.abrupt("return",t.sent.take(e));case 3:case"end":return t.stop()}}),t)}))),t)}},{key:"toArray",value:function(){var e=Ut(qt().mark((function e(){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.size!==1/0){e.next=2;break}throw new Error("Can not convert infinite data stream to array.");case 2:return e.next=4,this.iterator();case 4:return e.abrupt("return",e.sent.toArray());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toArrayForTest",value:function(){var e=Ut(qt().mark((function e(){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.size!==1/0){e.next=2;break}throw new Error("Can not convert infinite data stream to array.");case 2:return e.next=4,this.iterator();case 4:return e.abrupt("return",e.sent.toArrayForTest());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function IE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new(function(n){(0,Mi.Z)(a,n);var r=(0,Pi.Z)(a);function a(){var e;return(0,Qt.Z)(this,a),(e=r.apply(this,arguments)).size=t,e}return(0,Jt.Z)(a,[{key:"iterator",value:function(){var t=Ut(qt().mark((function t(){return qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),a}(SE))}function FE(e){return null===e?null:function(e){return null==e||null===(t=e)||"object"!==typeof t&&"function"!==typeof t||Array.isArray(e)||"object"===typeof e&&e instanceof Ui||En(e);var t}(e[0])?{value:function(e){if(0===e.length)throw new Error("Can't make a batch of zero elements.");return e[0]instanceof Ui?uf(e):Iu(e)}(e),recurse:!1}:{value:null,recurse:!0}}SE.MAX_BUFFER_SIZE=1e4;Symbol("out"),Symbol("field"),Symbol("quote"),Symbol("quoteafterquote"),Symbol("quoteinquote");function TE(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&ln("complex64"!==e.dtype,(function(){return"".concat(t," does not support complex64 tensors in the CPU backend.")}))}))}var NE=wf,AE=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(){var e;return(0,Qt.Z)(this,n),(e=t.call(this)).blockSize=48,e.firstUse=!0,e.data=new en((0,Cg.Z)(e),Dl()),e}return(0,Jt.Z)(n,[{key:"nextDataId",value:function(){return n.nextDataId++}},{key:"write",value:function(e,t,n){this.firstUse&&(this.firstUse=!1,Gn().get("IS_NODE")&&ei("\n============================\nHi there \ud83d\udc4b. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"));var r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:n,refCount:1}),r}},{key:"makeTensorInfo",value:function(e,t,n){var r;if("string"===t&&null!=n&&n.length>0&&In(n[0])){var a=n.map((function(e){return Ti(e)}));r=this.write(a,e,t)}else r=this.write(n,e,t);return{dataId:r,shape:e,dtype:t}}},{key:"refCount",value:function(e){return this.data.has(e)?this.data.get(e).refCount:0}},{key:"incRef",value:function(e){this.data.get(e).refCount++}},{key:"decRef",value:function(e){this.data.has(e)&&this.data.get(e).refCount--}},{key:"move",value:function(e,t,n,r,a){this.data.set(e,{values:t,dtype:r,refCount:a})}},{key:"numDataIds",value:function(){return this.data.numDataIds()}},{key:"read",value:function(){var e=Ut(qt().mark((function e(t){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readSync(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readSync",value:function(e){var t=this.data.get(e),n=t.dtype,r=t.complexTensorInfos;return"complex64"===n?Bm(this.readSync(r.real.dataId),this.readSync(r.imag.dataId)):this.data.get(e).values}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId),n=t;if("string"===e.dtype)try{n=t.map((function(e){return Ni(e)}))}catch(r){throw new Error("Failed to decode encoded string bytes into utf-8")}return Ms(e.shape,e.dtype,n)}},{key:"makeOutput",value:function(e,t,n){var r=this.write(e,t,n);return Dl().makeTensorFromDataId(r,t,n,this)}},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;var n=this.data.get(e),r=n.complexTensorInfos;null!=r&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(e)}return!0}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"time",value:function(){var e=Ut(qt().mark((function e(t){var n,r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fi(),t(),r=Fi()-n,e.abrupt("return",{kernelMs:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"memory",value:function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}},{key:"where",value:function(e){TE([e],"where");var t=this.readSync(e.dataId);return NE(e.shape,t)}},{key:"dispose",value:function(){}},{key:"floatPrecision",value:function(){return 32}},{key:"epsilon",value:function(){return Xy((0,Dg.Z)(n.prototype),"epsilon",this).call(this)}}]),n}(tn);AE.nextDataId=0;function RE(e,t,n){return function(r){var a=r.inputs,o=r.attrs,i=r.backend,u=a.x;if(TE(u,e),"string"===u.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");for(var s=i,l=s.data.get(u.dataId).values,c=fn(u.shape),d=n||u.dtype,p=Cn(d,c),f=0;f<c;++f)p[f]=t(l[f],o);return s.makeTensorInfo(u.shape,d,p)}}function OE(e,t,n){return function(r){var a=r.inputs,o=r.attrs,i=r.backend,u=a.x;if(TE(u,e),"string"===u.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");var s=i,l=s.data.get(u.dataId).values,c=n||u.dtype,d=t(l,c,o);return s.makeTensorInfo(u.shape,c,d)}}Tl("cpu",(function(){return new AE}),1);var ZE=RE(Gr,(function(e){return e>=0?e:Math.exp(e)-1})),ME={kernelName:Gr,backendName:"cpu",kernelFunc:ZE};function PE(e){var t=e.inputs,n=e.backend,r=t.x;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}var LE={kernelName:la,backendName:"cpu",kernelFunc:PE};function _E(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.alpha;TE([a],"leakyRelu");for(var i=fn(a.shape),u=n.data.get(a.dataId).values,s=wn("float32",i),l=0;l<u.length;l++)s[l]=u[l]<0?o*u[l]:u[l];return n.makeTensorInfo(a.shape,"float32",s)}var BE={kernelName:ma,backendName:"cpu",kernelFunc:_E};function zE(e){return function(t,n,r,a,o){var i=sl(t,n),u=i.length,s=Rn(i),l=wn(o,fn(i)),c=t.length,d=n.length,p=Rn(t),f=Rn(n),h=il(t,i),m=il(n,i);if(h.length+m.length===0)for(var v=0;v<l.length;++v)l[v]=e(r[v%r.length],a[v%a.length]);else for(var g=function(t){var n=zn(t,u,s),o=n.slice(-c);h.forEach((function(e){return o[e]=0}));var i=Bn(o,c,p),v=n.slice(-d);m.forEach((function(e){return v[e]=0}));var g=Bn(v,d,f);l[t]=e(r[i],a[g])},b=0;b<l.length;++b)g(b);return[l,i]}}var jE=zE((function(e,t){return e<0?t*e:e}));function VE(e){var t=e.inputs,n=e.backend,r=t.x,a=t.alpha;TE([r,a],"prelu");var o=n.data.get(r.dataId).values,i=n.data.get(a.dataId).values,u=jE(r.shape,a.shape,o,i,"float32"),s=(0,je.Z)(u,2),l=s[0],c=s[1];return n.makeTensorInfo(c,"float32",l)}var WE={kernelName:Ya,backendName:"cpu",kernelFunc:VE},HE=RE(to,(function(e){return Math.max(0,e)})),UE={kernelName:to,backendName:"cpu",kernelFunc:HE},GE=RE(uo,(function(e){return Math.min(Math.max(0,e),6)})),qE={kernelName:uo,backendName:"cpu",kernelFunc:GE};function KE(e){return function(t,n,r){for(var a=wn(n,t.length),o=0;o<t.length;++o)a[o]=e(t[o],r);return a}}var XE=KE((function(e){return 1/(1+Math.exp(-e))})),YE=RE(yo,(function(e){return 1/(1+Math.exp(-e))})),$E={kernelName:yo,backendName:"cpu",kernelFunc:YE};function QE(e,t,n,r,a){if("linear"===n)return PE({inputs:{x:t},backend:e});if("relu"===n)return HE({inputs:{x:t},backend:e});if("elu"===n)return ZE({inputs:{x:t},backend:e});if("relu6"===n)return GE({inputs:{x:t},backend:e});if("prelu"===n)return VE({inputs:{x:t,alpha:r},backend:e});if("leakyrelu"===n)return _E({inputs:{x:t},backend:e,attrs:{alpha:a}});if("sigmoid"===n)return YE({inputs:{x:t},backend:e});throw new Error("Activation ".concat(n," has not been implemented for the CPU backend."))}function JE(e){var t=e.inputs,n=e.backend,r=t.real,a=t.imag,o=n.data.get(r.dataId).values,i=n.data.get(a.dataId).values,u=n.makeTensorInfo(r.shape,"complex64");return n.data.get(u.dataId).complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",o),imag:n.makeTensorInfo(a.shape,"float32",i)},u}var eS={kernelName:wr,backendName:"cpu",kernelFunc:JE};function tS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"float32";if("complex64"===n){var r=tS(e,t,"float32"),a=tS(e,t,"float32");return JE({inputs:{real:r,imag:a},backend:e})}var o=Pn(fn(t),n);return e.makeTensorInfo(t,n,o)}function nS(e){var t=e.inputs,n=e.backend,r=t.input,a=n.data.get(r.dataId).complexTensorInfos.real,o=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,o)}var rS={kernelName:Ja,backendName:"cpu",kernelFunc:nS};function aS(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.dtype;if("complex64"===o){if("complex64"===a.dtype)return PE({inputs:{x:a},backend:n});var i=tS(n,a.shape,a.dtype),u=aS({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),s=JE({inputs:{real:u,imag:i},backend:n});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(u),s}if("complex64"===a.dtype){var l=nS({inputs:{input:a},backend:n}),c=aS({inputs:{x:l},backend:n,attrs:{dtype:o}});return n.disposeIntermediateTensorInfo(l),c}if(!Dn(a.dtype,o)){var d=PE({inputs:{x:a},backend:n});return{dataId:d.dataId,shape:d.shape,dtype:o}}if("int32"===o){var p=n.data.get(a.dataId).values,f=Int32Array.from(p);return n.makeTensorInfo(a.shape,"int32",f)}if("bool"===o){var h=n.data.get(a.dataId).values,m=Ii([0],a.dtype),v=zE((function(e,t){return e!==t?1:0}))(a.shape,[],h,m,"bool"),g=(0,je.Z)(v,2),b=g[0],y=g[1];return n.makeTensorInfo(y,"bool",b)}throw new Error("Error in Cast: failed to cast ".concat(a.dtype," to ").concat(o))}var oS={kernelName:yr,backendName:"cpu",kernelFunc:aS};function iS(e,t,n,r){return null==n?function(n){var a=n.inputs,o=n.backend,i=a.a,u=a.b,s=o;TE([i,u],e);var l=s.data.get(i.dataId).values,c=s.data.get(u.dataId).values,d="string"===i.dtype?rv(l):l,p="string"===i.dtype?rv(c):c,f=r||i.dtype,h=t(i.shape,u.shape,d,p,f),m=(0,je.Z)(h,2),v=m[0],g=m[1];return s.makeTensorInfo(g,f,v)}:function(e){var a=e.inputs,o=e.backend,i=a.a,u=a.b,s=o;if("complex64"===i.dtype||"complex64"===u.dtype){var l=aS({inputs:{x:i},backend:s,attrs:{dtype:"complex64"}}),c=s.data.get(l.dataId),d=c.complexTensorInfos.real,p=c.complexTensorInfos.imag,f=s.data.get(d.dataId).values,h=s.data.get(p.dataId).values,m=aS({inputs:{x:u},backend:s,attrs:{dtype:"complex64"}}),v=s.data.get(m.dataId),g=v.complexTensorInfos.real,b=v.complexTensorInfos.imag,y=s.data.get(g.dataId).values,x=s.data.get(b.dataId).values,k=n(i.shape,u.shape,f,h,y,x),w=(0,je.Z)(k,3),C=w[0],D=w[1],E=w[2],S=s.makeTensorInfo(E,"float32",C),I=s.makeTensorInfo(E,"float32",D),F=JE({inputs:{real:S,imag:I},backend:s});return s.disposeIntermediateTensorInfo(l),s.disposeIntermediateTensorInfo(m),s.disposeIntermediateTensorInfo(S),s.disposeIntermediateTensorInfo(I),F}var T=s.data.get(i.dataId).values,N=s.data.get(u.dataId).values,A=r||i.dtype,R=t(i.shape,u.shape,T,N,A),O=(0,je.Z)(R,2),Z=O[0],M=O[1];return s.makeTensorInfo(M,A,Z)}}function uS(e){return function(t,n,r,a,o,i){var u=sl(t,n),s=fn(u),l=u.length,c=Rn(u),d=wn("float32",s),p=wn("float32",s),f=il(t,u),h=il(n,u),m=Bm(r,a),v=Bm(o,i),g=t.length,b=Rn(t),y=n.length,x=Rn(n);if(f.length+h.length===0)for(var k=0;k<d.length;k++){var w=k%m.length,C=k%v.length,D=e(m[2*w],m[2*w+1],v[2*C],v[2*C+1]);d[k]=D.real,p[k]=D.imag}else for(var E=function(t){var n=zn(t,l,c),r=n.slice(-g);f.forEach((function(e){return r[e]=0}));var a=Bn(r,g,b),o=n.slice(-y);h.forEach((function(e){return o[e]=0}));var i=Bn(o,y,x),u=e(m[2*a],m[2*a+1],v[2*i],v[2*i+1]);d[t]=u.real,p[t]=u.imag},S=0;S<d.length;S++)E(S);return[d,p,u]}}var sS=zE((function(e,t){return e+t})),lS=uS((function(e,t,n,r){return{real:e+n,imag:t+r}})),cS=iS(er,sS,lS),dS={kernelName:er,backendName:"cpu",kernelFunc:cS};function pS(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.shape,i=fn(a.shape),u=yn(o,i),s=fn(u);ln(i===s,(function(){return"The new shape (".concat(u,") has ").concat(s," elements and the old ")+"shape (".concat(a.shape,") has ").concat(i," elements. The new shape and old ")+"shape must have the same number of elements."})),n.incRef(a.dataId);var l=n.data.get(a.dataId);if(null!=l.complexTensorInfos){var c=l.complexTensorInfos.real,d=l.complexTensorInfos.imag;c.shape=u,d.shape=u}return{dataId:a.dataId,shape:u,dtype:a.dtype}}var fS={kernelName:no,backendName:"cpu",kernelFunc:pS};function hS(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.a,o=t.b,i=r.transposeA,u=r.transposeB;TE([a,o],"matMul");var s=a.shape.length,l=o.shape.length,c=i?a.shape[s-2]:a.shape[s-1],d=u?o.shape[l-1]:o.shape[l-2],p=i?a.shape[s-1]:a.shape[s-2],f=u?o.shape[l-2]:o.shape[l-1],h=a.shape.slice(0,-2),m=o.shape.slice(0,-2),v=fn(h),g=fn(m),b=sl(a.shape.slice(0,-2),o.shape.slice(0,-2)).concat([p,f]);ln(c===d,(function(){return"Error in matMul: inner shapes (".concat(c,") and (")+"".concat(d,") of Tensors with shapes ").concat(a.shape," and ")+"".concat(o.shape," and transposeA=").concat(i)+" and transposeB=".concat(u," must match.")}));for(var y=u?[g,f,d]:[g,d,f],x=pS({inputs:{x:a},backend:n,attrs:{shape:i?[v,c,p]:[v,p,c]}}),k=pS({inputs:{x:o},backend:n,attrs:{shape:y}}),w=i?x.shape[1]:x.shape[2],C=i?x.shape[2]:x.shape[1],D=u?k.shape[1]:k.shape[2],E=Math.max(v,g),S=n.data.get(x.dataId).values,I=n.data.get(k.dataId).values,F=Rn(x.shape),T=Rn(k.shape),N=i?[F[0],1,F[1]]:[F[0],F[1],1],A=(0,je.Z)(N,3),R=A[0],O=A[1],Z=A[2],M=u?[1,T[1],T[0]]:[T[1],1,T[0]],P=(0,je.Z)(M,3),L=P[0],_=P[1],B=P[2],z=C*D,j=Ms([E,C,D],x.dtype),V=j.values,W=n.blockSize,H=0;H<E;H++)for(var U=0;U<C;U+=W)for(var G=0;G<D;G+=W)for(var q=0;q<w;q+=W)for(var K=Math.min(U+W,C),X=Math.min(G+W,D),Y=Math.min(q+W,w),$=U;$<K;$++)for(var Q=G;Q<X;Q++){for(var J=0,ee=q;ee<Y;ee++){var te=Math.min(H,v-1)*R,ne=Math.min(H,g-1)*B;J+=S[te+$*O+ee*Z]*I[ee*L+Q*_+ne]}V[H*z+($*D+Q)]+=J}return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(k),n.makeTensorInfo(b,j.dtype,j.values)}var mS={kernelName:mr,backendName:"cpu",kernelFunc:hS};var vS={kernelName:$o,backendName:"cpu",kernelFunc:function(e){var t,n,r,a=e.inputs,o=e.backend,i=e.attrs,u=a.a,s=a.b,l=a.bias,c=a.preluActivationWeights,d=i.transposeA,p=i.transposeB,f=i.activation,h=i.leakyreluAlpha,m=[];t=hS({inputs:{a:u,b:s},attrs:{transposeA:d,transposeB:p},backend:o}),l&&(n=cS({inputs:{a:t,b:l},backend:o}),m.push(t),t=n),f&&(r=QE(o,t,f,c,h),m.push(t),t=r);for(var v=0,g=m;v<g.length;v++){var b=g[v];o.disposeIntermediateTensorInfo(b)}return t}};function gS(e){for(var t=new Float32Array(e.length),n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}var bS={kernelName:$n,backendName:"cpu",kernelFunc:function(e){var t=e.inputs.x,n=e.backend;TE(t,"abs");var r=new Float32Array(fn(t.shape));return r=gS(n.data.get(t.dataId).values),n.makeOutput(r,t.shape,t.dtype)}},yS=RE(Qn,(function(e){return Math.acos(e)})),xS={kernelName:Qn,backendName:"cpu",kernelFunc:yS},kS=RE(Jn,(function(e){return Math.acosh(e)})),wS={kernelName:Jn,backendName:"cpu",kernelFunc:kS};var CS={kernelName:tr,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t;TE(t,"addN");for(var a=r.map((function(e){return n.data.get(e.dataId).values})),o=Ms(r[0].shape,r[0].dtype),i=o.values,u=0;u<r.length;u++)for(var s=a[u],l=0;l<i.length;l++)i[l]+=s[l];return n.makeTensorInfo(o.shape,o.dtype,o.values)}};function DS(e,t,n,r,a){for(var o=t.length,i=fn(t),u=Rn(t),s=Rn(a),l=wn(n,fn(a)),c=0;c<i;++c){for(var d=zn(c,o,u),p=new Array(d.length),f=0;f<p.length;f++)p[f]=d[r[f]];l[Bn(p,o,s)]=e[c]}return l}function ES(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,o=n.perm;TE(a,"transpose");for(var i=a.shape.length,u=new Array(i),s=0;s<u.length;s++)u[s]=a.shape[o[s]];var l=DS(r.data.get(a.dataId).values,a.shape,a.dtype,o,u);return{dataId:r.write(l,u,a.dtype),shape:u,dtype:a.dtype}}var SS={kernelName:Wo,backendName:"cpu",kernelFunc:ES};var IS={kernelName:nr,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,i=r.keepDims;TE(a,"all");var u=xn(o,a.shape),s=u,l=Pd(s,a.shape.length),c=a;null!=l&&(c=ES({inputs:{x:a},backend:n,attrs:{perm:l}}),s=_d(s.length,a.shape.length)),Md("all",s,c.shape.length);for(var d=Od(c.shape,s),p=(0,je.Z)(d,2),f=p[0],h=fn(p[1]),m=Pn(fn(f),c.dtype),v=n.data.get(c.dataId).values,g=0;g<m.length;++g){for(var b=g*h,y=v[b],x=0;x<h;++x){var k=v[b+x];y=y&&k}m[g]=y}null!=l&&n.disposeIntermediateTensorInfo(c);var w=n.makeTensorInfo(f,c.dtype,m);if(i){var C=pS({inputs:{x:w},backend:n,attrs:{shape:Zd(f,u)}});return n.disposeIntermediateTensorInfo(w),C}return w}};var FS={kernelName:rr,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,i=r.keepDims;TE(a,"any");var u=xn(o,a.shape),s=u,l=Pd(s,a.shape.length),c=a;null!=l&&(c=ES({inputs:{x:a},backend:n,attrs:{perm:l}}),s=_d(s.length,a.shape.length)),Md("any",s,c.shape.length);for(var d=Od(c.shape,s),p=(0,je.Z)(d,2),f=p[0],h=fn(p[1]),m=Pn(fn(f),c.dtype),v=n.data.get(c.dataId).values,g=0;g<m.length;++g){for(var b=g*h,y=v[b],x=0;x<h;++x){var k=v[b+x];y=y||k}m[g]=y}null!=l&&n.disposeIntermediateTensorInfo(c);var w=n.makeTensorInfo(f,c.dtype,m);if(i){var C=pS({inputs:{x:w},backend:n,attrs:{shape:Zd(f,u)}});return n.disposeIntermediateTensorInfo(w),C}return w}};var TS={kernelName:ar,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis;TE(a,"argMax");var i=xn(o,a.shape),u=Pd(i,a.shape.length),s=a,l=[];null!=u&&(s=ES({inputs:{x:a},backend:n,attrs:{perm:u}}),l.push(s),i=_d(i.length,s.shape.length)),Md("argMax",i=[i[0]],s.shape.length);for(var c=Od(s.shape,i),d=(0,je.Z)(c,2),p=d[0],f=d[1],h=Pn(fn(p),"int32"),m=fn(f),v=n.data.get(s.dataId).values,g=0;g<h.length;++g){for(var b=g*m,y=v[b],x=0,k=0;k<m;++k){var w=v[b+k];w>y&&(y=w,x=k)}h[g]=x}return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(p,"int32",h)}};var NS={kernelName:or,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis;TE(a,"argMin");var i=xn(o,a.shape),u=Pd(i,a.shape.length),s=a,l=[];null!=u&&(s=ES({inputs:{x:a},backend:n,attrs:{perm:u}}),l.push(s),i=_d(i.length,s.shape.length)),Md("argMin",i=[i[0]],s.shape.length);for(var c=Od(s.shape,i),d=(0,je.Z)(c,2),p=d[0],f=d[1],h=Pn(fn(p),"int32"),m=fn(f),v=n.data.get(s.dataId).values,g=0;g<h.length;++g){for(var b=g*m,y=v[b],x=0,k=0;k<m;++k){var w=v[b+k];w<y&&(y=w,x=k)}h[g]=x}return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(p,"int32",h)}},AS=RE(ir,(function(e){return Math.asin(e)})),RS={kernelName:ir,backendName:"cpu",kernelFunc:AS},OS=RE(ur,(function(e){return Math.asinh(e)})),ZS={kernelName:ur,backendName:"cpu",kernelFunc:OS},MS=RE(sr,(function(e){return Math.atan(e)})),PS={kernelName:sr,backendName:"cpu",kernelFunc:MS},LS=zE((function(e,t){return Math.atan2(e,t)})),_S=iS(cr,LS),BS={kernelName:cr,backendName:"cpu",kernelFunc:_S},zS=RE(lr,(function(e){return Math.atanh(e)})),jS={kernelName:lr,backendName:"cpu",kernelFunc:zS};function VS(e,t,n,r,a,o){for(var i=a.strideHeight,u=a.strideWidth,s=a.dilationHeight,l=a.dilationWidth,c=a.effectiveFilterHeight,d=a.effectiveFilterWidth,p=a.padInfo.top,f=a.padInfo.left,h="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=Ms(a.outShape,n),v=m.values,g=a.outShape[1]*a.outShape[2]*a.outShape[3],b=a.outShape[2]*a.outShape[3],y=a.outShape[3],x=0;x<a.batchSize;++x)for(var k=x*g,w=x*r[0],C=0;C<a.inChannels;++C)for(var D=0;D<a.outHeight;++D)for(var E=D*i-p,S=Math.max(0,E),I=Math.min(a.inHeight,c+E),F=k+D*b,T=0;T<a.outWidth;++T){for(var N=T*u-f,A=Math.max(0,N),R=Math.min(a.inWidth,d+N),O=h,Z=0,M=0,P=S;P<I;P+=s){for(var L=w+P*r[1],_=A;_<R;_+=l){var B=e[L+_*r[2]+C];"max"===o&&B>O?O=B:"avg"===o&&(Z+=B,M++)}if(isNaN(O))break}v[F+T*y+C]="avg"===o?Z/M:O}return m}function WS(e,t,n,r){for(var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=Ms(r.outShape,"int32"),u=r.strideHeight,s=r.strideWidth,l=r.dilationHeight,c=r.dilationWidth,d=r.effectiveFilterHeight,p=r.effectiveFilterWidth,f=r.padInfo.top,h=r.padInfo.left,m=Ms(t,n,e),v=0;v<r.batchSize;++v)for(var g=0;g<r.inChannels;++g)for(var b=0;b<r.outHeight;++b){for(var y=b*u-f,x=y;x<0;)x+=l;for(var k=Math.min(r.inHeight,d+y),w=0;w<r.outWidth;++w){for(var C=w*s-h,D=C;D<0;)D+=c;for(var E=Math.min(r.inWidth,p+C),S=Number.NEGATIVE_INFINITY,I=-1,F=x;F<k;F+=l)for(var T=F-y,N=D;N<E;N+=c){var A=N-C,R=m.get(v,F,N,g);R>S&&(S=R,I=a?o?((v*r.inHeight+F)*r.inWidth+N)*r.inChannels+g:(F*r.inWidth+N)*r.inChannels+g:T*p+A)}i.set(I,v,b,w,g)}}return i}function HS(e,t,n,r,a,o){for(var i=a.strideDepth,u=a.strideHeight,s=a.strideWidth,l=a.dilationDepth,c=a.dilationHeight,d=a.dilationWidth,p=a.effectiveFilterDepth,f=a.effectiveFilterHeight,h=a.effectiveFilterWidth,m=a.padInfo.front,v=a.padInfo.top,g=a.padInfo.left,b="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,y=Ms(a.outShape,n),x=y.values,k=a.outShape[1]*a.outShape[2]*a.outShape[3]*a.outShape[4],w=a.outShape[2]*a.outShape[3]*a.outShape[4],C=a.outShape[3]*a.outShape[4],D=a.outShape[4],E=0;E<a.batchSize;++E)for(var S=E*k,I=E*r[0],F=0;F<a.inChannels;++F)for(var T=0;T<a.outDepth;++T){for(var N=T*i-m,A=N;A<0;)A+=l;for(var R=Math.min(a.inDepth,p+N),O=S+T*w,Z=0;Z<a.outHeight;++Z){for(var M=Z*u-v,P=M;P<0;)P+=c;for(var L=Math.min(a.inHeight,f+M),_=O+Z*C,B=0;B<a.outWidth;++B){for(var z=B*s-g,j=z;j<0;)j+=d;for(var V=Math.min(a.inWidth,h+z),W=_+B*D,H=b,U=0,G=0,q=A;q<R;q+=l){for(var K=I+q*r[1],X=P;X<L;X+=c){for(var Y=K+X*r[2],$=j;$<V;$+=d){var Q=e[Y+$*r[3]+F];if("max"===o&&Q>H?H=Q:"avg"===o&&(U+=Q,G++),isNaN(H))break}if(isNaN(H))break}if(isNaN(H))break}x[W+F]="avg"===o?U/G:H}}}return y}var US={kernelName:dr,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;TE(a,"avgPool");var o=r.filterSize,i=r.strides,u=r.pad,s=r.dimRoundingMode;ln(ic(i,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(i," and dilations '").concat(1,"'")}));var l,c=Kl(a.shape,o,i,1,u,s);if(1===c.filterWidth&&1===c.filterHeight&&hn(c.inShape,c.outShape))l=PE({inputs:{x:a},backend:n});else{var d=n.data.get(a.dataId).values,p=Rn(a.shape),f=VS(d,a.shape,a.dtype,p,c,"avg");l=n.makeTensorInfo(c.outShape,a.dtype,f.values)}return l}};var GS={kernelName:fr,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.filterSize,i=r.strides,u=r.pad,s=r.dimRoundingMode,l=r.dataFormat;TE(a,"avgPool3d");var c=Xl(a.shape,o,i,1,u,s,l),d=HS(n.data.get(a.dataId).values,a.shape,a.dtype,Rn(a.shape),c,"avg");return n.makeTensorInfo(d.shape,"float32",d.values)}};var qS={kernelName:hr,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,i=r.filterSize,u=r.strides,s=r.pad,l=r.dimRoundingMode;TE([a,o],"avgPool3DGrad");for(var c=Xl(o.shape,i,u,1,s,l),d=c.strideDepth,p=c.strideHeight,f=c.strideWidth,h=c.filterDepth,m=c.filterHeight,v=c.filterWidth,g=c.dilationDepth,b=c.dilationHeight,y=c.dilationWidth,x=c.effectiveFilterDepth,k=c.effectiveFilterHeight,w=c.effectiveFilterWidth,C=x-1-c.padInfo.front,D=w-1-c.padInfo.left,E=k-1-c.padInfo.top,S=Ms(o.shape,"float32"),I=1/(h*m*v),F=n.bufferSync(a),T=0;T<c.batchSize;++T)for(var N=0;N<c.inChannels;++N)for(var A=0;A<c.inDepth;++A)for(var R=0;R<c.inHeight;++R)for(var O=0;O<c.inWidth;++O){for(var Z=A-C,M=R-E,P=O-D,L=0,_=0;_<x;_+=g){var B=(Z+_)/d;if(!(B<0||B>=c.outDepth||Math.floor(B)!==B))for(var z=0;z<k;z+=b){var j=(M+z)/p;if(!(j<0||j>=c.outHeight||Math.floor(j)!==j))for(var V=0;V<w;V+=y){var W=(P+V)/f;if(!(W<0||W>=c.outWidth||Math.floor(W)!==W))L+=F.get(T,B,j,W,N)}}}S.set(L*I,T,A,R,O,N)}return n.makeTensorInfo(S.shape,S.dtype,S.values)}};var KS={kernelName:pr,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,i=o;TE([a,o],"avgPoolGrad");for(var u=r.filterSize,s=r.strides,l=r.pad,c=Kl(i.shape,u,s,1,l),d=c.strideHeight,p=c.strideWidth,f=c.filterHeight,h=c.filterWidth,m=c.dilationHeight,v=c.dilationWidth,g=c.effectiveFilterHeight,b=c.effectiveFilterWidth,y=b-1-c.padInfo.left,x=g-1-c.padInfo.top,k=Ms(i.shape,"float32"),w=1/(f*h),C=n.data.get(a.dataId).values,D=Ms(a.shape,"float32",C),E=0;E<c.batchSize;++E)for(var S=0;S<c.inChannels;++S)for(var I=0;I<c.inHeight;++I)for(var F=0;F<c.inWidth;++F){for(var T=I-x,N=F-y,A=0,R=0;R<g;R+=m){var O=(T+R)/d;if(!(O<0||O>=c.outHeight||Math.floor(O)!==O))for(var Z=0;Z<b;Z+=v){var M=(N+Z)/p;if(!(M<0||M>=c.outWidth||Math.floor(M)!==M))A+=D.get(E,O,M,S)}}k.set(A*w,E,I,F,S)}return n.makeTensorInfo(k.shape,k.dtype,k.values)}};var XS={kernelName:aa,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.scale,i=t.offset,u=t.mean,s=t.variance;ln(u.shape.length===s.shape.length,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),ln(null==i||u.shape.length===i.shape.length,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),ln(null==o||u.shape.length===o.shape.length,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."})),TE([a,u,s,o,i],"batchNorm");var l=r.varianceEpsilon;null==l&&(l=.001);for(var c=n.data.get(a.dataId).values,d=n.data.get(u.dataId).values,p=n.data.get(s.dataId).values,f=o?n.data.get(o.dataId).values:new Float32Array([1]),h=i?n.data.get(i.dataId).values:new Float32Array([0]),m=new Float32Array(c.length),v=h.length,g=f.length,b=p.length,y=d.length,x=0,k=0,w=0,C=0,D=0;D<c.length;++D)m[D]=h[x++]+(c[D]-d[k++])*f[w++]/Math.sqrt(p[C++]+l),x>=v&&(x=0),k>=y&&(k=0),w>=g&&(w=0),C>=b&&(C=0);return n.makeTensorInfo(a.shape,a.dtype,m)}};function YS(e,t,n,r,a){var o=vl(r,t,n),i=fn(n),u=Rn(r);if(o){var s=gl(t,u);return"string"===a?e.slice(s,s+i):e.subarray(s,s+i)}for(var l=Ms(r,a,"string"===a?rv(e):e),c=Ms(n,a),d=0;d<c.size;++d){var p=c.indexToLoc(d),f=p.map((function(e,n){return e+t[n]}));c.set.apply(c,[l.get.apply(l,(0,$t.Z)(f))].concat((0,$t.Z)(p)))}return"string"===a?c.values.map((function(e){return Ti(e)})):c.values}function $S(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.begin,i=r.size;TE(a,"slice");var u=bl(a,o,i),s=(0,je.Z)(u,2),l=s[0],c=s[1];hl(a,l,c);var d=YS(n.data.get(a.dataId).values,l,c,a.shape,a.dtype);return n.makeTensorInfo(c,a.dtype,d)}var QS={kernelName:mo,backendName:"cpu",kernelFunc:$S};var JS={kernelName:vr,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.blockShape,i=r.crops;TE([a],"batchToSpaceND");var u=o.reduce((function(e,t){return e*t})),s=Em(a.shape,o,u),l=Sm(s.length,o.length),c=Im(a.shape,o,u),d=Fm(i,o.length),p=Tm(c,i,o.length),f=pS({inputs:{x:a},backend:n,attrs:{shape:s}}),h=ES({inputs:{x:f},backend:n,attrs:{perm:l}}),m=pS({inputs:{x:h},backend:n,attrs:{shape:c}}),v=$S({inputs:{x:m},backend:n,attrs:{begin:d,size:p}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),v}};function eI(e,t,n,r,a){for(var o=fn(r),i=Pn(a,n),u=0;u<e.length;u++){var s=e[u];if(s<0)throw new Error("Input x must be non-negative!");s>=a||(i[s]+=o>0?t[u]:1)}return i}function tI(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.shape[0],o=e.shape[1],i=Ms([a,n],t.dtype),u=0;u<a;u++)for(var s=0;s<o;s++){var l=e.get(u,s);if(l<0)throw new Error("Input x must be non-negative!");l>=n||(r?i.set(1,u,l):t.size>0?i.set(i.get(u,l)+t.get(u,s),u,l):i.set(i.get(u,l)+1,u,l))}return i}var nI={kernelName:gr,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.weights,i=r.size,u=eI(n.data.get(a.dataId).values,n.data.get(o.dataId).values,o.dtype,o.shape,i);return n.makeTensorInfo([i],o.dtype,u)}};var rI={kernelName:br,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.s0,a=t.s1,o=n.data.get(r.dataId).values,i=n.data.get(a.dataId).values,u=sl(Array.from(o),Array.from(i));return n.makeTensorInfo([u.length],"int32",Int32Array.from(u))}},aI=KE((function(e){return Math.ceil(e)})),oI=OE(xr,aI),iI={kernelName:xr,backendName:"cpu",kernelFunc:oI},uI=RE(kr,(function(e,t){var n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e})),sI={kernelName:kr,backendName:"cpu",kernelFunc:uI},lI={kernelName:Cr,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs.x,n=e.backend,r=new Float32Array(fn(t.shape)),a=n.data.get(t.dataId),o=a.complexTensorInfos.real,i=a.complexTensorInfos.imag,u=n.data.get(o.dataId).values,s=n.data.get(i.dataId).values,l=0;l<u.length;l++){var c=u[l],d=s[l];r[l]=Math.hypot(c,d)}return n.makeOutput(r,t.shape,"float32")}};function cI(e,t,n,r){var a=Cn(n,fn(t));if(r&&"string"!==n){var o=0;e.forEach((function(e){var t=fn(e.shape);a.set(e.vals,o),o+=t}))}else{var i=0;e.forEach((function(e){for(var r="string"===n?rv(e.vals):e.vals,o=0,u=0;u<e.shape[0];++u)for(var s=u*t[1]+i,l=0;l<e.shape[1];++l)a[s+l]=r[o++];i+=e.shape[1]}))}return a}function dI(e){var t=e.inputs,n=e.backend,r=t.input,a=n.data.get(r.dataId).complexTensorInfos.imag,o=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,o)}var pI={kernelName:da,backendName:"cpu",kernelFunc:dI};function fI(e){var t=e.inputs,n=e.backend,r=xn(e.attrs.axis,t[0].shape)[0],a=wm(t.map((function(e){return e.shape})),r);if(0===fn(a))return n.makeTensorInfo(a,t[0].dtype,[]);var o=t.filter((function(e){return fn(e.shape)>0}));if(1===o.length)return PE({inputs:{x:o[0]},backend:n});if(km(o.map((function(e){return e.shape})),r),"complex64"===o[0].dtype){var i=o.map((function(e){return nS({inputs:{input:e},backend:n})})),u=o.map((function(e){return dI({inputs:{input:e},backend:n})})),s=fI({inputs:i,backend:n,attrs:{axis:r}}),l=fI({inputs:u,backend:n,attrs:{axis:r}}),c=JE({inputs:{real:s,imag:l},backend:n});return i.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),u.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),c}var d=o.map((function(e){var t=fn(e.shape.slice(r));return pS({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),p=d.map((function(e){return{vals:n.data.get(e.dataId).values,shape:e.shape}}));a=wm(d.map((function(e){return e.shape})),1);var f=1===d[0].shape[0],h=cI(p,a,t[0].dtype,f),m=wm(o.map((function(e){return e.shape})),r),v=n.makeTensorInfo(m,t[0].dtype,h);return d.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),v}var hI={kernelName:Dr,backendName:"cpu",kernelFunc:fI};function mI(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,i=r.strides,u=r.pad,s=r.dataFormat,l=r.dilations,c=r.dimRoundingMode;TE([a,o],"conv2d");for(var d=uc(s),p=Yl(a.shape,o.shape,i,l,u,c,!1,d),f=p.filterHeight,h=p.filterWidth,m=p.dilationHeight,v=p.dilationWidth,g=p.padInfo.left,b=p.padInfo.top,y="channelsLast"===p.dataFormat,x=new Vi(p.outShape,a.dtype),k=Rn(a.shape),w=Rn(o.shape),C=k[0],D=y?k[1]:k[2],E=y?k[2]:1,S=y?1:k[1],I=x.strides[0],F=y?x.strides[1]:x.strides[2],T=y?x.strides[2]:1,N=y?1:x.strides[1],A=n.data.get(a.dataId).values,R=n.data.get(o.dataId).values,O=x.values,Z=0;Z<p.batchSize;++Z)for(var M=Z*C,P=Z*I,L=0;L<p.outHeight;++L)for(var _=P+L*F,B=L*p.strideHeight-b,z=0;z<f;++z){var j=B+z*m;if(!(j<0||j>=p.inHeight))for(var V=z*w[0],W=M+j*D,H=0;H<p.outWidth;++H)for(var U=_+H*T,G=H*p.strideWidth-g,q=0;q<h;++q){var K=G+q*v;if(!(K<0||K>=p.inWidth))for(var X=W+K*E,Y=V+q*w[1],$=0;$<p.inChannels;++$){for(var Q=A[X+$*S],J=0;J<p.outChannels;++J)O[U+J*N]+=Q*R[Y+J];Y+=p.outChannels}}}return n.makeTensorInfo(x.shape,x.dtype,O)}var vI={kernelName:Er,backendName:"cpu",kernelFunc:mI};var gI={kernelName:Sr,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.dy,i=r.strides,u=r.pad,s=r.dataFormat,l=r.dimRoundingMode,c=r.filterShape;TE([a,o],"conv2dBackpropFilter");for(var d=uc(s),p=Yl(a.shape,c,i,1,u,l,!1,d),f=p.strideHeight,h=p.strideWidth,m=p.filterHeight,v=p.filterWidth,g="channelsLast"===p.dataFormat,b=new Vi(p.filterShape,"float32"),y=p.padInfo.left,x=p.padInfo.top,k=n.data.get(a.dataId).values,w=n.data.get(o.dataId).values,C=new Vi(a.shape,a.dtype,k),D=new Vi(o.shape,o.dtype,w),E=0;E<m;++E)for(var S=Math.max(0,Math.ceil((x-E)/f)),I=Math.min(p.outHeight,(p.inHeight+x-E)/f),F=0;F<v;++F)for(var T=Math.max(0,Math.ceil((y-F)/h)),N=Math.min(p.outWidth,(p.inWidth+y-F)/h),A=0;A<p.inChannels;++A)for(var R=0;R<p.outChannels;++R){for(var O=0,Z=0;Z<p.batchSize;++Z)for(var M=S;M<I;++M)for(var P=E+M*f-x,L=T;L<N;++L){var _=F+L*h-y;O+=g?C.get(Z,P,_,A)*D.get(Z,M,L,R):C.get(Z,A,P,_)*D.get(Z,R,M,L)}b.set(O,E,F,A,R)}return n.makeTensorInfo(b.shape,b.dtype,b.values)}};var bI={kernelName:Ir,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.filter,i=r.inputShape,u=r.strides,s=r.pad,l=r.dataFormat,c=r.dimRoundingMode;TE([a,o],"conv2dBackpropInput");var d=Rn(o.shape),p=Rn(a.shape),f=uc(l),h=Yl(i,o.shape,u,1,s,c,!1,f),m=new Vi(h.inShape,"float32"),v=m.values,g=n.data.get(a.dataId).values,b=n.data.get(o.dataId).values,y=(0,je.Z)(d,3),x=y[0],k=y[1],w=y[2],C=h.batchSize,D=h.filterHeight,E=h.filterWidth,S=h.inChannels,I=h.inHeight,F=h.inWidth,T=h.outChannels,N=h.outHeight,A=h.outWidth,R=h.strideHeight,O=h.strideWidth;f=h.dataFormat;for(var Z=D-1-h.padInfo.top,M=E-1-h.padInfo.left,P="channelsLast"===f,L=m.strides[0],_=P?m.strides[1]:m.strides[2],B=P?m.strides[2]:1,z=P?1:m.strides[1],j=p[0],V=P?p[1]:p[2],W=P?p[2]:1,H=P?1:p[1],U=0;U<C;++U)for(var G=0;G<S;++G)for(var q=0;q<I;++q)for(var K=q-Z,X=Math.max(0,Math.ceil(K/R)),Y=Math.min(N,(D+K)/R),$=0;$<F;++$){for(var Q=$-M,J=Math.max(0,Math.ceil(Q/O)),ee=Math.min(A,(E+Q)/O),te=0,ne=X;ne<Y;++ne)for(var re=ne*R-K,ae=J;ae<ee;++ae)for(var oe=j*U+V*ne+W*ae,ie=x*(D-1-re)+k*(E-1-(ae*O-Q))+w*G,ue=0;ue<T;++ue){te+=g[oe+H*ue]*b[ie+ue]}v[L*U+_*q+B*$+z*G]=te}return n.makeTensorInfo(m.shape,m.dtype,m.values)}};var yI={kernelName:Fr,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,i=r.strides,u=r.pad,s=r.dilations;TE([a,o],"conv3d");for(var l=$l(a.shape,o.shape,i,s,u),c=l.filterDepth,d=l.filterHeight,p=l.filterWidth,f=l.dilationDepth,h=l.dilationHeight,m=l.dilationWidth,v=l.padInfo,g=v.front,b=v.left,y=v.top,x=new Vi(l.outShape,a.dtype),k=n.data.get(a.dataId).values,w=n.data.get(o.dataId).values,C=x.values,D=Rn(a.shape),E=Rn(o.shape),S=0;S<l.batchSize;++S)for(var I=S*D[0],F=S*x.strides[0],T=0;T<l.outDepth;++T)for(var N=F+T*x.strides[1],A=T*l.strideDepth-g,R=0;R<c;++R){var O=A+R*f;if(!(O<0||O>=l.inDepth))for(var Z=R*E[0],M=I+O*D[1],P=0;P<l.outHeight;++P)for(var L=N+P*x.strides[2],_=P*l.strideHeight-y,B=0;B<d;++B){var z=_+B*h;if(!(z<0||z>=l.inHeight))for(var j=Z+B*E[1],V=M+z*D[2],W=0;W<l.outWidth;++W)for(var H=L+W*l.outChannels,U=W*l.strideWidth-b,G=0;G<p;++G){var q=U+G*m;if(!(q<0||q>=l.inWidth))for(var K=j+G*E[2],X=V+q*l.inChannels,Y=K,$=0;$<l.inChannels;++$){for(var Q=k[X+$],J=0;J<l.outChannels;++J)C[H+J]+=Q*w[Y+J];Y+=l.outChannels}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};var xI={kernelName:Tr,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.dy,i=r.strides,u=r.pad,s=r.filterShape;TE([a,o],"conv3dBackpropFilterV2");for(var l=Rn(a.shape),c=Rn(o.shape),d=$l(a.shape,s,i,1,u),p=d.strideDepth,f=d.strideHeight,h=d.strideWidth,m=d.filterDepth,v=d.filterHeight,g=d.filterWidth,b=new Vi(d.filterShape,"float32"),y=b.values,x=(0,je.Z)(b.strides,4),k=x[0],w=x[1],C=x[2],D=x[3],E=n.data.get(o.dataId).values,S=(0,je.Z)(c,4),I=S[0],F=S[1],T=S[2],N=S[3],A=n.data.get(a.dataId).values,R=(0,je.Z)(l,4),O=R[0],Z=R[1],M=R[2],P=R[3],L=d.padInfo.front,_=d.padInfo.left,B=d.padInfo.top,z=0;z<m;++z)for(var j=Math.max(0,Math.ceil((L-z)/p)),V=Math.min(d.outDepth,(d.inDepth+L-z)/p),W=z*k,H=0;H<v;++H)for(var U=Math.max(0,Math.ceil((B-H)/f)),G=Math.min(d.outHeight,(d.inHeight+B-H)/f),q=H*w+W,K=0;K<g;++K)for(var X=Math.max(0,Math.ceil((_-K)/h)),Y=Math.min(d.outWidth,(d.inWidth+_-K)/h),$=K*C+q,Q=0;Q<d.inChannels;++Q)for(var J=Q*D+$,ee=0;ee<d.outChannels;++ee){for(var te=0,ne=0;ne<d.batchSize;++ne)for(var re=ne*O,ae=ne*I,oe=j;oe<V;++oe)for(var ie=(z+oe*p-L)*Z+re,ue=oe*F+ae,se=U;se<G;++se)for(var le=(H+se*f-B)*M+ie,ce=se*T+ue,de=X;de<Y;++de){var pe=de*N+ce;te+=A[(K+de*h-_)*P+le+Q]*E[pe+ee]}y[J+ee]=te}return n.makeTensorInfo(b.shape,b.dtype,b.values)}};var kI={kernelName:Nr,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.filter,i=r.pad,u=r.strides,s=r.inputShape;TE([a],"conv3dBackpropInputV2");for(var l=Rn(a.shape),c=Rn(o.shape),d=$l(s,o.shape,u,1,i),p=new Vi(d.inShape,"float32"),f=p.values,h=(0,je.Z)(p.strides,4),m=h[0],v=h[1],g=h[2],b=h[3],y=n.data.get(a.dataId).values,x=(0,je.Z)(l,4),k=x[0],w=x[1],C=x[2],D=x[3],E=n.data.get(o.dataId).values,S=(0,je.Z)(c,4),I=S[0],F=S[1],T=S[2],N=S[3],A=d.batchSize,R=d.filterDepth,O=d.filterHeight,Z=d.filterWidth,M=d.inChannels,P=d.inDepth,L=d.inHeight,_=d.inWidth,B=d.outChannels,z=d.outDepth,j=d.outHeight,V=d.outWidth,W=d.strideDepth,H=d.strideHeight,U=d.strideWidth,G=R-1-d.padInfo.front,q=O-1-d.padInfo.top,K=Z-1-d.padInfo.left,X=0;X<A;++X)for(var Y=0;Y<M;++Y)for(var $=0;$<P;++$)for(var Q=$-G,J=Math.max(0,Math.ceil(Q/W)),ee=Math.min(z,(R+Q)/W),te=0;te<L;++te)for(var ne=te-q,re=Math.max(0,Math.ceil(ne/H)),ae=Math.min(j,(O+ne)/H),oe=0;oe<_;++oe){for(var ie=oe-K,ue=Math.max(0,Math.ceil(ie/U)),se=Math.min(V,(Z+ie)/U),le=0,ce=J;ce<ee;++ce)for(var de=ce*W-Q,pe=re;pe<ae;++pe)for(var fe=pe*H-ne,he=ue;he<se;++he)for(var me=k*X+w*ce+C*pe+D*he,ve=I*(R-1-de)+F*(O-1-fe)+T*(Z-1-(he*U-ie))+N*Y,ge=0;ge<B;++ge){le+=y[me+ge]*E[ve+ge]}f[m*X+v*$+g*te+b*oe+Y]=le}return n.makeTensorInfo(p.shape,p.dtype,p.values)}},wI=RE(Ar,(function(e){return Math.cos(e)})),CI={kernelName:Ar,backendName:"cpu",kernelFunc:wI},DI=RE(Rr,(function(e){return Math.cosh(e)})),EI={kernelName:Rr,backendName:"cpu",kernelFunc:DI};var SI={kernelName:Zr,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,o=t.boxes,i=t.boxInd,u=r.cropSize,s=r.method,l=r.extrapolationValue,c=(0,je.Z)(a.shape,4),d=c[0],p=c[1],f=c[2],h=c[3],m=o.shape[0],v=(0,je.Z)(u,2),g=v[0],b=v[1],y=Ms([m,g,b,h],"float32"),x=n.data.get(o.dataId).values,k=n.data.get(i.dataId).values,w=n.data.get(a.dataId).values,C=Rn(a.shape),D=Rn(y.shape),E=0;E<m;E++){var S=4*E,I=x[S],F=x[S+1],T=x[S+2],N=x[S+3],A=k[E];if(!(A>=d))for(var R=g>1?(T-I)*(p-1)/(g-1):0,O=b>1?(N-F)*(f-1)/(b-1):0,Z=0;Z<g;Z++){var M=g>1?I*(p-1)+Z*R:.5*(I+T)*(p-1);if(M<0||M>p-1)for(var P=0;P<b;P++)for(var L=0;L<h;L++){var _=L+P*D[2]+Z*D[1]+E*D[0];y.values[_]=l}else if("bilinear"===s)for(var B=Math.floor(M),z=Math.ceil(M),j=M-B,V=0;V<b;V++){var W=b>1?F*(f-1)+V*O:.5*(F+N)*(f-1);if(W<0||W>f-1)for(var H=0;H<h;H++){var U=H+V*D[2]+Z*D[1]+E*D[0];y.values[U]=l}else for(var G=Math.floor(W),q=Math.ceil(W),K=W-G,X=0;X<h;X++){var Y=X+G*C[2]+B*C[1]+A*C[0],$=w[Y],Q=w[Y=X+q*C[2]+B*C[1]+A*C[0]],J=w[Y=X+G*C[2]+z*C[1]+A*C[0]],ee=$+(Q-$)*K,te=J+(w[Y=X+q*C[2]+z*C[1]+A*C[0]]-J)*K;Y=X+V*D[2]+Z*D[1]+E*D[0],y.values[Y]=ee+(te-ee)*j}}else for(var ne=0;ne<b;++ne){var re=b>1?F*(f-1)+ne*O:.5*(F+N)*(f-1);if(re<0||re>f-1)for(var ae=0;ae<h;ae++){var oe=ae+ne*D[2]+Z*D[1]+E*D[0];y.values[oe]=l}else for(var ie=Math.round(re),ue=Math.round(M),se=0;se<h;se++){var le=se+ie*C[2]+ue*C[1]+A*C[0],ce=se+ne*D[2]+Z*D[1]+E*D[0];y.values[ce]=w[le]}}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};var II={kernelName:Or,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,i=r.exclusive,u=r.reverse;TE(a,"cumsum");var s=Pd([o],a.shape.length),l=a;null!=s&&(l=ES({inputs:{x:a},backend:n,attrs:{perm:s}}));var c=_d(1,a.shape.length)[0];if(c!==l.shape.length-1)throw new Error("backend.cumsum in CPU expects an inner-most "+"axis=".concat(l.shape.length-1," but got axis=").concat(c));for(var d=eu(l.dtype,"int32"),p=Pn(fn(l.shape),d),f=n.data.get(l.dataId).values,h=l.shape[l.shape.length-1],m=u?function(e,t){return e+h-t-1}:function(e,t){return e+t},v=0;v<f.length;v+=h)for(var g=0;g<h;g++){var b=m(v,g);if(0===g)p[b]=i?0:f[b];else{var y=m(v,g-1);p[b]=i?f[y]+p[y]:f[b]+p[y]}}var x=n.makeTensorInfo(l.shape,d,p);if(null!=s){var k=ES({inputs:{x:x},backend:n,attrs:{perm:Ld(s)}});return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(l),k}return x}};var FI={kernelName:Mr,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.weights,i=r.size,u=r.binaryOutput;if(1===a.shape.length){var s=eI(n.data.get(a.dataId).values,n.data.get(o.dataId).values,o.dtype,o.shape,i);return n.makeTensorInfo([i],o.dtype,s)}if(2===a.shape.length){var l=tI(n.bufferSync(a),n.bufferSync(o),i,u);return n.makeTensorInfo(l.shape,o.dtype,l.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(a.shape.length,"."))}};var TI={kernelName:Pr,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.blockSize,i=r.dataFormat;ln("NHWC"===i,(function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got ".concat(i)}));for(var u=a.shape[0],s=a.shape[1],l=a.shape[2],c=a.shape[3],d=s*o,p=l*o,f=c/(o*o),h=n.data.get(a.dataId).values,m=new Float32Array(u*d*p*f),v=0,g=0;g<u;++g)for(var b=0;b<d;++b)for(var y=Math.floor(b/o),x=b%o,k=0;k<p;++k)for(var w=Math.floor(k/o),C=(x*o+k%o)*f,D=0;D<f;++D){var E=D+C+c*(w+l*(y+s*g));m[v++]=h[E]}return n.makeTensorInfo([u,d,p,f],a.dtype,m)}};function NI(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,i=r.strides,u=r.pad,s=r.dilations,l=r.dimRoundingMode;TE([a,o],"depthwiseConv2DNative");var c=Rn(a.shape),d=Rn(o.shape),p=s;null==p&&(p=[1,1]),ln(ic(i,p),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(i," and dilations '").concat(p,"'")}));for(var f=Yl(a.shape,o.shape,i,p,u,l,!0),h=f.filterHeight,m=f.filterWidth,v=f.dilationHeight,g=f.dilationWidth,b=f.padInfo,y=b.left,x=b.top,k=f.outChannels/f.inChannels,w=new Vi(f.outShape,a.dtype),C=n.data.get(a.dataId).values,D=n.data.get(o.dataId).values,E=w.values,S=0;S<f.batchSize;++S)for(var I=S*c[0],F=S*w.strides[0],T=0;T<f.outHeight;++T)for(var N=F+T*w.strides[1],A=T*f.strideHeight-x,R=0;R<h;++R){var O=A+R*v;if(!(O<0||O>=f.inHeight))for(var Z=R*d[0],M=I+O*c[1],P=0;P<f.outWidth;++P)for(var L=N+P*w.strides[2],_=P*f.strideWidth-y,B=0;B<m;++B){var z=_+B*g;if(!(z<0||z>=f.inWidth))for(var j=Z+B*d[1],V=M+z*f.inChannels,W=L,H=j,U=0;U<f.inChannels;++U){for(var G=C[V+U],q=0;q<k;++q)E[W+q]+=G*D[H+q];W+=k,H+=k}}}return n.makeTensorInfo(w.shape,w.dtype,w.values)}var AI={kernelName:Lr,backendName:"cpu",kernelFunc:NI};var RI={kernelName:_r,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.dy,i=r.strides,u=r.dilations,s=r.pad,l=r.dimRoundingMode,c=r.filterShape;TE([a,o],"depthwiseConv2dNativeBackpropFilter");for(var d=Yl(a.shape,c,i,u,s,l,!0),p=d.strideHeight,f=d.strideWidth,h=d.filterHeight,m=d.filterWidth,v=new Vi(d.filterShape,"float32"),g=d.padInfo.left,b=d.padInfo.top,y=d.outChannels/d.inChannels,x=n.data.get(a.dataId).values,k=new Vi(a.shape,a.dtype,x),w=n.data.get(o.dataId).values,C=new Vi(o.shape,o.dtype,w),D=0;D<h;++D)for(var E=Math.max(0,Math.ceil((b-D)/p)),S=Math.min(d.outHeight,(d.inHeight+b-D)/p),I=0;I<m;++I)for(var F=Math.max(0,Math.ceil((g-I)/f)),T=Math.min(d.outWidth,(d.inWidth+g-I)/f),N=0;N<d.outChannels;++N){for(var A=Math.trunc(N/y),R=N%y,O=0,Z=0;Z<d.batchSize;++Z)for(var M=E;M<S;++M)for(var P=D+M*p-b,L=F;L<T;++L){var _=I+L*f-g;O+=k.get(Z,P,_,A)*C.get(Z,M,L,N)}v.set(O,D,I,A,R)}return n.makeTensorInfo(v.shape,v.dtype,v.values)}};var OI={kernelName:Br,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.filter,i=r.strides,u=r.dilations,s=r.pad,l=r.dimRoundingMode,c=r.inputShape;TE([a,o],"depthwiseConv2DNativeBackpropInput");for(var d=Rn(a.shape),p=Rn(o.shape),f=Yl(c,o.shape,i,u,s,l,!0),h=new Vi(f.inShape,"float32"),m=h.values,v=(0,je.Z)(h.strides,3),g=v[0],b=v[1],y=v[2],x=n.data.get(a.dataId).values,k=(0,je.Z)(d,3),w=k[0],C=k[1],D=k[2],E=n.data.get(o.dataId).values,S=(0,je.Z)(p,3),I=S[0],F=S[1],T=S[2],N=f.batchSize,A=f.filterHeight,R=f.filterWidth,O=f.inChannels,Z=f.inHeight,M=f.inWidth,P=f.outChannels,L=f.outHeight,_=f.outWidth,B=f.strideHeight,z=f.strideWidth,j=A-1-f.padInfo.top,V=R-1-f.padInfo.left,W=P/O,H=0;H<N;++H)for(var U=0;U<O;++U)for(var G=0;G<Z;++G)for(var q=G-j,K=Math.max(0,Math.ceil(q/B)),X=Math.min(L,(A+q)/B),Y=0;Y<M;++Y){for(var $=Y-V,Q=Math.max(0,Math.ceil($/z)),J=Math.min(_,(R+$)/z),ee=0,te=K;te<X;++te)for(var ne=te*B-q,re=Q;re<J;++re)for(var ae=w*H+C*te+D*re,oe=I*(A-1-ne)+F*(R-1-(re*z-$))+T*U,ie=0;ie<W;++ie){ee+=x[ae+(U*W+ie)]*E[oe+ie]}m[g*H+b*G+y*Y+U]=ee}return n.makeTensorInfo(h.shape,h.dtype,h.values)}};var ZI={kernelName:zr,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=t.x,a=fn(r.shape),o=n.data.get(r.dataId).values,i=Ms([a,a],r.dtype),u=i.values,s=0;s<o.length;s++)u[s*a+s]=o[s];var l=[].concat((0,$t.Z)(r.shape),(0,$t.Z)(r.shape));return n.makeTensorInfo(l,i.dtype,i.values)}},MI={kernelName:jr,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,i=r.strides,u=r.pad,s=r.dilations,l=n,c=l.data.get(a.dataId).values,d=a.shape.length,p=l.data.get(o.dataId).values,f=o.shape.length,h=ql(a.shape,o.shape,i,u,"NHWC",s),m=h.batchSize,v=h.inHeight,g=h.inWidth,b=h.inChannels,y=h.outHeight,x=h.outWidth,k=h.padInfo,w=h.strideHeight,C=h.strideWidth,D=h.filterHeight,E=h.filterWidth,S=h.dilationHeight,I=h.dilationWidth,F=h.outShape,T=fn(F),N=F.length,A=Cn(a.dtype,T),R=0;R<m;++R)for(var O=0;O<y;++O)for(var Z=O*w-k.top,M=0;M<x;++M)for(var P=M*C-k.left,L=0;L<b;++L){for(var _=Number.MIN_SAFE_INTEGER,B=0;B<D;++B){var z=Z+B*S;if(z>=0&&z<v)for(var j=0;j<E;++j){var V=P+j*I;if(V>=0&&V<g){var W=Bn([R,z,V,L],d,Rn(a.shape)),H=Bn([B,j,L],f,Rn(o.shape)),U=c[W]+p[H];U>_&&(_=U)}}}A[Bn([R,O,M,L],N,Rn(F))]=_}return{dataId:l.write(Ii(A,a.dtype),F,a.dtype),shape:F,dtype:a.dtype}}},PI={kernelName:Wr,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,i=t.dy,u=r.strides,s=r.pad,l=r.dilations,c=n,d=Zn(a.shape,c.data.get(a.dataId).values),p=Zn(o.shape,c.data.get(o.dataId).values),f=ql(a.shape,o.shape,u,s,"NHWC",l),h=f.batchSize,m=f.inHeight,v=f.inWidth,g=f.inChannels,b=f.outHeight,y=f.outWidth,x=f.padInfo,k=f.strideHeight,w=f.strideWidth,C=f.filterHeight,D=f.filterWidth,E=f.dilationHeight,S=f.dilationWidth,I=f.outShape;ln(i.rank===I.length,(function(){return"Error in ".concat(Wr,", dy ")+"must have the same rank as output ".concat(I.length,", but got ")+"".concat(i.rank)}));for(var F=Zn(I,c.data.get(i.dataId).values),T=Ln(o.shape,o.dtype),N=0;N<h;++N)for(var A=0;A<b;++A)for(var R=A*k-x.top,O=0;O<y;++O)for(var Z=O*w-x.left,M=0;M<g;++M){for(var P=Number.MIN_SAFE_INTEGER,L=0,_=0,B=0;B<C;++B){var z=R+B*E;if(z>=0&&z<m)for(var j=0;j<D;++j){var V=Z+j*S;if(V>=0&&V<v){var W=d[N][z][V][M]+p[B][j][M];W>P&&(P=W,L=B,_=j)}}}T[L][_][M]+=F[N][A][O][M]}return{dataId:c.write(Ii(T,a.dtype),o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}},LI={kernelName:Vr,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,i=t.dy,u=r.strides,s=r.pad,l=r.dilations,c=n,d=Zn(a.shape,c.data.get(a.dataId).values),p=Zn(o.shape,c.data.get(o.dataId).values),f=ql(a.shape,o.shape,u,s,"NHWC",l),h=f.batchSize,m=f.inHeight,v=f.inWidth,g=f.inChannels,b=f.outHeight,y=f.outWidth,x=f.padInfo,k=f.strideHeight,w=f.strideWidth,C=f.filterHeight,D=f.filterWidth,E=f.dilationHeight,S=f.dilationWidth,I=f.outShape;ln(i.rank===I.length,(function(){return"Error in ".concat(Vr,", dy ")+"must have the same rank as output ".concat(I.length,", but got ")+"".concat(i.rank)}));for(var F=Zn(I,c.data.get(i.dataId).values),T=Ln(a.shape,a.dtype),N=0;N<h;++N)for(var A=0;A<b;++A)for(var R=A*k-x.top,O=0;O<y;++O)for(var Z=O*w-x.left,M=0;M<g;++M){for(var P=Number.MIN_SAFE_INTEGER,L=R<0?0:R,_=Z<0?0:Z,B=0;B<C;++B){var z=R+B*E;if(z>=0&&z<m)for(var j=0;j<D;++j){var V=Z+j*S;if(V>=0&&V<v){var W=d[N][z][V][M]+p[B][j][M];W>P&&(P=W,L=z,_=V)}}}T[N][L][_][M]+=F[N][A][O][M]}return{dataId:c.write(Ii(T,a.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},_I=zE((function(e,t){return e*t})),BI=uS((function(e,t,n,r){return{real:e*n-t*r,imag:e*r+t*n}})),zI=iS(Ba,_I,BI),jI={kernelName:Ba,backendName:"cpu",kernelFunc:zI};function VI(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,i=a.axis,u=a.keepDims;TE(o,"sum");var s=(t="bool"===o.dtype?aS({inputs:{x:o},backend:r,attrs:{dtype:"int32"}}):PE({inputs:{x:o},backend:r})).shape.length,l=xn(i,t.shape),c=Pd(l,s),d=l,p=t;null!=c&&(p=ES({inputs:{x:t},backend:r,attrs:{perm:c}}),d=_d(d.length,s)),Md("sum",d,p.shape.length);for(var f=Od(p.shape,d),h=(0,je.Z)(f,2),m=h[0],v=h[1],g=tS(r,m,eu(p.dtype,"int32")),b=fn(v),y=r.data.get(g.dataId).values,x=r.data.get(p.dataId).values,k=0;k<y.length;++k){for(var w=k*b,C=0,D=0;D<b;++D)C+=x[w+D];y[k]=C}if(u){var E=g;g=pS({inputs:{x:g},backend:r,attrs:{shape:Zd(g.shape,l)}}),r.disposeIntermediateTensorInfo(E)}return r.disposeIntermediateTensorInfo(t),null!=c&&r.disposeIntermediateTensorInfo(p),g}var WI={kernelName:wo,backendName:"cpu",kernelFunc:VI};var HI={kernelName:Ur,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,a=Um(e.attrs.equation,r.length),o=a.allDims,i=a.summedDims,u=a.idDims;qm(o.length,u,r);for(var s=Km(i,u),l=s.path,c=s.steps,d=c.length,p=null,f=o.length,h=[],m=0;m<d;++m){var v,g=Yt(c[m]);try{for(g.s();!(v=g.n()).done;){var b=v.value,y=Gm(f,u[b]),x=y.permutationIndices,k=y.expandDims,w=void 0;Xm(x)?w=r[b]:(w=ES({inputs:{x:r[b]},backend:n,attrs:{perm:x}}),h.push(w));for(var C=w.shape.slice(),D=0;D<k.length;++D)C.splice(k[D],0,1);hn(w.shape,C)||(w=pS({inputs:{x:w},backend:n,attrs:{shape:C}}),h.push(w)),null===p?p=w:(p=zI({inputs:{a:w,b:p},backend:n}),h.push(p))}}catch(xV){g.e(xV)}finally{g.f()}m<d-1&&(l[m]>=0&&(p=VI({inputs:{x:p},backend:n,attrs:{axis:l[m]-(o.length-f),keepDims:!1}}),h.push(p)),f--)}for(var E=0,S=h;E<S.length;E++){var I=S[E];I!==p&&n.disposeIntermediateTensorInfo(I)}return p}};var UI={kernelName:qr,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.dy,a=t.y;TE([r,a],"eluGrad");for(var o=new Float32Array(fn(a.shape)),i=n.data.get(a.dataId).values,u=n.data.get(r.dataId).values,s=0;s<i.length;++s){var l=i[s];o[s]=l>=1?u[s]:u[s]*(l+1)}return n.makeTensorInfo(a.shape,"float32",o)}},GI=zE((function(e,t){return e===t?1:0})),qI=iS(Xr,GI,null,"bool"),KI={kernelName:Xr,backendName:"cpu",kernelFunc:qI},XI=RE(Kr,(function(e){var t=Math.sign(e),n=Math.abs(e),r=1/(1+.3275911*n);return t*(1-((((1.061405429*r-1.453152027)*r+1.421413741)*r-.284496736)*r+.254829592)*r*Math.exp(-n*n))})),YI={kernelName:Kr,backendName:"cpu",kernelFunc:XI},$I=KE((function(e){return Math.exp(e)})),QI=OE(Yr,$I,"float32"),JI={kernelName:Yr,backendName:"cpu",kernelFunc:QI};function eF(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.input,o=r.dim,i=a.shape.length,u=a.shape.slice(),s=o;return o<0&&(ln(-(i+1)<=o,(function(){return"Axis must be in the interval [".concat(-(i+1),", ").concat(i,"]")})),s=i+o+1),u.splice(s,0,1),pS({inputs:{x:a},backend:n,attrs:{shape:u}})}var tF={kernelName:$r,backendName:"cpu",kernelFunc:eF},nF=KE((function(e){return Math.expm1(e)})),rF=OE(Qr,nF),aF={kernelName:Qr,backendName:"cpu",kernelFunc:rF},oF=zE((function(e,t){return e/t})),iF=iS(Hr,oF),uF={kernelName:Hr,backendName:"cpu",kernelFunc:iF},sF=zE((function(e,t){return e-t})),lF=uS((function(e,t,n,r){return{real:e-n,imag:t-r}})),cF=iS(Lo,sF,lF),dF={kernelName:Lo,backendName:"cpu",kernelFunc:cF};function pF(e,t,n){for(var r=e.shape,a=r[0],o=r[1],i=n.data.get(e.dataId),u=i.complexTensorInfos.real,s=i.complexTensorInfos.imag,l=[a,o],c=fn(l),d=wn("float32",c),p=wn("float32",c),f=0;f<a;f++){for(var h=$S({inputs:{x:u},backend:n,attrs:{begin:[f,0],size:[1,o]}}),m=$S({inputs:{x:s},backend:n,attrs:{begin:[f,0],size:[1,o]}}),v=JE({inputs:{real:h,imag:m},backend:n}),g=fF(v,t,n),b=Bm(g.real,g.imag),y=0;y<o;y++){var x=zm(b,y);d[f*o+y]=x.real,p[f*o+y]=x.imag}n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v)}var k=n.makeTensorInfo(l,"float32",d),w=n.makeTensorInfo(l,"float32",p),C=JE({inputs:{real:k,imag:w},backend:n});return n.disposeIntermediateTensorInfo(k),n.disposeIntermediateTensorInfo(w),C}function fF(e,t,n){var r=fn(e.shape),a=n.data.get(e.dataId),o=n.data.get(a.complexTensorInfos.real.dataId).values,i=n.data.get(a.complexTensorInfos.imag.dataId).values;if(0===((g=r)&g-1)){var u=hF(o,i,r,t,n),s=[e.shape[0],e.shape[1]];if(t){var l=n.makeTensorInfo(s,"float32",u.real),c=n.makeTensorInfo(s,"float32",u.imag),d=n.makeTensorInfo([],"float32",Si(r,"float32")),p=PE({inputs:{x:d},backend:n}),f=uF.kernelFunc({inputs:{a:l,b:d},backend:n}),h=uF.kernelFunc({inputs:{a:c,b:p},backend:n}),m=n.data.get(f.dataId).values,v=n.data.get(h.dataId).values;return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),{real:m,imag:v}}return u}var g,b=function(e,t,n){for(var r=new Float32Array(2*t),a=0;a<t;a++){for(var o=0,i=0,u=0;u<t;u++){var s=Vm(a*u,t,n),l=zm(e,u);o+=l.real*s.real-l.imag*s.imag,i+=l.real*s.imag+l.imag*s.real}n&&(o/=t,i/=t),jm(r,o,i,a)}return r}(Bm(o,i),r,t);return function(e){for(var t=new Float32Array(e.length/2),n=new Float32Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}(b)}function hF(e,t,n,r,a){if(1===n)return{real:e,imag:t};var o=Bm(e,t),i=n/2,u=function(e){for(var t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t),a=0;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}(o),s=u.real,l=u.imag,c=[s.length],d=a.makeTensorInfo(c,"float32",s),p=a.makeTensorInfo(c,"float32",l),f=JE({inputs:{real:d,imag:p},backend:a}),h=function(e){for(var t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t),a=2;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}(o),m=h.real,v=h.imag,g=[m.length],b=a.makeTensorInfo(g,"float32",m),y=a.makeTensorInfo(g,"float32",v),x=JE({inputs:{real:b,imag:y},backend:a}),k=hF(s,l,i,r,a),w=k.real,C=k.imag,D=[w.length],E=a.makeTensorInfo(D,"float32",w),S=a.makeTensorInfo(D,"float32",C),I=JE({inputs:{real:E,imag:S},backend:a}),F=hF(m,v,i,r,a),T=F.real,N=F.imag,A=[T.length],R=a.makeTensorInfo(A,"float32",T),O=a.makeTensorInfo(A,"float32",N),Z=JE({inputs:{real:R,imag:O},backend:a}),M=function(e,t){for(var n=new Float32Array(e/2),r=new Float32Array(e/2),a=0;a<Math.ceil(e/2);a++){var o=(t?2:-2)*Math.PI*(a/e);n[a]=Math.cos(o),r[a]=Math.sin(o)}return{real:n,imag:r}}(n,r),P=[M.real.length],L=a.makeTensorInfo(P,"float32",M.real),_=a.makeTensorInfo(P,"float32",M.imag),B=JE({inputs:{real:L,imag:_},backend:a}),z=zI({inputs:{a:B,b:Z},backend:a}),j=cS({inputs:{a:I,b:z},backend:a}),V=cF({inputs:{a:I,b:z},backend:a}),W=nS({inputs:{input:j},backend:a}),H=nS({inputs:{input:V},backend:a}),U=dI({inputs:{input:j},backend:a}),G=dI({inputs:{input:V},backend:a}),q=fI({inputs:[W,H],backend:a,attrs:{axis:0}}),K=fI({inputs:[U,G],backend:a,attrs:{axis:0}}),X=a.data.get(q.dataId).values,Y=a.data.get(K.dataId).values;return a.disposeIntermediateTensorInfo(d),a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(f),a.disposeIntermediateTensorInfo(b),a.disposeIntermediateTensorInfo(y),a.disposeIntermediateTensorInfo(x),a.disposeIntermediateTensorInfo(E),a.disposeIntermediateTensorInfo(S),a.disposeIntermediateTensorInfo(I),a.disposeIntermediateTensorInfo(R),a.disposeIntermediateTensorInfo(O),a.disposeIntermediateTensorInfo(Z),a.disposeIntermediateTensorInfo(L),a.disposeIntermediateTensorInfo(_),a.disposeIntermediateTensorInfo(B),a.disposeIntermediateTensorInfo(z),a.disposeIntermediateTensorInfo(j),a.disposeIntermediateTensorInfo(V),a.disposeIntermediateTensorInfo(W),a.disposeIntermediateTensorInfo(U),a.disposeIntermediateTensorInfo(H),a.disposeIntermediateTensorInfo(G),a.disposeIntermediateTensorInfo(q),a.disposeIntermediateTensorInfo(K),{real:X,imag:Y}}var mF={kernelName:Jr,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.input,a=fn(r.shape),o=r.shape[r.shape.length-1],i=pS({inputs:{x:r},backend:n,attrs:{shape:[a/o,o]}}),u=pF(i,!1,n),s=pS({inputs:{x:u},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(u),s}};function vF(e){var t=e.backend,n=e.attrs,r=n.shape,a=n.value,o=n.dtype||Tn(a),i=Cn(o,fn(r));return function(e,t,n){e.fill(t)}(i,a),t.makeTensorInfo(r,o,i)}var gF={kernelName:ea,backendName:"cpu",kernelFunc:vF};var bF={kernelName:ta,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=(e.attrs,e.backend),r=t.image,a=n,o=wn(r.dtype,fn(r.shape)),i=(0,je.Z)(r.shape,4),u=i[0],s=i[1],l=i[2],c=i[3],d=a.data.get(r.dataId).values,p=0;p<u;p++)for(var f=p*l*s*c,h=0;h<s;h++)for(var m=h*(l*c),v=0;v<l;v++)for(var g=v*c,b=0;b<c;b++){var y=Math.round(l-v-1),x=f+m+g+b,k=d[x];if(y>=0&&y<l)k=d[f+m+y*c+b];o[x]=k}return{dataId:a.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},yF=KE((function(e){return Math.floor(e)})),xF=OE(na,yF),kF={kernelName:na,backendName:"cpu",kernelFunc:xF},wF=zE((function(e,t){return Math.floor(e/t)})),CF=iS(ra,wF,null,"int32"),DF={kernelName:ra,backendName:"cpu",kernelFunc:CF};var EF={kernelName:Qo,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,i=t.bias,u=t.preluActivationWeights,s=r.strides,l=r.pad,c=r.dataFormat,d=r.dilations,p=r.dimRoundingMode,f=r.activation,h=r.leakyreluAlpha,m=mI({inputs:{x:a,filter:o},backend:n,attrs:{strides:s,pad:l,dataFormat:c,dilations:d,dimRoundingMode:p}});if(i){var v=m;m=cS({inputs:{a:m,b:i},backend:n}),n.disposeIntermediateTensorInfo(v)}if(f){var g=m;m=QE(n,m,f,u,h),n.disposeIntermediateTensorInfo(g)}return m}};var SF={kernelName:Jo,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,i=t.bias,u=t.preluActivationWeights,s=r.strides,l=r.pad,c=r.dataFormat,d=r.dilations,p=r.dimRoundingMode,f=r.activation,h=r.leakyreluAlpha,m=NI({inputs:{x:a,filter:o},backend:n,attrs:{strides:s,pad:l,dataFormat:c,dilations:d,dimRoundingMode:p}});if(i){var v=m;m=cS({inputs:{a:m,b:i},backend:n}),n.disposeIntermediateTensorInfo(v)}if(f){var g=m;m=QE(n,m,f,u,h),n.disposeIntermediateTensorInfo(g)}return m}};function IF(e,t,n,r,a,o,i,u,s){for(var l=Ms([r,o],n),c=0;c<r;c++){for(var d=[],p=0,f=0;f<a;f++){var h=e[c*a+f];p+=h*i[f],d.push(h)}if(p<0||p>=s/o)throw new Error("Invalid indices: ".concat(d," does not index into ").concat(u));for(var m=0;m<o;m++)l.values[c*o+m]=t.get.apply(t,(0,$t.Z)(t.indexToLoc(p*o+m)))}return l}var FF={kernelName:ia,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.params,a=t.indices,o=fn(r.shape),i=a.shape,u=i[i.length-1],s=Nm(r,a),l=(0,je.Z)(s,4),c=l[0],d=l[1],p=l[2],f=l[3];if(0===d)return n.makeTensorInfo(c,r.dtype,[]);var h=IF(n.data.get(a.dataId).values,n.bufferSync(r),r.dtype,d,u,p,f,r.shape,o);return n.makeTensorInfo(c,r.dtype,h.values)}};function TF(e,t,n){for(var r=Ms(n,e.dtype),a=0;a<r.size;++a){var o=r.indexToLoc(a).slice(),i=o[0],u=o[2],s=t.locToIndex([i,u]);o[2]=t.values[s];var l=e.locToIndex(o);0<=l&&l<e.values.length&&(r.values[a]=e.values[l])}return r}var NF={kernelName:oa,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.indices,i=r.axis,u=r.batchDims;TE([a,o],"gatherV2");for(var s=xn(i,a.shape)[0],l=n.data.get(o.dataId).values,c=a.shape[s],d=function(e){var t=l[e];ln(t<=c-1&&t>=0,(function(){return"GatherV2: the index value ".concat(t," is not in [0, ").concat(c-1,"]")}))},p=0;p<l.length;++p)d(p);var f=u;null==u&&(f=0);var h=fn(o.shape),m=nv(a,o,s,f),v=pS({inputs:{x:a},backend:n,attrs:{shape:[m.batchSize,m.outerSize,m.dimSize,m.sliceSize]}}),g=pS({inputs:{x:o},backend:n,attrs:{shape:[m.batchSize,h/m.batchSize]}}),b=[m.batchSize,m.outerSize,h/m.batchSize,m.sliceSize],y=n.bufferSync(g),x=TF(n.bufferSync(v),y,b);return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g),n.makeTensorInfo(m.outputShape,x.dtype,x.values)}},AF=zE((function(e,t){return e>t?1:0})),RF=iS(ua,AF,null,"bool"),OF={kernelName:ua,backendName:"cpu",kernelFunc:RF},ZF=zE((function(e,t){return e>=t?1:0})),MF=iS(sa,ZF,null,"bool"),PF={kernelName:sa,backendName:"cpu",kernelFunc:MF};var LF={kernelName:ca,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.input,a=fn(r.shape),o=r.shape[r.shape.length-1],i=pS({inputs:{x:r},backend:n,attrs:{shape:[a/o,o]}}),u=pF(i,!0,n),s=pS({inputs:{x:u},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(u),s}},_F=RE(pa,(function(e){return Number.isFinite(e)?1:0}),"bool"),BF={kernelName:pa,backendName:"cpu",kernelFunc:_F},zF=RE(fa,(function(e){return Math.abs(e)===1/0?1:0}),"bool"),jF={kernelName:fa,backendName:"cpu",kernelFunc:zF},VF=RE(ha,(function(e){return Number.isNaN(e)?1:0}),"bool"),WF={kernelName:ha,backendName:"cpu",kernelFunc:VF},HF=zE((function(e,t){return e<t?1:0})),UF=iS(va,HF,null,"bool"),GF={kernelName:va,backendName:"cpu",kernelFunc:UF},qF=zE((function(e,t){return e<=t?1:0})),KF=iS(ga,qF,null,"bool"),XF={kernelName:ga,backendName:"cpu",kernelFunc:KF};function YF(e,t,n){var r=(t-e)/(n-1),a=Pn(n,"float32");a[0]=e;for(var o=1;o<a.length;o++)a[o]=a[o-1]+r;return a}var $F={kernelName:ba,backendName:"cpu",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=YF(n.start,n.stop,n.num);return t.makeTensorInfo([r.length],"float32",r)}},QF=KE((function(e){return Math.log(e)})),JF=OE(ya,QF),eT={kernelName:ya,backendName:"cpu",kernelFunc:JF},tT=RE(xa,(function(e){return Math.log1p(e)})),nT={kernelName:xa,backendName:"cpu",kernelFunc:tT},rT=zE((function(e,t){return e&&t})),aT=iS(ka,rT,null,"bool"),oT={kernelName:ka,backendName:"cpu",kernelFunc:aT},iT=RE(wa,(function(e){return e?0:1}),"bool"),uT={kernelName:wa,backendName:"cpu",kernelFunc:iT},sT=zE((function(e,t){return e||t})),lT=iS(Ca,sT,null,"bool"),cT={kernelName:Ca,backendName:"cpu",kernelFunc:lT};var dT={kernelName:Da,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.depthRadius,i=r.bias,u=r.alpha,s=r.beta;TE(a,"LRN");var l=a.shape[3],c=l-1,d=n.data.get(a.dataId).values,p=fn(a.shape),f=new Float32Array(p);function h(e){for(var t=e%l,n=e-t+Math.max(0,t-o),r=e-t+Math.min(t+o,c),a=0;n<=r;n++){var i=d[n];a+=i*i}return a}for(var m=0;m<p;m++){var v=h(m),g=d[m]*Math.pow(i+u*v,-s);f[m]=g}return n.makeTensorInfo(a.shape,a.dtype,f)}};var pT={kernelName:Ea,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.y,i=t.dy,u=r.depthRadius,s=r.bias,l=r.alpha,c=r.beta;TE(i,"LRNGrad");for(var d=fn(i.shape),p=i.shape[3],f=n.data.get(i.dataId).values,h=n.data.get(a.dataId).values,m=n.data.get(o.dataId).values,v=new Float32Array(d),g=d,b=0;b<g;b++){for(var y=b%p,x=b-y+Math.max(0,y-u),k=b-y+Math.min(p,y+u+1),w=0,C=x;C<k;C++)w+=Math.pow(h[C],2);w=l*w+s;for(var D=x;D<k;D++){var E=-2*l*c*h[D]*m[b]/w;b===D&&(E+=Math.pow(w,-c)),E*=f[b],v[D]+=E}}return n.makeTensorInfo(i.shape,a.dtype,v)}};function fT(e,t,n,r){for(var a=wn(r,fn(n)),o=0;o<a.length;++o){for(var i=o*t,u=e[i],s=0;s<t;++s){var l=e[i+s];(Number.isNaN(l)||l>u)&&(u=l)}a[o]=u}return a}function hT(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.reductionIndices,i=r.keepDims,u=n,s=a.shape,l=s.length,c=xn(o,s),d=c,p=Pd(d,l),f=u.data.get(a.dataId).values;if(null!=p){for(var h=new Array(l),m=0;m<h.length;m++)h[m]=s[p[m]];f=DS(f,s,a.dtype,p,h),d=_d(d.length,l),s=h}TE(a,"max"),Md("max",d,l);var v=Od(s,d),g=(0,je.Z)(v,2),b=g[0],y=fT(f,fn(g[1]),b,a.dtype),x=u.write(y,b,a.dtype),k=b;i&&(k=Zd(b,c));return{dataId:x,shape:k,dtype:a.dtype}}var mT={kernelName:Sa,backendName:"cpu",kernelFunc:hT},vT=zE((function(e,t){return Math.max(e,t)})),gT=iS(Ia,vT),bT={kernelName:Ia,backendName:"cpu",kernelFunc:gT};var yT={kernelName:Fa,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;TE(a,"maxPool");var o=r.filterSize,i=r.strides,u=r.pad,s=r.dimRoundingMode;ln(ic(i,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(i," and dilations '").concat(1,"'")}));var l,c=Kl(a.shape,o,i,1,u,s);if(1===c.filterWidth&&1===c.filterHeight&&hn(c.inShape,c.outShape))l=PE({inputs:{x:a},backend:n});else{var d=n.data.get(a.dataId).values,p=Rn(a.shape),f=VS(d,a.shape,a.dtype,p,c,"max");l=n.makeTensorInfo(c.outShape,a.dtype,f.values)}return l}};var xT={kernelName:Na,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.filterSize,i=r.strides,u=r.pad,s=r.dimRoundingMode,l=r.dataFormat;TE(a,"maxPool3d");var c=Xl(a.shape,o,i,1,u,s,l),d=HS(n.data.get(a.dataId).values,a.shape,a.dtype,Rn(a.shape),c,"max");return n.makeTensorInfo(d.shape,"float32",d.values)}};var kT={kernelName:Aa,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,i=r.filterSize,u=r.strides,s=r.pad,l=r.dimRoundingMode;TE([a,o],"maxPool3DGrad");for(var c=Xl(o.shape,i,u,1,s,l),d=function(e,t){for(var n=Ms(t.outShape,"int32"),r=t.strideDepth,a=t.strideHeight,o=t.strideWidth,i=t.dilationDepth,u=t.dilationHeight,s=t.dilationWidth,l=t.effectiveFilterDepth,c=t.effectiveFilterHeight,d=t.effectiveFilterWidth,p=t.padInfo.front,f=t.padInfo.top,h=t.padInfo.left,m=0;m<t.batchSize;++m)for(var v=0;v<t.inChannels;++v)for(var g=0;g<t.outDepth;++g){for(var b=g*r-p,y=b;y<0;)y+=i;for(var x=Math.min(t.inDepth,l+b),k=0;k<t.outHeight;++k){for(var w=k*a-f,C=w;C<0;)C+=u;for(var D=Math.min(t.inHeight,c+w),E=0;E<t.outWidth;++E){for(var S=E*o-h,I=S;I<0;)I+=s;for(var F=Math.min(t.inWidth,d+S),T=Number.NEGATIVE_INFINITY,N=-1,A=y;A<x;A+=i)for(var R=A-b,O=C;O<D;O+=u)for(var Z=O-w,M=I;M<F;M+=s){var P=M-S,L=e.get(m,A,O,M,v);L>=T&&(T=L,N=R*c*d+Z*c+P)}n.set(N,m,g,k,E,v)}}}return n}(n.bufferSync(o),c),p=c.strideDepth,f=c.strideHeight,h=c.strideWidth,m=c.dilationDepth,v=c.dilationHeight,g=c.dilationWidth,b=c.effectiveFilterDepth,y=c.effectiveFilterHeight,x=c.effectiveFilterWidth,k=b-1-c.padInfo.front,w=x-1-c.padInfo.left,C=y-1-c.padInfo.top,D=Ms(o.shape,"float32"),E=n.bufferSync(a),S=0;S<c.batchSize;++S)for(var I=0;I<c.inChannels;++I)for(var F=0;F<c.inDepth;++F)for(var T=0;T<c.inHeight;++T)for(var N=0;N<c.inWidth;++N){for(var A=F-k,R=T-C,O=N-w,Z=0,M=0;M<b;M+=m){var P=(A+M)/p;if(!(P<0||P>=c.outDepth||Math.floor(P)!==P))for(var L=0;L<y;L+=v){var _=(R+L)/f;if(!(_<0||_>=c.outHeight||Math.floor(_)!==_))for(var B=0;B<x;B+=g){var z=(O+B)/h;if(!(z<0||z>=c.outWidth||Math.floor(z)!==z)){var j=b*y*x-1-d.get(S,P,_,z,I)===M*y*x+L*x+B?1:0;if(0!==j)Z+=E.get(S,P,_,z,I)*j}}}}D.set(Z,S,F,T,N,I)}return n.makeTensorInfo(D.shape,D.dtype,D.values)}};var wT={kernelName:Ta,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,i=o;TE([o,t.output],"maxPoolGrad");for(var u=r.filterSize,s=r.strides,l=r.pad,c=r.dimRoundingMode,d=Kl(i.shape,u,s,1,l,c),p=n.data.get(i.dataId).values,f=Ms(d.outShape,i.dtype,WS(p,i.shape,i.dtype,d).values),h=d.strideHeight,m=d.strideWidth,v=d.dilationHeight,g=d.dilationWidth,b=d.effectiveFilterHeight,y=d.effectiveFilterWidth,x=y-1-d.padInfo.left,k=b-1-d.padInfo.top,w=Ms(i.shape,"float32"),C=n.data.get(a.dataId).values,D=Ms(a.shape,"float32",C),E=0;E<d.batchSize;++E)for(var S=0;S<d.inChannels;++S)for(var I=0;I<d.inHeight;++I)for(var F=0;F<d.inWidth;++F){for(var T=I-k,N=F-x,A=0,R=0;R<b;R+=v){var O=(T+R)/h;if(!(O<0||O>=d.outHeight||Math.floor(O)!==O))for(var Z=0;Z<y;Z+=g){var M=(N+Z)/m;if(!(M<0||M>=d.outWidth||Math.floor(M)!==M)){var P=b*y-1-f.get(E,O,M,S)===R*y+Z?1:0;if(0!==P)A+=D.get(E,O,M,S)*P}}}w.set(A,E,I,F,S)}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};var CT={kernelName:Ra,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,o=n.filterSize,i=n.strides,u=n.pad,s=n.includeBatchInIndex,l=r;TE(a,"MaxPoolWithArgmax");var c=l.data.get(a.dataId).values,d=Kl(a.shape,o,i,[1,1],u),p=function(e,t,n,r,a){var o=VS(e,0,n,Rn(t),a,"max"),i=WS(e,t,n,a,!0,r);return[o.values,i.values]}(c,a.shape,a.dtype,s,d),f=(0,je.Z)(p,2),h=f[0],m=f[1],v=l.write(h,d.outShape,a.dtype),g=l.write(m,d.outShape,a.dtype);return[{dataId:v,shape:d.outShape,dtype:a.dtype},{dataId:g,shape:d.outShape,dtype:"int32"}]}};var DT={kernelName:Oa,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,i=r.keepDims,u=xn(o,a.shape),s=fn(Od(a.shape,u)[1]),l=[],c=n.makeTensorInfo([],"float32",new Float32Array([s]));l.push(c);var d=aS({inputs:{x:a},backend:n,attrs:{dtype:"float32"}});l.push(d);var p=iF({inputs:{a:d,b:c},backend:n});l.push(p);var f=VI({inputs:{x:p},backend:n,attrs:{axis:o,keepDims:i}});return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),f}};var ET={kernelName:Za,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,i=r.keepDims;TE(a,"min");var u=xn(o,a.shape),s=u,l=Pd(s,a.shape.length),c=a;null!=l&&(c=ES({inputs:{x:a},backend:n,attrs:{perm:l}}),s=_d(s.length,a.shape.length)),Md("min",s,c.shape.length);for(var d=Od(c.shape,s),p=(0,je.Z)(d,2),f=p[0],h=fn(p[1]),m=Pn(fn(f),c.dtype),v=n.data.get(c.dataId).values,g=0;g<m.length;++g){for(var b=g*h,y=v[b],x=0;x<h;++x){var k=v[b+x];(Number.isNaN(k)||k<y)&&(y=k)}m[g]=y}null!=l&&n.disposeIntermediateTensorInfo(c);var w=n.makeTensorInfo(f,c.dtype,m);if(i){var C=pS({inputs:{x:w},backend:n,attrs:{shape:Zd(f,u)}});return n.disposeIntermediateTensorInfo(w),C}return w}},ST=zE((function(e,t){return Math.min(e,t)})),IT=iS(Ma,ST),FT={kernelName:Ma,backendName:"cpu",kernelFunc:IT};var TT={kernelName:Pa,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.paddings,i=r.mode;TE(a,"mirrorPad");for(var u=o.map((function(e,t){return e[0]+a.shape[t]+e[1]})),s=o.map((function(e){return e[0]})),l=o.map((function(e,t){return e[0]+a.shape[t]})),c="reflect"===i?0:1,d=n.data.get(a.dataId).values,p=a.shape.length,f=Rn(a.shape),h=fn(u),m=u.length,v=Rn(u),g=wn(a.dtype,h),b=0;b<h;b++){for(var y=zn(b,m,v),x=0;x<m;x++)y[x]<s[x]?y[x]=2*s[x]-y[x]-c:y[x]>=l[x]&&(y[x]=2*(l[x]-1)-y[x]+c);y=y.map((function(e,t){return e-s[t]}));var k=Bn(y,p,f);g[b]=d[k]}return{dataId:n.write(g,u,a.dtype),shape:u,dtype:a.dtype}}},NT=zE((function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})),AT=iS(La,NT),RT={kernelName:La,backendName:"cpu",kernelFunc:AT},OT=n(8598);function ZT(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,o=r.dim,i=a.shape.length,u=o;if(-1===u&&(u=i-1),u!==i-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(i," and dim was ").concat(u));var s=xn([u],a.shape),l=hT({inputs:{x:a},backend:n,attrs:{reductionIndices:s,keepDims:!1}}),c=Zd(l.shape,s),d=pS({inputs:{x:l},backend:n,attrs:{shape:c}}),p=cF({inputs:{a:a,b:d},backend:n}),f=QI({inputs:{x:p},backend:n}),h=VI({inputs:{x:f},backend:n,attrs:{axis:s,keepDims:!1}}),m=pS({inputs:{x:h},backend:n,attrs:{shape:c}}),v=iF({inputs:{a:f,b:m},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),v}var MT={kernelName:Eo,backendName:"cpu",kernelFunc:ZT};var PT={kernelName:_a,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,o=r.numSamples,i=r.seed,u=r.normalized;TE(a,"multinomial");for(var s=u?a:ZT({inputs:{logits:a},backend:n,attrs:{dim:-1}}),l=s.shape[0],c=s.shape[1],d=n.data.get(s.dataId).values,p=[l,o],f=Pn(fn(p),"int32"),h=0;h<l;++h){var m=h*c,v=new Float32Array(c-1);v[0]=d[m];for(var g=1;g<v.length;++g)v[g]=v[g-1]+d[m+g];for(var b=OT.alea(i.toString()),y=h*o,x=0;x<o;++x){var k=b();f[y+x]=v.length;for(var w=0;w<v.length;w++)if(k<v[w]){f[y+x]=w;break}}}return u||n.disposeIntermediateTensorInfo(s),n.makeTensorInfo(p,"int32",f)}};function LT(e,t,n){var r=Si(-1,n);return _I([],t,r,e,n)}var _T={kernelName:za,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x;TE(r,"neg");var a=LT(n.data.get(r.dataId).values,r.shape,r.dtype),o=(0,je.Z)(a,2),i=o[0],u=o[1];return n.makeTensorInfo(u,r.dtype,i)}},BT=ch;var zT={kernelName:Va,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,o=t.scores,i=r.maxOutputSize,u=r.iouThreshold,s=r.scoreThreshold;TE(a,"NonMaxSuppression");var l=n.data.get(a.dataId).values,c=n.data.get(o.dataId).values,d=BT(l,c,i,u,s).selectedIndices;return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},jT=dh;var VT={kernelName:Wa,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,o=t.scores,i=r.maxOutputSize,u=r.iouThreshold,s=r.scoreThreshold,l=r.padToMaxOutputSize;TE(a,"NonMaxSuppressionPadded");var c=n.data.get(a.dataId).values,d=n.data.get(o.dataId).values,p=jT(c,d,i,u,s,l),f=p.selectedIndices,h=p.validOutputs;return[n.makeTensorInfo([f.length],"int32",new Int32Array(f)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}},WT=ph;var HT={kernelName:Ha,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,o=t.scores,i=r.maxOutputSize,u=r.iouThreshold,s=r.scoreThreshold,l=r.softNmsSigma;TE(a,"NonMaxSuppressionWithScore");var c=n.data.get(a.dataId).values,d=n.data.get(o.dataId).values,p=WT(c,d,i,u,s,l),f=p.selectedIndices,h=p.selectedScores;return[n.makeTensorInfo([f.length],"int32",new Int32Array(f)),n.makeTensorInfo([h.length],"float32",new Float32Array(h))]}},UT=zE((function(e,t){return e!==t?1:0})),GT=iS(ja,UT,null,"bool"),qT={kernelName:ja,backendName:"cpu",kernelFunc:GT};var KT={kernelName:Ga,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,o=r.depth,i=r.onValue,u=r.offValue;TE(a,"oneHot");var s=fn(a.shape),l=new Float32Array(s*o);l.fill(u);for(var c=n.data.get(a.dataId).values,d=0;d<s;++d)c[d]>=0&&c[d]<o&&(l[d*o+c[d]]=i);return n.makeTensorInfo([].concat((0,$t.Z)(a.shape),[o]),"int32",l)}};function XT(e){var t=e.inputs,n=e.backend,r=t.x;if("string"===r.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===r.dtype){var a=nS({inputs:{input:r},backend:n}),o=XT({inputs:{x:a},backend:n}),i=dI({inputs:{input:r},backend:n}),u=XT({inputs:{x:i},backend:n}),s=JE({inputs:{real:o,imag:u},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(u),s}return vF({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}var YT={kernelName:qo,backendName:"cpu",kernelFunc:XT};var $T={kernelName:Ua,backendName:"cpu",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=n.x;if("string"===a.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===a.dtype){var o=nS({inputs:{input:a},backend:r}),i=e({inputs:{x:o},backend:r}),u=dI({inputs:{input:a},backend:r}),s=XT({inputs:{x:u},backend:r}),l=JE({inputs:{real:i,imag:s},backend:r});return r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(u),r.disposeIntermediateTensorInfo(s),l}return vF({backend:r,attrs:{shape:a.shape,value:1,dtype:a.dtype}})}};function QT(e){var t=e.inputs,n=e.backend,r=e.attrs.axis;if(1===t.length)return eF({inputs:{input:t[0]},backend:n,attrs:{dim:r}});var a=t[0].shape,o=t[0].dtype;t.forEach((function(e){cn(a,e.shape,"All tensors passed to stack must have matching shapes"),ln(o===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var i=[],u=fI({inputs:t.map((function(e){var t=eF({inputs:{input:e},backend:n,attrs:{dim:r}});return i.push(t),t})),backend:n,attrs:{axis:r}});return i.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),u}var JT={kernelName:qa,backendName:"cpu",kernelFunc:QT};var eN={kernelName:Ka,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.paddings,i=r.constantValue;TE(a,"pad");var u=o.map((function(e,t){return e[0]+a.shape[t]+e[1]})),s=o.map((function(e){return e[0]})),l=n.data.get(a.dataId).values,c=fn(a.shape),d=a.shape.length,p=Rn(a.shape),f=fn(u),h=u.length,m=Rn(u),v=wn(a.dtype,f);0!==i&&v.fill(i);for(var g=0;g<c;g++){v[Bn(zn(g,d,p).map((function(e,t){return e+s[t]})),h,m)]=l[g]}return{dataId:n.write(v,u,a.dtype),shape:u,dtype:a.dtype}}},tN=zE((function(e,t){return Math.pow(e,t)})),nN=iS(Xa,tN),rN={kernelName:Xa,backendName:"cpu",kernelFunc:nN};function aN(e,t,n,r){for(var a=Od(e,r),o=(0,je.Z)(a,2),i=o[0],u=o[1],s=eu(t,"int32"),l=Pn(fn(i),s),c=fn(u),d=0;d<l.length;++d){for(var p=d*c,f=1,h=0;h<c;++h)f*=n[p+h];l[d]=f}return{outVals:l,outShape:i,outDtype:s}}var oN={kernelName:$a,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,i=r.keepDims;TE(a,"prod");var u=a.shape.length,s=xn(o,a.shape),l=Pd(s,u),c=s,d=a,p=[];null!=l&&(d=ES({inputs:{x:a},backend:n,attrs:{perm:l}}),p.push(d),c=_d(c.length,u));var f=n.data.get(d.dataId).values,h=aN(d.shape,d.dtype,f,c),m=h.outVals,v=h.outShape,g=h.outDtype,b=v;return i&&(b=Zd(v,s)),p.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(b,g,m)}};function iN(e,t,n,r){if(e===t||e<t&&n<0||t<e&&n>1)return Pn(0,r);var a=Pn(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),a[0]=e;for(var o=1;o<a.length;o++)a[o]=a[o-1]+n;return a}var uN={kernelName:Qa,backendName:"cpu",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,o=n.dtype,i=iN(r,a,n.step,o);return t.makeTensorInfo([i.length],o,i)}},sN=RE(eo,(function(e){return 1/e})),lN={kernelName:eo,backendName:"cpu",kernelFunc:sN};var cN={kernelName:oo,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=r.alignCorners,i=r.halfPixelCenters,u=r.size;TE(a,"resizeBilinear");for(var s=Rn(a.shape),l=(0,je.Z)(u,2),c=l[0],d=l[1],p=(0,je.Z)(a.shape,4),f=p[0],h=p[1],m=p[2],v=p[3],g=n.data.get(a.dataId).values,b=new Float32Array(fn([f,c,d,v])),y=[o&&c>1?h-1:h,o&&d>1?m-1:m],x=[o&&c>1?c-1:c,o&&d>1?d-1:d],k=0,w=y[0]/x[0],C=y[1]/x[1],D=0;D<f;D++)for(var E=0;E<c;E++){var S=void 0;S=i?w*(E+.5)-.5:w*E;for(var I=Math.max(0,Math.floor(S)),F=S-I,T=Math.min(h-1,Math.ceil(S)),N=D*s[0]+I*s[1],A=D*s[0]+T*s[1],R=0;R<d;R++){var O=void 0;O=i?C*(R+.5)-.5:C*R;for(var Z=Math.max(0,Math.floor(O)),M=O-Z,P=Math.min(m-1,Math.ceil(O)),L=N+Z*s[2],_=A+Z*s[2],B=N+P*s[2],z=A+P*s[2],j=0;j<v;j++){var V=g[L+j],W=g[_+j],H=V+(g[B+j]-V)*M,U=H+(W+(g[z+j]-W)*M-H)*F;b[k++]=U}}}return n.makeTensorInfo([f,c,d,v],"float32",b)}};var dN={kernelName:io,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=t.dy,i=r.alignCorners;TE([o,a],"resizeBilinearGrad");for(var u=Rn(a.shape),s=(0,je.Z)(a.shape,4),l=s[0],c=s[1],d=s[2],p=s[3],f=(0,je.Z)(o.shape,3),h=f[1],m=f[2],v=new Float32Array(l*c*d*p),g=[i&&h>1?c-1:c,i&&m>1?d-1:d],b=[i&&h>1?h-1:h,i&&m>1?m-1:m],y=g[0]/b[0],x=g[1]/b[1],k=n.data.get(o.dataId).values,w=0,C=0;C<l;C++)for(var D=C*u[0],E=0;E<h;E++)for(var S=E*y,I=Math.floor(S),F=Math.min(Math.ceil(S),c-1),T=D+I*u[1],N=D+F*u[1],A=S-I,R=1-A,O=0;O<m;O++)for(var Z=O*x,M=Math.floor(Z),P=Math.min(Math.ceil(Z),d-1),L=Z-M,_=1-L,B=T+M*u[2],z=T+P*u[2],j=N+M*u[2],V=N+P*u[2],W=R*_,H=R*L,U=A*_,G=A*L,q=0;q<p;q++){var K=k[w++];v[B+q]+=K*W,v[z+q]+=K*H,v[j+q]+=K*U,v[V+q]+=K*G}return n.makeTensorInfo([l,d,c,p],"float32",v)}};var pN={kernelName:ro,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=r.alignCorners,i=r.halfPixelCenters,u=r.size;TE(a,"resizeNearestNeighbor");for(var s=Rn(a.shape),l=(0,je.Z)(u,2),c=l[0],d=l[1],p=(0,je.Z)(a.shape,4),f=p[0],h=p[1],m=p[2],v=p[3],g=n.data.get(a.dataId).values,b=new Float32Array(f*c*d*v),y=[o&&c>1?h-1:h,o&&d>1?m-1:m],x=[o&&c>1?c-1:c,o&&d>1?d-1:d],k=y[0]/x[0],w=y[1]/x[1],C=0,D=0;D<f;D++)for(var E=D*s[0],S=0;S<c;S++){var I=i?k*(S+.5):k*S,F=Math.min(h-1,o?Math.round(I):Math.floor(I));i&&(F=Math.max(0,F));for(var T=E+F*s[1],N=0;N<d;N++){var A=i?w*(N+.5):w*N,R=Math.min(m-1,o?Math.round(A):Math.floor(A));i&&(R=Math.max(0,R));for(var O=T+R*s[2],Z=0;Z<v;Z++){var M=g[O+Z];b[C++]=M}}}return n.makeTensorInfo([f,c,d,v],a.dtype,b)}};var fN={kernelName:ao,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=t.dy,i=r.alignCorners;TE([o,a],"resizeNearestNeighborGrad");for(var u=Rn(a.shape),s=Rn(o.shape),l=(0,je.Z)(a.shape,4),c=l[0],d=l[1],p=l[2],f=l[3],h=(0,je.Z)(o.shape,3),m=h[1],v=h[2],g=new Float32Array(c*d*p*f),b=n.data.get(o.dataId).values,y=[i&&m>1?d-1:d,i&&v>1?p-1:p],x=[i&&m>1?m-1:m,i&&v>1?v-1:v],k=y[0]/x[0],w=y[1]/x[1],C=1/k,D=1/w,E=2*Math.ceil(C)+2,S=2*Math.ceil(D)+2,I=0;I<c;I++)for(var F=I*u[0],T=0;T<d;T++)for(var N=F+T*u[1],A=Math.floor(T*C),R=Math.floor(A-E/2),O=0;O<p;O++)for(var Z=N+O*u[2],M=Math.floor(O*D),P=Math.floor(M-S/2),L=0;L<f;L++){for(var _=0,B=0;B<E;B++){var z=B+R;if(!(z<0||z>=m)){var j=F+z*s[1],V=z*k;if(T===Math.min(d-1,i?Math.round(V):Math.floor(V)))for(var W=0;W<S;W++){var H=W+P;if(!(H<0||H>=v)){var U=j+H*s[2],G=H*w;O===Math.min(p-1,i?Math.round(G):Math.floor(G))&&(_+=b[U+L])}}}}g[Z+L]=_}return n.makeTensorInfo(a.shape,a.dtype,g)}};var hN={kernelName:so,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.dims;TE(a,"reverse");var i=a.shape.length,u=xn(o,a.shape);if(0===i)return PE({inputs:{x:a},backend:n});for(var s=new Vi(a.shape,a.dtype),l=n.bufferSync(a),c=function(e){var t=s.indexToLoc(e),n=t.slice();u.forEach((function(e){return n[e]=a.shape[e]-1-n[e]})),s.set.apply(s,[l.get.apply(l,(0,$t.Z)(n))].concat((0,$t.Z)(t)))},d=0;d<s.size;d++)c(d);return n.makeTensorInfo(s.shape,s.dtype,s.values)}},mN={kernelName:Yo,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,o=n.radians,i=n.fillValue,u=n.center,s=r,l=wn(a.dtype,fn(a.shape)),c=(0,je.Z)(a.shape,4),d=c[0],p=c[1],f=c[2],h=c[3],m=Dm(u,p,f),v=(0,je.Z)(m,2),g=v[0],b=v[1],y=Math.sin(o),x=Math.cos(o),k=s.data.get(a.dataId).values,w=0;w<d;w++)for(var C=w*f*p*h,D=0;D<p;D++)for(var E=D*(f*h),S=0;S<f;S++)for(var I=S*h,F=0;F<h;F++){var T=[d,D,S,F],N=T[2],A=T[1],R=(N-g)*x-(A-b)*y,O=(N-g)*y+(A-b)*x;R=Math.round(R+g),O=Math.round(O+b);var Z=i;if("number"!==typeof i&&(Z=3===F?255:i[F]),R>=0&&R<f&&O>=0&&O<p)Z=k[C+O*(f*h)+R*h+F];l[C+E+I+F]=Z}return{dataId:s.write(l,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},vN=RE(lo,(function(e){var t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1})),gN={kernelName:lo,backendName:"cpu",kernelFunc:vN},bN=KE((function(e){return 1/Math.sqrt(e)})),yN=OE(co,bN),xN={kernelName:co,backendName:"cpu",kernelFunc:yN};function kN(e,t,n,r,a,o,i,u,s,l){var c=[r/a,a],d=e.values,p=t.values;if(0===r)return Ms(n,t.dtype);var f=Ms(c,t.dtype);f.values.fill(s);for(var h=0;h<o;h++){for(var m=[],v=0,g=0;g<i;g++){var b=d[h*i+g];m.push(b),v+=b*u[g]}if(v<0||v>=r/a)throw new Error("Invalid indices: ".concat(m," does not index into ").concat(n));for(var y=0;y<a;y++)l?f.values[v*a+y]+=p[h*a+y]:f.values[v*a+y]=0===t.rank?p[0]:p[h*a+y]}return f}var wN={kernelName:po,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,o=t.updates,i=r.shape,u=Rf(0,a,i),s=u.sliceRank,l=u.numUpdates,c=u.sliceSize,d=u.strides,p=u.outputSize,f=kN(n.bufferSync(a),n.bufferSync(o),i,p,c,l,s,d,0,!0);return n.makeTensorInfo(i,f.dtype,f.values)}};var CN={kernelName:fo,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.condition,a=t.t,o=t.e;TE([r,a,o],"select");for(var i=r.shape.length,u=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,l=n.data.get(o.dataId).values,c=eu(a.dtype,o.dtype),d=Pn(fn(a.shape),c),p=0,f=0===i||i>1||1===a.shape.length?1:fn(a.shape.slice(1)),h=0;h<u.length;h++)for(var m=0;m<f;m++)1===u[h]?d[p++]=s[h]:d[p++]=l[h];return n.makeTensorInfo(a.shape,c,d)}},DN=RE(ho,(function(e){return e>=0?1.0507009873554805*e:1.7580993408473768*(Math.exp(e)-1)})),EN={kernelName:ho,backendName:"cpu",kernelFunc:DN},SN=RE(bo,(function(e){return e<0?-1:e>0?1:0})),IN={kernelName:bo,backendName:"cpu",kernelFunc:SN},FN=RE(vo,(function(e){return Math.sin(e)})),TN={kernelName:vo,backendName:"cpu",kernelFunc:FN},NN=RE(go,(function(e){return Math.sinh(e)})),AN={kernelName:go,backendName:"cpu",kernelFunc:NN},RN=Math.log(1.1920928955078125e-7)+2,ON=RE(xo,(function(e){var t=e>-RN,n=e<RN,r=Math.exp(e);return n?r:t?e:Math.log(1+r)})),ZN={kernelName:xo,backendName:"cpu",kernelFunc:ON};var MN={kernelName:Co,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.blockShape,i=r.paddings;TE([a],"spaceToBatchND");var u=fn(o),s=[[0,0]];s.push.apply(s,(0,$t.Z)(i));for(var l=1+o.length;l<a.shape.length;++l)s.push([0,0]);var c=eN.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:s,constantValue:0}}),d=Em(c.shape,o,u,!1),p=Sm(d.length,o.length,!1),f=Im(c.shape,o,u,!1),h=pS({inputs:{x:c},backend:n,attrs:{shape:d}}),m=ES({inputs:{x:h},backend:n,attrs:{perm:p}}),v=pS({inputs:{x:m},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),v}};function PN(e,t,n,r,a,o,i){var u=t[0],s=o[0],l=new Array(s),c=new Array(u),d=t[1];if(0===s){if(0!==u)throw new Error("Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ".concat(u));return[Cn(n,0),[0,d],Cn(a,0),l,c]}for(var p=!0,f=0,h=new Array(s).fill(0),m=0;m<u;++m){var v=e[m*d];if(v<0)throw new Error(Qm(m,v));if(v>=s)throw new Error(Jm(m,v,s));++h[v],p=p&&v>=f,f=v}for(var g=!0,b=0;b<s;++b){var y=0===h[b];l[b]=y,g=g&&!y,h[b]=Math.max(h[b],1),b>0&&(h[b]+=h[b-1])}if(g&&p){for(var x=e,k=r,w=0;w<u;++w)c[w]=w;return[x,[u,d],k,l,c]}for(var C=h[s-1],D=Cn(n,C*d),E=Cn(a,C),S=new Array(s).fill(0),I=0;I<u;++I){var F=e[I*d],T=S[F],N=(0===F?0:h[F-1])+T;S[F]++;for(var A=0;A<d;++A)D[N*d+A]=e[I*d+A];E[N]=r[I],c[I]=N}for(var R=0;R<s;++R){if(0===S[R]){var O=0===R?0:h[R-1];D[O*d+0]=R;for(var Z=1;Z<d;++Z)D[O*d+Z]=0;E[O]=i}}return[D,[C,d],E,l,c]}var LN={kernelName:So,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.indices,a=t.values,o=t.denseShape,i=t.defaultValue;if(1!==o.shape.length)throw new Error("Dense shape must be a vector, saw:\n        ".concat(o.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n        ".concat(r.shape));if(1!==a.shape.length)throw new Error("Values must be a vector, saw:\n        ".concat(a.shape));if(0!==i.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(i.shape));var u=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,l=n.data.get(o.dataId).values,c=n.data.get(i.dataId).values[0],d=PN(u,r.shape,r.dtype,s,a.dtype,l,c),p=(0,je.Z)(d,5),f=p[0],h=p[1],m=p[2],v=p[3],g=p[4];return[n.makeTensorInfo(h,r.dtype,f),n.makeTensorInfo([h[0]],a.dtype,m),n.makeTensorInfo([v.length],"bool",new Uint8Array(v.map((function(e){return Number(e)})))),n.makeTensorInfo([g.length],r.dtype,new Int32Array(g))]}};function _N(e,t,n,r,a){for(var o,i,u=fn(r),s=t[0],l=a.length,c=[],d=1,p=-1,f=0;f<l;++f){var h=a[f];if(-1===h){if(-1!==p)throw new Error((i=f,"only one output dimension may be -1, not both ".concat(p," and ").concat(i)));p=f,c.push(1)}else{if(h<0)throw new Error((o=h,"size ".concat(f," must be non-negative, not ").concat(o)));d*=h,c.push(h)}}if(-1!==p){if(d<=0)throw new Error("reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero");var m=Math.trunc(u/d);if(d*m!==u)throw new Error(function(e,t){var n=fn(e),r=fn(t);return"Input to reshape is a SparseTensor with ".concat(n,"\n  dense values, but the requested shape requires a multiple of ").concat(r,". inputShape=").concat(e," outputShape= ").concat(t)}(r,c));c[p]=m}if(fn(c)!==u)throw new Error(function(e,t){var n=fn(e),r=fn(t);return"Input to reshape is a tensor with ".concat(n," dense values, but the requested shape has ").concat(r,". inputShape=").concat(e," outputShape=").concat(t)}(r,c));var v=r.length,g=[];if(v>0){g[v-1]=1;for(var b=v-2;b>=0;--b)g[b]=g[b+1]*r[b+1]}var y=[];if(l>0){y[l-1]=1;for(var x=l-2;x>=0;--x)y[x]=y[x+1]*c[x+1]}for(var k=Cn(n,s*l),w=0;w<s;++w){for(var C=0,D=0;D<v;++D)C+=e[w*v+D]*g[D];for(var E=0;E<l;++E)k[w*l+E]=Math.trunc(C/y[E]),C%=y[E]}return[k,[s,l],c]}var BN={kernelName:Io,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.inputIndices,a=t.inputShape,o=t.newShape;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape\n        ".concat(r.shape));if(1!==a.shape.length)throw new Error("Input shape should be a vector but received shape\n        ".concat(a.shape));if(1!==o.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(o.shape));var i=Array.from(n.data.get(a.dataId).values),u=n.data.get(r.dataId).values,s=Array.from(n.data.get(o.dataId).values),l=_N(u,r.shape,r.dtype,i,s),c=(0,je.Z)(l,3),d=c[0],p=c[1],f=c[2];return[n.makeTensorInfo(p,r.dtype,d),n.makeTensorInfo([f.length],o.dtype,new Int32Array(f))]}};function zN(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=r.length,s=[t[0],e.length/t[0]],l=s[1],c=u>0?a[u-1]+1:0,d=c;if(d<0)throw new Error("segment ids must be >= 0");var p=t.slice();p[0]=d;var f=p.reduce((function(e,t){return e*t}),1),h=Cn(n,f);if(0===u)return d>0&&h.fill(i),[h,p];if(d<=0)throw new Error("segment ids must be >= 0");for(var m=0,v=1,g=0,b=a[m];;){var y=0;if(v<u){if(b===(y=a[v])){++v;continue}if(b>=y)throw new Error("segment ids are not increasing")}if(b<0||b>=d)throw new Error(ev(b,d));b>g&&h.fill(i,g*l,b*l);for(var x=m;x<v;++x){var k=r[x];if(k<0||k>=s[0])throw new Error(tv(x,r[x],s[0]));for(var w=0;w<l;w++)h[b*l+w]+=e[k*l+w]}if(o)for(var C=0;C<l;C++)h[b*l+C]/=v-m;if(m=v,g=b+1,b=y,++v>u)break}return g<d&&h.fill(i,g*l,d*l),[h,p]}var jN={kernelName:Fo,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,o=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n          ".concat(a.shape));if(1!==o.shape.length)throw new Error("Segment ids should be a vector but received shape\n          ".concat(o.shape));if(a.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");var i=n.data.get(r.dataId).values,u=n.data.get(a.dataId).values,s=n.data.get(o.dataId).values,l=zN(i,r.shape,r.dtype,u,s,!0),c=(0,je.Z)(l,2),d=c[0],p=c[1];return n.makeTensorInfo(p,r.dtype,d)}};var VN={kernelName:To,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,o=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n         ".concat(a.shape));if(1!==o.shape.length)throw new Error("Segment ids should be a vector but received shape\n         ".concat(o.shape));if(a.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");var i=n.data.get(r.dataId).values,u=n.data.get(a.dataId).values,s=n.data.get(o.dataId).values,l=zN(i,r.shape,r.dtype,u,s),c=(0,je.Z)(l,2),d=c[0],p=c[1];return n.makeTensorInfo(p,r.dtype,d)}};var WN={kernelName:No,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.sparseIndices,o=t.sparseValues,i=t.defaultValue,u=r.outputShape,s=Rf(0,a,u),l=s.sliceRank,c=s.numUpdates,d=s.sliceSize,p=s.strides,f=s.outputSize,h=kN(n.bufferSync(a),n.bufferSync(o),u,f,d,c,l,p,n.data.get(i.dataId).values[0],!1);return n.makeTensorInfo(u,h.dtype,h.values)}};var HN={kernelName:Do,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.numOrSizeSplits,i=xn(r.axis,a.shape)[0],u=$m(a,o,i),s=new Array(a.shape.length).fill(0),l=a.shape.slice();return u.map((function(e){var t=(0,$t.Z)(l);t[i]=e;var r=$S({inputs:{x:a},backend:n,attrs:{begin:s,size:t}});return s[i]+=e,r}))}},UN=KE((function(e){return Math.sqrt(e)})),GN=RE(ko,(function(e){return Math.sqrt(e)})),qN={kernelName:ko,backendName:"cpu",kernelFunc:GN},KN={kernelName:Ro,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n;TE(r,"square");for(var o=a.data.get(r.dataId).values,i=new Float32Array(o.length),u=0;u<o.length;++u){var s=o[u];i[u]=s*s}return{dataId:a.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},XN=zE((function(e,t){var n=e-t;return n*n})),YN=iS(Ao,XN),$N={kernelName:Ao,backendName:"cpu",kernelFunc:YN},QN=RE(Ko,(function(e,t){var n=t;return isNaN(e)?NaN:e>0?1:n.alpha})),JN={kernelName:Ko,backendName:"cpu",kernelFunc:QN};function eA(e,t,n,r){for(var a=Ms(e,t.dtype),o=0;o<a.size;o++){for(var i=a.indexToLoc(o),u=new Array(i.length),s=0;s<u.length;s++)u[s]=i[s]*n[s]+r[s];a.set.apply(a,[t.get.apply(t,u)].concat((0,$t.Z)(i)))}return a}var tA={kernelName:Oo,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.begin,i=r.end,u=r.strides,s=r.beginMask,l=r.endMask,c=r.ellipsisMask,d=r.newAxisMask,p=r.shrinkAxisMask;TE(a,"stridedSlice");var f,h=yl(a.shape,o,i,u,s,l,c,d,p),m=h.finalShapeSparse,v=h.finalShape,g=h.isIdentity,b=h.sliceDim0,y=h.isSimpleSlice,x=h.begin,k=h.end,w=h.strides;if(g)f=pS({inputs:{x:a},backend:n,attrs:{shape:v}});else if(b||y){ln(a.shape.length>=1,(function(){return"Input must have rank at least 1, got: ".concat(a.shape.length)}));var C=ml(x,k,w),D=$S({inputs:{x:a},backend:n,attrs:{begin:x,size:C}});f=pS({inputs:{x:D},backend:n,attrs:{shape:v}}),n.disposeIntermediateTensorInfo(D)}else{var E=eA(m,n.bufferSync(a),w,x);f=n.makeTensorInfo(v,E.dtype,E.values)}return f}},nA=function(){function e(t,n,r,a,o,i){(0,Qt.Z)(this,e),this.separator=Ti(t),this.nGramWidths=n,this.leftPad=Ti(r),this.rightPad=Ti(a),this.padWidth=o,this.preserveShort=i}return(0,Jt.Z)(e,[{key:"getPadWidth",value:function(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}},{key:"getNumNGrams",value:function(e,t){var n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}},{key:"createNGrams",value:function(e,t,n,r,a,o){for(var i=this,u=function(u){var s=i.getPadWidth(o),l=Math.max(0,s-u),c=Math.max(0,s-(a-(u+1))),d=o-(l+c),p=t+(l>0?0:u-s),f=0;f+=l*i.leftPad.length;for(var h=0;h<d;++h)f+=e[p+h].length;f+=c*i.rightPad.length,f+=(l+c+d-1)*i.separator.length,n[r+u]=new Uint8Array(f);for(var m=n[r+u],v=0,g=function(e){return e.forEach((function(e){return m[v++]=e}))},b=0;b<l;++b)g(i.leftPad),g(i.separator);for(var y=0;y<d-1;++y)g(e[p+y]),g(i.separator);if(d>0){g(e[p+d-1]);for(var x=0;x<c;++x)g(i.separator),g(i.rightPad)}else{for(var k=0;k<c-1;++k)g(i.rightPad),g(i.separator);g(i.rightPad)}},s=0;s<a;++s)u(s)}},{key:"compute",value:function(e,t){var n=this,r=e.length,a=t.length;if(a>0){var o=t[0];if(0!==o)throw new Error("First split value must be 0, got ".concat(o));for(var i=1;i<a;++i){var u=t[i]>=o;if(!(u=u&&t[i]<=r))throw new Error("Invalid split value ".concat(t[i],", must be in [").concat(o,", ").concat(r,"]"));o=t[i]}if(o!==r)throw new Error("Last split value must be data size. Expected ".concat(r,", got ").concat(o))}var s=a-1,l=Cn("int32",a);if(0===r||0===a){for(var c=new Array(r),d=0;d<=s;++d)l[d]=0;return[c,l]}l[0]=0;for(var p=function(e){var r=t[e]-t[e-1],a=0;n.nGramWidths.forEach((function(e){a+=n.getNumNGrams(r,e)})),n.preserveShort&&r>0&&0===a&&(a=1),l[e]=l[e-1]+a},f=1;f<=s;++f)p(f);for(var h=new Array(l[s]),m=function(r){var a=t[r],o=l[r];if(n.nGramWidths.forEach((function(i){var u=t[r+1]-t[r],s=n.getNumNGrams(u,i);n.createNGrams(e,a,h,o,s,i),o+=s})),n.preserveShort&&o===l[r]){var i=t[r+1]-t[r];if(0===i)return"continue";var u=i+2*n.padWidth;n.createNGrams(e,a,h,o,1,u)}},v=0;v<s;++v)m(v);return[h,l]}}]),e}();function rA(e,t,n,r,a,o,i,u){return new nA(n,r,a,o,i,u).compute(e,t)}var aA={kernelName:Zo,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=r.separator,o=r.nGramWidths,i=r.leftPad,u=r.rightPad,s=r.padWidth,l=r.preserveShortSequences,c=t.data,d=t.dataSplits,p=rA(n.data.get(c.dataId).values,n.data.get(d.dataId).values,a,o,i,u,s,l),f=(0,je.Z)(p,2),h=f[0],m=f[1];return[n.makeTensorInfo([h.length],"string",h),n.makeTensorInfo(d.shape,"int32",m)]}};function oA(e,t,n,r){if(e.length)if(0!==t.length)if(1!==t.length){for(var a=0,o=0;o<e.length+1;o++)if(o===e.length||-1!==t.indexOf(e[o])){var i=e.subarray(a,o);n&&0===i.length||r.push(i),a=o+1}}else{for(var u=t[0],s=e.indexOf(u);-1!==s;){var l=e.subarray(0,s);n&&0===l.length||r.push(l),s=(e=e.subarray(s+1)).indexOf(u)}n&&0===e.length||r.push(e)}else for(var c=0;c<e.length;++c)r.push(e.subarray(c,c+1))}function iA(e,t,n){for(var r=e.length,a=[],o=0,i=0,u=new Array(r),s=0;s<r;++s){var l=a.length;oA(e[s],t,n,a);var c=a.length-l;u[s]=c,o+=c,i=Math.max(i,c)}for(var d=Cn("int32",2*o),p=new Array(o),f=[r,i],h=0,m=0;m<r;++m)for(var v=0;v<u[m];++v)d[2*h]=m,d[2*h+1]=v,p[h]=a[h],++h;return[d,p,f]}var uA={kernelName:Mo,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.skipEmpty,a=t.input,o=t.delimiter;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(1!==a.shape.length)throw new Error("Input must be a vector, got shape: ".concat(a.shape));if(0!==o.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(o.shape));var i=iA(n.data.get(a.dataId).values,n.data.get(o.dataId).values[0],r),u=(0,je.Z)(i,3),s=u[0],l=u[1],c=u[2],d=l.length;return[n.makeTensorInfo([d,2],"int32",s),n.makeTensorInfo([d],"string",l),n.makeTensorInfo([2],"int32",new Int32Array(c))]}};function sA(e,t){for(var n=Cn("int32",e.length),r=0;r<e.length;++r)n[r]=Ei(e[r]).modulo(t).getLowBitsUnsigned();return n}var lA={kernelName:Po,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.numBuckets,a=t.input;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");var o=sA(n.data.get(a.dataId).values,r);return n.makeTensorInfo(a.shape,"int32",o)}},cA=RE(_o,(function(e){return Math.tan(e)})),dA={kernelName:_o,backendName:"cpu",kernelFunc:cA},pA=RE(Bo,(function(e){return Math.tanh(e)}));function fA(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];for(var a=Ms(n,e.dtype),o=0;o<a.values.length;++o){for(var i=a.indexToLoc(o),u=new Array(e.rank),s=0;s<u.length;s++)u[s]=i[s]%e.shape[s];var l=e.locToIndex(u);a.values[o]=e.values[l]}return a}var hA={kernelName:zo,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.reps;TE(a,"tile");var i=fA(n.bufferSync(a),o);return n.makeTensorInfo(i.shape,i.dtype,i.values)}},mA=function(e,t){var n=t.value-e.value;return 0===n?e.index-t.index:n};function vA(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1;r>n;){if(r-n>600){var a=r-n+1,o=t-n+1,i=Math.log(a),u=.5*Math.exp(2*i/3),s=.5*Math.sqrt(i*u*(a-u)/a)*Math.sign(o-a/2),l=Math.max(n,Math.floor(t-o*u/a+s)),c=Math.min(r,Math.floor(t+(a-o)*u/a+s));vA(e,t,l,c)}var d=e[t],p=n,f=r;for(un(e,n,t),mA(e[r],d)>0&&un(e,n,r);p<f;){for(un(e,p,f),p++,f--;mA(e[p],d)<0;)p+=1;for(;mA(e[f],d)>0;)f-=1}0===mA(e[n],d)?un(e,n,f):un(e,f+=1,r),f<=t&&(n=f+1),t<=f&&(r=f-1)}}function gA(e,t,n,r,a){for(var o=t[t.length-1],i=e.length/o,u=o,s=wn(n,i*r),l=wn("int32",i*r),c=function(t){var n=t*u,o=e.subarray(n,n+u),i=new Array(o.length);o.forEach((function(e,t){return i[t]={value:e,index:t}})),r<i.length&&(vA(i,r),i=i.slice(0,r)),a&&i.sort(mA);for(var c=t*r,d=s.subarray(c,c+r),p=l.subarray(c,c+r),f=0;f<r;f++)d[f]=i[f].value,p[f]=i[f].index},d=0;d<i;d++)c(d);var p=t.slice();return p[p.length-1]=r,[Ms(p,n,s),Ms(p,"int32",l)]}var bA={kernelName:jo,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.k,i=r.sorted;TE(a,"topk");var u=gA(n.data.get(a.dataId).values,a.shape,a.dtype,o,i),s=(0,je.Z)(u,2),l=s[0],c=s[1];return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(c.shape,c.dtype,c.values)]}};var yA={kernelName:Vo,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,o=t.transforms,i=n.interpolation,u=n.fillMode,s=n.fillValue,l=n.outputShape,c=(0,je.Z)(a.shape,4),d=c[0],p=c[1],f=c[2],h=c[3],m=null!=l?l:[p,f],v=(0,je.Z)(m,2),g=v[0],b=v[1],y=[d,g,b,h],x=Rn(a.shape),k=x[0],w=x[1],C=x[2],D=wn(a.dtype,fn(y));D.fill(s);for(var E=r.data.get(a.dataId).values,S=r.data.get(o.dataId).values,I=0;I<d;++I){for(var F=1===o.shape[0]?S:S.subarray(8*I,8*I+8),T=0;T<g;++T)for(var N=0;N<b;++N)for(var A=0;A<h;++A){var R=void 0,O=F[6]*N+F[7]*T+1;if(0!==O){var Z=(F[0]*N+F[1]*T+F[2])/O,M=(F[3]*N+F[4]*T+F[5])/O,P=xA(Z,f,u),L=xA(M,p,u);switch(i){case"nearest":R=wA(E,p,f,k,w,C,I,L,P,A,s);break;case"bilinear":R=CA(E,p,f,k,w,C,I,L,P,A,s);break;default:throw new Error("Error in Transform: Expect 'nearest' or "+"'bilinear', but got ".concat(i))}D[I*k+T*w+N*C+A]=R}}return r.makeTensorInfo(y,a.dtype,D)}return{dataId:r.write(D,y,a.dtype),shape:a.shape,dtype:a.dtype}}};function xA(e,t,n){switch(n){case"reflect":return function(e,t){var n=e;if(n<0)if(t<=1)n=0;else{var r=2*t;n<r&&(n=r*Math.trunc(-n/r)+n),n=n<-t?n+r:-n-1}else if(n>t-1)if(t<=1)n=0;else{var a=2*t;(n-=a*Math.trunc(n/a))>=t&&(n=a-n-1)}return an(0,n,t-1)}(e,t);case"wrap":return function(e,t){var n=e;if(n<0)if(t<=1)n=0;else{var r=t-1;n+=t*(Math.trunc(-n/r)+1)}else if(n>t-1)if(t<=1)n=0;else{var a=t-1;n-=t*Math.trunc(n/a)}return an(0,n,t-1)}(e,t);case"nearest":return function(e,t){return an(0,e,t-1)}(e,t);default:return function(e,t){return e}(e)}}function kA(e,t,n,r,a,o,i,u,s,l,c){return 0<=u&&u<t&&0<=s&&s<n?e[i*r+u*a+s*o+l]:c}function wA(e,t,n,r,a,o,i,u,s,l,c){return kA(e,t,n,r,a,o,i,Math.round(u),Math.round(s),l,c)}function CA(e,t,n,r,a,o,i,u,s,l,c){var d=Math.floor(u),p=Math.floor(s),f=d+1,h=p+1;return(f-u)*((h-s)*kA(e,t,n,r,a,o,i,d,p,l,c)+(s-p)*kA(e,t,n,r,a,o,i,d,h,l,c))+(u-d)*((h-s)*kA(e,t,n,r,a,o,i,f,p,l,c)+(s-p)*kA(e,t,n,r,a,o,i,f,h,l,c))}function DA(e,t,n,r){for(var a=xn(t,n)[0],o=[1,n[0],1],i=0;i<a;i++)o[0]*=n[i];o[1]=n[a];for(var u=a+1;u<n.length;u++)o[2]*=n[u];for(var s={},l=new Int32Array(n[a]),c=new Vi(o,r,e),d=[],p=1===o[0]&&1===o[2],f=0;f<n[a];f++){var h=void 0;if(p)h=e[f].toString();else{for(var m=[],v=0;v<o[0];v++)for(var g=0;g<o[2];g++)m.push(c.get(v,f,g));h=m.join(",")}if(void 0!==s[h])l[f]=s[h];else{var b=Object.keys(s).length;s[h]=b,l[f]=b,d.push(f)}}var y=o.slice();y[1]=Object.keys(s).length;var x=new Vi(y,r);d.forEach((function(e,t){for(var n=0;n<o[0];n++)for(var r=0;r<o[2];r++)x.set(c.get(n,e,r),n,t,r)}));var k=n.slice();return k[a]=y[1],{outputValues:x.values,outputShape:k,indices:l}}var EA={kernelName:Ho,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=n.axis,o=t.x;TE(o,"unique");var i=DA(r.data.get(o.dataId).values,a,o.shape,o.dtype),u=i.outputValues,s=i.outputShape,l=i.indices;return[r.makeTensorInfo(s,o.dtype,u),r.makeTensorInfo([l.length],"int32",l)]}};var SA={kernelName:Uo,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.value,o=r.axis;o<0&&(o+=a.shape.length);for(var i=a.shape.length,u=a.shape[o],s=new Array(i-1),l=0,c=0;c<i;c++)c!==o&&(s[l++]=a.shape[c]);var d=new Array(i).fill(0),p=a.shape.slice();p[o]=1;for(var f=new Array(u),h=0;h<f.length;h++){d[o]=h;var m=$S({inputs:{x:a},backend:n,attrs:{begin:d,size:p}});f[h]=pS({inputs:{x:m},backend:n,attrs:{shape:s}}),n.disposeIntermediateTensorInfo(m)}return f}};for(var IA={kernelName:Go,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.segmentIds,i=r.numSegments;TE(a,"unsortedSegmentSum");for(var u=[],s=[],l=a.shape.length-o.shape.length,c=o,d=0;d<l;++d){var p=eF({inputs:{input:c},backend:n,attrs:{dim:d+1}});c=p,s.push(p)}for(var f=0;f<i;++f){var h=Si(f,"int32"),m=n.makeTensorInfo([],"int32",h),v=qI({inputs:{a:m,b:c},backend:n}),g=aS({inputs:{x:v},backend:n,attrs:{dtype:"float32"}}),b=zI({inputs:{a:g,b:a},backend:n}),y=VI({inputs:{x:b},backend:n,attrs:{axis:0,keepDims:!1}});u.push(y),s.push(m),s.push(v),s.push(g),s.push(b),s.push(y)}var x=QT({inputs:u,backend:n,attrs:{axis:0}});return s.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),x}},FA=0,TA=[vS,bS,xS,wS,dS,CS,IS,FS,TS,NS,RS,ZS,PS,BS,jS,US,GS,qS,KS,mS,XS,JS,nI,rI,oS,iI,sI,eS,lI,hI,vI,gI,bI,yI,xI,kI,CI,EI,SI,II,FI,TI,AI,RI,OI,ZI,MI,PI,LI,HI,ME,UI,KI,YI,JI,tF,aF,mF,gF,bF,kF,DF,EF,SF,FF,NF,OF,PF,LE,LF,pI,BF,jF,WF,BE,GF,XF,$F,eT,nT,oT,uT,cT,dT,pT,mT,bT,yT,xT,kT,wT,CT,DT,ET,FT,TT,RT,PT,jI,_T,zT,VT,HT,qT,KT,$T,JT,eN,rN,WE,oN,uN,rS,uF,lN,UE,qE,fS,cN,dN,pN,fN,hN,mN,gN,xN,wN,CN,EN,$E,IN,TN,AN,QS,MT,ZN,MN,LN,BN,jN,VN,WN,HN,qN,KN,$N,JN,tA,aA,uA,lA,dF,WI,dA,{kernelName:Bo,backendName:"cpu",kernelFunc:pA},hA,bA,yA,SS,EA,SA,IA,YT];FA<TA.length;FA++){ii(TA[FA])}var NA,AA,RA,OA={},ZA={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function MA(e,t){if(!(e in OA)){var n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var n=null==t?function(e){if("undefined"!==typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e):t;if(n.addEventListener("webglcontextlost",(function(t){t.preventDefault(),delete OA[e]}),!1),1===e)return n.getContext("webgl",ZA)||n.getContext("experimental-webgl",ZA);return n.getContext("webgl2",ZA)}(e,t);if(null===n)return console.log("Could not get context for WebGL version",e),null;OA[e]=n}var r=OA[e];return null==r||r.isContextLost()?(delete OA[e],MA(e)):(r.disable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST),r.disable(r.BLEND),r.disable(r.DITHER),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SAMPLE_COVERAGE),r.enable(r.SCISSOR_TEST),r.enable(r.CULL_FACE),r.cullFace(r.BACK),OA[e])}function PA(e,t){return[t,e]}function LA(e){var t=fn(e);return vn(Math.ceil(t/4))}function _A(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function BA(e,t){var n,r,a,o,i,u,s,l,c,d,p=e;return 2===Gn().getNumber("WEBGL_VERSION")?(n=p.R32F,r=p.R16F,a=p.RGBA16F,o=p.RGBA32F,i=p.RED,s=4,l=1,c=p.HALF_FLOAT,d=p.FLOAT,u=p.RGBA8):(n=e.RGBA,r=e.RGBA,a=e.RGBA,o=p.RGBA,i=e.RGBA,s=4,l=4,c=null!=t?t.HALF_FLOAT_OES:null,d=e.FLOAT,u=e.RGBA),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:o,textureFormatFloat:i,downloadTextureFormat:u,downloadUnpackNumChannels:s,defaultNumChannels:l,textureTypeHalfFloat:c,textureTypeFloat:d}}function zA(e,t){var n=t();return Gn().getBool("DEBUG")&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+function(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code ".concat(t)}}(e,t))}(e),n}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(NA||(NA={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(AA||(AA={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(RA||(RA={}));function jA(e){return!!(Gn().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function VA(e,t){return tR(e,(function(){return e.getExtension(t)}),'Extension "'+t+'" not supported on this browser.')}function WA(e,t){var n=tR(e,(function(){return e.createShader(e.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(zA(e,(function(){return e.shaderSource(n,t)})),zA(e,(function(){return e.compileShader(n)})),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw function(e,t){var n=GA.exec(t);if(null==n)return console.log("Couldn't parse line number in error: ".concat(t)),void console.log(e);for(var r=+n[1],a=e.split("\n"),o=a.length.toString().length+2,i=a.map((function(e,t){return gn((t+1).toString(),o)+e})),u=0,s=0;s<i.length;s++)u=Math.max(i[s].length,u);var l=i.slice(0,r-1),c=i.slice(r-1,r),d=i.slice(r);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log("%c ".concat(gn(c[0],u)),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(d.join("\n"))}(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}var HA,UA,GA=/ERROR: [0-9]+:([0-9]+):/g;function qA(e,t){if(zA(e,(function(){return e.validateProgram(t)})),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function KA(e,t,n,r,a,o,i){var u=e.getAttribLocation(t,n);return-1!==u&&(zA(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),zA(e,(function(){return e.vertexAttribPointer(u,a,e.FLOAT,!1,o,i)})),zA(e,(function(){return e.enableVertexAttribArray(u)})),!0)}function XA(e,t,n){return tR(e,(function(){return e.getUniformLocation(t,n)}),'uniform "'+n+'" not present in program.')}function YA(e,t,n){return e.getUniformLocation(t,n)}function $A(e,t,n,r){zA(e,(function(){return function(e,t,n){nR(e,n),zA(e,(function(){return e.activeTexture(e.TEXTURE0+n)})),zA(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)}))}(e,t,r)})),zA(e,(function(){return e.uniform1i(n,r)}))}function QA(e,t,n){zA(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)})),zA(e,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}))}function JA(e,t){zA(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,t)})),zA(e,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)}))}function eR(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error ".concat(t)}}(e,t))}function tR(e,t,n){var r=zA(e,(function(){return t()}));if(null==r)throw new Error(n);return r}function nR(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){var a="[gl.TEXTURE0, gl.TEXTURE".concat(n,"]");throw new Error("textureUnit must be in ".concat(a,"."))}}function rR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return fn(e.slice(0,e.length-t))}function aR(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function oR(e){var t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[rR(e)].concat((0,$t.Z)(aR(e)))),t}function iR(e){return e%2===0}function uR(e,t){if(hn(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(iR(n)&&iR(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&iR(e[0])&&iR(t[0])}function sR(e,t){return null!=e.getExtension(t)}function lR(e){try{if(null!=MA(e))return!0}catch(t){return console.log("Error when getting WebGL context: ",t),!1}return!1}function cR(e){if(0===e)return!1;var t=MA(e);if(1!==e){if(sR(t,"EXT_color_buffer_float"))return dR(t);var n="EXT_color_buffer_half_float";if(sR(t,n)){var r=t.getExtension(n);return function(e,t){var n=BA(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);var a=1,o=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,a,o,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var u=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(i),u}(t,r)}return!1}return!!sR(t,"OES_texture_float")&&(!!sR(t,"WEBGL_color_buffer_float")&&dR(t))}function dR(e){var t=BA(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),a}function pR(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&ln("complex64"!==e.dtype,(function(){return"".concat(t," does not support complex64 tensors ")+"in the WebGL backend."}))}))}var fR=Gn();function hR(){var e,t,n,r,a,o,i,u,s,l;return 2===Gn().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",a="texture",o="outputColor",i="out vec4 outputColor;",u="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",s="",l="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",a="texture2D",o="gl_FragColor",i="",u="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",s="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",l="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:a,output:o,defineOutput:i,defineSpecialNaN:u,defineSpecialInf:s,defineRound:l}}function mR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=Rn(t);return r.map((function(t,a){var o="int ".concat(e[a]," = ").concat(n," / ").concat(t),i=a===r.length-1?"int ".concat(e[a+1]," = ").concat(n," - ").concat(e[a]," * ").concat(t):"index -= ".concat(e[a]," * ").concat(t);return"".concat(o,"; ").concat(i,";")})).join("")}function vR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=Rn(t);return r.map((function(t,a){var o="int ".concat(e[a]," = ").concat(n," / outShapeStrides[").concat(a,"]"),i=a===r.length-1?"int ".concat(e[a+1]," = ").concat(n," - ").concat(e[a]," * outShapeStrides[").concat(a,"]"):"index -= ".concat(e[a]," * outShapeStrides[").concat(a,"]");return"".concat(o,"; ").concat(i,";")})).join("")}function gR(e,t){var n=e.length,r=e.map((function(e){return"".concat(t,"[").concat(e,"]")})),a=new Array(n-1);a[n-2]=r[n-1];for(var o=n-3;o>=0;--o)a[o]="(".concat(a[o+1]," * ").concat(r[o+1],")");return a}function bR(e){var t=Rn(e).map((function(e){return e.toString()}));return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ".concat(t[0]," + coords.y * ").concat(t[1]," + coords.z;\n  }\n")}fR.registerFlag("HAS_WEBGL",(function(){return fR.getNumber("WEBGL_VERSION")>0})),fR.registerFlag("WEBGL_VERSION",(function(){return lR(2)?2:lR(1)?1:0})),fR.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(function(){return!1})),fR.registerFlag("WEBGL_BUFFER_SUPPORTED",(function(){return 2===fR.get("WEBGL_VERSION")})),fR.registerFlag("WEBGL_CPU_FORWARD",(function(){return!0})),fR.registerFlag("WEBGL_FORCE_F16_TEXTURES",(function(){return!1})),fR.registerFlag("WEBGL_PACK",(function(){return fR.getBool("HAS_WEBGL")})),fR.registerFlag("WEBGL_PACK_NORMALIZATION",(function(){return fR.getBool("WEBGL_PACK")})),fR.registerFlag("WEBGL_PACK_CLIP",(function(){return fR.getBool("WEBGL_PACK")})),fR.registerFlag("WEBGL_PACK_DEPTHWISECONV",(function(){return fR.getBool("WEBGL_PACK")})),fR.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(function(){return fR.getBool("WEBGL_PACK")})),fR.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(function(){return fR.getBool("WEBGL_PACK")})),fR.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(function(){return fR.getBool("WEBGL_PACK")})),fR.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(function(){return fR.getBool("WEBGL_PACK")})),fR.registerFlag("WEBGL_PACK_REDUCE",(function(){return fR.getBool("WEBGL_PACK")})),fR.registerFlag("WEBGL_LAZILY_UNPACK",(function(){return fR.getBool("WEBGL_PACK")})),fR.registerFlag("WEBGL_CONV_IM2COL",(function(){return fR.getBool("WEBGL_PACK")})),fR.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(function(){return function(e){if(null==HA){var t=MA(e);HA=t.getParameter(t.MAX_TEXTURE_SIZE)}return HA}(fR.getNumber("WEBGL_VERSION"))})),fR.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(function(){return function(e){if(null==UA){var t=MA(e);UA=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,UA)}(fR.getNumber("WEBGL_VERSION"))})),fR.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(function(){var e=fR.getNumber("WEBGL_VERSION");return 0===e?0:function(e){if(0===e)return 0;var t=MA(e);return sR(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:sR(t,"EXT_disjoint_timer_query")?1:0}(e)})),fR.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(function(){return fR.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!mu()})),fR.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(function(){return function(e){if(0===e)return!1;var t=MA(e);if(1===e){if(!sR(t,"OES_texture_float"))return!1}else if(!sR(t,"EXT_color_buffer_float"))return!1;return dR(t)}(fR.getNumber("WEBGL_VERSION"))})),fR.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(function(){return!fR.getBool("WEBGL_FORCE_F16_TEXTURES")&&fR.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")})),fR.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(function(){return cR(fR.getNumber("WEBGL_VERSION"))})),fR.registerFlag("WEBGL_FENCE_API_ENABLED",(function(){return 2===(e=fR.getNumber("WEBGL_VERSION"))&&null!=MA(e).fenceSync;var e})),fR.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(function(){return fR.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0})),fR.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(function(){return-1}),(function(e){if(e<0&&-1!==e)throw new Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never "+"delete) or at least 0, but got ".concat(e,"."))})),fR.registerFlag("WEBGL_FLUSH_THRESHOLD",(function(){return mu()?1:-1}),(function(e){if(e<0&&-1!==e)throw new Error("WEBGL_FLUSH_THRESHOLD must be -1 (indicating never "+"manual flush) or at least 0, but got ".concat(e,"."))})),fR.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(function(){return 128})),fR.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(function(){return!1})),fR.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(function(){return 1e5})),fR.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(function(){return 128}));var yR="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",xR=il;function kR(e,t,n){var r=[];if(e.forEach((function(e){var t=fn(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?r.push("uniform float ".concat(e.name).concat(t>1?"[".concat(t,"]"):"",";")):(r.push("uniform sampler2D ".concat(e.name,";")),r.push("uniform int offset".concat(e.name,";"))),n.enableShapeUniforms){switch(zR(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape).uniformShape.length){case 1:r.push("uniform int ".concat(e.name,"Shape;"));break;case 2:r.push("uniform ivec2 ".concat(e.name,"Shape;"));break;case 3:r.push("uniform ivec3 ".concat(e.name,"Shape;"));break;case 4:r.push("uniform ivec4 ".concat(e.name,"Shape;"))}r.push("uniform ivec2 ".concat(e.name,"TexShape;"))}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;")}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((function(e){r.push("uniform ".concat(e.type," ").concat(e.name).concat(e.arrayIndex?"[".concat(e.arrayIndex,"]"):"",";"))}));var a,o,i=r.join("\n"),u=e.map((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,a="";a+=n?CR(e,r):wR(e,r);var o=e.shapeInfo.logicalShape,i=t.logicalShape;o.length<=i.length&&(a+=n?LR(e,t):_R(e,t));return a}(e,t,n.packedInputs,n.enableShapeUniforms)})).join("\n"),s=t.texShape,l=hR(),c=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ".concat(e.texture2D,"(textureSampler, uv).r;\n    }\n  ")}(l),d=function(e){return"".concat(e.version,"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ").concat(e.varyingFs," vec2 resultUV;\n    ").concat(e.defineOutput,"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ").concat(e.defineSpecialNaN,"\n    ").concat(e.defineSpecialInf,"\n    ").concat(e.defineRound,"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ").concat(DR,"\n    ").concat(ER,"\n    ").concat(SR,"\n  ")}(l);return t.isPacked?(a=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===r[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ".concat(r[1],".0);\n      }\n    ");if(1===r[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ".concat(r[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      return 2 * (resTexRC.x * ").concat(r[1]," + resTexRC.y);\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(hn(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(".concat(r[0],", ").concat(r[1],"));\n      }\n    ");var a=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n      int r = 2 * (index / ").concat(a,");\n      int c = imod(index, ").concat(a,") * 2;\n\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[2]/2),o=a*Math.ceil(e[1]/2);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      int b = index / ").concat(o,";\n      index -= b * ").concat(o,";\n\n      int r = 2 * (index / ").concat(a,");\n      int c = imod(index, ").concat(a,") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ")}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";for(var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[e.length-1]/2),o=a*Math.ceil(e[e.length-2]/2),i=o,u="",s="b, r, c",l=2;l<e.length-1;l++)i*=e[e.length-l-1],u="\n      int b".concat(l," = index / ").concat(i,";\n      index -= b").concat(l," * ").concat(i,";\n    ")+u,s="b".concat(l,", ")+s;return"\n    ivec".concat(e.length," getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(").concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      ").concat(u,"\n\n      int b = index / ").concat(o,";\n      index -= b * ").concat(o,";\n\n      int r = 2 * (index / ").concat(a,");\n      int c = imod(index, ").concat(a,") * 2;\n\n      return ivec").concat(e.length,"(").concat(s,");\n    }\n  ")}(e,t,n)}}(t.logicalShape,s,n.enableShapeUniforms),o=function(e){return"\n    void setOutput(vec4 val) {\n      ".concat(e.output," = val;\n    }\n  ")}(l)):(a=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.x * ".concat(t[1],".0);\n      }\n    ");if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.y * ".concat(t[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      return resTexRC.x * ").concat(t[1]," + resTexRC.y;\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){if(hn(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(".concat(t[0],", ").concat(t[1],"));\n      }\n    ");if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ");if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ");if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      int r = index / ").concat(e[1],";\n      int c = index - r * ").concat(e[1],";\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n){var r=vR(["r","c","d"],e);return"\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ".concat(r,"\n    return ivec3(r, c, d);\n  }\n")}var a=mR(["r","c","d"],e);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(a,"\n      return ivec3(r, c, d);\n    }\n  ")}(e,t,n);case 4:return function(e,t,n){if(n){var r=vR(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ".concat(r,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}var a=mR(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(a,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}(e,t,n);case 5:return function(e,t){var n=mR(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(".concat(t[0],",\n                             ").concat(t[1],"));\n\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  ")}(e,t);case 6:return function(e,t){var n=mR(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  ")}(e,t);default:throw new Error("".concat(e.length,"-D output sampling is not yet supported"))}}(t.logicalShape,s,n.enableShapeUniforms),o=function(e){return"\n    void setOutput(float val) {\n      ".concat(e.output," = vec4(val, 0, 0, 0);\n    }\n  ")}(l)),n.packedInputs&&(d+=IR),[d,c,o,i,a,u,n.userCode].join("\n")}function wR(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.shapeInfo.logicalShape;switch(n.length){case 0:return TR(e,t);case 1:return NR(e,t);case 2:return AR(e,t);case 3:return RR(e,t);case 4:return OR(e,t);case 5:return ZR(e);case 6:return MR(e);default:throw new Error("".concat(n.length,"-D input sampling")+" is not yet supported")}}function CR(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=hR();return"\n    vec4 ".concat(n,"() {\n      return ").concat(r.texture2D,"(").concat(t,", halfCR);\n    }\n  ")}(e);case 1:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e.shapeInfo.texShape,o=hR();if(t)return"\n    vec4 ".concat(r,"(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ").concat(o.texture2D,"(").concat(n,", uv);\n    }\n  ");var i=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];return"\n    vec4 ".concat(r,"(int index) {\n      vec2 uv = packedUVfrom1D(\n        ").concat(i[0],", ").concat(i[1],", index);\n      return ").concat(o.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t);case 2:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape,i=o[0],u=o[1],s=hR();if(null!=o&&hn(n,o))return t?"\n      vec4 ".concat(a,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n\n        return ").concat(s.texture2D,"(").concat(r,", uv);\n      }\n    "):"\n      vec4 ".concat(a,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(u,".0, ").concat(i,".0);\n\n        return ").concat(s.texture2D,"(").concat(r,", uv);\n      }\n    ");if(t)return"\n    vec4 ".concat(a,"(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(r,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ").concat(s.texture2D,"(").concat(r,", uv);\n    }\n  ");var l=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],c=Math.ceil(n[1]/2);return"\n    vec4 ".concat(a,"(int row, int col) {\n      vec2 uv = packedUVfrom2D(").concat(c,", ").concat(l[0],", ").concat(l[1],", row, col);\n      return ").concat(s.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e,t);case 3:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape,i=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];if(1===n[0]){var u=[1,2],s=jR(e,n.slice(1)),l=["b","row","col"];return"\n        ".concat(CR(s,t),"\n        vec4 ").concat(a,"(int b, int row, int col) {\n          return ").concat(a,"(").concat(VR(l,u),");\n        }\n      ")}var c=hR();if(t)return"\n    vec4 ".concat(a,"(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(r,"Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(r,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ").concat(c.texture2D,"(").concat(r,", uv);\n    }\n  ");var d=i[0],p=i[1],f=Math.ceil(n[2]/2),h=f*Math.ceil(n[1]/2);return"\n    vec4 ".concat(a,"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ").concat(d,", ").concat(p,", ").concat(h,", ").concat(f,", b, row, col);\n      return ").concat(c.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e,t);default:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=hR();if(t)return"\n    vec4 ".concat(r,"(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(").concat(n,"Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(n,"Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ").concat(n,"Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ").concat(a.texture2D,"(").concat(n,", uv);\n    }\n  ");for(var o=e.shapeInfo.logicalShape,i=o.length,u=e.shapeInfo.texShape,s=[Math.ceil(u[0]/2),Math.ceil(u[1]/2)],l=s[0],c=s[1],d=Math.ceil(o[i-1]/2),p=d*Math.ceil(o[i-2]/2),f="int b, int row, int col",h="b * ".concat(p," + (row / 2) * ").concat(d," + (col / 2)"),m=2;m<i-1;m++)f="int b".concat(m,", ")+f,p*=o[i-m-1],h="b".concat(m," * ").concat(p," + ")+h;return"\n    vec4 ".concat(r,"(").concat(f,") {\n      int index = ").concat(h,";\n      int texR = index / ").concat(c,";\n      int texC = index - texR * ").concat(c,";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(c,", ").concat(l,");\n      return ").concat(a.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t)}}var DR="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",ER="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",SR="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",IR="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function FR(e){return"offset".concat(e)}function TR(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"float ".concat(r,"() {return ").concat(n,";}");var a=(0,je.Z)(e.shapeInfo.texShape,2),o=a[0],i=a[1];if(1===o&&1===i)return"\n      float ".concat(r,"() {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");var u=FR(n);if(t)return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], ").concat(u,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");var s=(0,je.Z)(e.shapeInfo.texShape,2),l=s[0],c=s[1];return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(l,", ").concat(c,", ").concat(u,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function NR(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int index) {\n        ").concat(PR(e),"\n      }\n    ");var a=e.shapeInfo.texShape,o=a[0],i=a[1];if(1===i&&1===o)return"\n      float ".concat(r,"(int index) {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");var u=FR(n);return 1===i?t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(u,") + 0.5) / float(").concat(n,"TexShape[0]));\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(u,") + 0.5) / ").concat(o,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):1===o?t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(u,") + 0.5) / float(").concat(n,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(u,") + 0.5) / ").concat(i,".0, 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):t?"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], index + ").concat(u,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  "):"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(o,", ").concat(i,", index + ").concat(u,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function AR(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape;if(null!=o&&hn(n,o)){if(t)return"\n      float ".concat(a,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");var i=o[0],u=o[1];return"\n    float ".concat(a,"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(u,".0, ").concat(i,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ")}var s=kn(n),l=s.newShape,c=s.keptDims,d=l;if(d.length<n.length){var p=jR(e,d);return"\n      ".concat(wR(p,t),"\n      float ").concat(a,"(int row, int col) {\n        return ").concat(a,"(").concat(VR(["row","col"],c),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(").concat(n[1],", 1)));\n        ").concat(PR(e),"\n      }\n    ");var f=o[0],h=o[1],m=FR(r);return 1===h?t?"\n      float ".concat(a,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(m,"), vec3(").concat(r,"Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(").concat(r,"TexShape[0]));\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(a,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(m,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ").concat(f,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  "):1===f?t?"\n      float ".concat(a,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(m,"), vec3(").concat(r,"Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(").concat(r,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(a,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(m,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2((index + 0.5) / ").concat(h,".0, 0.5);\n      return sampleTexture(").concat(r,", uv);\n    }\n  "):t?"\n      float ".concat(a,"(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(r,"Shape[1] + col + ").concat(m,";\n        vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n  float ".concat(a,"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ").concat(n[1]," + col + ").concat(m,";\n    vec2 uv = uvFromFlat(").concat(f,", ").concat(h,", index);\n    return sampleTexture(").concat(r,", uv);\n  }\n")}function RR(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=n[1]*n[2],i=n[2],u=kn(n),s=u.newShape,l=u.keptDims,c=s;if(c.length<n.length){var d=jR(e,c);return"\n        ".concat(wR(d,t),"\n        float ").concat(a,"(int row, int col, int depth) {\n          return ").concat(a,"(").concat(VR(["row","col","depth"],l),");\n        }\n      ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(").concat(o,", ").concat(i,", 1)));\n        ").concat(PR(e),"\n      }\n    ");var p=e.shapeInfo.texShape,f=p[0],h=p[1],m=e.shapeInfo.flatOffset;if(h===o&&null==m)return t?"\n      float ".concat(a,"(int row, int col, int depth) {\n        int stride1 = ").concat(r,"Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n        float ".concat(a,"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(").concat(i,", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(").concat(h,".0, ").concat(f,".0);\n          return sampleTexture(").concat(r,", uv);\n        }\n      ");if(h===i&&null==m)return t?"\n      float ".concat(a,"(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(").concat(r,"Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(a,"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(").concat(n[1],", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(h,".0, ").concat(f,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");var v=FR(r);return t?"\n    float ".concat(a,"(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ").concat(r,"Shape[1] * ").concat(r,"Shape[2];\n      int stride1 = ").concat(r,"Shape[2];\n      int index = row * ").concat(o," + col * ").concat(i," + depth + ").concat(v,";\n      vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index);\n      return sampleTexture(").concat(r,", uv);\n    }\n    "):"\n      float ".concat(a,"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(o," + col * ").concat(i," + depth + ").concat(v,";\n        vec2 uv = uvFromFlat(").concat(f,", ").concat(h,", index);\n        return sampleTexture(").concat(r,", uv);\n      }\n  ")}function OR(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=n[3],i=n[2]*o,u=n[1]*i,s=kn(n),l=s.newShape,c=s.keptDims;if(l.length<n.length){var d=jR(e,l);return"\n      ".concat(wR(d,t),"\n      float ").concat(a,"(int row, int col, int depth, int depth2) {\n        return ").concat(a,"(").concat(VR(["row","col","depth","depth2"],c),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(").concat(u,", ").concat(i,", ").concat(o,", 1)));\n        ").concat(PR(e),"\n      }\n    ");var p=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,h=f[0],m=f[1],v="int stride2 = ".concat(r,"Shape[3];"),g="int stride1 = ".concat(r,"Shape[2] * stride2;"),b="int stride0 = ".concat(r,"Shape[1] * stride1;");if(m===u&&null==p)return t?"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        ").concat(v,"\n        ").concat(g,"\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(").concat(i,", ").concat(o,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(m,".0, ").concat(h,".0);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");if(m===o&&null==p)return t?"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(r,"Shape[1] * ").concat(r,"Shape[2], ").concat(r,"Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(n[1]*n[2],", ").concat(n[2],", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(m,".0, ").concat(h,".0);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");var y=FR(r);return t?"\n    float ".concat(a,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ").concat(v,"\n      ").concat(g,"\n      ").concat(b,"\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index + ").concat(y,");\n      return sampleTexture(").concat(r,", uv);\n    }\n  "):"\n    float ".concat(a,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(u," + col * ").concat(i," +\n          depth * ").concat(o," + depth2;\n      vec2 uv = uvFromFlat(").concat(h,", ").concat(m,", index + ").concat(y,");\n      return sampleTexture(").concat(r,", uv);\n    }\n  ")}function ZR(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t[4],o=t[3]*a,i=t[2]*o,u=t[1]*i,s=kn(t),l=s.newShape,c=s.keptDims;if(l.length<t.length){var d=jR(e,l);return"\n      ".concat(wR(d),"\n      float ").concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        return ").concat(r,"(").concat(VR(["row","col","depth","depth2","depth3"],c),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(u,", ").concat(i,", ").concat(o,", ").concat(a,")) +\n          depth3;\n        ").concat(PR(e),"\n      }\n    ");var p=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,h=f[0],m=f[1];if(m===u&&null==p)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(").concat(i,", ").concat(o,", ").concat(a,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(m,".0, ").concat(h,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(m===a&&null==p)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3],",\n               ").concat(t[2]*t[3],", ").concat(t[3],", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(m,".0, ").concat(h,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var v=FR(n);return"\n    float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(u," + col * ").concat(i," + depth * ").concat(o," +\n          depth2 * ").concat(a," + depth3 + ").concat(v,";\n      vec2 uv = uvFromFlat(").concat(h,", ").concat(m,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function MR(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=kn(t),o=a.newShape,i=a.keptDims;if(o.length<t.length){var u=jR(e,o);return"\n      ".concat(wR(u),"\n      float ").concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ").concat(r,"(").concat(VR(["row","col","depth","depth2","depth3","depth4"],i),");\n      }\n    ")}var s=t[5],l=t[4]*s,c=t[3]*l,d=t[2]*c,p=t[1]*d;if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(p,", ").concat(d,", ").concat(c,", ").concat(l,")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(").concat(s,", 1)));\n        ").concat(PR(e),"\n      }\n    ");var f=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,m=h[0],v=h[1];if(v===p&&null==f)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(").concat(d,", ").concat(c,", ").concat(l,", ").concat(s,")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(v,".0, ").concat(m,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(v===s&&null==f)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3]*t[4],",\n               ").concat(t[2]*t[3]*t[4],",\n               ").concat(t[3]*t[4],",\n               ").concat(t[4],")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(v,".0, ").concat(m,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var g=FR(n);return"\n    float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(p," + col * ").concat(d," + depth * ").concat(c," +\n          depth2 * ").concat(l," + depth3 * ").concat(s," + depth4 + ").concat(g,";\n      vec2 uv = uvFromFlat(").concat(m,", ").concat(v,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function PR(e){var t=e.name,n=fn(e.shapeInfo.logicalShape);return n<2?"return ".concat(t,";"):"\n    for (int i = 0; i < ".concat(n,"; i++) {\n      if (i == index) {\n        return ").concat(t,"[i];\n      }\n    }\n  ")}function LR(e,t){var n,r=e.name,a=r.charAt(0).toUpperCase()+r.slice(1),o="get"+a+"AtOutCoords",i=e.shapeInfo.logicalShape.length,u=t.logicalShape.length,s=xR(e.shapeInfo.logicalShape,t.logicalShape),l=BR(u),c=u-i,d=["x","y","z","w","u","v"];n=0===i?"":u<2&&s.length>=1?"coords = 0;":s.map((function(e){return"coords.".concat(d[e+c]," = 0;")})).join("\n");var p="";p=u<2&&i>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords.".concat(d[t+c])})).join(", ");var f="return outputValue;",h=1===fn(e.shapeInfo.logicalShape),m=1===fn(t.logicalShape);if(1!==i||h||m){if(h&&!m)f=1===u?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(s.length){var v=i-2,g=i-1;s.indexOf(v)>-1&&s.indexOf(g)>-1?f="return vec4(outputValue.x);":s.indexOf(v)>-1?f="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":s.indexOf(g)>-1&&(f="return vec4(outputValue.xx, outputValue.zz);")}}else f="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 ".concat(o,"() {\n      ").concat(l," coords = getOutputCoords();\n      ").concat(n,"\n      vec4 outputValue = get").concat(a,"(").concat(p,");\n      ").concat(f,"\n    }\n  ")}function _R(e,t){var n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",o=t.texShape,i=e.shapeInfo.texShape,u=e.shapeInfo.logicalShape.length,s=t.logicalShape.length;if(!e.shapeInfo.isUniform&&u===s&&null==e.shapeInfo.flatOffset&&hn(i,o))return"\n      float ".concat(a,"() {\n        return sampleTexture(").concat(n,", resultUV);\n      }\n    ");var l,c=BR(s),d=xR(e.shapeInfo.logicalShape,t.logicalShape),p=s-u,f=["x","y","z","w","u","v"];l=0===u?"":s<2&&d.length>=1?"coords = 0;":d.map((function(e){return"coords.".concat(f[e+p]," = 0;")})).join("\n");var h="";return h=s<2&&u>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords.".concat(f[t+p])})).join(", "),"\n    float ".concat(a,"() {\n      ").concat(c," coords = getOutputCoords();\n      ").concat(l,"\n      return get").concat(r,"(").concat(h,");\n    }\n  ")}function BR(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank ".concat(e," is not yet supported"))}function zR(e,t,n){var r=kn(t),a=r.newShape,o=r.keptDims,i=t.length,u=e&&3===i&&1===t[0],s=u?t.slice(1):a,l=!e&&i>1&&!hn(t,n)&&a.length<i||u;return{useSqueezeShape:l,uniformShape:l?s:t,keptDims:o}}function jR(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function VR(e,t){return t.map((function(t){return e[t]})).join(", ")}function WR(e,t,n,r){var a=n.map((function(e,n){var r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),o=a.map((function(e){return e.shapeInfo})),i={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},u=kR(a,i,t),s=WA(e.gl,u),l=e.createProgram(s),c=null,d=e.getUniformLocation(l,"NAN",!1);1===Gn().getNumber("WEBGL_VERSION")&&(c=e.getUniformLocation(l,"INFINITY",!1));for(var p,f,h,m=!1,v={},g={},b={},y=0;y<t.variableNames.length;y++){var x=t.variableNames[y];v[x]=e.getUniformLocation(l,x,m),v["offset".concat(x)]=e.getUniformLocation(l,"offset".concat(x),m),t.enableShapeUniforms&&(g["".concat(x,"Shape")]=e.getUniformLocation(l,"".concat(x,"Shape"),m),b["".concat(x,"TexShape")]=e.getUniformLocation(l,"".concat(x,"TexShape"),m))}t.enableShapeUniforms&&(p=e.getUniformLocation(l,"outShape",m),h=e.getUniformLocation(l,"outShapeStrides",m),f=e.getUniformLocation(l,"outTexShape",m));var k=[];return t.customUniforms&&t.customUniforms.forEach((function(t,n){k[n]=e.getUniformLocation(l,t.name,m)})),{program:t,fragmentShader:s,source:u,webGLProgram:l,uniformLocations:v,customUniformLocations:k,inShapeInfos:o,outShapeInfo:i,infLoc:c,nanLoc:d,inShapesLocations:g,inTexShapesLocations:b,outShapeLocation:p,outShapeStridesLocation:h,outTexShapeLocation:f}}function HR(e,t){if(e.length!==t.length)throw Error("Binary was compiled with ".concat(e.length," inputs, but ")+"was executed with ".concat(t.length," inputs"));e.forEach((function(e,n){var r=e.logicalShape,a=t[n],o=a.shape;if(!hn(r,o))throw Error("Binary was compiled with different shapes than "+"the current args. Shapes ".concat(r," and ").concat(o," must match"));if(!e.isUniform||!a.isUniform){var i=e.texShape,u=a.isUniform?null:a.texData.texShape;if(!hn(i,u))throw Error("Binary was compiled with different texture shapes than the"+" current args. Shape ".concat(i," and ").concat(u," must match"))}}))}function UR(e,t,n,r,a){t.program.enableShapeUniforms||(HR(t.inShapeInfos,n),HR([t.outShapeInfo],[r]));var o=r.texData.texture,i=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(o.texture,i[0],i[1]):e.setOutputMatrixTexture(o.texture,i[0],i[1]),e.setProgram(t.webGLProgram),1===Gn().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach((function(n,r){var a=t.program.variableNames[r],o=t.uniformLocations[a],i=t.uniformLocations["offset".concat(a)],u=t.inShapesLocations["".concat(a,"Shape")],s=t.inTexShapesLocations["".concat(a,"TexShape")];if(u){var l=zR(t.program.packedInputs,n.shape,n.texData.texShape).uniformShape;switch(l.length){case 1:e.gl.uniform1iv(u,new Int32Array(l));break;case 2:e.gl.uniform2iv(u,new Int32Array(l));break;case 3:e.gl.uniform3iv(u,new Int32Array(l));break;case 4:e.gl.uniform4iv(u,new Int32Array(l))}}if(s&&e.gl.uniform2i(s,n.texData.texShape[0],n.texData.texShape[1]),null!=o)if(n.isUniform)if(fn(n.shape)<2)e.gl.uniform1f(o,n.uniformValues[0]);else{var c=n.uniformValues;c instanceof Float32Array||(c=new Float32Array(c)),e.gl.uniform1fv(o,c)}else null!=n.texData.slice&&null!=i&&e.gl.uniform1i(i,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture.texture,o,r)}));var u=t.outShapeLocation;if(u)switch(r.shape.length){case 1:e.gl.uniform1iv(u,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(u,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(u,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(u,new Int32Array(r.shape))}if(t.outShapeStridesLocation){var s=Rn(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(s));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(s));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(s))}}t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&a&&t.program.customUniforms.forEach((function(n,r){var o=t.customUniformLocations[r],i=a[r];if("float"===n.type)e.gl.uniform1fv(o,i);else if("vec2"===n.type)e.gl.uniform2fv(o,i);else if("vec3"===n.type)e.gl.uniform3fv(o,i);else if("vec4"===n.type)e.gl.uniform4fv(o,i);else if("int"===n.type)e.gl.uniform1iv(o,i);else if("ivec2"===n.type)e.gl.uniform2iv(o,i);else if("ivec3"===n.type)e.gl.uniform3iv(o,i);else{if("ivec4"!==n.type)throw Error("uniform type ".concat(n.type," is not supported yet."));e.gl.uniform4iv(o,i)}})),e.executeProgram()}function GR(e,t,n){var r="";t.concat(n).forEach((function(t){var a=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){var o=t.texData.texShape,i=zR(e.packedInputs,t.shape,o),u=i.useSqueezeShape,s=i.uniformShape,l=i.keptDims,c="",d="",p="";if(1===s.length&&e.packedInputs){var f=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];c="".concat(f[0]>1,"_").concat(f[1]>1)}else if(2!==s.length||e.packedInputs){if(s.length>2&&!e.packedInputs){var h=Rn(s);p="".concat(h[0]===o[1],"_").concat(h[h.length-1]===o[1])}}else d="".concat(s[0]>1,"_").concat(s[1]>1);var m=t.shape.length,v=2===s.length&&hn(t.shape,o),g=1===fn(t.shape),b=il(t.shape,n.shape),y=!e.packedInputs&&m===n.shape.length&&hn(o,n.texData.texShape),x=e.packedInputs||s.length>2?"":"".concat(o[0]>1,"_").concat(o[1]>1);r+="".concat(m,"_").concat(y,"_").concat(u?l:"","_").concat(s.length,"_").concat(g,"_").concat(b,"_").concat(v,"_").concat(c,"_").concat(d,"_").concat(p,"_").concat(x,"_").concat(a)}else{var k=t.isUniform?"uniform":t.texData.texShape;r+="".concat(t.shape,"_").concat(k,"_").concat(a)}}));var a=e.userCode,o=e.constructor.name;return o+="_"+r+"_"+a+"".concat(Gn().getNumber("WEBGL_VERSION"))}function qR(e){return Gn().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}var KR=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=NA.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];var n=hR();this.outputShape=t,this.enableShapeUniforms=qR(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?vR(["r","c","d"],t):mR(["r","c","d"],t),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),XR=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=NA.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];var n=hR();this.outputShape=t,this.enableShapeUniforms=qR(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?vR(["r","c","d"],t):mR(["r","c","d"],t),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),YR=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.variableNames=["A"],this.outTexUsage=AA.DOWNLOAD;var n=hR();this.outputShape=t,this.userCode="\n      ".concat(yR,"\n\n      void main() {\n        float x = getAAtOutCoords();\n        ").concat(n.output," = encode_float(x);\n      }\n    ")})),$R=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=AA.DOWNLOAD;var n=hR();this.outputShape=t,this.userCode="\n      ".concat(yR,"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ").concat(n.output," = encode_float(x);\n      }\n    ")})),QR=(0,Jt.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,Qt.Z)(this,e),this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];var r=hR();this.outputShape=t,this.enableShapeUniforms=qR(this.outputShape.length);var a="result";n&&(a="floor(result * 255. + 0.5)"),this.userCode="\n      ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":bR(t),"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n\n        int r = flatIndex / texShape[1];\n        int c = imod(flatIndex, texShape[1]);\n        vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n        vec4 values = ").concat(r.texture2D,"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        ").concat(r.output," = vec4(").concat(a,", 0., 0., 0.);\n      }\n    ")})),JR=(0,Jt.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,Qt.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];var r=hR();this.outputShape=t,this.enableShapeUniforms=qR(this.outputShape.length);var a="",o="result";n&&(o="floor(result * 255. + 0.5)");for(var i=0;i<=1;i++)for(var u=0;u<=1;u++){var s=2*i+u;a+="\n          localCoords = coords;\n          if(localCoords[2] + ".concat(u," < ").concat(this.enableShapeUniforms?"outShape[2]":"".concat(t[2]),") {\n          localCoords[2] += ").concat(u,";\n          if (localCoords[1] + ").concat(i," < ").concat(this.enableShapeUniforms?"outShape[1]":"".concat(t[1]),") {\n            localCoords[1] += ").concat(i,";\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ").concat(r.texture2D,"(A, uv);\n\n            if (offset == 0) {\n              result[").concat(s,"] = values[0];\n            } else if (offset == 1) {\n              result[").concat(s,"] = values[1];\n            } else if (offset == 2) {\n              result[").concat(s,"] = values[2];\n            } else {\n              result[").concat(s,"] = values[3];\n            }\n          }\n        }\n        ")}this.userCode="\n        ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":bR(t),"\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ").concat(a,"\n\n          ").concat(r.output," = ").concat(o,";\n        }\n    ")}));function eO(e){var t=hR();return function(e,t){var n=tR(e,(function(){return e.createShader(e.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(zA(e,(function(){return e.shaderSource(n,t)})),zA(e,(function(){return e.compileShader(n)})),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}(e,"".concat(t.version,"\n    precision highp float;\n    ").concat(t.attribute," vec3 clipSpacePos;\n    ").concat(t.attribute," vec2 uv;\n    ").concat(t.varyingVs," vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }"))}function tO(e){return function(e,t){var n=tR(e,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return zA(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),zA(e,(function(){return e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)})),n}(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function nO(e){return function(e,t){var n=tR(e,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return zA(e,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n)})),zA(e,(function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)})),n}(e,new Uint16Array([0,1,2,2,1,3]))}function rO(e,t,n,r,a,o){!function(e,t){var n=Gn().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="[".concat(e,"x").concat(t,"]");throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n){var a="[".concat(e,"x").concat(t,"]"),o="[".concat(n,"x").concat(n,"]");throw new Error("Requested texture size "+a+" greater than WebGL maximum on this browser / GPU "+o+".")}}(t,n);var i=function(e){return tR(e,(function(){return e.createTexture()}),"Unable to create WebGLTexture.")}(e),u=e.TEXTURE_2D;return zA(e,(function(){return e.bindTexture(u,i)})),zA(e,(function(){return e.texParameteri(u,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)})),zA(e,(function(){return e.texParameteri(u,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)})),zA(e,(function(){return e.texParameteri(u,e.TEXTURE_MIN_FILTER,e.NEAREST)})),zA(e,(function(){return e.texParameteri(u,e.TEXTURE_MAG_FILTER,e.NEAREST)})),1===Gn().getNumber("WEBGL_VERSION")?zA(e,(function(){return e.texImage2D(u,0,r,t,n,0,a,o,null)})):zA(e,(function(){return e.texStorage2D(u,1,r,t,n)})),zA(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)})),{texture:i,texShape:[n,t]}}function aO(e){return e.internalFormatFloat}function oO(e){return e.internalFormatHalfFloat}function iO(e){return e.downloadTextureFormat}function uO(e){return e.internalFormatPackedFloat}function sO(e){return e.internalFormatPackedHalfFloat}function lO(e,t,n,r,a,o,i,u){var s=e,l=new Float32Array(function(e,t){var n=_A(e,t),r=(0,je.Z)(n,2);return r[0]*r[1]*4}(o,i));return s.bindBuffer(s.PIXEL_PACK_BUFFER,t),s.getBufferSubData(s.PIXEL_PACK_BUFFER,0,l),s.bindBuffer(s.PIXEL_PACK_BUFFER,null),l}var cO=function(){function e(t){(0,Qt.Z)(this,e),this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var n=Gn().getNumber("WEBGL_VERSION");null!=t?(this.gl=t,function(e,t){OA[e]=t}(n,t)):this.gl=MA(n);var r="WEBGL_color_buffer_float",a="EXT_color_buffer_half_float";if(1===Gn().getNumber("WEBGL_VERSION")){var o="OES_texture_half_float";if(this.textureFloatExtension=VA(this.gl,"OES_texture_float"),sR(this.gl,o))this.textureHalfFloatExtension=VA(this.gl,o);else if(Gn().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),sR(this.gl,a))this.colorBufferHalfFloatExtension=VA(this.gl,a);else if(Gn().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",sR(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else{if(!sR(this.gl,a))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(a)}this.vertexBuffer=tO(this.gl),this.indexBuffer=nO(this.gl),this.framebuffer=function(e){return tR(e,(function(){return e.createFramebuffer()}),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=BA(this.gl,this.textureHalfFloatExtension)}return(0,Jt.Z)(e,[{key:"debug",get:function(){return Gn().getBool("DEBUG")}},{key:"dispose",value:function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;zA(t,(function(){return t.finish()})),zA(t,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)})),zA(t,(function(){return t.deleteFramebuffer(e.framebuffer)})),zA(t,(function(){return t.bindBuffer(t.ARRAY_BUFFER,null)})),zA(t,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)})),zA(t,(function(){return t.deleteBuffer(e.indexBuffer)})),this.disposed=!0}}},{key:"createFloat32MatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=PA(t,n),o=(0,je.Z)(a,2);return rO(e,o[0],o[1],aO(r),r.textureFormatFloat,e.FLOAT)}(this.gl,e,t,this.textureConfig)}},{key:"createFloat16MatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=PA(t,n),o=(0,je.Z)(a,2);return rO(e,o[0],o[1],oO(r),r.textureFormatFloat,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}},{key:"createUnsignedBytesMatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=PA(t,n),o=(0,je.Z)(a,2);return rO(e,o[0],o[1],iO(r),e.RGBA,e.UNSIGNED_BYTE)}(this.gl,e,t,this.textureConfig)}},{key:"uploadPixelDataToTexture",value:function(e,t){this.throwIfDisposed(),function(e,t,n){zA(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),n.data instanceof Uint8Array?2===Gn().getNumber("WEBGL_VERSION")?zA(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data)})):zA(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data)})):2===Gn().getNumber("WEBGL_VERSION")?zA(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n)})):zA(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)})),zA(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}(this.gl,e,t)}},{key:"uploadDenseMatrixToTexture",value:function(e,t,n,r){this.throwIfDisposed(),function(e,t,n,r,a,o){var i,u,s;zA(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),a instanceof Uint8Array?(i=new Uint8Array(n*r*4),u=e.UNSIGNED_BYTE,s=e.RGBA):(i=new Float32Array(n*r*4),u=e.FLOAT,s=o.internalFormatPackedFloat),i.set(a),2===Gn().getNumber("WEBGL_VERSION")?zA(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,u,i)})):zA(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,s,n,r,0,e.RGBA,u,i)})),zA(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}(this.gl,e,t,n,r,this.textureConfig)}},{key:"createFloat16PackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=_A(t,n),o=(0,je.Z)(a,2);return rO(e,o[0],o[1],sO(r),e.RGBA,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}},{key:"createPackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=_A(t,n),o=(0,je.Z)(a,2);return rO(e,o[0],o[1],uO(r),e.RGBA,e.FLOAT)}(this.gl,e,t,this.textureConfig)}},{key:"deleteMatrixTexture",value:function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(JA(this.gl,this.framebuffer),this.outputTexture=null),zA(this.gl,(function(){return t.gl.deleteTexture(e)}))}},{key:"downloadByteEncodedFloatMatrixFromOutputTexture",value:function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return function(e,t,n,r){var a=PA(t,n),o=(0,je.Z)(a,2),i=o[0],u=o[1],s=new Uint8Array(t*n*4);return zA(e,(function(){return e.readPixels(0,0,i,u,r.downloadTextureFormat,e.UNSIGNED_BYTE,s)})),new Float32Array(s.buffer)}(r.gl,t,n,r.textureConfig)}))}},{key:"downloadPackedMatrixFromBuffer",value:function(e,t,n,r,a,o){return lO(this.gl,e,0,0,0,a,o,this.textureConfig)}},{key:"downloadFloat32MatrixFromBuffer",value:function(e,t){return function(e,t,n){var r=e,a=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,a),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),a}(this.gl,e,t)}},{key:"createBufferFromTexture",value:function(e,t,n){this.bindTextureToFrameBuffer(e);var r=function(e,t,n,r){var a=e.createBuffer();zA(e,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,a)}));var o=16*t*n;return zA(e,(function(){return e.bufferData(e.PIXEL_PACK_BUFFER,o,e.STREAM_READ)})),zA(e,(function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0)})),zA(e,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)})),a}(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}},{key:"createAndWaitForFence",value:function(){var e=this.createFence(this.gl);return this.pollFence(e)}},{key:"createFence",value:function(e){var t,n,r=this;if(Gn().getBool("WEBGL_FENCE_API_ENABLED")){var a=e,o=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=a.clientWaitSync(o,0,0);return e===a.ALREADY_SIGNALED||e===a.CONDITION_SATISFIED},t=o}else Gn().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(t,Gn().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}}},{key:"downloadMatrixFromPackedTexture",value:function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return function(e,t,n){var r=new Float32Array(t*n*4);return zA(e,(function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r)})),r}(r.gl,t,n)}))}},{key:"createProgram",value:function(e){var t=this;this.throwIfDisposed();var n=this.gl;null==this.vertexShader&&(this.vertexShader=eO(n));var r=function(e){return tR(e,(function(){return e.createProgram()}),"Unable to create WebGLProgram.")}(n);return zA(n,(function(){return n.attachShader(r,t.vertexShader)})),zA(n,(function(){return n.attachShader(r,e)})),function(e,t){if(zA(e,(function(){return e.linkProgram(t)})),!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}(n,r),this.debug&&qA(n,r),this.vertexAttrsAreBound||(this.setProgram(r),this.vertexAttrsAreBound=function(e,t,n){return zA(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),KA(e,t,"clipSpacePos",n,3,20,0)&&KA(e,t,"uv",n,2,20,12)}(n,this.program,this.vertexBuffer)),r}},{key:"deleteProgram",value:function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&zA(this.gl,(function(){return t.gl.deleteProgram(e)}))}},{key:"setProgram",value:function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&qA(this.gl,this.program),zA(this.gl,(function(){return t.gl.useProgram(e)}))}},{key:"getUniformLocation",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.throwIfDisposed(),n?XA(this.gl,e,t):YA(this.gl,e,t)}},{key:"getAttributeLocation",value:function(e,t){var n=this;return this.throwIfDisposed(),zA(this.gl,(function(){return n.gl.getAttribLocation(e,t)}))}},{key:"getUniformLocationNoThrow",value:function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}},{key:"setInputMatrixTexture",value:function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),$A(this.gl,e,t,n)}},{key:"setOutputMatrixTexture",value:function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}},{key:"setOutputPackedMatrixTexture",value:function(e,t,n){this.throwIfDisposed();var r=_A(t,n),a=(0,je.Z)(r,2),o=a[0],i=a[1];this.setOutputMatrixTextureDriver(e,o,i)}},{key:"setOutputMatrixWriteRegion",value:function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)}},{key:"setOutputPackedMatrixWriteRegion",value:function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}},{key:"debugValidate",value:function(){null!=this.program&&qA(this.gl,this.program),eR(this.gl)}},{key:"executeProgram",value:function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),zA(e,(function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)}))}},{key:"blockUntilAllProgramsCompleted",value:function(){var e=this;this.throwIfDisposed(),zA(this.gl,(function(){return e.gl.finish()}))}},{key:"getQueryTimerExtension",value:function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=VA(this.gl,2===Gn().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}},{key:"getQueryTimerExtensionWebGL2",value:function(){return this.getQueryTimerExtension()}},{key:"getQueryTimerExtensionWebGL1",value:function(){return this.getQueryTimerExtension()}},{key:"beginQuery",value:function(){if(2===Gn().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),a=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,a),a}},{key:"endQuery",value:function(){if(2!==Gn().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}}},{key:"waitForQueryAndGetTime",value:function(){var e=Ut(qt().mark((function e(t){var n=this;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bn((function(){return n.disposed||n.isQueryAvailable(t,Gn().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}));case 2:return e.abrupt("return",this.getQueryTime(t,Gn().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getQueryTime",value:function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6}},{key:"isQueryAvailable",value:function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),a=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),a&&!this.disjoint}var o=this.getQueryTimerExtensionWebGL1(),i=o.getQueryObjectEXT(e,o.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(o.GPU_DISJOINT_EXT)),i&&!this.disjoint}},{key:"pollFence",value:function(e){var t=this;return new Promise((function(n){t.addItemToPoll((function(){return e.isFencePassed()}),(function(){return n()}))}))}},{key:"pollItems",value:function(){for(var e=function(e){for(var t=0;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map((function(e){return e.isDoneFn}))),t=0;t<=e;++t){(0,this.itemsToPoll[t].resolveFn)()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}},{key:"addItemToPoll",value:function(e,t){var n=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||bn((function(){return n.pollItems(),0===n.itemsToPoll.length}))}},{key:"bindTextureToFrameBuffer",value:function(e){this.throwIfDisposed(),QA(this.gl,e,this.framebuffer),this.debug&&eR(this.gl)}},{key:"unbindTextureToFrameBuffer",value:function(){null!=this.outputTexture?(QA(this.gl,this.outputTexture,this.framebuffer),this.debug&&eR(this.gl)):JA(this.gl,this.framebuffer)}},{key:"downloadMatrixDriver",value:function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n}},{key:"setOutputMatrixTextureDriver",value:function(e,t,n){this.throwIfDisposed();var r=this.gl;QA(r,e,this.framebuffer),this.debug&&eR(r),this.outputTexture=e,zA(r,(function(){return r.viewport(0,0,t,n)})),zA(r,(function(){return r.scissor(0,0,t,n)}))}},{key:"setOutputMatrixWriteRegionDriver",value:function(e,t,n,r){var a=this;this.throwIfDisposed(),zA(this.gl,(function(){return a.gl.scissor(e,t,n,r)}))}},{key:"throwIfDisposed",value:function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}},{key:"throwIfNoProgram",value:function(){if(null==this.program)throw new Error("No GPU program is currently set.")}}]),e}();var dO=sS,pO=eI,fO=tI,hO=aI,mO=cI,vO=GI,gO=$I,bO=nF,yO=yF,xO=IF,kO=TF,wO=AF,CO=ZF,DO=HF,EO=qF,SO=YF,IO=QF,FO=fT,TO=vT,NO=ST,AO=_I,RO=LT,OO=UT,ZO=aN,MO=iN,PO=bN,LO=XE,_O=gS,BO=YS,zO=PN,jO=_N,VO=zN,WO=UN,HO=eA,UO=rA,GO=iA,qO=sA,KO=sF,XO=fA,YO=gA,$O=DS,QO=DA;function JO(e,t){return["x","y","z","w","u","v"].slice(0,t).map((function(t){return"".concat(e,".").concat(t)}))}function eZ(e,t){return 1===t?[e]:JO(e,t)}var tZ=function(){function e(t){if((0,Qt.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.enableShapeUniforms=qR(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=eZ("rc",this.rank),r=BR(this.rank),a=this.getOutOfBoundsCondition(n),o=this.getSetup(n),i=this.getOutput(n);this.userCode="\n        void main() {\n          ".concat(r," rc = getOutputCoords();\n\n          if(").concat(a,") {\n            setOutput(vec4(0));\n          } else {\n            ").concat(o,"\n\n            setOutput(vec4(").concat(i,"));\n          }\n        }\n      ")}}return(0,Jt.Z)(e,[{key:"getSourceCoordsArr",value:function(e){for(var t=[],n=0;n<=1;n++)for(var r=0;r<=1;r++){for(var a="".concat(0===n?"r":"rp1",", ").concat(0===r?"c":"cp1"),o=2;o<this.rank;o++)a="".concat(e[e.length-1-o],",")+a;t.push(a)}return t}},{key:"getOutOfBoundsCondition",value:function(e){if(1===this.rank)return"rc > ".concat(this.enableShapeUniforms?"outShape":this.outputShape[0]);for(var t="",n=this.rank-2;n<this.rank;n++)t+="".concat(e[n]," >= ").concat(this.enableShapeUniforms?"outShape[".concat(n,"]"):this.outputShape[n]),n<this.rank-1&&(t+="||");return t}},{key:"getSetup",value:function(e){if(1===this.rank)return"";var t=e.slice(-2),n=this.enableShapeUniforms?"outShape[".concat(this.rank," - 1]"):this.outputShape[this.rank-1],r=this.enableShapeUniforms?"outShape[".concat(this.rank," - 2]"):this.outputShape[this.rank-2];return"\n      int r = ".concat(t[0],";\n      int c = ").concat(t[1],";\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ").concat(n,";\n      bool rEdge = rp1 >= ").concat(r,";\n    ")}},{key:"getOutput",value:function(e){var t=this.getSourceCoordsArr(e);if(1===this.rank){var n=this.enableShapeUniforms?"outShape":this.outputShape[0];return"getA(rc), (rc + 1 >= ".concat(n," ? 0. : getA(rc + 1)), 0, 0")}return"getA(".concat(t[0],"),\n            cEdge ? 0. : getA(").concat(t[1],"),\n            rEdge ? 0. : getA(").concat(t[2],"),\n            rEdge || cEdge ? 0. : getA(").concat(t[3],")")}}]),e}(),nZ=(0,Jt.Z)((function e(t,n){(0,Qt.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=t,this.enableShapeUniforms=qR(this.outputShape.length);for(var r="",a=0;a<4;a++){var o="thisRC = rc;";a%2===1&&(o+="thisRC.z += 1;"),a>1&&(o+="thisRC.y += 1;"),r+="\n        ".concat(o,"\n        ").concat(a>0?"if(thisRC.y < rows && thisRC.z < cols){":"","\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[").concat(a,"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ").concat(a>0?"}":"","\n      ")}this.userCode="\n      ".concat(function(e,t){var n=t?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=e.map((function(e,t){return t})),a=gR(r,t);return a.map((function(t,r){var o="int ".concat(e[r]," = ").concat(n," / ").concat(a[r]),i=r===a.length-1?"int ".concat(e[r+1]," = ").concat(n," - ").concat(e[r]," * ").concat(a[r]):"index -= ".concat(e[r]," * ").concat(a[r]);return"".concat(o,"; ").concat(i,";")})).join("")}(["r","c","d"],"inputShape"):mR(["r","c","d"],e);return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ".concat(n,"\n      return ivec3(r, c, d);\n    }\n  ")}(n,this.enableShapeUniforms),"\n      ").concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":bR(t),"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ").concat(this.enableShapeUniforms?"outShape[1]":t[1],";\n        int cols = ").concat(this.enableShapeUniforms?"outShape[2]":t[2],";\n\n        ").concat(r,"\n\n        setOutput(result);\n      }\n    ")}));var rZ=function(){function e(t){(0,Qt.Z)(this,e),this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return(0,Jt.Z)(e,[{key:"acquireTexture",value:function(e,t,n){var r=oZ(t,n),a=iZ(e,r,n);a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]);var o,i=aZ(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=i,this.log();var u=this.freeTextures[a].shift();return this.usedTextures[a].push(u),u}return r===RA.PACKED_2X2_FLOAT32?o=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===RA.PACKED_2X2_FLOAT16?o=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===RA.UNPACKED_FLOAT32?o=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===RA.UNPACKED_FLOAT16?o=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===RA.PACKED_4X1_UNSIGNED_BYTE&&(o=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[a].push(o),this.numUsedTextures++,this._numBytesAllocated+=i,this.log(),o}},{key:"releaseTexture",value:function(e,t,n,r){if(null!=this.freeTextures){var a=oZ(n,r),o=iZ(t,a,r);o in this.freeTextures||(this.freeTextures[o]=[]);var i=aZ(t,a,this.gpgpu.gl,this.gpgpu.textureConfig,r),u=Gn().get("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==u&&this._numBytesAllocated>u?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=i):(this.freeTextures[o].push(e),this.numFreeTextures++,this._numBytesFree+=i),this.numUsedTextures--;var s=this.usedTextures[o],l=s.indexOf(e);if(l<0)throw new Error("Cannot release a texture that was never provided by this texture manager");s.splice(l,1),this.log()}}},{key:"log",value:function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used","".concat(this.numFreeTextures," / ").concat(this.numUsedTextures),"(".concat(e,")"));var t=this._numBytesFree/this._numBytesAllocated;console.log("Bytes allocated: ".concat(this._numBytesAllocated)),console.log("Bytes unused: ".concat(this._numBytesFree," (").concat(Math.round(100*t),"%)"))}}},{key:"numBytesAllocated",get:function(){return this._numBytesAllocated}},{key:"numBytesFree",get:function(){return this._numBytesFree}},{key:"getNumUsedTextures",value:function(){return this.numUsedTextures}},{key:"getNumFreeTextures",value:function(){return this.numFreeTextures}},{key:"dispose",value:function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t.texture)}));for(var n in this.usedTextures)this.usedTextures[n].forEach((function(t){e.gpgpu.deleteMatrixTexture(t.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}]),e}();function aZ(e,t,n,r,a){var o,i=function(e,t){switch(e){case RA.PACKED_2X2_FLOAT32:return uO(t);case RA.PACKED_2X2_FLOAT16:return sO(t);case RA.UNPACKED_FLOAT32:return aO(t);case RA.UNPACKED_FLOAT16:return oO(t);case RA.PACKED_4X1_UNSIGNED_BYTE:return iO(t);default:throw new Error("Unknown physical texture type ".concat(e))}}(t,r);if(a){var u=_A(e[0],e[1]),s=(0,je.Z)(u,2);o=s[0]*s[1]}else{var l=PA(e[0],e[1]),c=(0,je.Z)(l,2);o=c[0]*c[1]}var d=function(e,t){var n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error("Unknown internal format ".concat(t))}(n,i);return o*d}function oZ(e,t){if(e===AA.UPLOAD)return RA.PACKED_2X2_FLOAT32;if(e===AA.RENDER||null==e)return function(e){return Gn().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?RA.PACKED_2X2_FLOAT32:RA.UNPACKED_FLOAT32:e?RA.PACKED_2X2_FLOAT16:RA.UNPACKED_FLOAT16}(t);if(e===AA.DOWNLOAD||e===AA.PIXELS)return RA.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type ".concat(e))}function iZ(e,t,n){return"".concat(e[0],"_").concat(e[1],"_").concat(t,"_").concat(n)}var uZ=(0,Jt.Z)((function e(t,n){(0,Qt.Z)(this,e),this.variableNames=["A"],this.outputShape=t,this.enableShapeUniforms=qR(this.outputShape.length),this.userCode="\n      float unaryOperation(float x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")})),sZ="if (isnan(x)) return x;",lZ="return x;",cZ="return abs(x);";var dZ="return (x >= 0.0) ? x : (exp(x) - 1.0);",pZ=sZ+"\n  return (x < 0.0) ? 0.0 : x;\n",fZ=sZ+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",hZ="return x;",mZ="return 1.0 / (1.0 + exp(-1.0 * x));",vZ="return x;",gZ="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",bZ="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",yZ="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",xZ="return 1.0 / (1.0 + exp(-1.0 * x));",kZ=(0,Jt.Z)((function e(t,n){(0,Qt.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.enableShapeUniforms=qR(this.outputShape.length),this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")})),wZ=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t,this.enableShapeUniforms=qR(this.outputShape.length);var n=t.length,r=eZ("rc",n),a=BR(n),o=function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(n,r),i=r.slice(-2),u=n<=1?"rc":"vec2(".concat(i.join(","),")");this.userCode="\n      void main() {\n        ".concat(a," rc = getOutputCoords();\n        vec4 packedInput = getA(").concat(o,");\n\n        setOutput(getChannel(packedInput, ").concat(u,"));\n      }\n    ")})),CZ=wf,DZ={};var EZ=Gn().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");var SZ=function(e){(0,Mi.Z)(n,e);var t=(0,Pi.Z)(n);function n(e){var r,a,o;if((0,Qt.Z)(this,n),(r=t.call(this)).pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.lastGlFlushTime=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!Gn().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null!=e){if(e instanceof cO)a=e;else{var i=MA(Gn().getNumber("WEBGL_VERSION"),e);a=new cO(i)}r.binaryCache={},r.gpgpuCreatedLocally=!1}else{var u=MA(Gn().getNumber("WEBGL_VERSION"));a=new cO(u),r.binaryCache=((o=Gn().getNumber("WEBGL_VERSION"))in DZ||(DZ[o]={}),DZ[o]),r.gpgpuCreatedLocally=!0}return r.gpgpu=a,r.canvas=r.gpgpu.gl.canvas,r.textureManager=new rZ(r.gpgpu),r.numMBBeforeWarning=null==Gn().global.screen?1024:Gn().global.screen.height*Gn().global.screen.width*window.devicePixelRatio*600/1024/1024,r.texData=new en((0,Cg.Z)(r),Dl()),r}return(0,Jt.Z)(n,[{key:"nextDataId",value:function(){return n.nextDataId++}},{key:"numDataIds",value:function(){return this.texData.numDataIds()-this.pendingDeletes}},{key:"write",value:function(e,t,n){if((Gn().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||Gn().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={id:this.nextDataId()};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:AA.UPLOAD,refCount:1}),r}},{key:"refCount",value:function(e){return this.texData.has(e)?this.texData.get(e).refCount:0}},{key:"incRef",value:function(e){this.texData.get(e).refCount++}},{key:"decRef",value:function(e){this.texData.has(e)&&this.texData.get(e).refCount--}},{key:"move",value:function(e,t,n,r,a){if(Gn().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:AA.UPLOAD,refCount:a})}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"readSync",value:function(e){var t=this.texData.get(e),n=t.values,r=t.dtype,a=t.complexTensorInfos,o=t.slice,i=t.shape,u=t.isPacked;if(null!=o){var s;s=u?new kZ(i,hZ):new uZ(i,hZ);var l=this.runWebGLProgram(s,[{dataId:e,shape:i,dtype:r}],r),c=this.readSync(l.dataId);return this.disposeIntermediateTensorInfo(l),c}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;var d,p,f=null!=this.activeTimers;(f&&(d=Fi()),"complex64"===r)?p=Bm(this.readSync(a.real.dataId),this.readSync(a.imag.dataId)):p=this.getValuesFromTexture(e);return f&&(this.downloadWaitMs+=Fi()-d),this.convertAndCacheOnCPU(e,p)}},{key:"read",value:function(){var e=Ut(qt().mark((function e(t){var n,r,a,o,i,u,s,l,c,d,p,f,h,m,v,g,b,y,x,k,w,C,D;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pendingRead.has(t)){e.next=3;break}return n=this.pendingRead.get(t),e.abrupt("return",new Promise((function(e){return n.push(e)})));case 3:if(r=this.texData.get(t),a=r.values,o=r.shape,i=r.slice,u=r.dtype,s=r.complexTensorInfos,l=r.isPacked,null==i){e.next=11;break}return c=l?new kZ(o,hZ):new uZ(o,hZ),d=this.runWebGLProgram(c,[{dataId:t,shape:o,dtype:u}],u),p=this.read(d.dataId),this.disposeIntermediateTensorInfo(d),e.abrupt("return",p);case 11:if(null==a){e.next=13;break}return e.abrupt("return",this.convertAndCacheOnCPU(t));case 13:if(!Gn().getBool("DEBUG")){e.next=16;break}if(Gn().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")||2!==Gn().getNumber("WEBGL_VERSION")){e.next=16;break}throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");case 16:if(f=null,"complex64"!==u&&Gn().get("WEBGL_BUFFER_SUPPORTED")&&(h=this.decode(t),v=this.texData.get(h.dataId),f=(m=this.gpgpu).createBufferFromTexture.apply(m,[v.texture.texture].concat((0,$t.Z)(LA(o))))),this.pendingRead.set(t,[]),"complex64"===u){e.next=22;break}return e.next=22,this.gpgpu.createAndWaitForFence();case 22:if("complex64"!==u){e.next=31;break}return e.next=25,Promise.all([this.read(s.real.dataId),this.read(s.imag.dataId)]);case 25:b=e.sent,y=b[0],x=b[1],g=Bm(y,x),e.next=32;break;case 31:null==f?g=this.getValuesFromTexture(t):(k=fn(o),g=this.gpgpu.downloadFloat32MatrixFromBuffer(f,k));case 32:return null!=h&&this.disposeIntermediateTensorInfo(h),null!=f&&zA(w=this.gpgpu.gl,(function(){return w.deleteBuffer(f)})),C=this.convertAndCacheOnCPU(t,g),D=this.pendingRead.get(t),this.pendingRead.delete(t),D.forEach((function(e){return e(C)})),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t)&&Dl().removeDataId(t,this),this.pendingDeletes--),e.abrupt("return",C);case 40:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readToGPU",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.texData.get(e),r=n.values,a=n.shape,o=n.slice,i=n.dtype,u=n.isPacked,s=n.texture;if("complex64"===i)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=o){var l;l=u?new kZ(a,hZ):new uZ(a,hZ);var c=this.runWebGLProgram(l,[{dataId:e,shape:a,dtype:i}],i),d=this.readToGPU(c,t);return this.disposeIntermediateTensorInfo(c),d}if(null==s)throw null!=r?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");var p=this.decode(e,t.customTexShape),f=Dl().makeTensorFromDataId(p.dataId,p.shape,p.dtype),h=this.texData.get(p.dataId);return Object.assign({tensorRef:f},h.texture)}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId),n=t;if("string"===e.dtype)try{n=t.map((function(e){return Ni(e)}))}catch(r){throw new Error("Failed to decode encoded string bytes into utf-8")}return Ms(e.shape,e.dtype,n)}},{key:"checkNumericalProblems",value:function(e){if(null!=e)for(var t=0;t<e.length;t++){var n=e[t];if(!jA(n)){if(Gn().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value ".concat(n," cannot be represented with your ")+"current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value ".concat(n," cannot be represented on this device."))}}}},{key:"getValuesFromTexture",value:function(e){var t=this.texData.get(e),n=t.shape,r=t.dtype,a=t.isPacked,o=fn(n);if(Gn().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var i,u=this.decode(e),s=this.texData.get(u.dataId),l=(i=this.gpgpu).downloadMatrixFromPackedTexture.apply(i,[s.texture.texture].concat((0,$t.Z)(LA(n)))).subarray(0,o);return this.disposeIntermediateTensorInfo(u),l}var c=Gn().getBool("WEBGL_PACK")&&!0===a,d=c?oR(n):n,p=c?new $R(d):new YR(d),f=this.runWebGLProgram(p,[{shape:d,dtype:r,dataId:e}],"float32"),h=this.texData.get(f.dataId),m=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(h.texture.texture,h.texShape[0],h.texShape[1]).subarray(0,o);return this.disposeIntermediateTensorInfo(f),m}},{key:"timerAvailable",value:function(){return Gn().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}},{key:"time",value:function(e){var t=this,n=this.activeTimers,r=[],a=!1;null==this.programTimersStack?(this.programTimersStack=r,a=!0):this.activeTimers.push(r),this.activeTimers=r,e();var o=pn(this.activeTimers.map((function(e){return e.query}))).filter((function(e){return null!=e})),i=pn(this.activeTimers.map((function(e){return e.name}))).filter((function(e){return null!=e}));this.activeTimers=n,a&&(this.programTimersStack=null);var u={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return Ut(qt().mark((function e(){var n;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Gn().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)){e.next=8;break}return e.next=3,Promise.all(o);case 3:n=e.sent,u.kernelMs=sn(n),u.getExtraProfileInfo=function(){return n.map((function(e,t){return{name:i[t],ms:e}})).map((function(e){return"".concat(e.name,": ").concat(e.ms)})).join(", ")},e.next=9;break;case 8:u.kernelMs={error:"WebGL query timers are not supported in this environment."};case 9:return t.uploadWaitMs=0,t.downloadWaitMs=0,e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})))()}},{key:"memory",value:function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}},{key:"startTimer",value:function(){return Gn().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:Fi(),endMs:null}}},{key:"endTimer",value:function(e){return Gn().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=Fi(),e)}},{key:"getQueryTime",value:function(){var e=Ut(qt().mark((function e(t){var n;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Gn().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)){e.next=2;break}return e.abrupt("return",this.gpgpu.waitForQueryAndGetTime(t));case 2:return n=t,e.abrupt("return",n.endMs-n.startMs);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);var n=this.texData.get(e),r=n.complexTensorInfos;return null!=r&&(this.disposeData(r.real.dataId,t),this.disposeData(r.imag.dataId,t)),this.texData.delete(e),!0}},{key:"releaseGPUData",value:function(e){var t=this.texData.get(e),n=t.texture,r=t.dtype,a=t.texShape,o=t.usage,i=t.isPacked,u=t.slice,s=u&&u.origDataId||e,l=this.dataRefCount.get(s);l>1?this.dataRefCount.set(s,l-1):(this.dataRefCount.delete(s),null!=n&&(this.numBytesInGPU-=this.computeBytes(a,r),this.textureManager.releaseTexture(n,a,o,i)));var c=this.texData.get(e);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null}},{key:"getTexture",value:function(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}},{key:"getDataInfo",value:function(e){return this.texData.get(e)}},{key:"shouldExecuteOnCPU",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:EZ;return Gn().getBool("WEBGL_CPU_FORWARD")&&e.every((function(e){return null==t.texData.get(e.dataId).texture&&fn(e.shape)<n}))}},{key:"getGPGPUContext",value:function(){return this.gpgpu}},{key:"where",value:function(e){ei("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return CZ(e.shape,t)}},{key:"packedUnaryOp",value:function(e,t,n){var r=new kZ(e.shape,t),a=this.compileAndRun(r,[e],n);return Dl().makeTensorFromDataId(a.dataId,a.shape,a.dtype)}},{key:"abs",value:function(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){var t=_O(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if(Gn().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,cZ,e.dtype);var n=new uZ(e.shape,cZ),r=this.compileAndRun(n,[e]);return Dl().makeTensorFromDataId(r.dataId,r.shape,r.dtype)}},{key:"makeTensorInfo",value:function(e,t,n){var r;if("string"===t&&null!=n&&n.length>0&&In(n[0])){var a=n.map((function(e){return Ti(e)}));r=this.write(a,e,t)}else r=this.write(n,e,t);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:t}}},{key:"makeOutput",value:function(e,t,n){var r=this.makeTensorInfo(e,t,n).dataId;return Dl().makeTensorFromDataId(r,e,t,this)}},{key:"unpackTensor",value:function(e){var t=new wZ(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}},{key:"packTensor",value:function(e){var t=new tZ(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}},{key:"packedReshape",value:function(e,t){var n=[rR(e.shape)].concat((0,$t.Z)(aR(e.shape))),r={dtype:e.dtype,shape:n,dataId:e.dataId},a=[rR(t)].concat((0,$t.Z)(aR(t))),o=new nZ(a,n),i=[n],u=this.runWebGLProgram(o,[r],e.dtype,i,!0);return{dataId:u.dataId,shape:t,dtype:u.dtype}}},{key:"decode",value:function(e,t){var n=this.texData.get(e),r=n.isPacked,a=n.shape,o=n.dtype;null!=t&&ln(fn(a)<=t[0]*t[1]*4,(function(){return"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."}));var i,u=oR(a);i=r?new XR(u):new KR(u);var s=[null!=t?t:LA(u)];return{dtype:o,shape:a,dataId:this.runWebGLProgram(i,[{shape:u,dtype:o,dataId:e}],o,s,!0,t).dataId}}},{key:"runWebGLProgram",value:function(e,t,n,r){var a=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5?arguments[5]:void 0,u=this.makeTensorInfo(e.outputShape,n),s=this.texData.get(u.dataId);if(e.packedOutput&&(s.isPacked=!0),e.outPackingScheme===NA.DENSE){var l=null!=i?i:LA(e.outputShape);s.texShape=l.map((function(e){return 2*e}))}if(null!=e.outTexUsage&&(s.usage=e.outTexUsage),0===fn(u.shape))return s.values=wn(u.dtype,0),u;var c=[],d=t.map((function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=a.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&fn(t.shape)<=Gn().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(a.uploadToGPU(t.dataId),!!n.isPacked!==!!e.packedInputs)t=n.isPacked?a.unpackTensor(t):a.packTensor(t),c.push(t),n=a.texData.get(t.dataId);else if(n.isPacked&&!uR(n.shape,t.shape)){var r=t,o=t.shape;t.shape=n.shape,t=a.packedReshape(t,o),c.push(t),n=a.texData.get(t.dataId),r.shape=o}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(u.dataId);var p,f={shape:u.shape,texData:s,isUniform:!1},h=GR(e,d,f),m=this.getAndSaveBinary(h,(function(){return WR(a.gpgpu,e,d,f)})),v=null!=this.activeTimers;v&&(p=this.startTimer()),UR(this.gpgpu,m,d,f,r),c.forEach((function(e){return a.disposeIntermediateTensorInfo(e)})),v&&(p=this.endTimer(p),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(p)}));var g=Gn().get("WEBGL_FLUSH_THRESHOLD");if(g>0){var b=Fi();b-this.lastGlFlushTime>g&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=b)}if(!Gn().getBool("WEBGL_LAZILY_UNPACK")&&s.isPacked&&!1===o){var y=this.unpackTensor(u);return this.disposeIntermediateTensorInfo(u),y}return u}},{key:"compileAndRun",value:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n=n||t[0].dtype;var o=this.runWebGLProgram(e,t,n,r,a);return o}},{key:"getAndSaveBinary",value:function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}},{key:"getTextureManager",value:function(){return this.textureManager}},{key:"dispose",value:function(){var e=this;if(!this.disposed){if(!Gn().getBool("IS_TEST"))Object.keys(this.binaryCache).forEach((function(t){e.gpgpu.deleteProgram(e.binaryCache[t].webGLProgram),delete e.binaryCache[t]}));this.textureManager.dispose(),null!=this.canvas&&"undefined"!==typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}},{key:"floatPrecision",value:function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=Sl((function(){if(!Gn().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=Gn().getBool("DEBUG");Gn().set("DEBUG",!1);var n=e.abs(Al(1e-8)).dataSync()[0];if(Gn().set("DEBUG",t),n>0)return 32}return 16}))),this.floatPrecisionValue}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"uploadToGPU",value:function(e){var t=this.texData.get(e),n=t.shape,r=t.dtype,a=t.values,o=t.texture,i=t.usage,u=t.isPacked;if(null==o){var s,l=null!=this.activeTimers;l&&(s=Fi());var c=t.texShape;if(null==c&&(c=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Gn().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(n*=2,1===(e=e.map((function(t,n){return n>=e.length-2?on(e[n]):e[n]}))).length&&(e=[2,e[0]])),2!==e.length){var r=kn(e);e=r.newShape}var a=fn(e);if(e.length<=1&&a<=n)return[1,a];if(2===e.length&&e[0]<=n&&e[1]<=n)return e;if(3===e.length&&e[0]*e[1]<=n&&e[2]<=n)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=n&&e[1]*e[2]<=n)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n)return[e[0],e[1]*e[2]*e[3]];if(t){var o=rR(e),i=2,u=2;if(e.length){var s=aR(e),l=(0,je.Z)(s,2);i=l[0],u=l[1]}return vn(a=o*(i/2)*(u/2)).map((function(e){return 2*e}))}return vn(a)}(n,u),t.texShape=c),null!=a){var d,p=oR(n),f=c[1],h=c[0],m=a instanceof Uint8Array||a instanceof Uint8ClampedArray;if(u||!m){var v=_A(c[0],c[1]),g=(0,je.Z)(v,2);f=g[0],h=g[1]}d=u?new JR(p,m):new QR(p,m);var b=m?[h,f]:c,y=this.makeTensorInfo(b,r),x=this.texData.get(y.dataId);x.usage=m?AA.PIXELS:AA.UPLOAD,x.texShape=b,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(y.dataId),f,h,a);var k=[[h,f]],w=this.runWebGLProgram(d,[y],r,k,!0),C=this.texData.get(w.dataId);t.texture=C.texture,t.texShape=C.texShape,t.isPacked=C.isPacked,t.usage=C.usage,this.disposeIntermediateTensorInfo(y),this.texData.delete(w.dataId),t.values=null,l&&(this.uploadWaitMs+=Fi()-s)}else{var D=this.acquireTexture(c,i,r,u);t.texture=D}}}},{key:"convertAndCacheOnCPU",value:function(e,t){var n=this.texData.get(e),r=n.dtype;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error("Unknown dtype ".concat(t))}(t,r)),n.values}},{key:"acquireTexture",value:function(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var a=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: ".concat(a," MB, ")+"most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)}},{key:"computeBytes",value:function(e,t){return e[0]*e[1]*Sn(t)}}]),n}(tn);SZ.nextDataId=0;vu()&&Tl("webgl",(function(){return new SZ}),2);var IZ=(0,Jt.Z)((function e(t,n,r){(0,Qt.Z)(this,e),this.variableNames=["A","B"],this.outputShape=sl(n,r),this.enableShapeUniforms=qR(this.outputShape.length),this.userCode="\n      float binaryOperation(float a, float b) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    ")})),FZ=(0,Jt.Z)((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,Qt.Z)(this,e),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=sl(n,r);var o=this.outputShape.length;this.enableShapeUniforms=qR(o);var i="";if(a)if(0===o||1===fn(this.outputShape))i="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{var u=BR(o);if(i="\n          ".concat(u," coords = getOutputCoords();\n        "),1===o)this.enableShapeUniforms?i+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":i+="\n            result.y = (coords + 1) >= ".concat(this.outputShape[0]," ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ");else{var s=eZ("coords",o);this.enableShapeUniforms?i+="\n            bool nextRowOutOfBounds =\n              (".concat(s[o-2]," + 1) >= outShape[").concat(o," - 2];\n            bool nextColOutOfBounds =\n              (").concat(s[o-1]," + 1) >= outShape[").concat(o," - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "):i+="\n            bool nextRowOutOfBounds =\n              (".concat(s[o-2]," + 1) >= ").concat(this.outputShape[o-2],";\n            bool nextColOutOfBounds =\n              (").concat(s[o-1]," + 1) >= ").concat(this.outputShape[o-1],";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          ")}}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ".concat(t,"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ").concat(i,"\n\n        setOutput(result);\n      }\n    ")}));function TZ(e){var t=e.inputs,n=e.backend,r=t.x;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}var NZ={kernelName:la,backendName:"webgl",kernelFunc:TZ};function AZ(e){var t=e.inputs,n=e.backend,r=t.real,a=t.imag,o=n.makeTensorInfo(r.shape,"complex64"),i=n.texData.get(o.dataId),u=TZ({inputs:{x:r},backend:n}),s=TZ({inputs:{x:a},backend:n});return i.complexTensorInfos={real:u,imag:s},o}var RZ={kernelName:wr,backendName:"webgl",kernelFunc:AZ},OZ="return (a < 0.) ? b * a : a;",ZZ="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";var MZ={kernelName:ma,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.alpha,i=n.makeTensorInfo([],"float32",Si(o,"float32")),u=Gn().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new FZ(ZZ,a.shape,i.shape):new IZ(OZ,a.shape,i.shape),s=n.runWebGLProgram(u,[a,i],"float32");return n.disposeIntermediateTensorInfo(i),s}},PZ="return (a < 0.) ? b * a : a;",LZ="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";var _Z={kernelName:Ya,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=t.alpha,o=Gn().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new FZ(LZ,r.shape,a.shape):new IZ(PZ,r.shape,a.shape);return n.runWebGLProgram(o,[r,a],"float32")}};function BZ(e){var t=e.opSnippet,n=e.packedOpSnippet,r=e.cpuKernelImpl,a=e.dtype;return function(e){var o,i=e.inputs,u=e.backend,s=i.x,l=u,c=a||s.dtype;if(l.shouldExecuteOnCPU([s])&&null!=r){var d=l.texData.get(s.dataId),p=r(d.values,c);return l.makeTensorInfo(s.shape,c,p)}return o=Gn().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=n?new kZ(s.shape,n):new uZ(s.shape,t),l.runWebGLProgram(o,[s],c)}}function zZ(e){var t=e.opSnippet,n=e.packedOpSnippet,r=e.checkOutOfBounds,a=void 0!==r&&r,o=e.supportsComplex,i=void 0!==o&&o,u=e.cpuKernelImpl,s=e.dtype;return function(e){var r=e.inputs,o=e.backend,l=r.a,c=r.b,d=o;if(i&&"complex64"===l.dtype){var p=d.texData.get(l.dataId),f=d.texData.get(c.dataId),h=[[p.complexTensorInfos.real,f.complexTensorInfos.real],[p.complexTensorInfos.imag,f.complexTensorInfos.imag]].map((function(e){var n=(0,je.Z)(e,2),r=n[0],a=n[1],o={dataId:r.dataId,dtype:r.dtype,shape:l.shape},i={dataId:a.dataId,dtype:a.dtype,shape:c.shape},u=new IZ(t,l.shape,c.shape);return d.runWebGLProgram(u,[o,i],eu(r.dtype,a.dtype))})),m=(0,je.Z)(h,2),v=m[0],g=m[1],b=AZ({inputs:{real:v,imag:g},backend:d});return d.disposeIntermediateTensorInfo(v),d.disposeIntermediateTensorInfo(g),b}var y,x=s||eu(l.dtype,c.dtype);if(("string"===l.dtype||"string"===c.dtype||d.shouldExecuteOnCPU([l,c]))&&null!=u){var k=d.texData.get(l.dataId).values,w=d.texData.get(c.dataId).values,C="string"===l.dtype?rv(k):k,D="string"===l.dtype?rv(w):w,E=u(l.shape,c.shape,C,D,x),S=(0,je.Z)(E,2),I=S[0],F=S[1],T=d.makeTensorInfo(F,x);return d.texData.get(T.dataId).values=I,T}return y=Gn().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=n?new FZ(n,l.shape,c.shape,a):new IZ(t,l.shape,c.shape),d.runWebGLProgram(y,[l,c],x)}}function jZ(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("linear"===e)return t?vZ:lZ;if("relu"===e)return t?bZ:pZ;if("elu"===e)return t?gZ:dZ;if("relu6"===e)return t?yZ:fZ;if("prelu"===e)return t?LZ:PZ;if("leakyrelu"===e)return t?ZZ:OZ;if("sigmoid"===e)return t?xZ:mZ;throw new Error("Activation ".concat(e," has not been implemented for the WebGL backend."))}var VZ=(0,Jt.Z)((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];(0,Qt.Z)(this,e),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.enableShapeUniforms=qR(this.outputShape.length);var c=a?t[1]:t[2],d=Math.ceil(c/2),p=a?"i * 2, rc.y":"rc.y, i * 2",f=o?"rc.z, i * 2":"i * 2, rc.z",h=a?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],m=o?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],v="",g="";u&&(v=s?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(u,"\n        }"):l?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(u,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(u,"\n        }"),g="result = activation(result);");var b=i?"result += getBiasAtOutCoords();":"";i&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),l&&this.variableNames.push("leakyreluAlpha");var y="rc.x",x="rc.x";t[0]<n[0]?y="int(min(float(rc.x), ".concat(t[0]-1,".))"):n[0]<t[0]&&(x="int(min(float(rc.x), ".concat(n[0]-1,".))")),this.userCode="\n      ".concat(v,"\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ").concat(d,".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < ").concat(d,"; i++) {\n          int batchA = ").concat(y,";\n          int batchB = ").concat(x,";\n          vec4 a = getMatrixA(batchA, ").concat(p,");\n          vec4 b = getMatrixB(batchB, ").concat(f,");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (").concat(h[0]," * ").concat(m[0],");\n          result += (").concat(h[1]," * ").concat(m[1],");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ").concat(b,"\n\n        ").concat(g,"\n\n        setOutput(result);\n      }\n    ")})),WZ="return areal * breal - aimag * bimag;",HZ="return areal * bimag + aimag * breal;",UZ=(0,Jt.Z)((function e(t,n,r){(0,Qt.Z)(this,e),this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=sl(n,r),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    ")})),GZ="return a * b;";function qZ(e){var t,n=e.inputs,r=e.backend,a=n.a,o=n.b,i=eu(a.dtype,o.dtype);if("complex64"===a.dtype){var u=r.texData.get(a.dataId),s=r.texData.get(o.dataId),l=new UZ(WZ,a.shape,o.shape),c=new UZ(HZ,a.shape,o.shape),d=[{dataId:u.complexTensorInfos.real.dataId,dtype:u.complexTensorInfos.real.dtype,shape:a.shape},{dataId:u.complexTensorInfos.imag.dataId,dtype:u.complexTensorInfos.imag.dtype,shape:a.shape},{dataId:s.complexTensorInfos.real.dataId,dtype:s.complexTensorInfos.real.dtype,shape:o.shape},{dataId:s.complexTensorInfos.imag.dataId,dtype:s.complexTensorInfos.imag.dtype,shape:o.shape}],p=r.runWebGLProgram(l,d,"float32"),f=r.runWebGLProgram(c,d,"float32"),h=AZ({inputs:{real:p,imag:f},backend:r});return r.disposeIntermediateTensorInfo(p),r.disposeIntermediateTensorInfo(f),h}if(r.shouldExecuteOnCPU([a,o])){var m=r.texData.get(a.dataId),v=r.texData.get(o.dataId),g=AO(a.shape,o.shape,m.values,v.values,i),b=(0,je.Z)(g,2),y=b[0],x=b[1],k=r.makeTensorInfo(x,i);return r.texData.get(k.dataId).values=y,k}return t=Gn().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new FZ(GZ,a.shape,o.shape):new IZ(GZ,a.shape,o.shape),r.runWebGLProgram(t,[a,o],i)}var KZ={kernelName:Ba,backendName:"webgl",kernelFunc:qZ};function XZ(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.shape,i=n,u=fn(a.shape),s=yn(o,u),l=fn(s);ln(u===l,(function(){return"The new shape (".concat(s,") has ").concat(l," elements and the old ")+"shape (".concat(a.shape,") has ").concat(u," elements. The new shape and old ")+"shape must have the same number of elements."}));var c=i.texData.get(a.dataId);return!c.isPacked||uR(a.shape,s)||null!==c.texture&&uR(c.shape,s)?(i.incRef(a.dataId),{dataId:a.dataId,shape:s,dtype:a.dtype}):function(e,t,n){var r=[rR(e.shape)].concat((0,$t.Z)(aR(e.shape))),a={dtype:e.dtype,shape:r,dataId:e.dataId},o=[rR(t)].concat((0,$t.Z)(aR(t))),i=new nZ(o,r),u=[r],s=n.runWebGLProgram(i,[a],e.dtype,u,!0);return{dataId:s.dataId,shape:t,dtype:s.dtype}}(a,s,i)}var YZ={kernelName:no,backendName:"webgl",kernelFunc:XZ},$Z=(0,Jt.Z)((function e(t,n){(0,Qt.Z)(this,e),this.variableNames=["x"];var r=t.windowSize,a=t.batchSize,o=t.inSize,i=t.outSize;this.outputShape=[a,i];var u=4*Math.floor(r/4),s=r%4,l="sumValue += dot(values, ones);";if(null!=n){var c=1/n;l="sumValue += dot(values * ".concat(mn(c)?c.toPrecision(2):c,", ones);")}var d="";o%r>0&&(d="\n        if (inIdx < 0 || inIdx >= ".concat(o,") {\n          return 0.0;\n        }\n      ")),this.userCode="\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ".concat(d,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(r,";\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(u,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(l,"\n        }\n\n        int inIdx = inOffset + ").concat(u,";\n        if (").concat(1===s,") {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ").concat(l,"\n        } else if (").concat(2===s,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ").concat(l,"\n        } else if (").concat(3===s,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ").concat(l,"\n        }\n        setOutput(sumValue);\n      }\n    ")})),QZ=(0,Jt.Z)((function e(t,n){(0,Qt.Z)(this,e),this.variableNames=["x"];var r=t.windowSize,a=t.batchSize,o=t.inSize,i=t.outSize;this.outputShape=[a,i];var u="0.0",s="";"prod"===n?u="1.0":"min"===n?(u="1.0 / 1e-20",s="min"):"max"===n&&(u="-1.0 / 1e-20",s="max");var l="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===n?l="sumValue":"prod"===n?l="prodValue":"all"===n?l="allValue":"any"===n&&(l="anyValue");var c=4*Math.floor(r/4),d=r%4,p="\n      if (".concat("sum"===n,") {\n        sumValue += dot(values, ones);\n      } else if (").concat("prod"===n,") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ").concat(s,"(values, minMaxValue);\n        if (").concat("min"===n," || ").concat("max"===n,") {\n          minMaxValue = ").concat(s,"(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    "),f="vec4";"all"===n?(u="1.0",p="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",f="bvec4"):"any"===n&&(u="0.0",p="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",f="bvec4");var h="";o%r>0&&(h="\n        if (inIdx < 0 || inIdx >= ".concat(o,") {\n          return initializationValue;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat(u,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ").concat(h,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(r,";\n\n        vec4 minMaxValue = vec4(").concat(u,");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ").concat(c,"; i += 4) {\n          int inIdx = inOffset + i;\n          ").concat(f," values = ").concat(f,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(p,"\n        }\n\n        int inIdx = inOffset + ").concat(c,";\n        if (").concat(1===d,") {\n          ").concat(f," values = ").concat(f,"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(p,"\n        } else if (").concat(2===d,") {\n          ").concat(f," values = ").concat(f,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(p,"\n        } else if (").concat(3===d,") {\n          ").concat(f," values = ").concat(f,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ").concat(p,"\n        }\n        setOutput(").concat(l,");\n      }\n    ")}));function JZ(e,t,n,r){for(var a=function(e){for(var t=[];0===t.length||1!==t[t.length-1].outSize;){var n=t.length?t[t.length-1].outSize:e[1],r=Cm(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}(e.shape),o=e,i=0;i<a.length;i++){var u,s=a[i],l=s.inSize,c=s.windowSize,d=s.outSize,p=void 0;p="mean"===n?0===i?new $Z({windowSize:c,inSize:l,batchSize:e.shape[0],outSize:d},l):new $Z({windowSize:c,inSize:l,batchSize:e.shape[0],outSize:d}):new QZ({windowSize:c,inSize:l,batchSize:e.shape[0],outSize:d},n),u=o,o=r.runWebGLProgram(p,[o],t),u.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(u)}return o}var eM=(0,Jt.Z)((function e(t,n){(0,Qt.Z)(this,e),this.variableNames=["A"];for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[n[a]];this.outputShape=r,this.rank=r.length;var o=BR(this.rank),i=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank ".concat(t," is not yet supported"));for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),a=0;a<e.length;a++)r[e[a]]=n[a];return r.join()}(n);this.userCode="\n    void main() {\n      ".concat(o," resRC = getOutputCoords();\n      setOutput(getA(").concat(i,"));\n    }\n    ")}));var tM=(0,Jt.Z)((function e(t,n){(0,Qt.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[n[a]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error("Packed transpose for rank ".concat(this.rank," is not yet supported."));for(var o=BR(this.rank),i=JO("rc",this.rank),u=new Array(this.rank),s=0;s<n.length;s++)u[n[s]]=i[s];var l="vec2(".concat(u.slice(-2).join(),")"),c="++".concat(i[this.rank-1]," < ").concat(r[this.rank-1]),d="getChannel(getA(".concat(u.join(),"), ").concat(l,")");this.userCode="\n    void main() {\n      ".concat(o," rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ").concat(d,";\n      if(").concat(c,") {\n        result[1] = ").concat(d,";\n      }\n      --").concat(i[this.rank-1],";\n      if(++").concat(i[this.rank-2]," < ").concat(r[this.rank-2],") {\n        result[2] = ").concat(d,";\n        if(").concat(c,") {\n          result[3] = ").concat(d,";\n        }\n      }\n      setOutput(result);\n    }\n    ")}));function nM(e,t,n){var r=Gn().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new tM(e.shape,t):new eM(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}function rM(e){var t=e.inputs,n=e.backend,r=e.attrs;return function(e,t,n,r){var a=t,o=e.shape.length,i=xn(a,e.shape),u=i,s=Pd(u,o),l=null!=s,c=e;l&&(c=nM(e,s,r),u=_d(u.length,o)),Md("sum",u,o);var d=Od(c.shape,u),p=(0,je.Z)(d,2),f=p[0],h=p[1],m=f;n&&(m=Zd(f,i));var v=fn(h),g=XZ({inputs:{x:c},attrs:{shape:[fn(e.shape)/v,v]},backend:r}),b=JZ(g,tu(e.dtype),"sum",r),y=XZ({inputs:{x:b},attrs:{shape:m},backend:r});return r.disposeIntermediateTensorInfo(g),r.disposeIntermediateTensorInfo(b),l&&r.disposeIntermediateTensorInfo(c),y}(t.x,r.axis,r.keepDims,n)}var aM={kernelName:wo,backendName:"webgl",kernelFunc:rM};function oM(e){for(var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,i=a.perm,u=r,s=o.shape.length,l=new Array(s),c=0;c<l.length;c++)l[c]=o.shape[i[c]];if(u.shouldExecuteOnCPU([o])){var d=u.texData.get(o.dataId).values,p=$O(d,o.shape,o.dtype,i,l);t=u.makeTensorInfo(l,o.dtype),u.texData.get(t.dataId).values=p}else t=nM(o,i,u);return t}var iM={kernelName:Wo,backendName:"webgl",kernelFunc:oM};function uM(e){var t=e.a,n=e.b,r=e.transposeA,a=e.transposeB,o=e.backend,i=e.bias,u=void 0===i?null:i,s=e.preluActivationWeights,l=void 0===s?null:s,c=e.leakyreluAlpha,d=void 0===c?0:c,p=e.activation,f=void 0===p?null:p,h=t.shape.length,m=n.shape.length,v=r?t.shape[h-2]:t.shape[h-1],g=a?n.shape[m-1]:n.shape[m-2],b=r?t.shape[h-1]:t.shape[h-2],y=a?n.shape[m-2]:n.shape[m-1],x=t.shape.slice(0,-2),k=n.shape.slice(0,-2),w=fn(x),C=fn(k),D=sl(t.shape.slice(0,-2),n.shape.slice(0,-2)).concat([b,y]);ln(v===g,(function(){return"Error in matMul: inner shapes (".concat(v,") and (")+"".concat(g,") of Tensors with shapes ").concat(t.shape," and ")+"".concat(n.shape," and transposeA=").concat(r)+" and transposeB=".concat(a," must match.")}));var E,S=r?[w,v,b]:[w,b,v],I=a?[C,y,g]:[C,g,y],F=XZ({inputs:{x:t},backend:o,attrs:{shape:S}}),T=XZ({inputs:{x:n},backend:o,attrs:{shape:I}}),N=[F,T],A=Math.max(w,C),R=r?F.shape[1]:F.shape[2],O=null!=u,Z=null!=l,M="leakyrelu"===f,P=null!=f?jZ(f,!0):null;if((1===b||1===y)&&R>1e3&&!1===(O||Z||M||null!=P)){var L=F,_=T;r&&(L=oM({inputs:{x:F},backend:o,attrs:{perm:[0,2,1]}}),N.push(L)),a&&(_=oM({inputs:{x:T},backend:o,attrs:{perm:[0,2,1]}}),N.push(_));var B=1===y,z=L;1!==y&&(z=XZ({inputs:{x:L},backend:o,attrs:{shape:[A,R,1]}}),N.push(z));var j=1===y?2:1,V=_;B&&(V=XZ({inputs:{x:_},backend:o,attrs:{shape:[A,1,R]}}),N.push(V));var W=qZ({inputs:{a:z,b:V},backend:o});E=rM({inputs:{x:W},backend:o,attrs:{axis:j,keepDims:!0}}),N.push(W)}else{var H=eu(t.dtype,n.dtype),U=new VZ(S,I,[A,b,y],r,a,O,P,Z,M),G=[F,T];if(null!=u&&G.push(u),Z&&G.push(l),M){var q=o.makeTensorInfo([],"float32",Si(d,"float32"));G.push(q),N.push(q)}E=o.runWebGLProgram(U,G,H)}var K=XZ({inputs:{x:E},backend:o,attrs:{shape:D}});N.push(E);for(var X=0,Y=N;X<Y.length;X++){var $=Y[X];o.disposeIntermediateTensorInfo($)}return K}var sM={kernelName:$o,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.a,o=t.b,i=t.bias,u=t.preluActivationWeights,s=r.transposeA,l=r.transposeB,c=r.activation;return uM({a:a,b:o,transposeA:s,transposeB:l,backend:n,bias:i,preluActivationWeights:u,leakyreluAlpha:r.leakyreluAlpha,activation:c})}},lM="return abs(x);";var cM={kernelName:$n,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=n.x;if(r.shouldExecuteOnCPU([a])&&"complex64"!==a.dtype){var o=r.texData.get(a.dataId),i=_O(o.values);return r.makeTensorInfo(a.shape,a.dtype,i)}return t=Gn().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new kZ(a.shape,lM):new uZ(a.shape,lM),r.runWebGLProgram(t,[a],a.dtype)}},dM=BZ({opSnippet:"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),pM={kernelName:Qn,backendName:"webgl",kernelFunc:dM},fM=BZ({opSnippet:"if (isnan(x)) return x;\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),hM={kernelName:Jn,backendName:"webgl",kernelFunc:fM},mM="return a + b;",vM=zZ({opSnippet:mM,packedOpSnippet:mM,supportsComplex:!0,cpuKernelImpl:dO}),gM={kernelName:er,backendName:"webgl",kernelFunc:vM},bM=(0,Jt.Z)((function e(t,n){(0,Qt.Z)(this,e),this.outputShape=[],this.outputShape=t,this.variableNames=n.map((function(e,t){return"T".concat(t)}));var r=[];this.variableNames.forEach((function(e){r.push("float v".concat(e," = get").concat(e,"AtOutCoords();"))}));var a=this.variableNames.map((function(e){return"v".concat(e)})).join(" + ");this.userCode="\n      void main() {\n        ".concat(r.join("\n        "),"\n\n        float result = ").concat(a,";\n        setOutput(result);\n      }\n    ")})),yM=(0,Jt.Z)((function e(t,n){(0,Qt.Z)(this,e),this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=n.map((function(e,t){return"T".concat(t)}));var r=[];this.variableNames.forEach((function(e){r.push("vec4 v".concat(e," = get").concat(e,"AtOutCoords();"))}));var a=this.variableNames.map((function(e){return"v".concat(e)})).join(" + ");this.userCode="\n      void main() {\n        ".concat(r.join("\n        "),"\n\n        vec4 result = ").concat(a,";\n        setOutput(result);\n      }\n    ")}));var xM={kernelName:tr,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=n;if(1===a.length)return TZ({inputs:{x:a[0]},backend:r});if(a.length>Gn().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var o=Math.floor(a.length/2),i=e({inputs:a.slice(0,o),backend:r}),u=e({inputs:a.slice(o),backend:r});return e({inputs:[i,u],backend:r})}var s=a.map((function(e){return e.dtype})).reduce((function(e,t){return eu(e,t)})),l=a.map((function(e){return e.shape})),c=Gn().getBool("WEBGL_PACK")?new yM(a[0].shape,l):new bM(a[0].shape,l);return r.runWebGLProgram(c,a,s)}};var kM={kernelName:nr,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,i=r.keepDims,u=a.shape.length,s=xn(o,a.shape),l=s,c=Pd(l,u),d=a;null!=c&&(d=oM({inputs:{x:a},backend:n,attrs:{perm:c}}),l=_d(l.length,u)),Md("all",l,u);var p,f=Od(d.shape,l),h=(0,je.Z)(f,2),m=h[0],v=XZ({inputs:{x:d},backend:n,attrs:{shape:[-1,fn(h[1])]}}),g=JZ(v,v.dtype,"all",n);return p=XZ(i?{inputs:{x:g},backend:n,attrs:{shape:Zd(m,s)}}:{inputs:{x:g},backend:n,attrs:{shape:m}}),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g),null!=c&&n.disposeIntermediateTensorInfo(d),p}};var wM={kernelName:rr,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,i=r.keepDims,u=a.shape.length,s=xn(o,a.shape),l=s,c=Pd(l,u),d=a;null!=c&&(d=oM({inputs:{x:a},backend:n,attrs:{perm:c}}),l=_d(l.length,u)),Md("any",l,u);var p,f=Od(d.shape,l),h=(0,je.Z)(f,2),m=h[0],v=XZ({inputs:{x:d},backend:n,attrs:{shape:[-1,fn(h[1])]}}),g=JZ(v,v.dtype,"any",n);return p=XZ(i?{inputs:{x:g},backend:n,attrs:{shape:Zd(m,s)}}:{inputs:{x:g},backend:n,attrs:{shape:m}}),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g),null!=c&&n.disposeIntermediateTensorInfo(d),p}},CM=(0,Jt.Z)((function e(t,n,r){(0,Qt.Z)(this,e),this.variableNames=["A"];var a=t.windowSize,o=t.batchSize,i=t.outSize;r||this.variableNames.push("bestIndicesA"),this.outputShape=[o,i];var u="max"===n?">":"<",s=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ".concat(a,";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ").concat(a,"; i++) {\n          int inIdx = ").concat(s,";\n          float candidate = getA(batch, inIdx);\n          if (candidate ").concat(u," bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    ")})),DM=(0,Jt.Z)((function e(t,n,r,a){(0,Qt.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,ln(t.length>2,(function(){return"Packed arg".concat(r.charAt(0).toUpperCase()+r.slice(1)," supports only inputs with rank above 2.")}));var o=t[t.length-1],i=Math.ceil(o/n);this.outputShape=t.slice(0,-1),i>1&&this.outputShape.push(i),a||this.variableNames.push("bestIndicesA");var u,s,l=this.outputShape,c=l.length,d=BR(c),p=eZ("coords",c);if(1===i){var f=BR(s=c+1);u="\n        ".concat(f," sourceLocR = ").concat(f,"(").concat(p.join(),", 0);\n        ++").concat(p[c-1],";\n        ").concat(f," sourceLocG = ").concat(f,"(").concat(p.join(),", 0);\n        ++").concat(p[c-2],";\n        ").concat(f," sourceLocA = ").concat(f,"(").concat(p.join(),", 0);\n        --").concat(p[c-1],";\n        ").concat(f," sourceLocB = ").concat(f,"(").concat(p.join(),", 0);\n        --").concat(p[c-2],";")}else s=c,u="\n        ".concat(d," sourceLocR = coords;\n        ++").concat(p[c-1],";\n        ").concat(d," sourceLocG = coords;\n        ++").concat(p[c-2],";\n        ").concat(d," sourceLocA = coords;\n        --").concat(p[c-1],";\n        ").concat(d," sourceLocB = coords;\n        --").concat(p[c-2],";");var h=["x","y","z","w","u","v"].slice(0,s),m="."+h[s-1],v=h.map((function(e){return"int "+e})),g=eZ("sourceLocR",s-1).concat("inIdx.r"),b=eZ("sourceLocG",s-1).concat("inIdx.g"),y=eZ("sourceLocB",s-1).concat("inIdx.b"),x=eZ("sourceLocA",s-1).concat("inIdx.a"),k="max"===r?"greaterThan":"lessThan",w=a?"":"\n          inIdx = round(vec4(getBestIndicesAChannel(".concat(g.join(),"),\n                             getBestIndicesAChannel(").concat(b.join(),"),\n                             getBestIndicesAChannel(").concat(y.join(),"),\n                             getBestIndicesAChannel(").concat(x.join(),")));"),C="vec4(\n            getAChannel(".concat(g.join(),"),\n            hasNextCol ? getAChannel(").concat(b.join(),") : 0.,\n            hasNextRow ? getAChannel(").concat(y.join(),") : 0.,\n            hasNextRow && hasNextCol ? getAChannel(").concat(x.join(),") : 0.)"),D=a?"":"\n      float getBestIndicesAChannel(".concat(v.join(),") {\n        return getChannel(getBestIndicesA(").concat(h.join(),"),\n                                          vec2(").concat(h.slice(-2).join(),"));\n      }");this.userCode="\n      float getAChannel(".concat(v.join(),") {\n        return getChannel(getA(").concat(h.join(),"),\n                               vec2(").concat(h.slice(-2).join(),"));\n      }\n      ").concat(D,"\n      void main() {\n        ").concat(d," coords = getOutputCoords();\n        bool hasNextCol = ").concat(p[c-1]," < ").concat(l[c-1]-1,";\n        bool hasNextRow = ").concat(p[c-2]," < ").concat(l[c-2]-1,";\n        ").concat(u,"\n        ivec4 srcIdx = ivec4(sourceLocR").concat(m,", sourceLocG").concat(m,",\n          sourceLocB").concat(m,", sourceLocA").concat(m,") * ").concat(n,";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ").concat(C,";\n\n        for (int i = 0; i < ").concat(n,"; i++) {\n          inIdx = srcIdx;\n          ").concat(w,"\n          vec4 candidate = ").concat(C,";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(").concat(k,"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    ")}));function EM(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=t.shape[0],o=t.shape[1];null!=r&&(a=r.shape[0],o=r.shape[1]);var i=Cm(o),u={windowSize:i,inSize:o,batchSize:a,outSize:Math.ceil(o/i)},s=new CM(u,n,null==r),l=[t];null!=r&&l.push(r);var c=e.runWebGLProgram(s,l,"int32");if(1===c.shape[1])return c;var d=EM(e,t,n,c);return e.disposeIntermediateTensorInfo(c),d}function SM(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=null!=r?r.shape:t.shape,o=a[a.length-1],i=Cm(o),u=new DM(a,i,n,null==r),s=null==r?[t]:[t,r],l=e.runWebGLProgram(u,s,"int32");if(l.shape.length===t.shape.length){var c=SM(e,t,n,l);return e.disposeIntermediateTensorInfo(l),c}return l}function IM(e,t,n,r){var a=[n];if(Md("arg"+r.charAt(0).toUpperCase()+r.slice(1),a,t.shape.length),!Gn().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){var o=[],i=e.texData.get(t.dataId),u=t;null!==i&&i.isPacked&&(u=e.unpackTensor(t),o.push(u));var s=Od(u.shape,a),l=(0,je.Z)(s,2),c=l[0],d=fn(l[1]),p=XZ({inputs:{x:u},backend:e,attrs:{shape:[-1,d]}});o.push(p);var f=EM(e,p,r);o.push(f);var h=XZ({inputs:{x:f},backend:e,attrs:{shape:c}});return o.forEach((function(t){return e.disposeIntermediateTensorInfo(t)})),h}return SM(e,t,r)}var FM={kernelName:ar,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=xn(r.axis,a.shape),i=Pd(o,a.shape.length),u=a,s=[];null!=i&&(u=oM({inputs:{x:a},backend:n,attrs:{perm:i}}),s.push(u),o=_d(o.length,u.shape.length)),Md("argMax",[o[0]],u.shape.length);var l=IM(n,u,o[0],"max");return s.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),l}};var TM={kernelName:or,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=xn(r.axis,a.shape),i=Pd(o,a.shape.length),u=a,s=[];null!=i&&(u=oM({inputs:{x:a},backend:n,attrs:{perm:i}}),s.push(u),o=_d(o.length,u.shape.length)),Md("argMin",[o[0]],u.shape.length);var l=IM(n,u,o[0],"min");return s.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),l}},NM=BZ({opSnippet:"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),AM={kernelName:ir,backendName:"webgl",kernelFunc:NM},RM=BZ({opSnippet:"if (isnan(x)) return x;return log(x + sqrt(x * x + 1.0));"}),OM={kernelName:ur,backendName:"webgl",kernelFunc:RM},ZM=BZ({opSnippet:"if (isnan(x)) return x;\n  return atan(x);\n"}),MM={kernelName:sr,backendName:"webgl",kernelFunc:ZM},PM=zZ({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),LM={kernelName:cr,backendName:"webgl",kernelFunc:PM},_M=BZ({opSnippet:"if (isnan(x)) return x;\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),BM={kernelName:lr,backendName:"webgl",kernelFunc:_M},zM=(0,Jt.Z)((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,Qt.Z)(this,e),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var i=t.filterWidth,u=t.strideHeight,s=t.strideWidth,l=t.dilationHeight,c=t.dilationWidth,d=t.effectiveFilterHeight,p=t.effectiveFilterWidth,f=t.padInfo.top,h=t.padInfo.left;this.outputShape=t.outShape;var m="avg"===n,v="((batch  * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),g="(xR * ".concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),b="0.0";if(m||(b="-1.0 / 1e-20"),r){var y=">=";this.userCode="\n        const ivec2 strides = ivec2(".concat(u,", ").concat(s,");\n        const ivec2 pads = ivec2(").concat(f,", ").concat(h,");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ").concat(d,";\n              wR += ").concat(l,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(p,";\n                wC += ").concat(c,") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ").concat(y," currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ").concat(a?o?v:g:"wR * ".concat(p," + wC"),";\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}else{var x="max",k="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(k="avgValue / count");var w=4*Math.floor(i/4),C=i%4,D="\n      if (".concat(m,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat(x,"(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec2 strides = ivec2(".concat(u,", ").concat(s,");\n      const ivec2 pads = ivec2(").concat(f,", ").concat(h,");\n      const float initializationValue = ").concat(b,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ").concat(t.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(b,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ").concat(d,";\n            wR += ").concat(l,") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ").concat(t.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(w,"; wC += 4) {\n            int xC = xCCorner + wC * ").concat(c,";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(c,", d),\n              getValue(batch, xR, xC + 2 * ").concat(c,", d),\n              getValue(batch, xR, xC + 3 * ").concat(c,", d)\n            );\n\n            ").concat(D,"\n          }\n\n          int xC = xCCorner + ").concat(w,";\n          if (").concat(1===C,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(D,"\n          } else if (").concat(2===C,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(c,", d),\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(D,"\n          } else if (").concat(3===C,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(c,", d),\n              getValue(batch, xR, xC + 2 * ").concat(c,", d),\n              initializationValue\n            );\n\n            ").concat(D,"\n          }\n        }\n        setOutput(").concat(k,");\n      }\n    ")}})),jM=(0,Jt.Z)((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,Qt.Z)(this,e),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var i=t.filterWidth,u=t.strideDepth,s=t.strideHeight,l=t.strideWidth,c=t.dilationDepth,d=t.dilationHeight,p=t.dilationWidth,f=t.effectiveFilterDepth,h=t.effectiveFilterHeight,m=t.effectiveFilterWidth,v=t.padInfo.front,g=t.padInfo.top,b=t.padInfo.left;this.outputShape=t.outShape;var y="avg"===n,x="0.0";if(y||(x="-1.0 / 1e-20"),r){var k=">=";this.userCode="\n        const ivec3 strides =\n            ivec3(".concat(u,", ").concat(s,", ").concat(l,");\n        const ivec3 pads = ivec3(").concat(v,", ").concat(g,", ").concat(b,");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ").concat(f,";\n              wD += ").concat(c,") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ").concat(t.inDepth,") {\n              continue;\n            }\n\n            for (int wR = 0; wR < ").concat(h,";\n                wR += ").concat(d,") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ").concat(t.inHeight,") {\n                continue;\n              }\n\n              for (int wC = 0; wC < ").concat(m,";\n                  wC += ").concat(p,") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ").concat(k," currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ").concat(a?o?"(((batch * ".concat(t.inDepth," + xD) * ").concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"((xD * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"wD * ".concat(h," * ").concat(m," +\n                      wR * ").concat(m," + wC"),";\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}else{var w="max",C="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(C="avgValue / count");var D=4*Math.floor(i/4),E=i%4,S="\n      if (".concat(y,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat(w,"(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec3 strides =\n        ivec3(".concat(u,", ").concat(s,", ").concat(l,");\n      const ivec3 pads = ivec3(").concat(v,", ").concat(g,", ").concat(b,");\n      const float initializationValue = ").concat(x,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ").concat(t.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(x,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ").concat(f,";\n            wD += ").concat(c,") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ").concat(t.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(h,";\n            wR += ").concat(d,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(D,"; wC += 4) {\n              int xC = xCCorner + wC * ").concat(p,";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(p,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(p,", ch),\n                getValue(batch, xD, xR, xC + 3 * ").concat(p,", ch)\n              );\n\n              ").concat(S,"\n            }\n\n            int xC = xCCorner + ").concat(D,";\n            if (").concat(1===E,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(S,"\n            } else if (").concat(2===E,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(p,", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(S,"\n            } else if (").concat(3===E,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(p,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(p,", ch),\n                initializationValue\n              );\n\n              ").concat(S,"\n            }\n          }\n          setOutput(").concat(C,");\n        }\n      }\n    ")}}));var VM={kernelName:dr,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;pR(a,"avgPool");var o=r.filterSize,i=r.strides,u=r.pad,s=r.dimRoundingMode;ln(ic(i,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(i," and dilations '").concat(1,"'")}));var l=Kl(a.shape,o,i,1,u,s);if(1===l.filterWidth&&1===l.filterHeight&&hn(l.inShape,l.outShape))return TZ({inputs:{x:a},backend:n});var c=new zM(l,"avg",!1);return n.runWebGLProgram(c,[a],"float32")}};var WM={kernelName:fr,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.filterSize,i=r.strides,u=r.pad,s=r.dimRoundingMode,l=r.dataFormat,c=Xl(a.shape,o,i,[1,1,1],u,s,l),d=new jM(c,"avg",!1);return n.runWebGLProgram(d,[a],"float32")}},HM=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,o=t.strideWidth,i=t.dilationHeight,u=t.dilationWidth,s=t.effectiveFilterHeight,l=t.effectiveFilterWidth,c=s-1-t.padInfo.top,d=l-1-t.padInfo.left,p=1/(n*r);this.userCode="\n      const ivec2 pads = ivec2(".concat(c,", ").concat(d,");\n      const float avgMultiplier = float(").concat(p,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(s,";\n            wR += ").concat(i,") {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(l,";\n            wC+= ").concat(u,") {\n            float dyC = float(dyCCorner + wC) / ").concat(o,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),UM=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterDepth,r=t.filterHeight,a=t.filterWidth,o=t.strideDepth,i=t.strideHeight,u=t.strideWidth,s=t.dilationDepth,l=t.dilationHeight,c=t.dilationWidth,d=t.effectiveFilterDepth,p=t.effectiveFilterHeight,f=t.effectiveFilterWidth,h=d-1-t.padInfo.front,m=p-1-t.padInfo.top,v=f-1-t.padInfo.left,g=1/(n*r*a);this.userCode="\n      const ivec3 pads = ivec3(".concat(h,", ").concat(m,", ").concat(v,");\n      const float avgMultiplier = float(").concat(g,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(d,";\n            wD += ").concat(s,") {\n          float dyD = float(dyDCorner + wD) / ").concat(o,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(p,";\n              wR += ").concat(l,") {\n            float dyR = float(dyRCorner + wR) / ").concat(i,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(f,";\n                wC += ").concat(c,") {\n              float dyC = float(dyCCorner + wC) / ").concat(u,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var GM={kernelName:hr,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,i=r.filterSize,u=r.strides,s=r.pad,l=r.dimRoundingMode,c=Xl(o.shape,i,u,[1,1,1],s,l),d=new UM(c);return n.runWebGLProgram(d,[a],o.dtype)}};var qM={kernelName:pr,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,i=o;pR([a,o],"avgPoolGrad");var u=r.filterSize,s=r.strides,l=r.pad,c=Kl(i.shape,u,s,1,l),d=new HM(c);return n.runWebGLProgram(d,[a],i.dtype)}};var KM={kernelName:mr,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;return uM({a:t.a,b:t.b,transposeA:r.transposeA,transposeB:r.transposeB,backend:n})}},XM=(0,Jt.Z)((function e(t,n,r,a,o,i){(0,Qt.Z)(this,e),this.outputShape=[],this.variableNames=["x","mean","variance"],sl(t,n),sl(t,r);var u="0.0";null!=a&&(sl(t,a),this.variableNames.push("offset"),u="getOffsetAtOutCoords()");var s="1.0";null!=o&&(sl(t,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ".concat(u,";\n        float scale = ").concat(s,";\n        float inv = scale * inversesqrt(variance + float(").concat(i,"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    ")})),YM=(0,Jt.Z)((function e(t,n,r,a,o,i){(0,Qt.Z)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],sl(t,n),sl(t,r);var u="vec4(0.0)";null!=a&&(sl(t,a),this.variableNames.push("offset"),u="getOffsetAtOutCoords()");var s="vec4(1.0)";null!=o&&(sl(t,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        vec4 offset = ".concat(u,";\n        vec4 scale = ").concat(s,";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(").concat(i,"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    ")})),$M={kernelName:aa,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.mean,i=t.variance,u=t.offset,s=t.scale;ln(o.shape.length===i.shape.length,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),ln(null==u||o.shape.length===u.shape.length,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),ln(null==s||o.shape.length===s.shape.length,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var l=r.varianceEpsilon;null==l&&(l=.001);var c=[a,o,i],d=null;null!=u&&(d=u.shape,c.push(u));var p=null;null!=s&&(p=s.shape,c.push(s));var f=Gn().getBool("WEBGL_PACK_NORMALIZATION")?new YM(a.shape,o.shape,i.shape,d,p,l):new XM(a.shape,o.shape,i.shape,d,p,l);return n.runWebGLProgram(f,c,c[0].dtype)}},QM=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var n=BR(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var r,a=function(e){if(1===e)return"sourceLoc";if(e<=6)return JM.slice(0,e).map((function(e){return"sourceLoc."+e})).join(",");throw Error("Slicing for rank ".concat(e," is not yet supported"))}(this.rank),o=t.map((function(e,t){return"sourceLoc.".concat(JM[t]," = start[").concat(t,"] + coords.").concat(JM[t],";")}));r="\n        ".concat(n," sourceLoc;\n        ").concat(n," coords = getOutputCoords();\n        ").concat(o.join("\n"),"\n      "),this.userCode="\n      void main() {\n        ".concat(r,"\n        setOutput(getSource(").concat(a,"));\n      }\n    ")})),JM=["x","y","z","w","u","v"];var eP=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var n=BR(this.rank),r=eZ("coords",this.rank),a=eZ("sourceLoc",this.rank),o=1===this.rank?"sourceLoc":"vec2(".concat(a.slice(-2).join(),")"),i="getChannel(getSource(".concat(a.join(),"), ").concat(o,")"),u="\n      result.x = ".concat(i,";\n      if (++").concat(r[this.rank-1]," < ").concat(t[this.rank-1],") {\n        ++").concat(a[this.rank-1],";\n        result.y = ").concat(i,";\n        --").concat(a[this.rank-1],";\n      }\n    "),s=1===this.rank?"":"\n      --".concat(r[this.rank-1],";\n      if (++").concat(r[this.rank-2]," < ").concat(t[this.rank-2],") {\n        ++").concat(a[this.rank-2],";\n        result.z = ").concat(i,";\n        if (++").concat(r[this.rank-1]," < ").concat(t[this.rank-1],") {\n          ++").concat(a[this.rank-1],";\n          result.w = ").concat(i,";\n        }\n      }\n    "),l=this.rank<=4?"sourceLoc = coords +\n            ".concat(n,"(").concat(t.map((function(e,t){return"start[".concat(t,"]")})).join(),");"):t.map((function(e,t){return"".concat(a[t]," = ").concat(r[t]," + start[").concat(t,"];")})).join("\n");this.userCode="\n      void main() {\n        ".concat(n," coords = getOutputCoords();\n        ").concat(n," sourceLoc;\n        ").concat(l,"\n        vec4 result = vec4(0.);\n        ").concat(u,"\n        ").concat(s,"\n        setOutput(result);\n      }\n    ")}));function tP(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=bl(a,r.begin,r.size),i=(0,je.Z)(o,2),u=i[0],s=i[1];if(hl(a,u,s),0===fn(s))return n.makeTensorInfo(s,a.dtype,[]);if(n.shouldExecuteOnCPU([a])||"string"===a.dtype){var l=n.texData.get(a.dataId),c=BO(l.values,u,s,a.shape,a.dtype);return n.makeTensorInfo(s,a.dtype,c)}var d=n.texData.get(a.dataId).isPacked,p=vl(a.shape,u,s);if(d||!p){var f=Gn().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new eP(s):new QM(s),h=[u];return n.runWebGLProgram(f,[a],a.dtype,h)}return n.uploadToGPU(a.dataId),function(e,t,n,r){var a=r.texData.get(e.dataId),o=r.makeTensorInfo(n,e.dtype),i=r.texData.get(o.dataId);Object.assign(i,a),i.refCount=1,i.shape=n,i.dtype=e.dtype;var u=gl(t,Rn(e.shape));a.slice&&(u+=a.slice.flatOffset),i.slice={flatOffset:u,origDataId:a.slice&&a.slice.origDataId||e.dataId};var s=r.dataRefCount.get(i.slice.origDataId)||1;return r.dataRefCount.set(i.slice.origDataId,s+1),o}(a,u,s,n)}var nP={kernelName:mo,backendName:"webgl",kernelFunc:tP},rP={kernelName:vr,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.blockShape,i=r.crops;ln(a.shape.length<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"}));var u=o.reduce((function(e,t){return e*t})),s=Em(a.shape,o,u),l=Sm(s.length,o.length),c=Im(a.shape,o,u),d=Fm(i,o.length),p=Tm(c,i,o.length),f=[],h=XZ({inputs:{x:a},backend:n,attrs:{shape:s}}),m=oM({inputs:{x:h},backend:n,attrs:{perm:l}}),v=XZ({inputs:{x:m},backend:n,attrs:{shape:c}}),g=tP({inputs:{x:v},backend:n,attrs:{begin:d,size:p}});return f.push(h),f.push(m),f.push(v),f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),g}};var aP={kernelName:gr,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.weights,i=r.size,u=n.readSync(a.dataId),s=n.readSync(o.dataId),l=pO(u,s,o.dtype,o.shape,i);return n.makeTensorInfo([i],o.dtype,l)}};var oP={kernelName:br,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.s0,a=t.s1,o=n.readSync(r.dataId),i=n.readSync(a.dataId),u=sl(Array.from(o),Array.from(i));return n.makeTensorInfo([u.length],"int32",Int32Array.from(u))}},iP=zZ({opSnippet:"return float(a != b);",cpuKernelImpl:OO,dtype:"bool"}),uP={kernelName:ja,backendName:"webgl",kernelFunc:iP};function sP(e){var t=e.inputs,n=e.backend,r=t.input;return TZ({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.real},backend:n})}var lP={kernelName:Ja,backendName:"webgl",kernelFunc:sP};var cP={kernelName:yr,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=t.attrs,o=n.x,i=a.dtype;if("complex64"===i){if("complex64"===o.dtype)return TZ({inputs:{x:o},backend:r});var u=Xd(o.shape),s=e({inputs:{x:o},backend:r,attrs:{dtype:"float32"}}),l=AZ({inputs:{real:s,imag:u},backend:r});return u.dispose(),r.disposeIntermediateTensorInfo(s),l}if("complex64"===o.dtype){var c=sP({inputs:{input:o},backend:r}),d=e({inputs:{x:c},backend:r,attrs:{dtype:i}});return r.disposeIntermediateTensorInfo(c),d}if(!Dn(o.dtype,i)){var p=TZ({inputs:{x:o},backend:r});return{dataId:p.dataId,shape:p.shape,dtype:i}}if("int32"===i)return function(e,t){var n=new uZ(e.shape,"return float(int(x));"),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}(o,r);if("bool"===i){var f=r.makeTensorInfo([],"bool",wn("bool",1)),h=iP({inputs:{a:o,b:f},backend:r});return r.disposeIntermediateTensorInfo(f),h}throw new Error("Error in Cast: failed to cast ".concat(o.dtype," to ").concat(i))}},dP="return ceil(x);",pP=BZ({opSnippet:dP,packedOpSnippet:dP,cpuKernelImpl:hO}),fP={kernelName:xr,backendName:"webgl",kernelFunc:pP},hP=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "})),mP=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}));var vP={kernelName:kr,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,i=a.clipValueMin,u=a.clipValueMax;t=Gn().getBool("WEBGL_PACK_CLIP")?new mP(o.shape):new hP(o.shape);var s=[[i],[u]];return r.runWebGLProgram(t,[o],o.dtype,s)}},gP=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.variableNames=["real","imag"],this.outputShape=t,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}));function bP(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}var yP={kernelName:Cr,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n.texData.get(r.dataId),o=new gP(r.shape),i=[bP(r,a.complexTensorInfos.real),bP(r,a.complexTensorInfos.imag)];return n.runWebGLProgram(o,i,i[0].dtype)}},xP=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.outputShape=[],this.outputShape=wm(t,1),this.variableNames=t.map((function(e,t){return"T".concat(t)}));var n=new Array(t.length-1);n[0]=t[0][1];for(var r=1;r<n.length;r++)n[r]=n[r-1]+t[r][1];for(var a=["if (yC < ".concat(n[0],") setOutput(getT0(yR, yC));")],o=1;o<n.length;o++){var i=n[o-1];a.push("else if (yC < ".concat(n[o],") ")+"setOutput(getT".concat(o,"(yR, yC-").concat(i,"));"))}var u=n.length,s=n[n.length-1];a.push("else setOutput(getT".concat(u,"(yR, yC-").concat(s,"));")),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ".concat(a.join("\n        "),"\n      }\n    ")})),kP=(0,Jt.Z)((function e(t,n){(0,Qt.Z)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=wm(t,n);var r=this.outputShape,a=r.length,o=BR(a),i=eZ("coords",a),u=["x","y","z","w","u","v"].slice(0,a);this.variableNames=t.map((function(e,t){return"T".concat(t)}));var s=new Array(t.length-1);s[0]=t[0][n];for(var l=1;l<s.length;l++)s[l]=s[l-1]+t[l][n];for(var c=u[n],d=u.slice(-2),p=u.join(),f="if (".concat(c," < ").concat(s[0],") {\n        return getChannel(\n            getT0(").concat(p,"), vec2(").concat(d.join(),"));\n        }"),h=1;h<s.length;h++){var m=s[h-1];f+="\n        if (".concat(c," < ").concat(s[h],"  && ").concat(c," >= ").concat(s[h-1],") {\n          return getChannel(\n            getT").concat(h,"(").concat(wP(u,c,m),"),\n            vec2(").concat(wP(d,c,m),"));\n        }")}var v=s.length,g=s[s.length-1];f+="\n        return getChannel(\n          getT".concat(v,"(").concat(wP(u,c,g),"),\n          vec2(").concat(wP(d,c,g),"));"),this.userCode="\n      float getValue(".concat(u.map((function(e){return"int "+e})),") {\n        ").concat(f,"\n      }\n\n      void main() {\n        ").concat(o," coords = getOutputCoords();\n        vec4 result = vec4(getValue(").concat(i,"), 0., 0., 0.);\n\n        ").concat(i[a-1]," = ").concat(i[a-1]," + 1;\n        if (").concat(i[a-1]," < ").concat(r[a-1],") {\n          result.g = getValue(").concat(i,");\n        }\n\n        ").concat(i[a-2]," = ").concat(i[a-2]," + 1;\n        if (").concat(i[a-2]," < ").concat(r[a-2],") {\n          result.a = getValue(").concat(i,");\n        }\n\n        ").concat(i[a-1]," = ").concat(i[a-1]," - 1;\n        if (").concat(i[a-2]," < ").concat(r[a-2]," &&\n            ").concat(i[a-1]," < ").concat(r[a-1],") {\n          result.b = getValue(").concat(i,");\n        }\n        setOutput(result);\n      }\n    ")}));function wP(e,t,n){var r=e.indexOf(t);return e.map((function(e,t){return t===r?"".concat(e," - ").concat(n):e})).join()}function CP(e){var t=e.inputs,n=e.backend,r=t.input;return TZ({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.imag},backend:n})}var DP={kernelName:da,backendName:"webgl",kernelFunc:CP};function EP(e,t,n){var r=e[0].dtype;if("complex64"===r){var a=e.map((function(e){return sP({inputs:{input:e},backend:n})})),o=e.map((function(e){return CP({inputs:{input:e},backend:n})})),i=EP(a,t,n),u=EP(o,t,n),s=AZ({inputs:{real:i,imag:u},backend:n});return a.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),o.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(u),s}var l=n.shouldExecuteOnCPU(e);if("string"===r&&(l=!0),l){var c=e.map((function(e){var r=fn(e.shape.slice(t));return XZ({inputs:{x:e},backend:n,attrs:{shape:[-1,r]}})})),d=c.map((function(e){return{vals:n.readSync(e.dataId),shape:e.shape}})),p=wm(c.map((function(e){return e.shape})),1),f=1===c[0].shape[0],h=mO(d,p,r,f),m=wm(e.map((function(e){return e.shape})),t),v=n.makeTensorInfo(m,r,h);return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),v}if(e.length>Gn().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var g=Math.floor(e.length/2),b=EP(e.slice(0,g),t,n),y=EP(e.slice(g),t,n),x=EP([b,y],t,n);return n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(y),x}if(Gn().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].shape.length>1){var k=new kP(e.map((function(e){return e.shape})),t);return n.runWebGLProgram(k,e,r)}var w=function(e,t,n){var r=wm(e.map((function(e){return e.shape})),t);return{tensors2D:e.map((function(e){return XZ({inputs:{x:e},attrs:{shape:[-1,fn(e.shape.slice(t))]},backend:n})})),outShape:r}}(e,t,n),C=w.tensors2D,D=w.outShape,E=new xP(C.map((function(e){return e.shape}))),S=n.runWebGLProgram(E,C,r);C.forEach((function(e){return n.disposeIntermediateTensorInfo(e)}));var I=XZ({inputs:{x:S},attrs:{shape:D},backend:n});return n.disposeIntermediateTensorInfo(S),I}function SP(e){var t=e.inputs,n=e.backend,r=xn(e.attrs.axis,t[0].shape)[0],a=wm(t.map((function(e){return e.shape})),r);if(0===fn(a))return n.makeTensorInfo(a,t[0].dtype,[]);var o=t.filter((function(e){return fn(e.shape)>0}));return 1===o.length?TZ({inputs:{x:o[0]},backend:n}):(km(o.map((function(e){return e.shape})),r),EP(o,r,n))}var IP={kernelName:Dr,backendName:"webgl",kernelFunc:SP},FP=(0,Jt.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,Qt.Z)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var i=t.padInfo.top,u=t.padInfo.left,s=t.strideHeight,l=t.strideWidth,c=t.dilationHeight,d=t.dilationWidth,p=t.filterHeight,f=t.filterWidth,h=4*Math.floor(t.inChannels/4),m=t.inChannels%4,v="channelsLast"===t.dataFormat,g=v?1:2,b=v?2:3,y=v?3:1,x="",k="";r&&(x=a?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):o?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"\n          float activation(float x) {\n            ".concat(r,"\n          }\n        "),k="result = activation(result);");var w=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(x,"\n\n      const ivec2 strides = ivec2(").concat(s,", ").concat(l,");\n      const ivec2 pads = ivec2(").concat(i,", ").concat(u,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[").concat(y,"];\n\n        ivec2 xRCCorner =\n            ivec2(coords[").concat(g,"], coords[").concat(b,"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(p,"; wR++) {\n          int xR = xRCorner + wR * ").concat(c,";\n\n          if (xR < 0 || xR >= ").concat(t.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(f,"; wC++) {\n            int xC = xCCorner + wC * ").concat(d,";\n\n            if (xC < 0 || xC >= ").concat(t.inWidth,") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ").concat(h,"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (").concat(v,") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (").concat(1===m,") {\n\n              if (").concat(v,") {\n                dotProd +=\n                    getX(batch, xR, xC, ").concat(h,") *\n                    getW(wR, wC, ").concat(h,", d2);\n              } else {\n                dotProd +=\n                    getX(batch, ").concat(h,", xR, xC) *\n                    getW(wR, wC, ").concat(h,", d2);\n              }\n\n            } else if (").concat(2===m,") {\n              vec2 wValues = vec2(\n                getW(wR, wC, ").concat(h,", d2),\n                getW(wR, wC, ").concat(h," + 1, d2)\n              );\n\n              if (").concat(v,") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ").concat(h,"),\n                  getX(batch, xR, xC, ").concat(h," + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ").concat(h,", xR, xC),\n                  getX(batch, ").concat(h," + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (").concat(3===m,") {\n              vec3 wValues = vec3(\n                getW(wR, wC, ").concat(h,", d2),\n                getW(wR, wC, ").concat(h," + 1, d2),\n                getW(wR, wC, ").concat(h," + 2, d2)\n              );\n\n              if (").concat(v,") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ").concat(h,"),\n                  getX(batch, xR, xC, ").concat(h," + 1),\n                  getX(batch, xR, xC, ").concat(h," + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ").concat(h,", xR, xC),\n                  getX(batch, ").concat(h," + 1, xR, xC),\n                  getX(batch, ").concat(h," + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ").concat(w,"\n        ").concat(k,"\n        setOutput(result);\n      }\n    ")})),TP=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var n=t.padInfo.front,r=t.padInfo.top,a=t.padInfo.left,o=t.strideDepth,i=t.strideHeight,u=t.strideWidth,s=t.dilationDepth,l=t.dilationHeight,c=t.dilationWidth,d=t.filterDepth,p=t.filterHeight,f=t.filterWidth,h=4*Math.floor(t.inChannels/4),m=t.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3(".concat(o,", ").concat(i,", ").concat(u,");\n      const ivec3 pads = ivec3(").concat(n,", ").concat(r,", ").concat(a,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(d,"; wF++) {\n          int xF = xFCorner + wF * ").concat(s,";\n\n          if (xF < 0 || xF >= ").concat(t.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(p,"; wR++) {\n            int xR = xRCorner + wR * ").concat(l,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(f,"; wC++) {\n              int xC = xCCorner + wC * ").concat(c,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ").concat(h,"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (").concat(1===m,") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ").concat(h,") *\n                  getW(wF, wR, wC, ").concat(h,", d2);\n              } else if (").concat(2===m,") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ").concat(h,"),\n                  getX(batch, xF, xR, xC, ").concat(h," + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ").concat(h,", d2),\n                  getW(wF, wR, wC, ").concat(h," + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (").concat(3===m,") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ").concat(h,"),\n                  getX(batch, xF, xR, xC, ").concat(h," + 1),\n                  getX(batch, xF, xR, xC, ").concat(h," + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ").concat(h,", d2),\n                  getW(wF, wR, wC, ").concat(h," + 1, d2),\n                  getW(wF, wR, wC, ").concat(h," + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),NP=(0,Jt.Z)((function e(t,n){(0,Qt.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=t,this.enableShapeUniforms=qR(this.outputShape.length);for(var r=n.dataFormat,a=hR(),o="channelsLast"===r,i=o?0:1,u=o?1:2,s=this.enableShapeUniforms?"if(blockIndex < outShape[1] && pos < outShape[0]) {":"if(blockIndex < ".concat(t[1]," && pos < ").concat(t[0],") {"),l="",c=0;c<=1;c++)for(var d=0;d<=1;d++)l+="\n          blockIndex = rc.y + ".concat(d,";\n          pos = rc.x + ").concat(c,";\n\n          ").concat(s,"\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[").concat(i,"] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[").concat(u,"] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (").concat(o,") {\n                  innerDims = vec2(d1, ch);\n                  result[").concat(2*c+d,"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[").concat(2*c+d,"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ");this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ".concat(l,"\n\n        ").concat(a.output," = result;\n      }\n    ")}));function AP(e){var t,n=e.x,r=e.filter,a=e.convInfo,o=e.backend,i=e.bias,u=void 0===i?null:i,s=e.preluActivationWeights,l=void 0===s?null:s,c=e.leakyreluAlpha,d=void 0===c?0:c,p=e.activation,f=void 0===p?null:p,h=n.shape,m=o.texData.get(n.dataId),v=a.inChannels,g=h[0]*h[1]*h[2],b=a.outChannels,y="channelsLast"===a.dataFormat,x=[];if(!((1===g||1===b)&&v>1e3)&&m.isPacked&&y&&null!=m.texture&&h[2]%2!==0&&hn(m.shape.slice(-3),h.slice(-3))){var k=h[0]*h[1]*(h[2]+1),w={dataId:n.dataId,shape:[1,k,a.inChannels],dtype:n.dtype},C=m.shape;m.shape=m.shape.slice(),m.shape[m.shape.length-2]++,ln(uR(m.shape,w.shape),(function(){return"packed reshape ".concat(m.shape," to ").concat(w.shape," isn't free")}));var D=XZ({inputs:{x:r},backend:o,attrs:{shape:[1,a.inChannels,a.outChannels]}});x.push(D);var E=uM({a:w,b:D,backend:o,transposeA:false,transposeB:false,bias:u,activation:f,preluActivationWeights:l,leakyreluAlpha:d}),S=o.texData.get(E.dataId);ln(S.isPacked,(function(){return"batchMatMul result is expected to be packed"})),m.shape=C,S.shape=a.outShape,(t=TZ({inputs:{x:E},backend:o})).shape=a.outShape,x.push(E)}else{var I=XZ({inputs:{x:n},backend:o,attrs:{shape:[1,y?h[0]*h[1]*h[2]:h[0]*h[2]*h[3],a.inChannels]}}),F=XZ({inputs:{x:r},backend:o,attrs:{shape:[1,a.inChannels,a.outChannels]}}),T=uM({a:I,b:F,transposeA:false,transposeB:false,backend:o,bias:u,activation:f,preluActivationWeights:l,leakyreluAlpha:d});t=XZ({inputs:{x:T},backend:o,attrs:{shape:a.outShape}}),x.push(I),x.push(F),x.push(T)}for(var N=0,A=x;N<A.length;N++){var R=A[N];o.disposeIntermediateTensorInfo(R)}return t}function RP(e){var t=e.x,n=e.filter,r=e.convInfo,a=e.backend,o=e.bias,i=void 0===o?null:o,u=e.preluActivationWeights,s=void 0===u?null:u,l=e.leakyreluAlpha,c=void 0===l?0:l,d=e.activation,p=void 0===d?null:d,f=r.filterWidth,h=r.filterHeight,m=r.inChannels,v=r.outWidth,g=r.outHeight,b="channelsLast"===r.dataFormat,y=f*h*m,x=g*v,k=[y,x],w=[],C=XZ({inputs:{x:t},backend:a,attrs:{shape:t.shape.slice(1)}}),D=XZ({inputs:{x:n},backend:a,attrs:{shape:[1,y,fn(n.shape)/y]}});w.push(C),w.push(D);var E=new NP(k,r),S=[C.shape,[r.padInfo.top,r.padInfo.left],[r.strideHeight,r.strideWidth],[r.dilationHeight,r.dilationWidth],[r.inChannels],[r.filterWidth*r.inChannels],[r.outWidth]],I=a.runWebGLProgram(E,[C],"float32",S),F=XZ({inputs:{x:I},backend:a,attrs:{shape:[1,k[0],k[1]]}});w.push(I),w.push(F);var T=null!=i,N=null!=s,A="leakyrelu"===p,R=p?jZ(p,!0):null,O=new VZ(F.shape,D.shape,[1,x,r.outChannels],!0,!1,T,R,N,A),Z=[F,D];if(i&&Z.push(i),N&&Z.push(s),A){var M=a.makeTensorInfo([],"float32",Si(c,"float32"));Z.push(M),w.push(M)}var P=a.runWebGLProgram(O,Z,"float32"),L=XZ({inputs:{x:P},backend:a,attrs:{shape:b?[1,g,v,r.outChannels]:[1,r.outChannels,g,v]}});w.push(P);for(var _=0,B=w;_<B.length;_++){var z=B[_];a.disposeIntermediateTensorInfo(z)}return L}var OP={kernelName:Er,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,i=n.filter,u=a.strides,s=a.pad,l=a.dataFormat,c=a.dilations,d=a.dimRoundingMode,p=uc(l),f=Yl(o.shape,i.shape,u,c,s,d,!1,p);if(1!==f.filterHeight||1!==f.filterWidth||1!==f.dilationHeight||1!==f.dilationWidth||1!==f.strideHeight||1!==f.strideWidth||"SAME"!==f.padInfo.type&&"VALID"!==f.padInfo.type)if(Gn().getBool("WEBGL_CONV_IM2COL")&&1===o.shape[0])t=RP({x:o,filter:i,convInfo:f,backend:r});else{var h=new FP(f);t=r.runWebGLProgram(h,[o,i],"float32")}else t=AP({x:o,filter:i,convInfo:f,backend:r});var m=XZ({inputs:{x:t},backend:r,attrs:{shape:f.outShape}});return r.disposeIntermediateTensorInfo(t),m}},ZP=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,r=t.strideWidth,a=t.padInfo.top,o=t.padInfo.left,i="channelsLast"===t.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(t.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(a,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(r," - ").concat(o,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              if (").concat(i,") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),MP=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,o=t.strideWidth,i="channelsLast"===t.dataFormat,u=n-1-t.padInfo.top,s=r-1-t.padInfo.left,l=i?1:2,c=i?2:3,d=i?3:1;this.userCode="\n      const ivec2 pads = ivec2(".concat(u,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[").concat(d,"];\n\n        ivec2 dyCorner = ivec2(coords[").concat(l,"], coords[").concat(c,"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(o,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2++) {\n\n              if (").concat(i,") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),PP=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideDepth,r=t.strideHeight,a=t.strideWidth,o=t.padInfo.front,i=t.padInfo.top,u=t.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(t.batchSize,"; b++) {\n          for (int yF = 0; yF < ").concat(t.outDepth,"; yF++) {\n            int xF = wF + yF * ").concat(n," - ").concat(o,";\n\n            if (xF < 0 || xF >= ").concat(t.inDepth,") {\n              continue;\n            }\n\n            for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n              int xR = wR + yR * ").concat(r," - ").concat(i,";\n\n              if (xR < 0 || xR >= ").concat(t.inHeight,") {\n                continue;\n              }\n\n              for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n                int xC = wC + yC * ").concat(a," - ").concat(u,";\n\n                if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),LP=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterDepth,r=t.filterHeight,a=t.filterWidth,o=t.strideDepth,i=t.strideHeight,u=t.strideWidth,s=n-1-t.padInfo.front,l=r-1-t.padInfo.top,c=a-1-t.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3(".concat(s,", ").concat(l,", ").concat(c,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(n,"; wF++) {\n          float dyF = float(dyFCorner + wF) / ").concat(o,".0;\n\n          if (dyF < 0.0 || dyF >= ").concat(t.outDepth,".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ").concat(n," - 1 - wF;\n\n          for (int wR = 0; wR < ").concat(r,"; wR++) {\n            float dyR = float(dyRCorner + wR) / ").concat(i,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ").concat(r," - 1 - wR;\n\n            for (int wC = 0; wC < ").concat(a,"; wC++) {\n              float dyC = float(dyCCorner + wC) / ").concat(u,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ").concat(a," - 1 - wC;\n\n              for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var _P={kernelName:Sr,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.dy,i=r.strides,u=r.pad,s=r.dataFormat,l=r.dimRoundingMode,c=r.filterShape,d=uc(s),p=Yl(a.shape,c,i,1,u,l,!1,d),f=new ZP(p);return n.runWebGLProgram(f,[a,o],"float32")}};var BP={kernelName:Ir,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.filter,i=r.inputShape,u=r.strides,s=r.pad,l=r.dataFormat,c=r.dimRoundingMode,d=uc(l),p=Yl(i,o.shape,u,1,s,c,!1,d),f=new MP(p);return n.runWebGLProgram(f,[a,o],"float32")}};var zP={kernelName:Fr,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,i=r.strides,u=r.pad,s=r.dilations,l=$l(a.shape,o.shape,i,s,u),c=new TP(l);return n.runWebGLProgram(c,[a,o],"float32")}};var jP={kernelName:Tr,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.dy,i=r.strides,u=r.pad,s=r.filterShape,l=$l(a.shape,s,i,1,u),c=new PP(l);return n.runWebGLProgram(c,[a,o],"float32")}};var VP={kernelName:Nr,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.filter,i=r.pad,u=r.strides,s=$l(r.inputShape,o.shape,u,1,i),l=new LP(s);return n.runWebGLProgram(l,[a,o],"float32")}},WP=BZ({opSnippet:"if (isnan(x)) return x;\n  return cos(x);\n"}),HP={kernelName:Ar,backendName:"webgl",kernelFunc:WP},UP=BZ({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),GP={kernelName:Rr,backendName:"webgl",kernelFunc:UP},qP=(0,Jt.Z)((function e(t,n,r,a,o){(0,Qt.Z)(this,e),this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var i=(0,je.Z)(t,4),u=i[0],s=i[1],l=i[2],c=i[3],d=(0,je.Z)(n,1)[0],p=(0,je.Z)(r,2),f=p[0],h=p[1];this.outputShape=[d,f,h,c];var m="bilinear"===a?1:0,v="".concat(s-1,".0"),g="".concat(l-1,".0"),b=f>1?["".concat((s-1)/(f-1)),"(y2-y1) * height_ratio","y1*".concat(v," + float(y)*(height_scale)")]:["0.0","0.0","0.5 * (y1+y2) * ".concat(v)],y=(0,je.Z)(b,3),x=y[0],k=y[1],w=y[2],C=h>1?["".concat((l-1)/(h-1)),"(x2-x1) * width_ratio","x1*".concat(g," + float(x)*(width_scale)")]:["0.0","0.0","0.5 * (x1+x2) * ".concat(g)],D=(0,je.Z)(C,3),E=D[0],S=D[1],I=D[2];this.userCode="\n      const float height_ratio = float(".concat(x,");\n      const float width_ratio = float(").concat(E,");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ").concat(u,") {\n          return;\n        }\n\n        float height_scale = ").concat(k,";\n        float width_scale = ").concat(S,";\n\n        float in_y = ").concat(w,";\n        if( in_y < 0.0 || in_y > ").concat(v," ) {\n          setOutput(float(").concat(o,"));\n          return;\n        }\n        float in_x = ").concat(I,";\n        if( in_x < 0.0 || in_x > ").concat(g," ) {\n          setOutput(float(").concat(o,"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(").concat(m," == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    ")})),KP={kernelName:Zr,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,o=t.boxes,i=t.boxInd,u=r.cropSize,s=r.method,l=r.extrapolationValue,c=new qP(a.shape,o.shape,u,s,l);return n.runWebGLProgram(c,[a,o,i],"float32")}},XP=(0,Jt.Z)((function e(t,n,r){(0,Qt.Z)(this,e),this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}],this.outputShape=t;var a=t.length,o=n?"0.0":"getX(".concat(YP(a,"coords"),")"),i=t[t.length-1],u="",s="";n?(u=r?"end != ".concat(i-1):"end != 0",s=r?"end + 1":"end - 1"):(u=r?"end + pow2 < ".concat(i):"end >= pow2",s=r?"end + pow2":"end - pow2"),this.userCode="\n      void main() {\n        ".concat(BR(a)," coords = getOutputCoords();\n        int end = ").concat($P(a,"coords"),";\n        float val = ").concat(o,";\n        int pow2 = int(pow(2.0, index));\n        if (").concat(u,") {\n          int idx = ").concat(s,";\n          ").concat($P(a,"coords")," = idx;\n          val += getX(").concat(YP(a,"coords"),");\n        }\n        setOutput(val);\n      }\n    ")}));function YP(e,t){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".x, ").concat(t,".y");if(3===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z");if(4===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z, ").concat(t,".w");throw Error("Cumulative sum for rank ".concat(e," is not yet supported"))}function $P(e,t){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".y");if(3===e)return"".concat(t,".z");if(4===e)return"".concat(t,".w");throw Error("Cumulative sum for rank ".concat(e," is not yet supported"))}var QP={kernelName:Or,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,i=r.exclusive,u=r.reverse,s=a.shape.length,l=Pd([o],s),c=a;null!=l&&(c=oM({inputs:{x:a},backend:n,attrs:{perm:l}}));var d=_d(1,s)[0];if(d!==s-1)throw new Error("WebGL cumsum shader expects an inner-most axis=".concat(a.shape.length-1," ")+"but got axis=".concat(o));for(var p=c.shape[d],f=TZ({inputs:{x:c},backend:n}),h=0;h<=Math.ceil(Math.log2(p))-1;h++){var m=new XP(c.shape,!1,u),v=[[h]],g=f;f=n.runWebGLProgram(m,[f],f.dtype,v),n.disposeIntermediateTensorInfo(g)}if(i){var b=new XP(c.shape,i,u),y=f;f=n.runWebGLProgram(b,[f],f.dtype),n.disposeIntermediateTensorInfo(y)}if(null!=l){var x=oM({inputs:{x:f},backend:n,attrs:{perm:Ld(l)}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(c),x}return f}};var JP={kernelName:Mr,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.weights,i=r.size,u=r.binaryOutput;if(1===a.shape.length){var s=n.readSync(a.dataId),l=n.readSync(o.dataId),c=pO(s,l,o.dtype,o.shape,i);return n.makeTensorInfo([i],o.dtype,c)}if(2===a.shape.length){var d=n.bufferSync(a),p=n.bufferSync(o),f=fO(d,p,i,u);return n.makeTensorInfo(f.shape,o.dtype,f.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(a.shape.length,"."))}},eL=function(){function e(t,n,r){(0,Qt.Z)(this,e),this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=n,this.dataFormat=r,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ".concat(this.getHeightCoordString(),";\n      int w = ").concat(this.getWidthCoordString(),";\n      int d = ").concat(this.getDepthCoordString(),";\n\n      int in_h = h / ").concat(n,";\n      int offset_h = imod(h, ").concat(n,");\n      int in_w = w / ").concat(n,";\n      int offset_w = imod(w, ").concat(n,");\n      int offset_d = (offset_h * ").concat(n," + offset_w) *\n        ").concat(this.getOutputDepthSize(),";\n      int in_d = d + offset_d;\n\n      float result = ").concat(this.getInputSamplingString(),";\n      setOutput(result);\n    }\n  ")}return(0,Jt.Z)(e,[{key:"getHeightCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}},{key:"getWidthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}},{key:"getDepthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}},{key:"getOutputDepthSize",value:function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}},{key:"getInputSamplingString",value:function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}]),e}();var tL={kernelName:Pr,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.blockSize,i=r.dataFormat,u=a.shape[0],s=("NHWC"===i?a.shape[1]:a.shape[2])*o,l=("NHWC"===i?a.shape[2]:a.shape[3])*o,c=("NHWC"===i?a.shape[3]:a.shape[1])/(o*o),d=new eL("NHWC"===i?[u,s,l,c]:[u,c,s,l],o,i);return n.runWebGLProgram(d,[a],a.dtype)}},nL=(0,Jt.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,Qt.Z)(this,e),this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=qR(this.outputShape.length);var i=t.filterHeight,u=t.filterWidth,s=t.outChannels/t.inChannels,l="",c="";r&&(l=a?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):o?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"\n          float activation(float x) {\n            ".concat(r,"\n          }\n        "),c="result = activation(result);");var d=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(l,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(s,";\n        int q = d2 - d1 * ").concat(s,";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ").concat(i,"; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(u,"; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ").concat(d,"\n        ").concat(c,"\n        setOutput(result);\n      }\n    ")})),rL=(0,Jt.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,Qt.Z)(this,e),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=qR(this.outputShape.length);for(var i=t.outChannels/t.inChannels,u=t.padInfo.left,s=t.strideWidth,l=t.dilationWidth,c=t.filterHeight,d=t.filterWidth,p=d,f="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;",h=0;h<d;h++)f+="\n          vec4 xTexelC".concat(2*h,";\n          int xTexelC").concat(2*h,"Ready;\n          vec4 xTexelC").concat(2*h+1,";\n          int xTexelC").concat(2*h+1,"Ready;\n          vec4 xC").concat(h,";");f+="\n    for (int r = 0; r < ".concat(c,"; r++) {\n      ");for(var m=0;m<d;m++)f+="\n          xTexelC".concat(2*m," = vec4(0.0);\n          xTexelC").concat(2*m,"Ready = 0;\n          xTexelC").concat(2*m+1," = vec4(0.0);\n          xTexelC").concat(2*m+1,"Ready = 0;\n          xC").concat(m," = vec4(0.0);");f+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(var v=0;v<(p+1)/2;v++){var g=2*v;if(f+="\n          xC = xCCorner + ".concat(g*l,";\n          "),1===s){if(g<d&&(u%2===1?(f+="\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                  xTexelC").concat(g," = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(g,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(g,"Ready = 1;\n                }\n              "),f+=1===l&&g>0?"\n                xC".concat(g," = vec4(xTexelC").concat(g-2,".zw, xTexelC").concat(g,".xy);\n                "):"\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC".concat(g," = vec4(previous.zw, xTexelC").concat(g,".xy);\n                  } else {\n                    xC").concat(g," = vec4(0.0, 0.0, xTexelC").concat(g,".xy);\n                  }\n                  ")):f+="\n                if (xC >= 0 && xC < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                  xTexelC").concat(g," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(g,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(g,"Ready = 1;\n                }\n\n                xC").concat(g," = xTexelC").concat(g,";\n                "),g+1<d)){var b=u%2===0?on(l):l;l%2===0&&u%2===1||l%2!==0&&u%2!==1?(f+="\n                  xCOffset = xC + imod(pads[1], 2) + ".concat(b,";\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                    xTexelC").concat(g+1," = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC").concat(g+1,".zw = vec2(0.0);\n                    }\n                    xTexelC").concat(g+1,"Ready = 1;\n                  }\n                  "),l>1&&(f+="\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                      xTexelC").concat(g," = getX(batch, xR, xCOffset, d1);\n                      xTexelC").concat(g,"Ready = 1;\n                    }\n                    ")),f+="\n                  xC".concat(g+1," = vec4(xTexelC").concat(g,".zw, xTexelC").concat(g+1,".xy);\n                  ")):f+=1===b?"\n                    xC".concat(g+1," = xTexelC").concat(g,";\n                    "):"\n                    xCOffset = xC + ".concat(b,";\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                      xTexelC").concat(g+1," = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC").concat(g+1,".zw = vec2(0.0);\n                      }\n                      xTexelC").concat(g+1,"Ready = 1;\n                    }\n\n                    xC").concat(g+1," = xTexelC").concat(g+1,";\n                    ")}}else g<d&&(u%2===1?(f+="\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                  xTexelC").concat(g," = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(g,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(g,"Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                  xTexelC").concat(g+1," = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC").concat(g+1,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(g+1,"Ready = 1;\n                }\n\n                xC").concat(g," = vec4(xTexelC").concat(g,".zw, xTexelC").concat(g+1,".zw);\n              "),g+1<d&&(f+="\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC".concat(g+1," = vec4(xTexelC").concat(g+1,".xy, final.xy);\n                "))):(f+="\n                if(xC >= 0 && xC < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                  xTexelC").concat(g," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(g,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(g,"Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                  xTexelC").concat(g+1," = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(g+1,".zw = vec2(0.);\n                  }\n                  xTexelC").concat(g+1,"Ready = 1;\n                }\n\n                xC").concat(g," = vec4(\n                  xTexelC").concat(g,".xy, xTexelC").concat(g+1,".xy);\n              "),g+1<d&&(f+="\n                  xC".concat(g+1," = vec4(xTexelC").concat(g,".zw, xTexelC").concat(g+1,".zw);\n                "))));g<d&&(f+="\n            wTexel = getW(r, ".concat(g,", d1, q);\n            dotProd += xC").concat(g," * vec4(wTexel.xz, wTexel.xz);\n          "),g+1<d&&(f+="\n              wTexel = getW(r, ".concat(g+1,", d1, q);\n              dotProd += xC").concat(g+1," * vec4(wTexel.xz, wTexel.xz);\n            ")))}f+="\n    }\n  ",f+="\n      }\n    ";var y="",x="";r&&(y=a?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):o?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(r,"\n        }"),x="result = activation(result);");var k=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(y,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(i,";\n        int q = d2 - d1 * ").concat(i,";\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ").concat(f,"\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ").concat(k,"\n        ").concat(x,"\n        setOutput(result);\n      }\n    ")}));var aL={kernelName:Lr,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,i=r.strides,u=r.pad,s=r.dilations,l=r.dimRoundingMode,c=s;null==c&&(c=[1,1]),ln(ic(i,c),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(i," and dilations '").concat(c,"'")}));var d,p=Yl(a.shape,o.shape,i,c,u,l,!0);d=Gn().getBool("WEBGL_PACK_DEPTHWISECONV")&&p.strideWidth<=2&&p.outChannels/p.inChannels===1?new rL(p):new nL(p);var f=[[p.padInfo.top,p.padInfo.left],[p.strideHeight,p.strideWidth],[p.dilationHeight,p.dilationWidth],[p.inHeight,p.inWidth]];return n.runWebGLProgram(d,[a,o],"float32",f)}},oL=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,r=t.strideWidth,a=t.padInfo.top,o=t.padInfo.left,i=t.outChannels/t.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ".concat(i," + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ").concat(t.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(a,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(r," - ").concat(o,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),iL=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,o=t.strideWidth,i=n-1-t.padInfo.top,u=r-1-t.padInfo.left,s=t.outChannels/t.inChannels;this.userCode="\n      const ivec2 pads = ivec2(".concat(i,", ").concat(u,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(o,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ").concat(s,"; dm++) {\n              int d2 = d1 * ").concat(s," + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var uL={kernelName:_r,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.dy,i=r.strides,u=r.dilations,s=r.pad,l=r.dimRoundingMode,c=r.filterShape,d=Yl(a.shape,c,i,u,s,l,!0),p=new oL(d);return n.runWebGLProgram(p,[a,o],"float32")}};var sL={kernelName:Br,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.filter,i=r.strides,u=r.dilations,s=r.pad,l=r.dimRoundingMode,c=Yl(r.inputShape,o.shape,i,u,s,l,!0),d=new iL(c);return n.runWebGLProgram(d,[a,o],"float32")}},lL=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.variableNames=["X"],this.outputShape=[t,t],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}));var cL={kernelName:zr,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=[].concat((0,$t.Z)(r.shape),(0,$t.Z)(r.shape)),o=fn(r.shape),i=XZ({inputs:{x:r},backend:n,attrs:{shape:[o]}}),u=new lL(o),s=n.runWebGLProgram(u,[i],i.dtype),l=XZ({inputs:{x:s},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),l}},dL=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var n=t.inHeight,r=t.inWidth,a=t.padInfo,o=t.strideHeight,i=t.strideWidth,u=t.filterHeight,s=t.filterWidth,l=t.dilationHeight,c=t.dilationWidth,d=a.top,p=a.left;this.userCode="\n      const ivec2 strides = ivec2(".concat(o,", ").concat(i,");\n      const ivec2 pads = ivec2(").concat(d,", ").concat(p,");\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ").concat(u,"; h++) {\n          int hIn = hBeg + h * ").concat(l,";\n\n          if (hIn >= 0 && hIn < ").concat(n,") {\n            for (int w = 0; w < ").concat(s,"; w++) {\n              int wIn = wBeg + w * ").concat(c,";\n\n              if (wIn >= 0 && wIn < ").concat(r,") {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    ")}));var pL={kernelName:jr,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,i=n.filter,u=a.strides,s=a.pad,l=a.dilations,c=ql(o.shape,i.shape,u,s,"NHWC",l),d=new dL(c),p=XZ({inputs:{x:t=r.runWebGLProgram(d,[o,i],"float32")},backend:r,attrs:{shape:c.outShape}});return r.disposeIntermediateTensorInfo(t),p}};var fL={kernelName:Ur,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,a=Um(e.attrs.equation,r.length),o=a.allDims,i=a.summedDims,u=a.idDims;qm(o.length,u,r);for(var s=Km(i,u),l=s.path,c=s.steps,d=c.length,p=null,f=o.length,h=[],m=0;m<d;++m){var v,g=Yt(c[m]);try{for(g.s();!(v=g.n()).done;){var b=v.value,y=Gm(f,u[b]),x=y.permutationIndices,k=y.expandDims,w=void 0;Xm(x)?w=r[b]:(w=oM({inputs:{x:r[b]},backend:n,attrs:{perm:x}}),h.push(w));for(var C=w.shape.slice(),D=0;D<k.length;++D)C.splice(k[D],0,1);hn(w.shape,C)||(w=XZ({inputs:{x:w},backend:n,attrs:{shape:C}}),h.push(w)),null===p?p=w:(p=qZ({inputs:{a:w,b:p},backend:n}),h.push(p))}}catch(xV){g.e(xV)}finally{g.f()}m<d-1&&(l[m]>=0&&(p=rM({inputs:{x:p},backend:n,attrs:{axis:l[m]-(o.length-f),keepDims:!1}}),h.push(p)),f--)}for(var E=0,S=h;E<S.length;E++){var I=S[E];I!==p&&n.disposeIntermediateTensorInfo(I)}return p}},hL=BZ({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),mL={kernelName:Gr,backendName:"webgl",kernelFunc:hL},vL={kernelName:qr,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.dy,a=t.y,o=Gn().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new FZ("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",r.shape,a.shape):new IZ("return (b >= 1.0) ? a : a * (b + 1.0);",r.shape,a.shape);return n.runWebGLProgram(o,[r,a],r.dtype)}},gL=zZ({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:vO}),bL={kernelName:Xr,backendName:"webgl",kernelFunc:gL},yL=BZ({opSnippet:'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = '.concat(Om,";\n  float a1 = ").concat(Zm,";\n  float a2 = ").concat(Mm,";\n  float a3 = ").concat(Pm,";\n  float a4 = ").concat(Lm,";\n  float a5 = ").concat(_m,";\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n")}),xL={kernelName:Kr,backendName:"webgl",kernelFunc:yL},kL=BZ({opSnippet:"if (isnan(x)) return x;\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:gO,dtype:"float32"}),wL={kernelName:Yr,backendName:"webgl",kernelFunc:kL};function CL(e){var t=e.inputs,n=e.attrs,r=e.backend,a=n.dim,o=t.input,i=o.shape.length,u=o.shape.slice(),s=a;return a<0&&(ln(-(i+1)<=a,(function(){return"Axis must be in the interval [".concat(-(i+1),", ").concat(i,"]")})),s=i+a+1),u.splice(s,0,1),XZ({inputs:{x:o},backend:r,attrs:{shape:u}})}var DL={kernelName:$r,backendName:"webgl",kernelFunc:CL},EL="return exp(x) - 1.0;",SL=BZ({opSnippet:EL,packedOpSnippet:EL,cpuKernelImpl:bO}),IL={kernelName:Qr,backendName:"webgl",kernelFunc:SL},FL=(0,Jt.Z)((function e(t,n,r){(0,Qt.Z)(this,e),this.variableNames=["real","imag"];var a=n[1];this.outputShape=n;var o,i=r?"2.0 * ".concat(Math.PI):"-2.0 * ".concat(Math.PI),u=r?"".concat(a,".0"):"1.0";if("real"===t)o="return real * expR - imag * expI;";else{if("imag"!==t)throw new Error('FFT component must be either "real" or "imag", got '.concat(t,"."));o="return real * expI + imag * expR;"}this.userCode="\n      const float exponentMultiplier = ".concat(i,";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ").concat(o,"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(").concat(a,");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ").concat(a,"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ").concat(u,";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    ")}));function TL(e,t,n){var r=n.texData.get(e.dataId),a=fn(e.shape),o=e.shape[e.shape.length-1],i=XZ({inputs:{x:e},backend:n,attrs:{shape:[a/o,o]}}),u=i.shape,s=new FL("real",u,t),l=new FL("imag",u,t),c=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:u},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:u}],d=n.runWebGLProgram(s,c,"float32"),p=n.runWebGLProgram(l,c,"float32"),f=AZ({inputs:{real:d,imag:p},backend:n});n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p);var h=XZ({inputs:{x:f},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(f),h}var NL={kernelName:Jr,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend;return TL(t.input,!1,n)}},AL=(0,Jt.Z)((function e(t,n){(0,Qt.Z)(this,e),this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=t,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}));function RL(e){var t=e.backend,n=e.attrs,r=n.shape,a=n.value,o=n.dtype;if("string"===(o=o||Tn(a))){var i=Cn(o,fn(r));return i.fill(a),t.makeTensorInfo(r,o,i)}var u=new AL(r,a),s=[[a]];return t.runWebGLProgram(u,[],o,s)}var OL,ZL={kernelName:ea,backendName:"webgl",kernelFunc:RL},ML=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.variableNames=["Image"],this.outputShape=[];var n=t[2];this.outputShape=t,this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ".concat(n," - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ").concat(n,") {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")})),PL={kernelName:ta,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.image,a=n,o=new ML(r.shape);return a.runWebGLProgram(o,[r],r.dtype)}},LL="return floor(x);",_L=BZ({opSnippet:LL,packedOpSnippet:LL,cpuKernelImpl:yO}),BL={kernelName:na,backendName:"webgl",kernelFunc:_L},zL=zZ({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),jL={kernelName:ra,backendName:"webgl",kernelFunc:zL},VL=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.variableNames=["A"];var n=hR(),r=(0,je.Z)(t,2),a=r[0],o=r[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(".concat(o,".0, ").concat(a,".0);\n\n        vec4 values = ").concat(n.texture2D,"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    ")})),WL=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var n=hR(),r=(0,je.Z)(t,2),a=r[0],o=r[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(".concat(o,".0, ").concat(a,".0);\n            vec4 values = ").concat(n.texture2D,"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),HL={kernelName:Xo,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.pixels,o=r.numChannels,i="undefined"!==typeof HTMLVideoElement&&a instanceof HTMLVideoElement,u="undefined"!==typeof HTMLImageElement&&a instanceof HTMLImageElement,s=i?[a.videoWidth,a.videoHeight]:[a.width,a.height],l=(0,je.Z)(s,2),c=l[0],d=l[1],p=[d,c],f=[d,c,o];(u||i)&&(null==OL&&(OL=document.createElement("canvas").getContext("2d")),OL.canvas.width=c,OL.canvas.height=d,OL.drawImage(a,0,0,c,d),a=OL.canvas);var h=n.makeTensorInfo(p,"int32");n.texData.get(h.dataId).usage=AA.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(h.dataId),a);var m=Gn().getBool("WEBGL_PACK")?new WL(f):new VL(f),v=n.runWebGLProgram(m,[h],"int32");return n.disposeData(h.dataId),v}};var UL={kernelName:Qo,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,i=n.filter,u=n.bias,s=n.preluActivationWeights,l=a.strides,c=a.pad,d=a.dataFormat,p=a.dilations,f=a.dimRoundingMode,h=a.activation,m=a.leakyreluAlpha,v=uc(d),g=Yl(o.shape,i.shape,l,p,c,f,!1,v),b=[];if(1!==g.filterHeight||1!==g.filterWidth||1!==g.dilationHeight||1!==g.dilationWidth||1!==g.strideHeight||1!==g.strideWidth||"SAME"!==g.padInfo.type&&"VALID"!==g.padInfo.type)if(Gn().getBool("WEBGL_CONV_IM2COL")&&1===o.shape[0])t=RP({x:o,filter:i,convInfo:g,backend:r,bias:u,activation:h,preluActivationWeights:s,leakyreluAlpha:m});else{var y=null!=u,x=null!=s,k="leakyrelu"===h,w=h?jZ(h,!1):null,C=new FP(g,y,w,x,k),D=[o,i];if(u&&D.push(u),s&&D.push(s),k){var E=r.makeTensorInfo([],"float32",Si(m,"float32"));D.push(E),b.push(E)}t=r.runWebGLProgram(C,D,"float32")}else t=AP({x:o,filter:i,convInfo:g,backend:r,bias:u,activation:h,preluActivationWeights:s,leakyreluAlpha:m});var S=XZ({inputs:{x:t},backend:r,attrs:{shape:g.outShape}});return b.push(t),b.forEach((function(e){return r.disposeIntermediateTensorInfo(e)})),S}};var GL={kernelName:Jo,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,i=t.bias,u=t.preluActivationWeights,s=r.strides,l=r.pad,c=r.dilations,d=r.dimRoundingMode,p=r.activation,f=r.leakyreluAlpha,h=[],m=c;null==m&&(m=[1,1]),ln(ic(s,m),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(s," and dilations '").concat(m,"'")}));var v,g=Yl(a.shape,o.shape,s,m,l,d,!0),b=Gn().getBool("WEBGL_PACK_DEPTHWISECONV")&&g.strideWidth<=2&&g.outChannels/g.inChannels===1,y=p?jZ(p,b):null,x=[a,o],k=null!=i,w=null!=u,C="leakyrelu"===p;if(k&&x.push(i),w&&x.push(u),C){var D=n.makeTensorInfo([],"float32",Si(f,"float32"));x.push(D),h.push(D)}v=b?new rL(g,k,y,w,C):new nL(g,k,y,w,C);var E=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],S=n.runWebGLProgram(v,x,"float32",E);return h.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),S}},qL=(0,Jt.Z)((function e(t,n,r){(0,Qt.Z)(this,e),this.sliceDim=t,this.strides=n,this.variableNames=["x","indices"],this.outputShape=r;var a=BR(n.length),o=BR(r.length),i=this.sliceDim>1?"strides[j]":"strides";this.userCode="\n        ".concat(a," strides = ").concat(a,"(").concat(this.strides,");\n         void main() {\n          ").concat(o," coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < ").concat(this.sliceDim,"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * ").concat(i,";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      ")}));var KL={kernelName:ia,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.params,a=t.indices,o=a.shape,i=o[o.length-1],u=fn(r.shape),s=Nm(r,a),l=(0,je.Z)(s,4),c=l[0],d=l[1],p=l[2],f=l[3],h=XZ({inputs:{x:a},backend:n,attrs:{shape:[d,i]}}),m=XZ({inputs:{x:r},backend:n,attrs:{shape:[fn(r.shape)/p,p]}});if(n.shouldExecuteOnCPU([r,a])||"string"===r.dtype){var v=n.readSync(a.dataId),g=n.bufferSync(r),b=xO(v,g,r.dtype,d,i,p,f,r.shape,u);return n.makeTensorInfo(c,r.dtype,b.values)}var y=new qL(i,f,[d,p]),x=n.runWebGLProgram(y,[m,h],m.dtype),k=XZ({inputs:{x:x},backend:n,attrs:{shape:c}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(x),k}},XL=(0,Jt.Z)((function e(t,n){(0,Qt.Z)(this,e),this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;var r=BR(this.rank),a=function(e,t){for(var n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[],a=0;a<e.length;a++)2===a?r.push("index"):r.push("".concat(n[a]));return r.join()}(t);this.userCode="\n      void main() {\n        ".concat(r," resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ").concat(t[2],") ? 1.0 : 0.0;\n        setOutput(inBounds * getA(").concat(a,"));\n      }\n    ")}));function YL(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.indices,i=r.axis,u=r.batchDims,s=xn(i,a.shape)[0];Gn().get("DEBUG")&&function(){for(var e=n.readSync(o.dataId),t=a.shape[s],r=function(n){var r=e[n];ln(r<=t-1&&r>=0,(function(){return"GatherV2: the index value ".concat(r," is not in [0, ").concat(t-1,"]")}))},i=0;i<e.length;++i)r(i)}();var l=nv(a,o,s,u),c=fn(o.shape),d=[],p=XZ({inputs:{x:a},backend:n,attrs:{shape:[l.batchSize,l.outerSize,l.dimSize,l.sliceSize]}}),f=XZ({inputs:{x:o},backend:n,attrs:{shape:[l.batchSize,c/l.batchSize]}});d.push(p),d.push(f);var h=[l.batchSize,l.outerSize,c/l.batchSize,l.sliceSize];if(n.shouldExecuteOnCPU([a,o])||"string"===a.dtype){var m=n.bufferSync(f),v=n.bufferSync(p),g=kO(v,m,h);return d.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(l.outputShape,g.dtype,g.values)}var b=new XL(p.shape,h),y=n.runWebGLProgram(b,[p,f],p.dtype);d.push(y);var x=XZ({inputs:{x:y},backend:n,attrs:{shape:l.outputShape}});return d.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),x}var $L={kernelName:oa,backendName:"webgl",kernelFunc:YL},QL=zZ({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:wO,dtype:"bool"}),JL={kernelName:ua,backendName:"webgl",kernelFunc:QL},e_=zZ({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:CO}),t_={kernelName:sa,backendName:"webgl",kernelFunc:e_};var n_={kernelName:ca,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend;return TL(t.input,!0,n)}},r_=BZ({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),a_={kernelName:pa,backendName:"webgl",kernelFunc:r_},o_=BZ({opSnippet:"return float(isinf(x));",dtype:"bool"}),i_={kernelName:fa,backendName:"webgl",kernelFunc:o_},u_=BZ({opSnippet:"return float(isnan(x));",dtype:"bool"}),s_={kernelName:ha,backendName:"webgl",kernelFunc:u_},l_=zZ({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:DO,dtype:"bool"}),c_={kernelName:va,backendName:"webgl",kernelFunc:l_},d_=zZ({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:EO,dtype:"bool"}),p_={kernelName:ga,backendName:"webgl",kernelFunc:d_};var f_={kernelName:ba,backendName:"webgl",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,o=n.num,i=SO(r,a,o);return t.makeTensorInfo([i.length],"float32",i)}},h_=BZ({opSnippet:"if (isnan(x)) return x;\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:IO}),m_={kernelName:ya,backendName:"webgl",kernelFunc:h_},v_=BZ({opSnippet:"if (isnan(x)) return x;\n  return log(1.0 + x);\n"}),g_={kernelName:xa,backendName:"webgl",kernelFunc:v_},b_=zZ({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),y_={kernelName:ka,backendName:"webgl",kernelFunc:b_},x_=BZ({opSnippet:"return float(!(x >= 1.0));"}),k_={kernelName:wa,backendName:"webgl",kernelFunc:x_},w_=zZ({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),C_={kernelName:Ca,backendName:"webgl",kernelFunc:w_},D_=(0,Jt.Z)((function e(t,n,r,a,o){(0,Qt.Z)(this,e),this.variableNames=["x"],this.outputShape=[];var i,u=n,s=t[3]-1;this.outputShape=t;var l="float(".concat(r,") + float(").concat(a,") * sum");i=.5===o?"inversesqrt(".concat(l,")"):1===o?"1.0/(".concat(l,")"):"exp(log(".concat(l,") * float(-").concat(o,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -".concat(u,"; j <= ").concat(u,"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ").concat(s,") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ").concat(i,";\n        setOutput(val);\n      }\n    ")})),E_=(0,Jt.Z)((function e(t,n,r,a,o){(0,Qt.Z)(this,e),this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var i,u=n,s=t[3]-1;this.outputShape=t;var l="float(".concat(r,") + float(").concat(a,") * sum");i=.5===o?"inversesqrt(".concat(l,")"):1===o?"1.0/(".concat(l,")"):"exp(log(".concat(l,") * float(-").concat(o,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ".concat(this.outputShape[3],";\n        bool hasNextRow = c < ").concat(this.outputShape[2],";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ").concat(u,";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ").concat(u,"; j <= ").concat(u,"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(").concat(s,"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ").concat(i,";\n        setOutput(result);\n      }\n    ")})),S_={kernelName:Da,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.depthRadius,i=r.bias,u=r.alpha,s=r.beta,l=Gn().getBool("WEBGL_PACK_NORMALIZATION")?new E_(a.shape,o,i,u,s):new D_(a.shape,o,i,u,s);return n.runWebGLProgram(l,[a],a.dtype)}},I_=(0,Jt.Z)((function e(t,n,r,a,o){(0,Qt.Z)(this,e),this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=n,this.bias=r,this.alpha=a,this.beta=o,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ".concat(this.depth,"; ++d) {\n          int depthBegin = int(max(0.0, float(d - ").concat(n,")));\n          int depthEnd = int(min(float(").concat(this.depth,"),\n              float(d + ").concat(n," + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ").concat(this.depth,";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(").concat(a,") * norm + float(").concat(r,");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(").concat(a,")\n                * float(").concat(o,")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ").concat(o,");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    ")})),F_={kernelName:Ea,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.y,i=t.dy,u=r.depthRadius,s=r.bias,l=r.alpha,c=r.beta,d=new I_(a.shape,u,s,l,c);return n.runWebGLProgram(d,[a,o,i],a.dtype)}};function T_(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.reductionIndices,i=r.keepDims,u=a.shape.length,s=xn(o,a.shape),l=s,c=Pd(l,u),d=null!=c,p=n.shouldExecuteOnCPU([a]),f=a;if(d){if(p){for(var h=n.texData.get(f.dataId).values,m=new Array(u),v=0;v<m.length;v++)m[v]=a.shape[c[v]];var g=$O(h,a.shape,a.dtype,c,m);f=n.makeTensorInfo(m,a.dtype),n.texData.get(f.dataId).values=g}else f=nM(a,c,n);l=_d(l.length,u)}Md("max",l,u);var b,y=Od(f.shape,l),x=(0,je.Z)(y,2),k=x[0],w=x[1],C=k;if(i&&(C=Zd(k,s)),p){var D=n.texData.get(f.dataId).values,E=FO(D,fn(w),C,a.dtype);b=n.makeTensorInfo(C,a.dtype),n.texData.get(b.dataId).values=E}else b=function(e,t,n,r){var a=fn(t),o=XZ({inputs:{x:e},attrs:{shape:[fn(e.shape)/a,a]},backend:r}),i=JZ(o,e.dtype,"max",r),u=XZ({inputs:{x:i},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(i),u}(f,w,C,n);return d&&n.disposeIntermediateTensorInfo(f),b}var N_={kernelName:Sa,backendName:"webgl",kernelFunc:T_},A_=zZ({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:TO}),R_={kernelName:Ia,backendName:"webgl",kernelFunc:A_};var O_={kernelName:Fa,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;pR(a,"maxPool");var o=r.filterSize,i=r.strides,u=r.pad,s=r.dimRoundingMode;ln(ic(i,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(i," and dilations '").concat(1,"'")}));var l=Kl(a.shape,o,i,1,u,s);if(1===l.filterWidth&&1===l.filterHeight&&hn(l.inShape,l.outShape))return TZ({inputs:{x:a},backend:n});var c=new zM(l,"max",!1);return n.runWebGLProgram(c,[a],a.dtype)}};var Z_={kernelName:Na,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.filterSize,i=r.strides,u=r.pad,s=r.dataFormat,l=r.dimRoundingMode,c=Xl(a.shape,o,i,[1,1,1],u,l,s),d=new jM(c,"max",!1);return n.runWebGLProgram(d,[a],a.dtype)}},M_=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideHeight,r=t.strideWidth,a=t.dilationHeight,o=t.effectiveFilterHeight,i=t.effectiveFilterWidth,u=o-1-t.padInfo.top,s=i-1-t.padInfo.left,l=o*i-1;this.userCode="\n      const ivec2 pads = ivec2(".concat(u,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(o,";\n          wR += ").concat(a,") {\n          float dyR = float(dyRCorner + wR) / ").concat(n,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(i,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(r,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ").concat(l," - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ").concat(i," + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),P_=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideDepth,r=t.strideHeight,a=t.strideWidth,o=t.dilationDepth,i=t.dilationHeight,u=t.dilationWidth,s=t.effectiveFilterDepth,l=t.effectiveFilterHeight,c=t.effectiveFilterWidth,d=s-1-t.padInfo.front,p=l-1-t.padInfo.top,f=c-1-t.padInfo.left,h=s*l*c-1;this.userCode="\n      const ivec3 pads = ivec3(".concat(d,", ").concat(p,", ").concat(f,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(s,";\n           wD += ").concat(o,") {\n          float dyD = float(dyDCorner + wD) / ").concat(n,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(l,";\n              wR += ").concat(i,") {\n            float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(c,";\n                wC += ").concat(u,") {\n              float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ").concat(h," -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ").concat(l," * ").concat(c," +\n                  wR * ").concat(c," + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var L_={kernelName:Aa,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,i=r.filterSize,u=r.strides,s=r.pad,l=r.dimRoundingMode,c=Xl(o.shape,i,u,[1,1,1],s,l),d=new jM(c,"max",!0),p=n.runWebGLProgram(d,[o],o.dtype),f=new P_(c),h=n.runWebGLProgram(f,[a,p],o.dtype);return n.disposeIntermediateTensorInfo(p),h}};var __={kernelName:Ta,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,i=o;pR([o,t.output],"maxPoolGrad");var u=r.filterSize,s=r.strides,l=r.pad,c=r.dimRoundingMode,d=Kl(i.shape,u,s,1,l,c),p=new zM(d,"max",!0),f=n.runWebGLProgram(p,[i],i.dtype),h=new M_(d),m=n.runWebGLProgram(h,[a,f],i.dtype);return n.disposeIntermediateTensorInfo(f),m}};var B_={kernelName:Ra,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,o=n.filterSize,i=n.strides,u=n.pad,s=n.includeBatchInIndex,l=r;ln(4===a.shape.length,(function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(a.shape.length,".")}));var c=[1,1];ln(ic(i,c),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(i," and dilations '").concat(c,"'")}));var d=Kl(a.shape,o,i,c,u),p=function(e,t,n,r){var a=new zM(n,"max",!1),o=r.runWebGLProgram(a,[e],"float32");return a=new zM(n,"max",!0,!0,t),[o,r.runWebGLProgram(a,[e],"float32")]}(a,s,d,l),f=(0,je.Z)(p,2);return[f[0],f[1]]}};var z_={kernelName:Oa,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,o=n.keepDims,i=n.axis,u=r,s=a.shape.length,l=xn(i,a.shape),c=l,d=Pd(c,s),p=null!=d,f=u.shouldExecuteOnCPU([a]),h=[],m=a;if(p){if(f){for(var v=u.texData.get(m.dataId).values,g=new Array(s),b=0;b<g.length;b++)g[b]=a.shape[d[b]];var y=$O(v,a.shape,a.dtype,d,g);m=u.makeTensorInfo(g,a.dtype),u.texData.get(m.dataId).values=y}else m=nM(a,d,u);h.push(m),c=_d(c.length,s)}Md("sum",c,s);var x=Od(m.shape,c),k=(0,je.Z)(x,2),w=k[0],C=k[1],D=w;o&&(D=Zd(w,l));for(var E=function(e,t,n,r){var a=fn(t),o=XZ({inputs:{x:e},attrs:{shape:[fn(e.shape)/a,a]},backend:r}),i=JZ(o,"float32","mean",r),u=XZ({inputs:{x:i},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(i),u}(m,C,D,u),S=0,I=h;S<I.length;S++){var F=I[S];u.disposeIntermediateTensorInfo(F)}return E}};var j_={kernelName:Za,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,i=r.keepDims,u=a.shape.length,s=xn(o,a.shape),l=s,c=Pd(l,u),d=a;null!=c&&(d=oM({inputs:{x:a},backend:n,attrs:{perm:c}}),l=_d(l.length,a.shape.length)),Md("min",l,u);var p,f=Od(d.shape,l),h=(0,je.Z)(f,2),m=h[0],v=XZ({inputs:{x:d},backend:n,attrs:{shape:[-1,fn(h[1])]}}),g=JZ(v,v.dtype,"min",n);return p=XZ(i?{inputs:{x:g},backend:n,attrs:{shape:Zd(m,s)}}:{inputs:{x:g},backend:n,attrs:{shape:m}}),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g),null!=c&&n.disposeIntermediateTensorInfo(d),p}},V_=zZ({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:NO}),W_={kernelName:Ma,backendName:"webgl",kernelFunc:V_},H_=(0,Jt.Z)((function e(t,n,r){(0,Qt.Z)(this,e),this.variableNames=["x"],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var a=t.length,o=BR(a),i=n.map((function(e){return e[0]})).join(","),u=n.map((function(e,n){return e[0]+t[n]})).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a),l="reflect"===r?0:1;this.userCode=1!==a?"\n      ".concat(o," start = ").concat(o,"(").concat(i,");\n      ").concat(o," end = ").concat(o,"(").concat(u,");\n\n      void main() {\n        ").concat(o," outC = getOutputCoords();\n        for (int i = 0; i < ").concat(a,"; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ").concat(l,";\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ").concat(l,";\n          }\n        }\n        ").concat(o," coords = outC - start;\n        setOutput(getX(").concat(s,"));\n      }\n    "):"\n        int start = ".concat(i,";\n        int end = ").concat(u,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ").concat(l,";\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ").concat(l,";\n          }\n          setOutput(getX(outC - start));\n        }\n      ")})),U_=(0,Jt.Z)((function e(t,n,r){(0,Qt.Z)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var a=t.length,o=BR(a),i=n.map((function(e){return e[0]})).join(","),u=n.map((function(e,n){return e[0]+t[n]})).join(","),s=eZ("rc",a),l=eZ("source",a),c="".concat(s[a-1]," < ").concat(this.outputShape[a-1]),d=1===a?"source":"vec2(".concat(l.slice(-2).join(),")"),p="reflect"===r?0:1,f="";if(1===a){var h="\n        ".concat(o," source = rc;\n        if (source < start) {\n          source = start * 2 - source - ").concat(p,";\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ").concat(p,";\n        }\n        source -= start;\n      ");f="\n        ".concat(o," rc = outputLoc;\n        ").concat(h,"\n        result[0] = getChannel(getX(").concat(l.join(),"), ").concat(d,");\n        ").concat(s[a-1]," += 1;\n        if(").concat(c,") {\n          ").concat(h,"\n          result[1] = getChannel(getX(").concat(l.join(),"), ").concat(d,");\n        }\n      ")}else{var m="\n        ".concat(o," source = rc;\n        ").concat(o," lt = ").concat(o,"(lessThan(source, start));\n        ").concat(o," gte = ").concat(o,"(greaterThanEqual(source, end));\n        ").concat(o," orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ").concat(p,") +\n                gte * ((end - 1) * 2 - source + ").concat(p,");\n        source -= start;\n      ");f="\n        ".concat(o," rc = outputLoc;\n        ").concat(m,"\n        result[0] = getChannel(getX(").concat(l.join(),"), ").concat(d,");\n        ").concat(s[a-1]," += 1;\n        if(").concat(c,") {\n          ").concat(m,"\n          result[1] = getChannel(getX(").concat(l.join(),"), ").concat(d,");\n        }\n        rc = outputLoc;\n        ").concat(s[a-2]," += 1;\n        if(").concat(s[a-2]," < ").concat(this.outputShape[a-2],") {\n          ").concat(m,"\n          result[2] = getChannel(getX(").concat(l.join(),"), ").concat(d,");\n          ").concat(s[a-1]," += 1;\n          if(").concat(c,") {\n            ").concat(m,"\n            result[3] = getChannel(getX(").concat(l.join(),"), ").concat(d,");\n          }\n        }\n      ")}this.userCode="\n      const ".concat(o," start = ").concat(o,"(").concat(i,");\n      const ").concat(o," end = ").concat(o,"(").concat(u,");\n\n      void main() {\n        ").concat(o," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(f,"\n        setOutput(result);\n      }\n    ")})),G_={kernelName:Pa,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.paddings,i=r.mode,u=Gn().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new U_(a.shape,o,i):new H_(a.shape,o,i);return n.runWebGLProgram(u,[a],a.dtype)}},q_=zZ({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),K_={kernelName:La,backendName:"webgl",kernelFunc:q_},X_=(0,Jt.Z)((function e(t,n,r){(0,Qt.Z)(this,e),this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[t,r],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ".concat(n-1,"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(").concat(n-1,"));\n      }\n    ")})),Y_=zZ({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),$_={kernelName:Hr,backendName:"webgl",kernelFunc:Y_},Q_="return a - b;",J_=zZ({opSnippet:Q_,packedOpSnippet:Q_,supportsComplex:!0,cpuKernelImpl:KO}),eB={kernelName:Lo,backendName:"webgl",kernelFunc:J_};function tB(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,o=xn([r.dim],a.shape),i=T_({inputs:{x:a},backend:n,attrs:{reductionIndices:o,keepDims:!1}}),u=Zd(i.shape,o),s=XZ({inputs:{x:i},backend:n,attrs:{shape:u}}),l=J_({inputs:{a:a,b:s},backend:n}),c=kL({inputs:{x:l},backend:n}),d=rM({inputs:{x:c},backend:n,attrs:{axis:o,keepDims:!1}}),p=XZ({inputs:{x:d},backend:n,attrs:{shape:u}}),f=Y_({inputs:{a:c,b:p},backend:n});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),f}var nB={kernelName:Eo,backendName:"webgl",kernelFunc:tB};var rB={kernelName:_a,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,o=r.numSamples,i=r.seed,u=r.normalized,s=u?a:tB({inputs:{logits:a},backend:n,attrs:{dim:a.shape.length-1}}),l=s.shape[0],c=s.shape[1],d=new X_(l,c,o),p=[[i]],f=n.runWebGLProgram(d,[s],"int32",p);return u||n.disposeIntermediateTensorInfo(s),f}};var aB={kernelName:za,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=n.x;if(r.shouldExecuteOnCPU([a])){var o=r.texData.get(a.dataId),i=RO(o.values,a.shape,a.dtype),u=(0,je.Z)(i,2),s=u[0],l=u[1];return r.makeTensorInfo(l,a.dtype,s)}return t=Gn().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new kZ(a.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new uZ(a.shape,"if (isnan(x)) return x;\n  return -x;\n"),r.runWebGLProgram(t,[a],a.dtype)}},oB=ch;var iB={kernelName:Va,backendName:"webgl",kernelFunc:function(e){ei("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,o=t.scores,i=r.maxOutputSize,u=r.iouThreshold,s=r.scoreThreshold,l=n.readSync(a.dataId),c=n.readSync(o.dataId),d=oB(l,c,i,u,s).selectedIndices;return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},uB=dh;var sB={kernelName:Wa,backendName:"webgl",kernelFunc:function(e){ei("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,o=t.scores,i=r.maxOutputSize,u=r.iouThreshold,s=r.scoreThreshold,l=r.padToMaxOutputSize,c=n.readSync(a.dataId),d=n.readSync(o.dataId),p=uB(c,d,i,u,s,l),f=p.selectedIndices,h=p.validOutputs;return[n.makeTensorInfo([f.length],"int32",new Int32Array(f)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}},lB=ph;var cB={kernelName:Ha,backendName:"webgl",kernelFunc:function(e){ei("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,o=t.scores,i=r.maxOutputSize,u=r.iouThreshold,s=r.scoreThreshold,l=r.softNmsSigma,c=n.readSync(a.dataId),d=n.readSync(o.dataId),p=lB(c,d,i,u,s,l),f=p.selectedIndices,h=p.selectedScores;return[n.makeTensorInfo([f.length],"int32",new Int32Array(f)),n.makeTensorInfo([h.length],"float32",new Float32Array(h))]}},dB=(0,Jt.Z)((function e(t,n,r,a){(0,Qt.Z)(this,e),this.variableNames=["indices"],this.outputShape=[t,n],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(".concat(a,"), float(").concat(r,"),\n                      float(index == coords.y)));\n      }\n    ")})),pB={kernelName:Ga,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,o=r.depth,i=r.onValue,u=r.offValue,s=fn(a.shape),l=new dB(s,o,i,u),c=XZ({inputs:{x:a},backend:n,attrs:{shape:[s]}}),d=n.runWebGLProgram(l,[c],a.dtype);n.disposeIntermediateTensorInfo(c);var p=XZ({inputs:{x:d},backend:n,attrs:{shape:[].concat((0,$t.Z)(a.shape),[o])}});return n.disposeIntermediateTensorInfo(d),p}};function fB(e){var t=e.inputs,n=e.backend,r=t.x;if("complex64"===r.dtype){var a=sP({inputs:{input:r},backend:n}),o=fB({inputs:{x:a},backend:n}),i=CP({inputs:{input:r},backend:n}),u=fB({inputs:{x:i},backend:n}),s=AZ({inputs:{real:o,imag:u},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(u),s}return RL({attrs:{shape:r.shape,dtype:r.dtype,value:"string"===r.dtype?"":0},backend:n})}var hB={kernelName:qo,backendName:"webgl",kernelFunc:fB};var mB={kernelName:Ua,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=n.x;if("string"===a.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===a.dtype){var o=sP({inputs:{input:a},backend:r}),i=e({inputs:{x:o},backend:r}),u=CP({inputs:{input:a},backend:r}),s=fB({inputs:{x:u},backend:r}),l=AZ({inputs:{real:i,imag:s},backend:r});return r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(u),r.disposeIntermediateTensorInfo(s),l}return RL({attrs:{shape:a.shape,dtype:a.dtype,value:1},backend:r})}};var vB={kernelName:qa,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.axis;if(1===t.length)return CL({inputs:{input:t[0]},backend:n,attrs:{dim:r}});var a=t[0].shape,o=t[0].dtype;t.forEach((function(e){cn(a,e.shape,"All tensors passed to stack must have matching shapes"),ln(o===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var i=[],u=SP({inputs:t.map((function(e){var t=CL({inputs:{input:e},backend:n,attrs:{dim:r}});return i.push(t),t})),backend:n,attrs:{axis:r}});return i.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),u}},gB=(0,Jt.Z)((function e(t,n,r){(0,Qt.Z)(this,e),this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var a=t.length,o=BR(a),i=n.map((function(e){return e[0]})).join(","),u=n.map((function(e,n){return e[0]+t[n]})).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a);this.userCode=1!==a?"\n      ".concat(o," start = ").concat(o,"(").concat(i,");\n      ").concat(o," end = ").concat(o,"(").concat(u,");\n\n      void main() {\n        ").concat(o," outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ").concat(o," coords = outC - start;\n          setOutput(getX(").concat(s,"));\n        }\n      }\n    "):"\n        int start = ".concat(i,";\n        int end = ").concat(u,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      ")})),bB=(0,Jt.Z)((function e(t,n,r){(0,Qt.Z)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));for(var a=t.length,o=BR(a),i=n.map((function(e){return e[0]})).join(","),u=n.map((function(e,n){return e[0]+t[n]})).join(","),s=eZ("rc",a),l=eZ("source",a),c="".concat(s[a-1]," < ").concat(this.outputShape[a-1]),d=1===a?"source":"vec2(".concat(l.slice(-2).join(),")"),p=["".concat(o," rc = outputLoc;"),"".concat(s[a-1]," += 1;\n       if(").concat(c,") {\n      "),1===a?"":"}\n       rc = outputLoc;\n       ".concat(s[a-2]," += 1;\n       if(").concat(s[a-2]," < ").concat(this.outputShape[a-2],") {"),1===a?"":"  ".concat(s[a-1]," += 1;\n         if(").concat(c,") {")],f=1===a?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",h="",m=0,v=1===a?2:4;m<v;m++)h+="\n        ".concat(p[m],"\n        if (").concat(f,") {\n          result[").concat(m,"] = float(value);\n        } else {\n          ").concat(o," source = rc - start;\n          result[").concat(m,"] = getChannel(getX(").concat(l.join(),"), ").concat(d,");\n        }\n      ");h+=1===a?"} ":"}}",this.userCode="\n      const ".concat(o," start = ").concat(o,"(").concat(i,");\n      const ").concat(o," end = ").concat(o,"(").concat(u,");\n\n      void main() {\n        ").concat(o," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(h,"\n        setOutput(result);\n      }\n    ")})),yB=function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.paddings,i=r.constantValue;if(0===fn(a.shape)){var u=o.map((function(e,t){return e[0]+a.shape[t]+e[1]}));return RL({backend:n,attrs:{shape:u,value:i,dtype:a.dtype}})}var s=Gn().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new bB(a.shape,o,i):new gB(a.shape,o,i),l=[[i]];return n.runWebGLProgram(s,[a],a.dtype,l)},xB={kernelName:Ka,backendName:"webgl",kernelFunc:yB},kB=zZ({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),wB={kernelName:Xa,backendName:"webgl",kernelFunc:kB};var CB={kernelName:$a,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,i=a.axis,u=a.keepDims,s=o.shape.length,l=[],c=xn(i,o.shape),d=c,p=Pd(d,s),f=o;if(null!=p&&(f=oM({inputs:{x:o},backend:r,attrs:{perm:p}}),d=_d(d.length,s),l.push(f)),Md("prod",d,s),r.shouldExecuteOnCPU([f])){var h=r.texData.get(f.dataId).values,m=ZO(f.shape,f.dtype,h,d),v=m.outVals,g=m.outShape,b=m.outDtype;t=r.makeTensorInfo(g,b,v)}else{var y=Od(f.shape,d),x=(0,je.Z)(y,2),k=x[0],w=fn(x[1]),C=XZ({inputs:{x:f},backend:r,attrs:{shape:[-1,w]}}),D=JZ(C,tu(o.dtype),"prod",r);t=XZ({inputs:{x:D},backend:r,attrs:{shape:k}}),l.push(C),l.push(D)}if(u){l.push(t);var E=Zd(t.shape,c);t=XZ({inputs:{x:t},backend:r,attrs:{shape:E}})}return l.forEach((function(e){return r.disposeIntermediateTensorInfo(e)})),t}},DB=function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,o=n.step,i=n.dtype,u=MO(r,a,o,i);return t.makeTensorInfo([u.length],i,u)},EB={kernelName:Qa,backendName:"webgl",kernelFunc:DB},SB=BZ({opSnippet:"return 1.0 / x;"}),IB={kernelName:eo,backendName:"webgl",kernelFunc:SB},FB=BZ({opSnippet:"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),TB={kernelName:to,backendName:"webgl",kernelFunc:FB},NB=BZ({opSnippet:"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),AB={kernelName:uo,backendName:"webgl",kernelFunc:NB},RB=(0,Jt.Z)((function e(t,n,r,a,o){(0,Qt.Z)(this,e),this.variableNames=["A"],this.outputShape=[];var i=(0,je.Z)(t,4),u=i[0],s=i[1],l=i[2],c=i[3];this.outputShape=[u,n,r,c];var d,p=[a&&n>1?s-1:s,a&&r>1?l-1:l],f=[a&&n>1?n-1:n,a&&r>1?r-1:r];d=o?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(p[0]/f[0],",\n          ").concat(p[1]/f[1],");\n      const vec2 inputShapeRC = vec2(").concat(s,".0, ").concat(l,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    ")})),OB=(0,Jt.Z)((function e(t,n,r,a,o){(0,Qt.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var i=(0,je.Z)(t,4),u=i[0],s=i[1],l=i[2],c=i[3];this.outputShape=[u,n,r,c];var d,p=[a&&n>1?s-1:s,a&&r>1?l-1:l],f=[a&&n>1?n-1:n,a&&r>1?r-1:r];d=o?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(p[0]/f[0],",\n          ").concat(p[1]/f[1],",\n          ").concat(p[1]/f[1],");\n      const vec3 inputShapeRC = vec3(").concat(s,".0, ").concat(l,".0,\n                                     ").concat(l,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(c-1,";\n        bool hasNextRow = coords.z < ").concat(r-1,";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    ")}));var ZB={kernelName:oo,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=r.alignCorners,i=r.halfPixelCenters,u=r.size,s=(0,je.Z)(u,2),l=s[0],c=s[1],d=Gn().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new OB(a.shape,l,c,o,i):new RB(a.shape,l,c,o,i);return n.runWebGLProgram(d,[a],"float32")}},MB=(0,Jt.Z)((function e(t,n,r){(0,Qt.Z)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;var a=(0,je.Z)(n,3),o=a[1],i=a[2],u=(0,je.Z)(t,3),s=u[1],l=u[2],c=[r&&s>1?o-1:o,r&&l>1?i-1:i],d=[r&&s>1?s-1:s,r&&l>1?l-1:l],p=c[0]/d[0],f=c[1]/d[1],h=1/p,m=1/f,v=2*Math.ceil(h)+2,g=2*Math.ceil(m)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(p,");\n        const float widthScale = float(").concat(f,");\n\n        const float invHeightScale = float(").concat(h,");\n        const float invWidthScale = float(").concat(m,");\n\n        const int winHeight = int(").concat(v,");\n        const int winWidth = int(").concat(g,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(s,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(l,") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ").concat(o-1,".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ").concat(i-1,".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}));var PB={kernelName:io,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=t.dy,i=r.alignCorners,u=new MB(o.shape,a.shape,i);return n.runWebGLProgram(u,[o],o.dtype)}},LB=(0,Jt.Z)((function e(t,n,r,a,o){(0,Qt.Z)(this,e),this.variableNames=["A"],this.outputShape=[];var i=(0,je.Z)(t,4),u=i[0],s=i[1],l=i[2],c=i[3];this.outputShape=[u,n,r,c];var d,p=[a&&n>1?s-1:s,a&&r>1?l-1:l],f=[a&&n>1?n-1:n,a&&r>1?r-1:r],h=a?"0.5":"0.0";d=o?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(p[0]/f[0],",\n          ").concat(p[1]/f[1],");\n      const vec2 inputShapeRC = vec2(").concat(s,".0, ").concat(l,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(h,")));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    ")})),_B=(0,Jt.Z)((function e(t,n,r,a,o){(0,Qt.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var i=(0,je.Z)(t,4),u=i[0],s=i[1],l=i[2],c=i[3];this.outputShape=[u,n,r,c];var d,p=[a&&n>1?s-1:s,a&&r>1?l-1:l],f=[a&&n>1?n-1:n,a&&r>1?r-1:r],h=a?"0.5":"0.0";d=o?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(p[0]/f[0],",\n          ").concat(p[1]/f[1],",\n          ").concat(p[1]/f[1],");\n      const vec3 inputShapeRC = vec3(").concat(s,".0, ").concat(l,".0,\n                                     ").concat(l,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(h,")));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(c-1,";\n        bool hasNextRow = coords.z < ").concat(r-1,";\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    ")}));var BB={kernelName:ro,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=r.alignCorners,i=r.halfPixelCenters,u=r.size,s=(0,je.Z)(u,2),l=s[0],c=s[1],d=Gn().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new _B(a.shape,l,c,o,i):new LB(a.shape,l,c,o,i);return n.runWebGLProgram(d,[a],a.dtype)}},zB=(0,Jt.Z)((function e(t,n,r){(0,Qt.Z)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;var a=(0,je.Z)(n,3),o=a[1],i=a[2],u=(0,je.Z)(t,3),s=u[1],l=u[2],c=[r&&s>1?o-1:o,r&&l>1?i-1:i],d=[r&&s>1?s-1:s,r&&l>1?l-1:l],p=c[0]/d[0],f=c[1]/d[1],h=1/p,m=1/f,v=2*Math.ceil(h)+2,g=2*Math.ceil(m)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(p,");\n        const float widthScale = float(").concat(f,");\n\n        const float invHeightScale = float(").concat(h,");\n        const float invWidthScale = float(").concat(m,");\n\n        const int winHeight = int(").concat(v,");\n        const int winWidth = int(").concat(g,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(s,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(l,") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(").concat(c[0],") *\n                (float(dyR) / float(").concat(d[0],"));\n\n            float sourceFracCol =\n                float(").concat(c[1],") *\n                  (float(dyC) / float(").concat(d[1],"));\n\n            int sourceNearestRow = int(min(\n                float(int(").concat(o,") - 1),\n                ").concat(r," ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(").concat(i,") - 1),\n                ").concat(r," ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}));var jB={kernelName:ao,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=t.dy,i=r.alignCorners,u=new zB(o.shape,a.shape,i);return n.runWebGLProgram(u,[o],o.dtype)}},VB=(0,Jt.Z)((function e(t,n){(0,Qt.Z)(this,e),this.variableNames=["x"];var r=t.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-".concat(r," tensor is not yet supported"));if(this.outputShape=t,1!==r){var a=t.map((function(e,r){return function(e){return-1!==n.indexOf(e)&&1!==t[e]?"".concat(t[e]," - coords[").concat(e,"] - 1"):"coords[".concat(e,"]")}(r)})).join(","),o=BR(r);this.userCode="\n      void main() {\n        ".concat(o," coords = getOutputCoords();\n        setOutput(getX(").concat(a,"));\n      }\n    ")}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(".concat(t[0]," - coord - 1));\n        }\n      ")})),WB=(0,Jt.Z)((function e(t,n){(0,Qt.Z)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var r=t.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-".concat(r," tensor is not yet supported"));this.outputShape=t;var a=eZ("rc",r),o="".concat(a[r-1]," + 1 < ").concat(this.outputShape[r-1]),i="".concat(a[r-2]," + 1 < ").concat(this.outputShape[r-2]),u=BR(r);function s(e){var r=t.map((function(r,a){return function(e,r){return-1!==n.indexOf(e)&&1!==t[e]?"".concat(t[e]," - ").concat(r[e]," - 1"):"".concat(r[e])}(a,e)})),a=r.join(","),o=r.slice(-2).join(",");return"getChannel(getX(".concat(a,"), vec2(").concat(o,"))")}this.userCode=1===r?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(".concat(t[0]," - rc - 1),\n            ").concat(t[0]," - rc - 1);\n          if(").concat(o,"){\n              result.g = getChannel(getX(").concat(t[0]," - (rc  + 1) - 1),\n                ").concat(t[0]," - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      "):"\n        void main() {\n          ".concat(u," rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ").concat(function(e){return s(e)}(a.slice()),";\n          if(").concat(o,"){\n            result.g = ").concat(function(e){return e[r-1]="("+e[r-1]+" + 1)",s(e)}(a.slice()),";\n          }\n          if(").concat(i,") {\n            result.b = ").concat(function(e){return e[r-2]="("+e[r-2]+" + 1)",s(e)}(a.slice()),";\n            if(").concat(o,") {\n              result.a = ").concat(function(e){return e[r-1]="("+e[r-1]+" + 1)",e[r-2]="("+e[r-2]+" + 1)",s(e)}(a.slice()),";\n            }\n          }\n          setOutput(result);\n        }\n    ")}));var HB={kernelName:so,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.dims,i=a.shape.length,u=xn(o,a.shape);if(0===i)return TZ({inputs:{x:a},backend:n});var s=Gn().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new WB(a.shape,u):new VB(a.shape,u);return n.runWebGLProgram(s,[a],a.dtype)}},UB=(0,Jt.Z)((function e(t,n){(0,Qt.Z)(this,e),this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];var r=t[1],a=t[2];this.outputShape=t;var o="";o="number"===typeof n?"float outputValue = ".concat(n.toFixed(2),";"):"\n        vec3 fill = vec3(".concat(n.join(","),");\n        float outputValue = fill[coords[3]];"),this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ".concat(o,"\n          if(coordX >= 0 && coordX < ").concat(a," && coordY >= 0 && coordY < ").concat(r,") {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")})),GB={kernelName:Yo,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,o=n.radians,i=n.fillValue,u=n.center,s=r,l=new UB(a.shape,i),c=Dm(u,a.shape[1],a.shape[2]),d=(0,je.Z)(c,2),p=[[d[0],d[1],Math.sin(o),Math.cos(o)]];return s.runWebGLProgram(l,[a],a.dtype,p)}},qB=BZ({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),KB={kernelName:lo,backendName:"webgl",kernelFunc:qB},XB=BZ({opSnippet:"return inversesqrt(x);",cpuKernelImpl:PO}),YB={kernelName:co,backendName:"webgl",kernelFunc:XB},$B=(0,Jt.Z)((function e(t,n,r,a,o,i){(0,Qt.Z)(this,e),this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;var u=BR(o.length),s=BR(i.length),l="";1===r?l="i":2===r&&(l="i, j");var c="getIndices(".concat(l,")"),d="";1===a?d="i":2===a&&(d="i, coords[1]");var p="getUpdates(".concat(d,")"),f=n>1?"strides[j]":"strides";this.userCode="\n        ".concat(u," strides = ").concat(u,"(").concat(o,");\n\n        void main() {\n          ").concat(s," coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ").concat(t,"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ").concat(n,"; j++) {\n              int index = round(").concat(c,");\n              flattenedIndex += index * ").concat(f,";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ").concat(p,";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      ")}));var QB={kernelName:po,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,o=t.updates,i=r.shape,u=Rf(0,a,i),s=u.sliceRank,l=u.numUpdates,c=u.sliceSize,d=u.strides,p=u.outputSize,f=[p/c,c];if(0===p)return n.makeTensorInfo(i,a.dtype);var h=XZ({inputs:{x:a},backend:n,attrs:{shape:[l,s]}}),m=XZ({inputs:{x:o},backend:n,attrs:{shape:[l,c]}}),v=n.makeTensorInfo([],"float32",new Float32Array([0])),g=new $B(l,s,h.shape.length,m.shape.length,d,f),b=n.runWebGLProgram(g,[m,h,v],m.dtype),y=XZ({inputs:{x:b},backend:n,attrs:{shape:i}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(v),y}},JB=(0,Jt.Z)((function e(t,n,r){var a,o;if((0,Qt.Z)(this,e),this.variableNames=["c","a","b"],this.outputShape=n,r>4)throw Error("Where for rank ".concat(r," is not yet supported"));if(1===r)o="resRC",a="resRC";else{for(var i=["resRC.x","resRC.y","resRC.z","resRC.w"],u=[],s=[],l=0;l<n.length;l++)s.push("".concat(i[l])),l<t&&u.push("".concat(i[l]));a=u.join(),o=s.join()}var c=BR(r);this.userCode="\n      void main() {\n        ".concat(c," resRC = getOutputCoords();\n        float cVal = getC(").concat(a,");\n        if (cVal >= 1.0) {\n          setOutput(getA(").concat(o,"));\n        } else {\n          setOutput(getB(").concat(o,"));\n        }\n      }\n    ")}));var ez={kernelName:fo,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.condition,a=t.t,o=t.e,i=new JB(r.shape.length,a.shape,a.shape.length);return n.runWebGLProgram(i,[r,a,o],eu(a.dtype,o.dtype))}},tz=BZ({opSnippet:"\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ".concat(Am,";\n  float scale = ").concat(Rm,";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n")}),nz={kernelName:ho,backendName:"webgl",kernelFunc:tz},rz=BZ({opSnippet:"if (isnan(x)) return x;\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:LO}),az={kernelName:yo,backendName:"webgl",kernelFunc:rz},oz=BZ({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),iz={kernelName:bo,backendName:"webgl",kernelFunc:oz},uz=BZ({opSnippet:"if (isnan(x)) return x;\n  return sin(x);\n"}),sz={kernelName:vo,backendName:"webgl",kernelFunc:uz},lz=BZ({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),cz={kernelName:go,backendName:"webgl",kernelFunc:lz},dz=BZ({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),pz={kernelName:xo,backendName:"webgl",kernelFunc:dz},fz={kernelName:Co,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.blockShape,i=r.paddings;ln(a.shape.length<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"}));var u=o.reduce((function(e,t){return e*t})),s=[[0,0]];s.push.apply(s,(0,$t.Z)(i));for(var l=1+o.length;l<a.shape.length;++l)s.push([0,0]);var c=[],d=yB({inputs:{x:a},backend:n,attrs:{paddings:s,constantValue:0}}),p=Em(d.shape,o,u,!1),f=Sm(p.length,o.length,!1),h=Im(d.shape,o,u,!1),m=XZ({inputs:{x:d},backend:n,attrs:{shape:p}}),v=oM({inputs:{x:m},backend:n,attrs:{perm:f}}),g=XZ({inputs:{x:v},backend:n,attrs:{shape:h}});return c.push(d),c.push(m),c.push(v),c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),g}};var hz={kernelName:So,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.indices,a=t.values,o=t.denseShape,i=t.defaultValue;if(1!==o.shape.length)throw new Error("Dense shape must be a vector, saw:\n         ".concat(o.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n         ".concat(r.shape));if(1!==a.shape.length)throw new Error("Values must be a vector, saw:\n         ".concat(a.shape));if(0!==i.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(i.shape));var u=n.readSync(r.dataId),s=n.readSync(a.dataId),l=n.readSync(o.dataId),c=n.readSync(i.dataId)[0],d=zO(u,r.shape,r.dtype,s,a.dtype,l,c),p=(0,je.Z)(d,5),f=p[0],h=p[1],m=p[2],v=p[3],g=p[4];return[n.makeTensorInfo(h,r.dtype,f),n.makeTensorInfo([h[0]],a.dtype,m),n.makeTensorInfo([v.length],"bool",new Uint8Array(v.map((function(e){return Number(e)})))),n.makeTensorInfo([g.length],r.dtype,new Int32Array(g))]}};var mz={kernelName:Io,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.inputIndices,a=t.inputShape,o=t.newShape;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape ".concat(r.shape));if(1!==a.shape.length)throw new Error("Input shape should be a vector but received shape ".concat(a.shape));if(1!==o.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(o.shape));var i=Array.from(n.readSync(a.dataId)),u=n.readSync(r.dataId),s=Array.from(n.readSync(o.dataId)),l=jO(u,r.shape,r.dtype,i,s),c=(0,je.Z)(l,3),d=c[0],p=c[1],f=c[2];return[n.makeTensorInfo(p,r.dtype,d),n.makeTensorInfo([f.length],o.dtype,new Int32Array(f))]}};var vz={kernelName:Fo,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,o=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n              ".concat(a.shape));if(1!==o.shape.length)throw new Error("Segment ids should be a vector but received shape\n              ".concat(o.shape));var i=n.readSync(r.dataId),u=n.readSync(a.dataId),s=n.readSync(o.dataId),l=VO(i,r.shape,r.dtype,u,s,!0),c=(0,je.Z)(l,2),d=c[0],p=c[1];return n.makeTensorInfo(p,r.dtype,d)}};var gz={kernelName:To,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,o=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n             ".concat(a.shape));if(1!==o.shape.length)throw new Error("Segment ids should be a vector but received shape\n             ".concat(o.shape));var i=n.readSync(r.dataId),u=n.readSync(a.dataId),s=n.readSync(o.dataId),l=VO(i,r.shape,r.dtype,u,s),c=(0,je.Z)(l,2),d=c[0],p=c[1];return n.makeTensorInfo(p,r.dtype,d)}};var bz={kernelName:No,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.sparseIndices,o=t.sparseValues,i=t.defaultValue,u=r.outputShape,s=Rf(0,a,u),l=s.sliceRank,c=s.numUpdates,d=s.strides,p=s.outputSize,f=new $B(c,l,a.shape.length,o.shape.length,d,[p,1],!1),h=n.runWebGLProgram(f,[o,a,i],o.dtype),m=XZ({inputs:{x:h},backend:n,attrs:{shape:u}});return n.disposeIntermediateTensorInfo(h),m}};var yz={kernelName:Do,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.numOrSizeSplits,i=xn(r.axis,a.shape)[0],u=$m(a,o,i),s=a.shape.length,l=new Array(s).fill(0),c=a.shape.slice();return u.map((function(e){var t=(0,$t.Z)(c);t[i]=e;var r=tP({inputs:{x:a},backend:n,attrs:{begin:l,size:t}});return l[i]+=e,r}))}},xz="return sqrt(x);",kz=BZ({opSnippet:xz,packedOpSnippet:xz,cpuKernelImpl:WO}),wz={kernelName:ko,backendName:"webgl",kernelFunc:kz},Cz={kernelName:Ro,backendName:"webgl",kernelFunc:BZ({opSnippet:"return x * x;"})},Dz="return (a - b) * (a - b);",Ez=zZ({opSnippet:Dz,packedOpSnippet:Dz}),Sz={kernelName:Ao,backendName:"webgl",kernelFunc:Ez};var Iz={kernelName:Ko,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,o=sZ+"\n    return x > 0.0 ? 1.0 : float(".concat(n.alpha,");\n  "),i=new uZ(a.shape,o);return r.runWebGLProgram(i,[a],a.dtype)}},Fz=(0,Jt.Z)((function e(t,n,r){(0,Qt.Z)(this,e),this.variableNames=["x"],this.outputShape=r;var a=r.length,o=BR(r.length),i=BR(r.length),u="";if(1===a)u="coords * strides + begin";else{var s=0;u=r.map((function(e,t){return s++,1===r.length?"coords * strides[".concat(t,"] + begin[").concat(t,"]"):"coords[".concat(s-1,"] * strides[").concat(t,"] + begin[").concat(t,"]")})).join(",")}this.userCode="\n      ".concat(o," begin = ").concat(o,"(").concat(t,");\n      ").concat(o," strides = ").concat(o,"(").concat(n,");\n\n      void main() {\n        ").concat(i," coords = getOutputCoords();\n        setOutput(getX(").concat(u,"));\n      }\n    ")}));var Tz={kernelName:Oo,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,i=a.begin,u=a.end,s=a.strides,l=a.beginMask,c=a.endMask,d=a.ellipsisMask,p=a.newAxisMask,f=a.shrinkAxisMask,h=yl(o.shape,i,u,s,l,c,d,p,f),m=h.finalShapeSparse,v=h.finalShape,g=h.isIdentity,b=h.sliceDim0,y=h.isSimpleSlice,x=h.begin,k=h.end,w=h.strides;if(g)t=XZ({inputs:{x:o},backend:r,attrs:{shape:v}});else if(b||y){ln(o.shape.length>=1,(function(){return"Input must have rank at least 1, got: ".concat(o.shape.length)}));var C=ml(x,k,w),D=tP({inputs:{x:o},backend:r,attrs:{begin:x,size:C}});t=XZ({inputs:{x:D},backend:r,attrs:{shape:v}}),r.disposeIntermediateTensorInfo(D)}else{if(r.shouldExecuteOnCPU([o])){var E=r.readSync(o.dataId),S=Ms(o.shape,o.dtype,E),I=HO(m,S,w,x);t=r.makeTensorInfo(v,o.dtype,I.values)}else{var F=new Fz(x,w,m);t=r.runWebGLProgram(F,[o],o.dtype)}}var T=XZ({inputs:{x:t},backend:r,attrs:{shape:v}});return r.disposeIntermediateTensorInfo(t),T}};var Nz={kernelName:Zo,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=r.separator,o=r.nGramWidths,i=r.leftPad,u=r.rightPad,s=r.padWidth,l=r.preserveShortSequences,c=t.data,d=t.dataSplits,p=n.readSync(c.dataId),f=n.readSync(d.dataId),h=UO(p,f,a,o,i,u,s,l),m=(0,je.Z)(h,2),v=m[0],g=m[1];return[n.makeTensorInfo([v.length],"string",v),n.makeTensorInfo(d.shape,"int32",g)]}};var Az={kernelName:Mo,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.skipEmpty,a=t.input,o=t.delimiter;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(1!==a.shape.length)throw new Error("Input must be a vector, got shape: ".concat(a.shape));if(0!==o.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(o.shape));var i=n.readSync(a.dataId),u=n.readSync(o.dataId)[0],s=GO(i,u,r),l=(0,je.Z)(s,3),c=l[0],d=l[1],p=l[2],f=d.length;return[n.makeTensorInfo([f,2],"int32",c),n.makeTensorInfo([f],"string",d),n.makeTensorInfo([2],"int32",new Int32Array(p))]}};var Rz={kernelName:Po,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.numBuckets,a=t.input;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");var o=n.readSync(a.dataId),i=qO(o,r);return n.makeTensorInfo(a.shape,"int32",i)}},Oz=BZ({opSnippet:"return tan(x);"}),Zz={kernelName:_o,backendName:"webgl",kernelFunc:Oz},Mz=BZ({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),Pz={kernelName:Bo,backendName:"webgl",kernelFunc:Mz},Lz=(0,Jt.Z)((function e(t,n){(0,Qt.Z)(this,e),this.variableNames=["A"];for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[a]*n[a];this.outputShape=r,this.rank=r.length;var o=BR(this.rank),i=function(e){var t=e.length;if(t>5)throw Error("Tile for rank ".concat(t," is not yet supported"));if(1===t)return"imod(resRC, ".concat(e[0],")");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],a=0;a<e.length;a++)r.push("imod(".concat(n[a],", ").concat(e[a],")"));return r.join()}(t);this.userCode="\n      void main() {\n        ".concat(o," resRC = getOutputCoords();\n        setOutput(getA(").concat(i,"));\n      }\n    ")}));function _z(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.reps;if("string"===a.dtype||a.shape.length>5){var i=n.readSync(a.dataId),u="string"===a.dtype?i.map((function(e){return Ni(e)})):i,s=Ms(a.shape,a.dtype,u),l=XO(s,o);return n.makeTensorInfo(l.shape,l.dtype,l.values)}var c=new Lz(a.shape,o);return n.runWebGLProgram(c,[a],a.dtype)}var Bz={kernelName:zo,backendName:"webgl",kernelFunc:_z},zz=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=t,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "})),jz=(0,Jt.Z)((function e(t){(0,Qt.Z)(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=t,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}));function Vz(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function Wz(e){for(var t=1;t<e;)t*=2;return t}var Hz={kernelName:jo,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.k,i=r.sorted,u=Gn().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),s=Gn().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),l=a.shape,c=l[l.length-1];if(n.shouldExecuteOnCPU([a])||c<u||o>s){var d=n.readSync(a.dataId),p=YO(d,l,a.dtype,o,i),f=(0,je.Z)(p,2),h=f[0],m=f[1];return[n.makeTensorInfo(h.shape,h.dtype,h.values),n.makeTensorInfo(m.shape,m.dtype,m.values)]}if(0===o)return l[l.length-1]=0,[n.makeTensorInfo(l,a.dtype,[]),n.makeTensorInfo(l,"int32",[])];if(1===c)return[a,RL({attrs:{shape:l,dtype:"int32",value:0},backend:n})];var v=n.texData.get(a.dataId),g=null!==v&&v.isPacked,b=g?n.unpackTensor(a):a,y=fn(l)/c,x=XZ({inputs:{x:b},attrs:{shape:[y,c]},backend:n});g&&Vz(n,b);for(var k=Wz(o),w=Wz(c),C=null,D=function(){return null===C?[x,x]:[x,C]},E=function(e,t,r){var a=D(),o=new zz(r),i=[[c],[null===C?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],u=C;C=n.runWebGLProgram(o,a,"int32",i),Vz(n,u)},S=1;S<k;S*=2)for(var I=2*S,F=S;F>=1;F/=2)E(I,F,[y,w]);for(var T=w;T>k;T/=2){var N=D(),A=new jz([y,T/2]),R=[[c],[null===C?1:0],[k]],O=C;C=n.runWebGLProgram(A,N,"int32",R),Vz(n,O);for(var Z=k/2,M=2*Z,P=Z;P>=1;P/=2)E(M,P,C.shape)}var L=C;C=tP({inputs:{x:C},backend:n,attrs:{begin:0,size:[y,o]}}),Vz(n,L);var _=YL({inputs:{x:x,indices:C},backend:n,attrs:{axis:1,batchDims:1}});Vz(n,x);var B=l.slice(0,-1);B.push(o),L=C,C=XZ({inputs:{x:C},attrs:{shape:B},backend:n}),Vz(n,L);var z=_;return _=XZ({inputs:{x:_},attrs:{shape:B},backend:n}),Vz(n,z),[_,C]}},Uz=(0,Jt.Z)((function e(t,n,r,a,o,i){(0,Qt.Z)(this,e),this.variableNames=["Image","Transforms"],this.outputShape=i;var u,s="nearest"===r?1:2;switch(a){case"constant":default:u=1;break;case"reflect":u=2;break;case"wrap":u=3;break;case"nearest":u=4}this.userCode="\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(".concat(u," == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(u," == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(u," == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ").concat(t," && 0 <= coordX && coordX < ").concat(n,") {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(").concat(o,");\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(").concat(o,");\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(").concat(n,"));\n                float mapY = mapCoord(inY, float(").concat(t,"));\n\n                if (").concat(s," == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        ")}));var Gz={kernelName:Vo,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,o=t.transforms,i=r.interpolation,u=r.fillMode,s=r.fillValue,l=r.outputShape,c=(0,je.Z)(a.shape,4),d=c[0],p=c[1],f=c[2],h=c[3],m=null!=l?l:[p,f],v=(0,je.Z)(m,2),g=v[0],b=v[1],y=new Uz(p,f,i,u,s,[d,g,b,h]);return n.runWebGLProgram(y,[a,o],"float32")}};var qz={kernelName:Ho,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=n.axis,o=t.x;pR(o,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");var i=r.readSync(o.dataId),u=QO(i,a,o.shape,o.dtype),s=u.outputValues,l=u.outputShape,c=u.indices;return[r.makeTensorInfo(l,o.dtype,s),r.makeTensorInfo([c.length],"int32",c)]}};var Kz={kernelName:Uo,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.value,o=r.axis;o<0&&(o+=a.shape.length);for(var i=a,u=i.shape.length,s=a.shape[o],l=new Array(u-1),c=0,d=0;d<u;d++)d!==o&&(l[c++]=i.shape[d]);var p=[],f=new Array(u).fill(0),h=i.shape.slice();h[o]=1;for(var m=new Array(s),v=0;v<m.length;v++){f[o]=v;var g=tP({inputs:{x:i},backend:n,attrs:{begin:f,size:h}}),b=XZ({inputs:{x:g},backend:n,attrs:{shape:l}});m[v]=b,p.push(g)}return p.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),m}},Xz=(0,Jt.Z)((function e(t,n){(0,Qt.Z)(this,e),this.variableNames=["x","segmentIds"];var r=t.windowSize,a=t.batchSize,o=t.inSize,i=t.numSegments,u=i*Math.ceil(o/r);this.outputShape=[a,u];var s=4*Math.floor(r/4),l=r%4,c="\n        sumValue += dot(values, segFilter);\n    ",d="";o%r>0&&(d="\n        if (inIdx < 0 || inIdx >= ".concat(o,") {\n          return initializationValue;\n        }\n      "));var p="";o%r>0&&(p="\n        if (inIdx < 0 || inIdx >= ".concat(o,") {\n          return -1.0;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat("0.0",";\n\n      float getValue(int batch, int inIdx) {\n        ").concat(d,"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ").concat(p,"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ").concat(i,")) * float(").concat(r,"));\n        int currentSeg = int(mod(float(outIdx), float(").concat(i,")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(s,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ").concat(c,"\n        }\n\n        int inIdx = inOffset + ").concat(s,";\n        if (").concat(1===l,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ").concat(c,"\n        } else if (").concat(2===l,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ").concat(c,"\n        } else if (").concat(3===l,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ").concat(c,"\n        }\n        setOutput(").concat("sumValue",");\n      }\n    ")}));for(var Yz={kernelName:Go,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.segmentIds,i=r.numSegments,u=a.shape.length,s=[],l=0,c=Pd([l],u),d=a;null!=c&&(d=oM({inputs:{x:a},backend:n,attrs:{perm:c}}),s.push(d),l=_d(1,u)[0]);var p=function(e,t,n){for(var r=[],a=e.length,o=0;o<a;o++)o!==t?r.push(e[o]):r.push(n);return r}(d.shape,l,i),f=fn([d.shape[l]]),h=XZ({inputs:{x:d},backend:n,attrs:{shape:[-1,f]}});s.push(h);var m=function e(t,r,a,o,i){var u=t.shape[0],l=t.shape[1],c=function(e,t){var n,r=!1;for(e<=30?(n=e,r=!0):n=An(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=An(e,n+1);return n}(l,i),d=new Xz({windowSize:c,inSize:l,batchSize:u,numSegments:i},r),p=n.compileAndRun(d,[t,a],o);if(s.push(p),p.shape[1]===i)return p;var f=DB({backend:n,attrs:{start:0,stop:i,step:1,dtype:"float32"}}),h=_z({inputs:{x:f},backend:n,attrs:{reps:[l/c]}});return s.push(f),s.push(h),e(p,r,h,o,i)}(h,"unsortedSegmentSum",o,tu(a.dtype),i),v=XZ({inputs:{x:m},backend:n,attrs:{shape:p}}),g=v;if(null!=c){s.push(v);var b=Ld(c);g=oM({inputs:{x:g},backend:n,attrs:{perm:b}})}return s.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),g}},$z=0,Qz=[sM,cM,pM,hM,gM,xM,kM,wM,FM,TM,AM,OM,MM,LM,BM,VM,WM,GM,qM,KM,$M,rP,aP,oP,cP,fP,vP,RZ,yP,IP,OP,_P,BP,zP,jP,VP,HP,GP,KP,QP,JP,tL,aL,uL,sL,cL,pL,fL,mL,vL,bL,xL,wL,DL,IL,NL,ZL,PL,BL,jL,HL,UL,GL,KL,$L,JL,t_,NZ,n_,DP,a_,i_,s_,MZ,c_,p_,f_,m_,g_,y_,k_,C_,S_,F_,N_,R_,O_,Z_,L_,__,B_,z_,j_,W_,G_,K_,rB,KZ,aB,iB,sB,cB,uP,pB,mB,vB,xB,wB,_Z,CB,EB,lP,$_,IB,TB,AB,YZ,ZB,PB,BB,jB,HB,GB,KB,YB,QB,ez,nz,az,iz,sz,cz,nP,nB,pz,fz,hz,mz,vz,gz,bz,yz,wz,Cz,Sz,Iz,Tz,Nz,Az,Rz,eB,aM,Zz,Pz,Bz,Hz,Gz,iM,qz,Kz,Yz,hB];$z<Qz.length;$z++){ii(Qz[$z])}var Jz=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new FileReader;return function(t){return new Promise((function(n,r){e.onerror=r,e.addEventListener("load",(function(){"string"===typeof e.result?n(e.result):r()})),e.readAsDataURL(t)}))}},ej=function(e){return function(t){return new Promise((function(n,r){e.addEventListener("load",(function(){n(e)})),e.onerror=r,e.src=t}))}},tj=function(){var e=Ut(qt().mark((function e(t){var n,r,a,o,i,u,s,l=arguments;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:224,a=l.length>2?l[2]:void 0,o=l.length>3?l[3]:void 0,e.next=5,Jz(a)(t);case 5:return i=e.sent,e.next=8,ej(o)(i);case 8:return u=e.sent,(s=document.createElement("canvas")).width=r,s.height=r,null===(n=s.getContext("2d"))||void 0===n||n.drawImage(u,0,0,u.width,u.height,0,0,r,r),e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nj=n(168),rj=n(2554),aj=n(2065);function oj(e){return(0,at.Z)("MuiLinearProgress",e)}(0,ot.Z)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var ij,uj,sj,lj,cj,dj,pj,fj,hj,mj,vj,gj,bj=["className","color","value","valueBuffer","variant"],yj=(0,rj.F4)(pj||(pj=ij||(ij=(0,nj.Z)(["\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n"])))),xj=(0,rj.F4)(fj||(fj=uj||(uj=(0,nj.Z)(["\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n"])))),kj=(0,rj.F4)(hj||(hj=sj||(sj=(0,nj.Z)(["\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n"])))),wj=function(e,t){return"inherit"===t?"currentColor":"light"===e.palette.mode?(0,aj.$n)(e.palette[t].main,.62):(0,aj._j)(e.palette[t].main,.5)},Cj=(0,He.ZP)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["color".concat((0,Tt.Z)(n.color))],t[n.variant]]}})((function(e){var t=e.ownerState,n=e.theme;return(0,S.Z)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:wj(n,t.color)},"inherit"===t.color&&"buffer"!==t.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===t.variant&&{backgroundColor:"transparent"},"query"===t.variant&&{transform:"rotate(180deg)"})})),Dj=(0,He.ZP)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:function(e,t){var n=e.ownerState;return[t.dashed,t["dashedColor".concat((0,Tt.Z)(n.color))]]}})((function(e){var t=e.ownerState,n=e.theme,r=wj(n,t.color);return(0,S.Z)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===t.color&&{opacity:.3},{backgroundImage:"radial-gradient(".concat(r," 0%, ").concat(r," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),(0,rj.iv)(mj||(mj=lj||(lj=(0,nj.Z)(["\n    animation: "," 3s infinite linear;\n  "]))),kj)),Ej=(0,He.ZP)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:function(e,t){var n=e.ownerState;return[t.bar,t["barColor".concat((0,Tt.Z)(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar1Indeterminate,"determinate"===n.variant&&t.bar1Determinate,"buffer"===n.variant&&t.bar1Buffer]}})((function(e){var t=e.ownerState,n=e.theme;return(0,S.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===t.color?"currentColor":n.palette[t.color].main},"determinate"===t.variant&&{transition:"transform .".concat(4,"s linear")},"buffer"===t.variant&&{zIndex:1,transition:"transform .".concat(4,"s linear")})}),(function(e){var t=e.ownerState;return("indeterminate"===t.variant||"query"===t.variant)&&(0,rj.iv)(vj||(vj=cj||(cj=(0,nj.Z)(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n    "]))),yj)})),Sj=(0,He.ZP)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:function(e,t){var n=e.ownerState;return[t.bar,t["barColor".concat((0,Tt.Z)(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar2Indeterminate,"buffer"===n.variant&&t.bar2Buffer]}})((function(e){var t=e.ownerState,n=e.theme;return(0,S.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==t.variant&&{backgroundColor:"inherit"===t.color?"currentColor":n.palette[t.color].main},"inherit"===t.color&&{opacity:.3},"buffer"===t.variant&&{backgroundColor:wj(n,t.color),transition:"transform .".concat(4,"s linear")})}),(function(e){var t=e.ownerState;return("indeterminate"===t.variant||"query"===t.variant)&&(0,rj.iv)(gj||(gj=dj||(dj=(0,nj.Z)(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n    "]))),xj)})),Ij=C.forwardRef((function(e,t){var n=(0,Ue.Z)({props:e,name:"MuiLinearProgress"}),r=n.className,a=n.color,o=void 0===a?"primary":a,i=n.value,u=n.valueBuffer,s=n.variant,l=void 0===s?"indeterminate":s,c=(0,se.Z)(n,bj),d=(0,S.Z)({},n,{color:o,variant:l}),p=function(e){var t=e.classes,n=e.variant,r=e.color,a={root:["root","color".concat((0,Tt.Z)(r)),n],dashed:["dashed","dashedColor".concat((0,Tt.Z)(r))],bar1:["bar","barColor".concat((0,Tt.Z)(r)),("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","buffer"!==n&&"barColor".concat((0,Tt.Z)(r)),"buffer"===n&&"color".concat((0,Tt.Z)(r)),("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]};return(0,We.Z)(a,oj,t)}(d),f=(0,Ge.Z)(),h={},m={bar1:{},bar2:{}};if("determinate"===l||"buffer"===l)if(void 0!==i){h["aria-valuenow"]=Math.round(i),h["aria-valuemin"]=0,h["aria-valuemax"]=100;var v=i-100;"rtl"===f.direction&&(v=-v),m.bar1.transform="translateX(".concat(v,"%)")}else 0;if("buffer"===l)if(void 0!==u){var g=(u||0)-100;"rtl"===f.direction&&(g=-g),m.bar2.transform="translateX(".concat(g,"%)")}else 0;return(0,Me.jsxs)(Cj,(0,S.Z)({className:(0,Ne.Z)(p.root,r),ownerState:d,role:"progressbar"},h,{ref:t},c,{children:["buffer"===l?(0,Me.jsx)(Dj,{className:p.dashed,ownerState:d}):null,(0,Me.jsx)(Ej,{className:p.bar1,ownerState:d,style:m.bar1}),"determinate"===l?null:(0,Me.jsx)(Sj,{className:p.bar2,ownerState:d,style:m.bar2})]}))})),Fj=Ij,Tj=n(1022),Nj=function(e){return(0,Me.jsxs)(ze,{sx:{display:"flex",alignItems:"center"},children:[(0,Me.jsx)(ze,{sx:{width:"100%",mr:1},children:(0,Me.jsx)(Fj,_t({variant:"determinate"},e))}),(0,Me.jsx)(ze,{sx:{minWidth:35},children:(0,Me.jsx)(Tj.Z,{variant:"body2",color:"text.secondary",children:"".concat(Math.round(e.value),"%")})})]})},Aj=function(){var e=Vt().report,t=C.useState(0),n=(0,je.Z)(t,2),r=n[0],a=n[1];if(!e)return(0,Me.jsx)(Me.Fragment,{});var o=function(){var t=Ut(qt().mark((function t(){var n,r,o,i,u,s,l,c;return qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.showDirectoryPicker();case 2:n=t.sent,r=0;case 4:if(!(r<e.results.length)){t.next=24;break}return i=e.results[r],u=null!==(o=i.label)&&void 0!==o?o:"unknown",t.next=9,n.getDirectoryHandle(u,{create:!0});case 9:return s=t.sent,t.next=12,s.getFileHandle(i.file.name,{create:!0});case 12:return l=t.sent,t.next=15,l.createWritable();case 15:return c=t.sent,t.next=18,c.write(i.file);case 18:return t.next=20,c.close();case 20:a(r+1);case 21:r++,t.next=4;break;case 24:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(Kt.Z,{onClick:o,children:"Organise Files"}),(0,Me.jsx)(Nj,{value:r/e.results.length*100||0})]})},Rj=function(){var e=Vt().dispatch,t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new FileReader,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Image,n=Al(127.5),r=Al(1/127.5);return function(){var a=Ut(qt().mark((function a(o,i){var u,s,l,c,d,p,f,h=arguments;return qt().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(u=h.length>2&&void 0!==h[2]?h[2]:.9,void 0!==(s=o.inputs[0].shape)){a.next=4;break}throw new Error("model has no input shape");case 4:return l=o.metadata.labels,a.next=7,tj(i,s[1],e,t);case 7:return c=a.sent,a.next=10,pl(c);case 10:return d=a.sent,(p=Sl((function(){return o.execute({input:lc(d,s).sub(n).mul(r).toFloat()}).dataSync()}))).forEach((function(e,t){e>=u&&(f=l[t])})),d.dispose(),a.abrupt("return",{file:i,label:f,predictions:l.map((function(e,t){return{label:e,prediction:p[t]}}))});case 15:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}(),n=C.useState([]),r=(0,je.Z)(n,2),a=r[0],o=r[1],i=C.useState(0),u=(0,je.Z)(i,2),s=u[0],l=u[1],c=C.useState(0),d=(0,je.Z)(c,2),p=d[0],f=d[1],h=function(){var e=Ut(qt().mark((function e(t){var n,r,a,i;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=t.target.files)){e.next=3;break}return e.abrupt("return");case 3:l(0),f(n.length),r=[],a=0;case 7:if(!(a<n.length)){e.next=15;break}if(i=n.item(a)){e.next=11;break}return e.abrupt("continue",12);case 11:r.push(i);case 12:a++,e.next=7;break;case 15:o(r);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var n=Ut(qt().mark((function n(){var r,o,i;return qt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,XD("./model.json");case 2:r=n.sent,o=[],i=0;case 5:if(!(i<a.length)){n.next=15;break}return n.t0=o,n.next=9,t(r,a[i]);case 9:n.t1=n.sent,n.t0.push.call(n.t0,n.t1),l(i+1);case 12:i++,n.next=5;break;case 15:e({type:Rt.ReportCreated,report:{timestamp:new Date,results:o}});case 16:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("input",{type:"file",multiple:!0,onChange:h}),(0,Me.jsx)(Kt.Z,{disabled:0===a.length,onClick:m,children:"Label Images"}),(0,Me.jsxs)("p",{children:["Labelled ",s,"/",p," images."]}),(0,Me.jsx)(Nj,{value:s/p*100||0}),(0,Me.jsx)("hr",{}),(0,Me.jsx)(Aj,{})]})},Oj=n(5716),Zj=function(e){var t=e.report.results.map((function(e,t){var n,r;return{id:t,name:e.file.name,label:e.label,confidence:null!==(n=null===(r=Mj(e.label,e.predictions))||void 0===r?void 0:r.toFixed(2))&&void 0!==n?n:"-"}}));return(0,Me.jsx)("div",{style:{display:"flex"},children:(0,Me.jsx)(Oj._$r,{columns:[{type:"string",headerName:"Name",field:"name",flex:1},{type:"string",headerName:"Label",field:"label",flex:1},{type:"string",headerName:"Confidence",field:"confidence",flex:1}],rows:t,autoHeight:!0})})},Mj=function(e,t){var n;if(e)return null===(n=t.filter((function(t){return t.label===e})).pop())||void 0===n?void 0:n.prediction},Pj=function(){var e=Vt().report;if(!e)return(0,Me.jsx)(Me.Fragment,{children:"Please label images before attempting to view the report"});return(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(Kt.Z,{onClick:function(){var t=["path","label"],n=e.results.map((function(e){var n={};return n.label=e.label,Object.values(e.predictions).forEach((function(e){var r=e.label,a=e.prediction,o="".concat(r,"-confidence");t.includes(o)||t.push(o),n[o]=a})),n})),r=[t].concat((0,$t.Z)(n.map((function(e){return t.map((function(t){return e[t]}))})))).map((function(e){return e.join(",")})).join("\n");console.log(r),function(e,t){var n=new Blob([e],{type:"text/csv"}),r=document.createElement("a");r.download="".concat(t,".csv"),r.href=URL.createObjectURL(n),r.click()}(r,"report-".concat(e.timestamp.toISOString()))},children:"Download as CSV"}),(0,Me.jsx)(Zj,{report:e})]})},Lj=function(){switch(Vt().currentTab){case At.Label:return(0,Me.jsx)(Rj,{});case At.Report:return(0,Me.jsx)(Pj,{})}},_j=function(e){var t=e.children;return(0,Me.jsx)(ze,{sx:{p:3},children:(0,Me.jsx)(Tj.Z,{component:"span",children:t})})},Bj=n(6248),zj=n(9143),jj=n(2003),Vj=n(1314),Wj=n(703);function Hj(e){return(0,at.Z)("MuiDialog",e)}var Uj=(0,ot.Z)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);var Gj=(0,C.createContext)({}),qj=n(1489),Kj=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Xj=(0,He.ZP)(qj.Z,{name:"MuiDialog",slot:"Backdrop",overrides:function(e,t){return t.backdrop}})({zIndex:-1}),Yj=(0,He.ZP)(zj.Z,{name:"MuiDialog",slot:"Root",overridesResolver:function(e,t){return t.root}})({"@media print":{position:"absolute !important"}}),$j=(0,He.ZP)("div",{name:"MuiDialog",slot:"Container",overridesResolver:function(e,t){var n=e.ownerState;return[t.container,t["scroll".concat((0,Tt.Z)(n.scroll))]]}})((function(e){var t=e.ownerState;return(0,S.Z)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),Qj=(0,He.ZP)(Wj.Z,{name:"MuiDialog",slot:"Paper",overridesResolver:function(e,t){var n=e.ownerState;return[t.paper,t["scrollPaper".concat((0,Tt.Z)(n.scroll))],t["paperWidth".concat((0,Tt.Z)(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((function(e){var t=e.theme,n=e.ownerState;return(0,S.Z)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&(0,Ve.Z)({maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit)},"&.".concat(Uj.paperScrollBody),(0,Ve.Z)({},t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})),"xs"!==n.maxWidth&&(0,Ve.Z)({maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)},"&.".concat(Uj.paperScrollBody),(0,Ve.Z)({},t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64),{maxWidth:"calc(100% - 64px)"})),n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&(0,Ve.Z)({margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0},"&.".concat(Uj.paperScrollBody),{margin:0,maxWidth:"100%"}))})),Jj={enter:Vj.x9.enteringScreen,exit:Vj.x9.leavingScreen},eV=C.forwardRef((function(e,t){var n=(0,Ue.Z)({props:e,name:"MuiDialog"}),r=n["aria-describedby"],a=n["aria-labelledby"],o=n.BackdropComponent,i=n.BackdropProps,u=n.children,s=n.className,l=n.disableEscapeKeyDown,c=void 0!==l&&l,d=n.fullScreen,p=void 0!==d&&d,f=n.fullWidth,h=void 0!==f&&f,m=n.maxWidth,v=void 0===m?"sm":m,g=n.onBackdropClick,b=n.onClose,y=n.open,x=n.PaperComponent,k=void 0===x?Wj.Z:x,w=n.PaperProps,D=void 0===w?{}:w,E=n.scroll,I=void 0===E?"paper":E,F=n.TransitionComponent,T=void 0===F?jj.Z:F,N=n.transitionDuration,A=void 0===N?Jj:N,R=n.TransitionProps,O=(0,se.Z)(n,Kj),Z=(0,S.Z)({},n,{disableEscapeKeyDown:c,fullScreen:p,fullWidth:h,maxWidth:v,scroll:I}),M=function(e){var t=e.classes,n=e.scroll,r=e.maxWidth,a=e.fullWidth,o=e.fullScreen,i={root:["root"],container:["container","scroll".concat((0,Tt.Z)(n))],paper:["paper","paperScroll".concat((0,Tt.Z)(n)),"paperWidth".concat((0,Tt.Z)(String(r))),a&&"paperFullWidth",o&&"paperFullScreen"]};return(0,We.Z)(i,Hj,t)}(Z),P=C.useRef(),L=(0,Bj.Z)(a),_=C.useMemo((function(){return{titleId:L}}),[L]);return(0,Me.jsx)(Yj,(0,S.Z)({className:(0,Ne.Z)(M.root,s),BackdropProps:(0,S.Z)({transitionDuration:A,as:o},i),closeAfterTransition:!0,BackdropComponent:Xj,disableEscapeKeyDown:c,onClose:b,open:y,ref:t,onClick:function(e){P.current&&(P.current=null,g&&g(e),b&&b(e,"backdropClick"))},ownerState:Z},O,{children:(0,Me.jsx)(T,(0,S.Z)({appear:!0,in:y,timeout:A,role:"presentation"},R,{children:(0,Me.jsx)($j,{className:(0,Ne.Z)(M.container),onMouseDown:function(e){P.current=e.target===e.currentTarget},ownerState:Z,children:(0,Me.jsx)(Qj,(0,S.Z)({as:k,elevation:24,role:"dialog","aria-describedby":r,"aria-labelledby":L},D,{className:(0,Ne.Z)(M.paper,D.className),ownerState:Z,children:(0,Me.jsx)(Gj.Provider,{value:_,children:u})}))})}))}))}));function tV(e){return(0,at.Z)("MuiDialogActions",e)}(0,ot.Z)("MuiDialogActions",["root","spacing"]);var nV=["className","disableSpacing"],rV=(0,He.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableSpacing&&t.spacing]}})((function(e){var t=e.ownerState;return(0,S.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),aV=C.forwardRef((function(e,t){var n=(0,Ue.Z)({props:e,name:"MuiDialogActions"}),r=n.className,a=n.disableSpacing,o=void 0!==a&&a,i=(0,se.Z)(n,nV),u=(0,S.Z)({},n,{disableSpacing:o}),s=function(e){var t=e.classes,n={root:["root",!e.disableSpacing&&"spacing"]};return(0,We.Z)(n,tV,t)}(u);return(0,Me.jsx)(rV,(0,S.Z)({className:(0,Ne.Z)(s.root,r),ownerState:u,ref:t},i))}));function oV(e){return(0,at.Z)("MuiDialogContent",e)}(0,ot.Z)("MuiDialogContent",["root","dividers"]);function iV(e){return(0,at.Z)("MuiDialogTitle",e)}var uV=(0,ot.Z)("MuiDialogTitle",["root"]),sV=["className","dividers"],lV=(0,He.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dividers&&t.dividers]}})((function(e){var t=e.theme,n=e.ownerState;return(0,S.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},n.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat(t.palette.divider),borderBottom:"1px solid ".concat(t.palette.divider)}:(0,Ve.Z)({},".".concat(uV.root," + &"),{paddingTop:0}))})),cV=C.forwardRef((function(e,t){var n=(0,Ue.Z)({props:e,name:"MuiDialogContent"}),r=n.className,a=n.dividers,o=void 0!==a&&a,i=(0,se.Z)(n,sV),u=(0,S.Z)({},n,{dividers:o}),s=function(e){var t=e.classes,n={root:["root",e.dividers&&"dividers"]};return(0,We.Z)(n,oV,t)}(u);return(0,Me.jsx)(lV,(0,S.Z)({className:(0,Ne.Z)(s.root,r),ownerState:u,ref:t},i))}));function dV(e){return(0,at.Z)("MuiDialogContentText",e)}(0,ot.Z)("MuiDialogContentText",["root"]);var pV=["children"],fV=(0,He.ZP)(Tj.Z,{shouldForwardProp:function(e){return(0,He.FO)(e)||"classes"===e},name:"MuiDialogContentText",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),hV=C.forwardRef((function(e,t){var n=(0,Ue.Z)({props:e,name:"MuiDialogContentText"}),r=(0,se.Z)(n,pV),a=function(e){var t=e.classes,n=(0,We.Z)({root:["root"]},dV,t);return(0,S.Z)({},t,n)}(r);return(0,Me.jsx)(fV,(0,S.Z)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:r},n,{classes:a}))})),mV=["className","id"],vV=(0,He.ZP)(Tj.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,t){return t.root}})({padding:"16px 24px",flex:"0 0 auto"}),gV=C.forwardRef((function(e,t){var n=(0,Ue.Z)({props:e,name:"MuiDialogTitle"}),r=n.className,a=n.id,o=(0,se.Z)(n,mV),i=n,u=function(e){var t=e.classes;return(0,We.Z)({root:["root"]},iV,t)}(i),s=C.useContext(Gj).titleId,l=void 0===s?a:s;return(0,Me.jsx)(vV,(0,S.Z)({component:"h2",className:(0,Ne.Z)(u.root,r),ownerState:i,ref:t,variant:"h6",id:l},o))})),bV=function(e){var t=e.visible,n=e.title,r=e.description,a=e.actions;return(0,Me.jsxs)(eV,{open:t,children:[(0,Me.jsx)(gV,{id:"alert-dialog-title",children:n}),(0,Me.jsx)(cV,{children:(0,Me.jsx)(hV,{id:"alert-dialog-description",children:r})}),(0,Me.jsx)(aV,{children:a.map((function(e,t){var n=e.text,r=e.handler;return(0,Me.jsx)(Kt.Z,{onClick:Ut(qt().mark((function e(){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:case"end":return e.stop()}}),e)}))),children:n},t)}))})]})},yV=function(){var e=Vt(),t=e.isSupported,n=e.currentTab,r=e.dispatch;return(0,Me.jsxs)(ze,{sx:{width:"100%"},children:[(0,Me.jsx)(ze,{sx:{borderBottom:1,borderColor:"divider"},children:(0,Me.jsx)(Ft,{centered:!0,value:Object.values(At).indexOf(n),children:Object.values(At).map((function(e){return(0,Me.jsx)(Pt,{onClick:function(){return r({type:Rt.ChangeTab,tab:e})},label:e},e)}))})}),(0,Me.jsx)(_j,{children:(0,Me.jsx)(Lj,{})}),(0,Me.jsx)(bV,{visible:!t,title:"This browser is not supported",description:"This website needs special features that are not supported in your current web browser. Please open this site in either Google Chrome or Microsoft Edge.",actions:[]})]})};D.render((0,Me.jsx)(C.StrictMode,{children:(0,Me.jsx)(Wt,{children:(0,Me.jsx)(ke,{children:(0,Me.jsx)(yV,{})})})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.cbc6187a.js.map